const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./jquery-BgcX2IXL.js","./_commonjsHelpers-DM6icglO.js"])))=>i.map(i=>d[i]);
var Iq=Object.defineProperty;var Pq=(e,t,r)=>t in e?Iq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var La=(e,t,r)=>Pq(e,typeof t!="symbol"?t+"":t,r);import{_ as hh,r as ms,c as Et,o as Dt,w as Rr,b as ga,C as Dq,a as Ke,v as Ua,y as Rq,p as Ur,j as yo,F as Di,g as Ri,h as va,n as ib,e as Eq,B as jn,A as Cl,z as ob,k as sb}from"./router-JVv0ElFj.js";import{r as kq}from"./vue-resize-directive-CDf_Yp3t.js";import{g as Oq,c as Bq,a as Nq}from"./_commonjsHelpers-DM6icglO.js";import{u as zq}from"./url-DHKDaZKd.js";import{b as Vq,m as An}from"./delay-DTFr9Qec.js";import{d as Fq}from"./utils-D-xC4oDh.js";import{Q as Hq}from"./quit-cleaner-U9OkpSad.js";import{C as qq}from"./check-button-GWTkJD3Z.js";import{S as pE}from"./store-input-C4hejk23.js";var Hi={};(function(e){var t=function(r){var n="b",a="w",i=-1,o="p",l="n",s="b",f="r",u="q",h="k",c="pnbrqkPNBRQK",v="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",d=["1-0","0-1","1/2-1/2","*"],m={b:[16,32,17,15],w:[-16,-32,-17,-15]},g={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},p=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],y=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],x={p:0,n:1,b:2,r:3,q:4,k:5},A={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},w={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},b=7,S=6,T=1,C=0,M={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},I={w:[{square:M.a1,flag:w.QSIDE_CASTLE},{square:M.h1,flag:w.KSIDE_CASTLE}],b:[{square:M.a8,flag:w.QSIDE_CASTLE},{square:M.h8,flag:w.KSIDE_CASTLE}]},P=new Array(128),D={w:i,b:i},k=a,R={w:0,b:0},B=i,V=0,F=1,Y=[],q={},E={};W(typeof r>"u"?v:r);function z(ce){typeof ce>"u"&&(ce=!1),P=new Array(128),D={w:i,b:i},k=a,R={w:0,b:0},B=i,V=0,F=1,Y=[],ce||(q={}),E={},j(K())}function N(){for(var ce=[],_e={},be=function(Ae){Ae in E&&(_e[Ae]=E[Ae])};Y.length>0;)ce.push(me());for(be(K());ce.length>0;)ie(ce.pop()),be(K());E=_e}function H(){W(v)}function W(ce,_e){typeof _e>"u"&&(_e=!1);var be=ce.split(/\s+/),Ae=be[0],Be=0;if(!U(ce).valid)return!1;z(_e);for(var ze=0;ze<Ae.length;ze++){var Je=Ae.charAt(ze);if(Je==="/")Be+=8;else if(Xe(Je))Be+=parseInt(Je,10);else{var nt=Je<"a"?a:n;le({type:Je.toLowerCase(),color:nt},Ne(Be)),Be++}}return k=be[1],be[2].indexOf("K")>-1&&(R.w|=w.KSIDE_CASTLE),be[2].indexOf("Q")>-1&&(R.w|=w.QSIDE_CASTLE),be[2].indexOf("k")>-1&&(R.b|=w.KSIDE_CASTLE),be[2].indexOf("q")>-1&&(R.b|=w.QSIDE_CASTLE),B=be[3]==="-"?i:M[be[3]],V=parseInt(be[4],10),F=parseInt(be[5],10),j(K()),!0}function U(ce){var _e={0:"No errors.",1:"FEN string must contain six space-delimited fields.",2:"6th field (move number) must be a positive integer.",3:"5th field (half move counter) must be a non-negative integer.",4:"4th field (en-passant square) is invalid.",5:"3rd field (castling availability) is invalid.",6:"2nd field (side to move) is invalid.",7:"1st field (piece positions) does not contain 8 '/'-delimited rows.",8:"1st field (piece positions) is invalid [consecutive numbers].",9:"1st field (piece positions) is invalid [invalid piece].",10:"1st field (piece positions) is invalid [row too large].",11:"Illegal en-passant square"},be=ce.split(/\s+/);if(be.length!==6)return{valid:!1,error_number:1,error:_e[1]};if(isNaN(be[5])||parseInt(be[5],10)<=0)return{valid:!1,error_number:2,error:_e[2]};if(isNaN(be[4])||parseInt(be[4],10)<0)return{valid:!1,error_number:3,error:_e[3]};if(!/^(-|[abcdefgh][36])$/.test(be[3]))return{valid:!1,error_number:4,error:_e[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(be[2]))return{valid:!1,error_number:5,error:_e[5]};if(!/^(w|b)$/.test(be[1]))return{valid:!1,error_number:6,error:_e[6]};var Ae=be[0].split("/");if(Ae.length!==8)return{valid:!1,error_number:7,error:_e[7]};for(var Be=0;Be<Ae.length;Be++){for(var ze=0,Je=!1,nt=0;nt<Ae[Be].length;nt++)if(isNaN(Ae[Be][nt])){if(!/^[prnbqkPRNBQK]$/.test(Ae[Be][nt]))return{valid:!1,error_number:9,error:_e[9]};ze+=1,Je=!1}else{if(Je)return{valid:!1,error_number:8,error:_e[8]};ze+=parseInt(Ae[Be][nt],10),Je=!0}if(ze!==8)return{valid:!1,error_number:10,error:_e[10]}}return be[3][1]=="3"&&be[1]=="w"||be[3][1]=="6"&&be[1]=="b"?{valid:!1,error_number:11,error:_e[11]}:{valid:!0,error_number:0,error:_e[0]}}function K(){for(var ce=0,_e="",be=M.a8;be<=M.h1;be++){if(P[be]==null)ce++;else{ce>0&&(_e+=ce,ce=0);var Ae=P[be].color,Be=P[be].type;_e+=Ae===a?Be.toUpperCase():Be.toLowerCase()}be+1&136&&(ce>0&&(_e+=ce),be!==M.h1&&(_e+="/"),ce=0,be+=8)}var ze="";R[a]&w.KSIDE_CASTLE&&(ze+="K"),R[a]&w.QSIDE_CASTLE&&(ze+="Q"),R[n]&w.KSIDE_CASTLE&&(ze+="k"),R[n]&w.QSIDE_CASTLE&&(ze+="q"),ze=ze||"-";var Je=B===i?"-":Ne(B);return[_e,k,ze,Je,V,F].join(" ")}function Q(ce){for(var _e=0;_e<ce.length;_e+=2)typeof ce[_e]=="string"&&typeof ce[_e+1]=="string"&&(q[ce[_e]]=ce[_e+1]);return q}function j(ce){Y.length>0||(ce!==v?(q.SetUp="1",q.FEN=ce):(delete q.SetUp,delete q.FEN))}function se(ce){var _e=P[M[ce]];return _e?{type:_e.type,color:_e.color}:null}function le(ce,_e){if(!("type"in ce&&"color"in ce)||c.indexOf(ce.type.toLowerCase())===-1||!(_e in M))return!1;var be=M[_e];return ce.type==h&&!(D[ce.color]==i||D[ce.color]==be)?!1:(P[be]={type:ce.type,color:ce.color},ce.type===h&&(D[ce.color]=be),j(K()),!0)}function de(ce){var _e=se(ce);return P[M[ce]]=null,_e&&_e.type===h&&(D[_e.color]=i),j(K()),_e}function he(ce,_e,be,Ae,Be){var ze={color:k,from:_e,to:be,flags:Ae,piece:ce[_e].type};return Be&&(ze.flags|=w.PROMOTION,ze.promotion=Be),ce[be]?ze.captured=ce[be].type:Ae&w.EP_CAPTURE&&(ze.captured=o),ze}function pe(ce){function _e(Wt,Xt,Ot,lr,wa){if(Wt[Ot].type===o&&(Ie(lr)===C||Ie(lr)===b))for(var xn=[u,f,s,l],ka=0,qn=xn.length;ka<qn;ka++)Xt.push(he(Wt,Ot,lr,wa,xn[ka]));else Xt.push(he(Wt,Ot,lr,wa))}var be=[],Ae=k,Be=Ze(Ae),ze={b:T,w:S},Je=M.a8,nt=M.h1,ot=!1,ut=typeof ce<"u"&&"legal"in ce?ce.legal:!0;if(typeof ce<"u"&&"square"in ce)if(ce.square in M)Je=nt=M[ce.square],ot=!0;else return[];for(var ft=Je;ft<=nt;ft++){if(ft&136){ft+=7;continue}var Ut=P[ft];if(!(Ut==null||Ut.color!==Ae))if(Ut.type===o){var It=ft+m[Ae][0];if(P[It]==null){_e(P,be,ft,It,w.NORMAL);var It=ft+m[Ae][1];ze[Ae]===Ie(ft)&&P[It]==null&&_e(P,be,ft,It,w.BIG_PAWN)}for(bt=2;bt<4;bt++){var It=ft+m[Ae][bt];It&136||(P[It]!=null&&P[It].color===Be?_e(P,be,ft,It,w.CAPTURE):It===B&&_e(P,be,ft,B,w.EP_CAPTURE))}}else for(var bt=0,gt=g[Ut.type].length;bt<gt;bt++)for(var kt=g[Ut.type][bt],It=ft;It+=kt,!(It&136);){if(P[It]==null)_e(P,be,ft,It,w.NORMAL);else{if(P[It].color===Ae)break;_e(P,be,ft,It,w.CAPTURE);break}if(Ut.type==="n"||Ut.type==="k")break}}if(!ot||nt===D[Ae]){if(R[Ae]&w.KSIDE_CASTLE){var Ct=D[Ae],zt=Ct+2;P[Ct+1]==null&&P[zt]==null&&!G(Be,D[Ae])&&!G(Be,Ct+1)&&!G(Be,zt)&&_e(P,be,D[Ae],zt,w.KSIDE_CASTLE)}if(R[Ae]&w.QSIDE_CASTLE){var Ct=D[Ae],zt=Ct-2;P[Ct-1]==null&&P[Ct-2]==null&&P[Ct-3]==null&&!G(Be,D[Ae])&&!G(Be,Ct-1)&&!G(Be,zt)&&_e(P,be,D[Ae],zt,w.QSIDE_CASTLE)}}if(!ut)return be;for(var cr=[],ft=0,gt=be.length;ft<gt;ft++)ie(be[ft]),$(Ae)||cr.push(be[ft]),me();return cr}function ye(ce,_e){var be="";if(ce.flags&w.KSIDE_CASTLE)be="O-O";else if(ce.flags&w.QSIDE_CASTLE)be="O-O-O";else{var Ae=Ce(ce,_e);ce.piece!==o&&(be+=ce.piece.toUpperCase()+Ae),ce.flags&(w.CAPTURE|w.EP_CAPTURE)&&(ce.piece===o&&(be+=Ne(ce.from)[0]),be+="x"),be+=Ne(ce.to),ce.flags&w.PROMOTION&&(be+="="+ce.promotion.toUpperCase())}return ie(ce),ee()&&(fe()?be+="#":be+="+"),me(),be}function X(ce){return ce.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function G(ce,_e){for(var be=M.a8;be<=M.h1;be++){if(be&136){be+=7;continue}if(!(P[be]==null||P[be].color!==ce)){var Ae=P[be],Be=be-_e,ze=Be+119;if(p[ze]&1<<x[Ae.type]){if(Ae.type===o){if(Be>0){if(Ae.color===a)return!0}else if(Ae.color===n)return!0;continue}if(Ae.type==="n"||Ae.type==="k")return!0;for(var Je=y[ze],nt=be+Je,ot=!1;nt!==_e;){if(P[nt]!=null){ot=!0;break}nt+=Je}if(!ot)return!0}}}return!1}function $(ce){return G(Ze(ce),D[ce])}function ee(){return $(k)}function fe(){return ee()&&pe().length===0}function oe(){return!ee()&&pe().length===0}function ve(){for(var ce={},_e=[],be=0,Ae=0,Be=M.a8;Be<=M.h1;Be++){if(Ae=(Ae+1)%2,Be&136){Be+=7;continue}var ze=P[Be];ze&&(ce[ze.type]=ze.type in ce?ce[ze.type]+1:1,ze.type===s&&_e.push(Ae),be++)}if(be===2)return!0;if(be===3&&(ce[s]===1||ce[l]===1))return!0;if(be===ce[s]+2){for(var Je=0,nt=_e.length,Be=0;Be<nt;Be++)Je+=_e[Be];if(Je===0||Je===nt)return!0}return!1}function Me(){for(var ce=[],_e={},be=!1;;){var Ae=me();if(!Ae)break;ce.push(Ae)}for(;;){var Be=K().split(" ").slice(0,4).join(" ");if(_e[Be]=Be in _e?_e[Be]+1:1,_e[Be]>=3&&(be=!0),!ce.length)break;ie(ce.pop())}return be}function re(ce){Y.push({move:ce,kings:{b:D.b,w:D.w},turn:k,castling:{b:R.b,w:R.w},ep_square:B,half_moves:V,move_number:F})}function ie(ce){var _e=k,be=Ze(_e);if(re(ce),P[ce.to]=P[ce.from],P[ce.from]=null,ce.flags&w.EP_CAPTURE&&(k===n?P[ce.to-16]=null:P[ce.to+16]=null),ce.flags&w.PROMOTION&&(P[ce.to]={type:ce.promotion,color:_e}),P[ce.to].type===h){if(D[P[ce.to].color]=ce.to,ce.flags&w.KSIDE_CASTLE){var Ae=ce.to-1,Be=ce.to+1;P[Ae]=P[Be],P[Be]=null}else if(ce.flags&w.QSIDE_CASTLE){var Ae=ce.to+1,Be=ce.to-2;P[Ae]=P[Be],P[Be]=null}R[_e]=""}if(R[_e]){for(var ze=0,Je=I[_e].length;ze<Je;ze++)if(ce.from===I[_e][ze].square&&R[_e]&I[_e][ze].flag){R[_e]^=I[_e][ze].flag;break}}if(R[be]){for(var ze=0,Je=I[be].length;ze<Je;ze++)if(ce.to===I[be][ze].square&&R[be]&I[be][ze].flag){R[be]^=I[be][ze].flag;break}}ce.flags&w.BIG_PAWN?k==="b"?B=ce.to-16:B=ce.to+16:B=i,ce.piece===o||ce.flags&(w.CAPTURE|w.EP_CAPTURE)?V=0:V++,k===n&&F++,k=Ze(k)}function me(){var ce=Y.pop();if(ce==null)return null;var _e=ce.move;D=ce.kings,k=ce.turn,R=ce.castling,B=ce.ep_square,V=ce.half_moves,F=ce.move_number;var be=k,Ae=Ze(k);if(P[_e.from]=P[_e.to],P[_e.from].type=_e.piece,P[_e.to]=null,_e.flags&w.CAPTURE)P[_e.to]={type:_e.captured,color:Ae};else if(_e.flags&w.EP_CAPTURE){var Be;be===n?Be=_e.to-16:Be=_e.to+16,P[Be]={type:o,color:Ae}}if(_e.flags&(w.KSIDE_CASTLE|w.QSIDE_CASTLE)){var ze,Je;_e.flags&w.KSIDE_CASTLE?(ze=_e.to+1,Je=_e.to-1):_e.flags&w.QSIDE_CASTLE&&(ze=_e.to-2,Je=_e.to+1),P[ze]=P[Je],P[Je]=null}return _e}function Ce(ce,_e){for(var be=pe({legal:!_e}),Ae=ce.from,Be=ce.to,ze=ce.piece,Je=0,nt=0,ot=0,ut=0,ft=be.length;ut<ft;ut++){var Ut=be[ut].from,It=be[ut].to,bt=be[ut].piece;ze===bt&&Ae!==Ut&&Be===It&&(Je++,Ie(Ae)===Ie(Ut)&&nt++,Fe(Ae)===Fe(Ut)&&ot++)}return Je>0?nt>0&&ot>0?Ne(Ae):ot>0?Ne(Ae).charAt(1):Ne(Ae).charAt(0):""}function Le(){for(var ce=`   +------------------------+
`,_e=M.a8;_e<=M.h1;_e++){if(Fe(_e)===0&&(ce+=" "+"87654321"[Ie(_e)]+" |"),P[_e]==null)ce+=" . ";else{var be=P[_e].type,Ae=P[_e].color,Be=Ae===a?be.toUpperCase():be.toLowerCase();ce+=" "+Be+" "}_e+1&136&&(ce+=`|
`,_e+=8)}return ce+=`   +------------------------+
`,ce+=`     a  b  c  d  e  f  g  h
`,ce}function Pe(ce,_e){var be=X(ce);if(_e){var Ae=be.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(Ae)var Be=Ae[1],ze=Ae[2],Je=Ae[3],nt=Ae[4]}for(var ot=pe(),ut=0,ft=ot.length;ut<ft;ut++){if(be===X(ye(ot[ut]))||_e&&be===X(ye(ot[ut],!0)))return ot[ut];if(Ae&&(!Be||Be.toLowerCase()==ot[ut].piece)&&M[ze]==ot[ut].from&&M[Je]==ot[ut].to&&(!nt||nt.toLowerCase()==ot[ut].promotion))return ot[ut]}return null}function Ie(ce){return ce>>4}function Fe(ce){return ce&15}function Ne(ce){var _e=Fe(ce),be=Ie(ce);return"abcdefgh".substring(_e,_e+1)+"87654321".substring(be,be+1)}function Ze(ce){return ce===a?n:a}function Xe(ce){return"0123456789".indexOf(ce)!==-1}function Ye(ce){var _e=mt(ce);_e.san=ye(_e,!1),_e.to=Ne(_e.to),_e.from=Ne(_e.from);var be="";for(var Ae in w)w[Ae]&_e.flags&&(be+=A[Ae]);return _e.flags=be,_e}function mt(ce){var _e=ce instanceof Array?[]:{};for(var be in ce)typeof be=="object"?_e[be]=mt(ce[be]):_e[be]=ce[be];return _e}function Lt(ce){return ce.replace(/^\s+|\s+$/g,"")}function Gt(ce){for(var _e=pe({legal:!1}),be=0,Ae=k,Be=0,ze=_e.length;Be<ze;Be++){if(ie(_e[Be]),!$(Ae))if(ce-1>0){var Je=Gt(ce-1);be+=Je}else be++;me()}return be}return{WHITE:a,BLACK:n,PAWN:o,KNIGHT:l,BISHOP:s,ROOK:f,QUEEN:u,KING:h,SQUARES:function(){for(var ce=[],_e=M.a8;_e<=M.h1;_e++){if(_e&136){_e+=7;continue}ce.push(Ne(_e))}return ce}(),FLAGS:A,load:function(ce){return W(ce)},reset:function(){return H()},moves:function(ce){for(var _e=pe(ce),be=[],Ae=0,Be=_e.length;Ae<Be;Ae++)typeof ce<"u"&&"verbose"in ce&&ce.verbose?be.push(Ye(_e[Ae])):be.push(ye(_e[Ae],!1));return be},in_check:function(){return ee()},in_checkmate:function(){return fe()},in_stalemate:function(){return oe()},in_draw:function(){return V>=100||oe()||ve()||Me()},insufficient_material:function(){return ve()},in_threefold_repetition:function(){return Me()},game_over:function(){return V>=100||fe()||oe()||ve()||Me()},validate_fen:function(ce){return U(ce)},fen:function(){return K()},board:function(){for(var ce=[],_e=[],be=M.a8;be<=M.h1;be++)P[be]==null?_e.push(null):_e.push({type:P[be].type,color:P[be].color}),be+1&136&&(ce.push(_e),_e=[],be+=8);return ce},pgn:function(ce){var _e=typeof ce=="object"&&typeof ce.newline_char=="string"?ce.newline_char:`
`,be=typeof ce=="object"&&typeof ce.max_width=="number"?ce.max_width:0,Ae=[],Be=!1;for(var ze in q)Ae.push("["+ze+' "'+q[ze]+'"]'+_e),Be=!0;Be&&Y.length&&Ae.push(_e);for(var Je=function(gt){var kt=E[K()];if(typeof kt<"u"){var Ct=gt.length>0?" ":"";gt=`${gt}${Ct}{${kt}}`}return gt},nt=[];Y.length>0;)nt.push(me());var ot=[],ut="";for(nt.length===0&&ot.push(Je(""));nt.length>0;){ut=Je(ut);var ft=nt.pop();!Y.length&&ft.color==="b"?ut=F+". ...":ft.color==="w"&&(ut.length&&ot.push(ut),ut=F+"."),ut=ut+" "+ye(ft,!1),ie(ft)}if(ut.length&&ot.push(Je(ut)),typeof q.Result<"u"&&ot.push(q.Result),be===0)return Ae.join("")+ot.join(" ");for(var Ut=function(){return Ae.length>0&&Ae[Ae.length-1]===" "?(Ae.pop(),!0):!1},It=function(gt,kt){for(var Ct of kt.split(" "))if(Ct){if(gt+Ct.length>be){for(;Ut();)gt--;Ae.push(_e),gt=0}Ae.push(Ct),gt+=Ct.length,Ae.push(" "),gt++}return Ut()&&gt--,gt},bt=0,ze=0;ze<ot.length;ze++){if(bt+ot[ze].length>be&&ot[ze].includes("{")){bt=It(bt,ot[ze]);continue}bt+ot[ze].length>be&&ze!==0?(Ae[Ae.length-1]===" "&&Ae.pop(),Ae.push(_e),bt=0):ze!==0&&(Ae.push(" "),bt++),Ae.push(ot[ze]),bt+=ot[ze].length}return Ae.join("")},load_pgn:function(ce,_e){var be=typeof _e<"u"&&"sloppy"in _e?_e.sloppy:!1;function Ae(Ot){return Ot.replace(/\\/g,"\\")}function Be(Ot){for(var lr in Ot)return!0;return!1}function ze(Ot,lr){for(var wa=typeof lr=="object"&&typeof lr.newline_char=="string"?lr.newline_char:`\r?
`,xn={},ka=Ot.split(new RegExp(Ae(wa))),qn="",_i="",xi=0;xi<ka.length;xi++)qn=ka[xi].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),_i=ka[xi].replace(/^\[[A-Za-z]+\s"(.*)"\ *\]$/,"$1"),Lt(qn).length>0&&(xn[qn]=_i);return xn}var Je=typeof _e=="object"&&typeof _e.newline_char=="string"?_e.newline_char:`\r?
`,nt=new RegExp("^(\\[((?:"+Ae(Je)+")|.)*\\])(?:"+Ae(Je)+"){2}"),ot=nt.test(ce)?nt.exec(ce)[1]:"";H();var ut=ze(ot,_e);for(var ft in ut)Q([ft,ut[ft]]);if(ut.SetUp==="1"&&!("FEN"in ut&&W(ut.FEN,!0)))return!1;for(var Ut=function(Ot){return Array.from(Ot).map(function(lr){return lr.charCodeAt(0)<128?lr.charCodeAt(0).toString(16):encodeURIComponent(lr).replace(/\%/g,"").toLowerCase()}).join("")},It=function(Ot){return Ot.length==0?"":decodeURIComponent("%"+Ot.match(/.{1,2}/g).join("%"))},bt=function(Ot){return Ot=Ot.replace(new RegExp(Ae(Je),"g")," "),`{${Ut(Ot.slice(1,Ot.length-1))}}`},gt=function(Ot){if(Ot.startsWith("{")&&Ot.endsWith("}"))return It(Ot.slice(1,Ot.length-1))},kt=ce.replace(ot,"").replace(new RegExp(`({[^}]*})+?|;([^${Ae(Je)}]*)`,"g"),function(Ot,lr,wa){return lr!==void 0?bt(lr):" "+bt(`{${wa.slice(1)}}`)}).replace(new RegExp(Ae(Je),"g")," "),Ct=/(\([^\(\)]+\))+?/g;Ct.test(kt);)kt=kt.replace(Ct,"");kt=kt.replace(/\d+\.(\.\.)?/g,""),kt=kt.replace(/\.\.\./g,""),kt=kt.replace(/\$\d+/g,"");var zt=Lt(kt).split(new RegExp(/\s+/));zt=zt.join(",").replace(/,,+/g,",").split(",");for(var cr="",Wt=0;Wt<zt.length-1;Wt++){var Xt=gt(zt[Wt]);if(Xt!==void 0){E[K()]=Xt;continue}if(cr=Pe(zt[Wt],be),cr==null)return!1;ie(cr)}if(Xt=gt(zt[zt.length-1]),Xt!==void 0&&(E[K()]=Xt,zt.pop()),cr=zt[zt.length-1],d.indexOf(cr)>-1)Be(q)&&typeof q.Result>"u"&&Q(["Result",cr]);else{if(cr=Pe(cr,be),cr==null)return!1;ie(cr)}return!0},header:function(){return Q(arguments)},ascii:function(){return Le()},turn:function(){return k},move:function(ce,_e){var be=typeof _e<"u"&&"sloppy"in _e?_e.sloppy:!1,Ae=null;if(typeof ce=="string")Ae=Pe(ce,be);else if(typeof ce=="object"){for(var Be=pe(),ze=0,Je=Be.length;ze<Je;ze++)if(ce.from===Ne(Be[ze].from)&&ce.to===Ne(Be[ze].to)&&(!("promotion"in Be[ze])||ce.promotion===Be[ze].promotion)){Ae=Be[ze];break}}if(!Ae)return null;var nt=Ye(Ae);return ie(Ae),nt},undo:function(){var ce=me();return ce?Ye(ce):null},clear:function(){return z()},put:function(ce,_e){return le(ce,_e)},get:function(ce){return se(ce)},remove:function(ce){return de(ce)},perft:function(ce){return Gt(ce)},square_color:function(ce){if(ce in M){var _e=M[ce];return(Ie(_e)+Fe(_e))%2===0?"light":"dark"}return null},history:function(ce){for(var _e=[],be=[],Ae=typeof ce<"u"&&("verbose"in ce)&&ce.verbose;Y.length>0;)_e.push(me());for(;_e.length>0;){var Be=_e.pop();Ae?be.push(Ye(Be)):be.push(ye(Be)),ie(Be)}return be},get_comment:function(){return E[K()]},set_comment:function(ce){E[K()]=ce.replace("{","[").replace("}","]")},delete_comment:function(){var ce=E[K()];return delete E[K()],ce},get_comments:function(){return N(),Object.keys(E).map(function(ce){return{fen:ce,comment:E[ce]}})},delete_comments:function(){return N(),Object.keys(E).map(function(ce){var _e=E[ce];return delete E[ce],{fen:ce,comment:_e}})}}};e.Chess=t})(Hi);var mE={exports:{}},yE={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,n){return r<<n|r>>>32-n},rotr:function(r,n){return r<<32-n|r>>>n},endian:function(r){if(r.constructor==Number)return t.rotl(r,8)&16711935|t.rotl(r,24)&4278255360;for(var n=0;n<r.length;n++)r[n]=t.endian(r[n]);return r},randomBytes:function(r){for(var n=[];r>0;r--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(r){for(var n=[],a=0,i=0;a<r.length;a++,i+=8)n[i>>>5]|=r[a]<<24-i%32;return n},wordsToBytes:function(r){for(var n=[],a=0;a<r.length*32;a+=8)n.push(r[a>>>5]>>>24-a%32&255);return n},bytesToHex:function(r){for(var n=[],a=0;a<r.length;a++)n.push((r[a]>>>4).toString(16)),n.push((r[a]&15).toString(16));return n.join("")},hexToBytes:function(r){for(var n=[],a=0;a<r.length;a+=2)n.push(parseInt(r.substr(a,2),16));return n},bytesToBase64:function(r){for(var n=[],a=0;a<r.length;a+=3)for(var i=r[a]<<16|r[a+1]<<8|r[a+2],o=0;o<4;o++)a*8+o*6<=r.length*8?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],a=0,i=0;a<r.length;i=++a%4)i!=0&&n.push((e.indexOf(r.charAt(a-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(r.charAt(a))>>>6-i*2);return n}};yE.exports=t})();var Uq=yE.exports,o1={utf8:{stringToBytes:function(e){return o1.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(o1.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r)&255);return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},lb=o1;(function(){var e=Uq,t=lb.utf8,r=lb.bin,n=function(i){i.constructor==String?i=t.stringToBytes(i):typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(i)?i=Array.prototype.slice.call(i,0):Array.isArray(i)||(i=i.toString());var o=e.bytesToWords(i),l=i.length*8,s=[],f=1732584193,u=-271733879,h=-1732584194,c=271733878,v=-1009589776;o[l>>5]|=128<<24-l%32,o[(l+64>>>9<<4)+15]=l;for(var d=0;d<o.length;d+=16){for(var m=f,g=u,p=h,y=c,x=v,A=0;A<80;A++){if(A<16)s[A]=o[d+A];else{var w=s[A-3]^s[A-8]^s[A-14]^s[A-16];s[A]=w<<1|w>>>31}var b=(f<<5|f>>>27)+v+(s[A]>>>0)+(A<20?(u&h|~u&c)+1518500249:A<40?(u^h^c)+1859775393:A<60?(u&h|u&c|h&c)-1894007588:(u^h^c)-899497514);v=c,c=h,h=u<<30|u>>>2,u=f,f=b}f+=m,u+=g,h+=p,c+=y,v+=x}return[f,u,h,c,v]},a=function(i,o){var l=e.wordsToBytes(n(i));return o&&o.asBytes?l:o&&o.asString?r.bytesToString(l):e.bytesToHex(l)};a._blocksize=16,a._digestsize=20,mE.exports=a})();var Gq=mE.exports;const Wq=Oq(Gq);var Gc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Gc.exports;(function(e,t){(function(){var r,n="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",f=500,u="__lodash_placeholder__",h=1,c=2,v=4,d=1,m=2,g=1,p=2,y=4,x=8,A=16,w=32,b=64,S=128,T=256,C=512,M=30,I="...",P=800,D=16,k=1,R=2,B=3,V=1/0,F=9007199254740991,Y=17976931348623157e292,q=NaN,E=4294967295,z=E-1,N=E>>>1,H=[["ary",S],["bind",g],["bindKey",p],["curry",x],["curryRight",A],["flip",C],["partial",w],["partialRight",b],["rearg",T]],W="[object Arguments]",U="[object Array]",K="[object AsyncFunction]",Q="[object Boolean]",j="[object Date]",se="[object DOMException]",le="[object Error]",de="[object Function]",he="[object GeneratorFunction]",pe="[object Map]",ye="[object Number]",X="[object Null]",G="[object Object]",$="[object Promise]",ee="[object Proxy]",fe="[object RegExp]",oe="[object Set]",ve="[object String]",Me="[object Symbol]",re="[object Undefined]",ie="[object WeakMap]",me="[object WeakSet]",Ce="[object ArrayBuffer]",Le="[object DataView]",Pe="[object Float32Array]",Ie="[object Float64Array]",Fe="[object Int8Array]",Ne="[object Int16Array]",Ze="[object Int32Array]",Xe="[object Uint8Array]",Ye="[object Uint8ClampedArray]",mt="[object Uint16Array]",Lt="[object Uint32Array]",Gt=/\b__p \+= '';/g,ce=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,Ae=/[&<>"']/g,Be=RegExp(be.source),ze=RegExp(Ae.source),Je=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,ot=/<%=([\s\S]+?)%>/g,ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,Ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,It=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(It.source),gt=/^\s+/,kt=/\s/,Ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,cr=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xt=/[()=,{}\[\]\/\s]/,Ot=/\\(\\)?/g,lr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wa=/\w*$/,xn=/^[-+]0x[0-9a-f]+$/i,ka=/^0b[01]+$/i,qn=/^\[object .+?Constructor\]$/,_i=/^0o[0-7]+$/i,xi=/^(?:0|[1-9]\d*)$/,Jh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Go=/($^)/,Qu=/['\n\r\u2028\u2029\\]/g,wi="\\ud800-\\udfff",Ju="\\u0300-\\u036f",jh="\\ufe20-\\ufe2f",ev="\\u20d0-\\u20ff",ju=Ju+jh+ev,ef="\\u2700-\\u27bf",tf="a-z\\xdf-\\xf6\\xf8-\\xff",tv="\\xac\\xb1\\xd7\\xf7",rv="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",av="\\u2000-\\u206f",ul=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ue="A-Z\\xc0-\\xd6\\xd8-\\xde",we="\\ufe0e\\ufe0f",Re=tv+rv+av+ul,qe="['’]",We="["+wi+"]",$e="["+Re+"]",Qe="["+ju+"]",it="\\d+",rt="["+ef+"]",pt="["+tf+"]",yt="[^"+wi+Re+it+ef+tf+ue+"]",_t="\\ud83c[\\udffb-\\udfff]",hr="(?:"+Qe+"|"+_t+")",Qt="[^"+wi+"]",Ar="(?:\\ud83c[\\udde6-\\uddff]){2}",Zr="[\\ud800-\\udbff][\\udc00-\\udfff]",en="["+ue+"]",ea="\\u200d",so="(?:"+pt+"|"+yt+")",fl="(?:"+en+"|"+yt+")",Un="(?:"+qe+"(?:d|ll|m|re|s|t|ve))?",Zx="(?:"+qe+"(?:D|LL|M|RE|S|T|VE))?",Kx=hr+"?",Xx="["+we+"]?",E5="(?:"+ea+"(?:"+[Qt,Ar,Zr].join("|")+")"+Xx+Kx+")*",k5="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",O5="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qx=Xx+Kx+E5,B5="(?:"+[rt,Ar,Zr].join("|")+")"+Qx,N5="(?:"+[Qt+Qe+"?",Qe,Ar,Zr,We].join("|")+")",z5=RegExp(qe,"g"),V5=RegExp(Qe,"g"),nv=RegExp(_t+"(?="+_t+")|"+N5+Qx,"g"),F5=RegExp([en+"?"+pt+"+"+Un+"(?="+[$e,en,"$"].join("|")+")",fl+"+"+Zx+"(?="+[$e,en+so,"$"].join("|")+")",en+"?"+so+"+"+Un,en+"+"+Zx,O5,k5,it,B5].join("|"),"g"),H5=RegExp("["+ea+wi+ju+we+"]"),q5=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,U5=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],G5=-1,ur={};ur[Pe]=ur[Ie]=ur[Fe]=ur[Ne]=ur[Ze]=ur[Xe]=ur[Ye]=ur[mt]=ur[Lt]=!0,ur[W]=ur[U]=ur[Ce]=ur[Q]=ur[Le]=ur[j]=ur[le]=ur[de]=ur[pe]=ur[ye]=ur[G]=ur[fe]=ur[oe]=ur[ve]=ur[ie]=!1;var or={};or[W]=or[U]=or[Ce]=or[Le]=or[Q]=or[j]=or[Pe]=or[Ie]=or[Fe]=or[Ne]=or[Ze]=or[pe]=or[ye]=or[G]=or[fe]=or[oe]=or[ve]=or[Me]=or[Xe]=or[Ye]=or[mt]=or[Lt]=!0,or[le]=or[de]=or[ie]=!1;var W5={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},$5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Y5={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Z5={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},K5=parseFloat,X5=parseInt,Jx=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Q5=typeof self=="object"&&self&&self.Object===Object&&self,Hr=Jx||Q5||Function("return this")(),iv=t&&!t.nodeType&&t,lo=iv&&!0&&e&&!e.nodeType&&e,jx=lo&&lo.exports===iv,ov=jx&&Jx.process,Oa=function(){try{var Se=lo&&lo.require&&lo.require("util").types;return Se||ov&&ov.binding&&ov.binding("util")}catch{}}(),ew=Oa&&Oa.isArrayBuffer,tw=Oa&&Oa.isDate,rw=Oa&&Oa.isMap,aw=Oa&&Oa.isRegExp,nw=Oa&&Oa.isSet,iw=Oa&&Oa.isTypedArray;function Sa(Se,Ee,De){switch(De.length){case 0:return Se.call(Ee);case 1:return Se.call(Ee,De[0]);case 2:return Se.call(Ee,De[0],De[1]);case 3:return Se.call(Ee,De[0],De[1],De[2])}return Se.apply(Ee,De)}function J5(Se,Ee,De,at){for(var xt=-1,$t=Se==null?0:Se.length;++xt<$t;){var Ir=Se[xt];Ee(at,Ir,De(Ir),Se)}return at}function Ba(Se,Ee){for(var De=-1,at=Se==null?0:Se.length;++De<at&&Ee(Se[De],De,Se)!==!1;);return Se}function j5(Se,Ee){for(var De=Se==null?0:Se.length;De--&&Ee(Se[De],De,Se)!==!1;);return Se}function ow(Se,Ee){for(var De=-1,at=Se==null?0:Se.length;++De<at;)if(!Ee(Se[De],De,Se))return!1;return!0}function Si(Se,Ee){for(var De=-1,at=Se==null?0:Se.length,xt=0,$t=[];++De<at;){var Ir=Se[De];Ee(Ir,De,Se)&&($t[xt++]=Ir)}return $t}function rf(Se,Ee){var De=Se==null?0:Se.length;return!!De&&Wo(Se,Ee,0)>-1}function sv(Se,Ee,De){for(var at=-1,xt=Se==null?0:Se.length;++at<xt;)if(De(Ee,Se[at]))return!0;return!1}function vr(Se,Ee){for(var De=-1,at=Se==null?0:Se.length,xt=Array(at);++De<at;)xt[De]=Ee(Se[De],De,Se);return xt}function bi(Se,Ee){for(var De=-1,at=Ee.length,xt=Se.length;++De<at;)Se[xt+De]=Ee[De];return Se}function lv(Se,Ee,De,at){var xt=-1,$t=Se==null?0:Se.length;for(at&&$t&&(De=Se[++xt]);++xt<$t;)De=Ee(De,Se[xt],xt,Se);return De}function ez(Se,Ee,De,at){var xt=Se==null?0:Se.length;for(at&&xt&&(De=Se[--xt]);xt--;)De=Ee(De,Se[xt],xt,Se);return De}function uv(Se,Ee){for(var De=-1,at=Se==null?0:Se.length;++De<at;)if(Ee(Se[De],De,Se))return!0;return!1}var tz=fv("length");function rz(Se){return Se.split("")}function az(Se){return Se.match(Wt)||[]}function sw(Se,Ee,De){var at;return De(Se,function(xt,$t,Ir){if(Ee(xt,$t,Ir))return at=$t,!1}),at}function af(Se,Ee,De,at){for(var xt=Se.length,$t=De+(at?1:-1);at?$t--:++$t<xt;)if(Ee(Se[$t],$t,Se))return $t;return-1}function Wo(Se,Ee,De){return Ee===Ee?gz(Se,Ee,De):af(Se,lw,De)}function nz(Se,Ee,De,at){for(var xt=De-1,$t=Se.length;++xt<$t;)if(at(Se[xt],Ee))return xt;return-1}function lw(Se){return Se!==Se}function uw(Se,Ee){var De=Se==null?0:Se.length;return De?hv(Se,Ee)/De:q}function fv(Se){return function(Ee){return Ee==null?r:Ee[Se]}}function cv(Se){return function(Ee){return Se==null?r:Se[Ee]}}function fw(Se,Ee,De,at,xt){return xt(Se,function($t,Ir,er){De=at?(at=!1,$t):Ee(De,$t,Ir,er)}),De}function iz(Se,Ee){var De=Se.length;for(Se.sort(Ee);De--;)Se[De]=Se[De].value;return Se}function hv(Se,Ee){for(var De,at=-1,xt=Se.length;++at<xt;){var $t=Ee(Se[at]);$t!==r&&(De=De===r?$t:De+$t)}return De}function vv(Se,Ee){for(var De=-1,at=Array(Se);++De<Se;)at[De]=Ee(De);return at}function oz(Se,Ee){return vr(Ee,function(De){return[De,Se[De]]})}function cw(Se){return Se&&Se.slice(0,gw(Se)+1).replace(gt,"")}function ba(Se){return function(Ee){return Se(Ee)}}function dv(Se,Ee){return vr(Ee,function(De){return Se[De]})}function cl(Se,Ee){return Se.has(Ee)}function hw(Se,Ee){for(var De=-1,at=Se.length;++De<at&&Wo(Ee,Se[De],0)>-1;);return De}function vw(Se,Ee){for(var De=Se.length;De--&&Wo(Ee,Se[De],0)>-1;);return De}function sz(Se,Ee){for(var De=Se.length,at=0;De--;)Se[De]===Ee&&++at;return at}var lz=cv(W5),uz=cv($5);function fz(Se){return"\\"+Z5[Se]}function cz(Se,Ee){return Se==null?r:Se[Ee]}function $o(Se){return H5.test(Se)}function hz(Se){return q5.test(Se)}function vz(Se){for(var Ee,De=[];!(Ee=Se.next()).done;)De.push(Ee.value);return De}function gv(Se){var Ee=-1,De=Array(Se.size);return Se.forEach(function(at,xt){De[++Ee]=[xt,at]}),De}function dw(Se,Ee){return function(De){return Se(Ee(De))}}function Ai(Se,Ee){for(var De=-1,at=Se.length,xt=0,$t=[];++De<at;){var Ir=Se[De];(Ir===Ee||Ir===u)&&(Se[De]=u,$t[xt++]=De)}return $t}function nf(Se){var Ee=-1,De=Array(Se.size);return Se.forEach(function(at){De[++Ee]=at}),De}function dz(Se){var Ee=-1,De=Array(Se.size);return Se.forEach(function(at){De[++Ee]=[at,at]}),De}function gz(Se,Ee,De){for(var at=De-1,xt=Se.length;++at<xt;)if(Se[at]===Ee)return at;return-1}function pz(Se,Ee,De){for(var at=De+1;at--;)if(Se[at]===Ee)return at;return at}function Yo(Se){return $o(Se)?yz(Se):tz(Se)}function tn(Se){return $o(Se)?_z(Se):rz(Se)}function gw(Se){for(var Ee=Se.length;Ee--&&kt.test(Se.charAt(Ee)););return Ee}var mz=cv(Y5);function yz(Se){for(var Ee=nv.lastIndex=0;nv.test(Se);)++Ee;return Ee}function _z(Se){return Se.match(nv)||[]}function xz(Se){return Se.match(F5)||[]}var wz=function Se(Ee){Ee=Ee==null?Hr:Zo.defaults(Hr.Object(),Ee,Zo.pick(Hr,U5));var De=Ee.Array,at=Ee.Date,xt=Ee.Error,$t=Ee.Function,Ir=Ee.Math,er=Ee.Object,pv=Ee.RegExp,Sz=Ee.String,Na=Ee.TypeError,of=De.prototype,bz=$t.prototype,Ko=er.prototype,sf=Ee["__core-js_shared__"],lf=bz.toString,Zt=Ko.hasOwnProperty,Az=0,pw=function(){var _=/[^.]+$/.exec(sf&&sf.keys&&sf.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),uf=Ko.toString,Tz=lf.call(er),Cz=Hr._,Mz=pv("^"+lf.call(Zt).replace(It,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ff=jx?Ee.Buffer:r,Ti=Ee.Symbol,cf=Ee.Uint8Array,mw=ff?ff.allocUnsafe:r,hf=dw(er.getPrototypeOf,er),yw=er.create,_w=Ko.propertyIsEnumerable,vf=of.splice,xw=Ti?Ti.isConcatSpreadable:r,hl=Ti?Ti.iterator:r,uo=Ti?Ti.toStringTag:r,df=function(){try{var _=go(er,"defineProperty");return _({},"",{}),_}catch{}}(),Lz=Ee.clearTimeout!==Hr.clearTimeout&&Ee.clearTimeout,Iz=at&&at.now!==Hr.Date.now&&at.now,Pz=Ee.setTimeout!==Hr.setTimeout&&Ee.setTimeout,gf=Ir.ceil,pf=Ir.floor,mv=er.getOwnPropertySymbols,Dz=ff?ff.isBuffer:r,ww=Ee.isFinite,Rz=of.join,Ez=dw(er.keys,er),Pr=Ir.max,Kr=Ir.min,kz=at.now,Oz=Ee.parseInt,Sw=Ir.random,Bz=of.reverse,yv=go(Ee,"DataView"),vl=go(Ee,"Map"),_v=go(Ee,"Promise"),Xo=go(Ee,"Set"),dl=go(Ee,"WeakMap"),gl=go(er,"create"),mf=dl&&new dl,Qo={},Nz=po(yv),zz=po(vl),Vz=po(_v),Fz=po(Xo),Hz=po(dl),yf=Ti?Ti.prototype:r,pl=yf?yf.valueOf:r,bw=yf?yf.toString:r;function te(_){if(pr(_)&&!wt(_)&&!(_ instanceof Bt)){if(_ instanceof za)return _;if(Zt.call(_,"__wrapped__"))return AS(_)}return new za(_)}var Jo=function(){function _(){}return function(L){if(!gr(L))return{};if(yw)return yw(L);_.prototype=L;var O=new _;return _.prototype=r,O}}();function _f(){}function za(_,L){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!L,this.__index__=0,this.__values__=r}te.templateSettings={escape:Je,evaluate:nt,interpolate:ot,variable:"",imports:{_:te}},te.prototype=_f.prototype,te.prototype.constructor=te,za.prototype=Jo(_f.prototype),za.prototype.constructor=za;function Bt(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=E,this.__views__=[]}function qz(){var _=new Bt(this.__wrapped__);return _.__actions__=ua(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=ua(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=ua(this.__views__),_}function Uz(){if(this.__filtered__){var _=new Bt(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function Gz(){var _=this.__wrapped__.value(),L=this.__dir__,O=wt(_),Z=L<0,J=O?_.length:0,ae=rV(0,J,this.__views__),ge=ae.start,xe=ae.end,Te=xe-ge,Ve=Z?xe:ge-1,He=this.__iteratees__,Ue=He.length,et=0,st=Kr(Te,this.__takeCount__);if(!O||!Z&&J==Te&&st==Te)return Yw(_,this.__actions__);var vt=[];e:for(;Te--&&et<st;){Ve+=L;for(var Mt=-1,dt=_[Ve];++Mt<Ue;){var Rt=He[Mt],Vt=Rt.iteratee,Ca=Rt.type,aa=Vt(dt);if(Ca==R)dt=aa;else if(!aa){if(Ca==k)continue e;break e}}vt[et++]=dt}return vt}Bt.prototype=Jo(_f.prototype),Bt.prototype.constructor=Bt;function fo(_){var L=-1,O=_==null?0:_.length;for(this.clear();++L<O;){var Z=_[L];this.set(Z[0],Z[1])}}function Wz(){this.__data__=gl?gl(null):{},this.size=0}function $z(_){var L=this.has(_)&&delete this.__data__[_];return this.size-=L?1:0,L}function Yz(_){var L=this.__data__;if(gl){var O=L[_];return O===s?r:O}return Zt.call(L,_)?L[_]:r}function Zz(_){var L=this.__data__;return gl?L[_]!==r:Zt.call(L,_)}function Kz(_,L){var O=this.__data__;return this.size+=this.has(_)?0:1,O[_]=gl&&L===r?s:L,this}fo.prototype.clear=Wz,fo.prototype.delete=$z,fo.prototype.get=Yz,fo.prototype.has=Zz,fo.prototype.set=Kz;function Gn(_){var L=-1,O=_==null?0:_.length;for(this.clear();++L<O;){var Z=_[L];this.set(Z[0],Z[1])}}function Xz(){this.__data__=[],this.size=0}function Qz(_){var L=this.__data__,O=xf(L,_);if(O<0)return!1;var Z=L.length-1;return O==Z?L.pop():vf.call(L,O,1),--this.size,!0}function Jz(_){var L=this.__data__,O=xf(L,_);return O<0?r:L[O][1]}function jz(_){return xf(this.__data__,_)>-1}function e3(_,L){var O=this.__data__,Z=xf(O,_);return Z<0?(++this.size,O.push([_,L])):O[Z][1]=L,this}Gn.prototype.clear=Xz,Gn.prototype.delete=Qz,Gn.prototype.get=Jz,Gn.prototype.has=jz,Gn.prototype.set=e3;function Wn(_){var L=-1,O=_==null?0:_.length;for(this.clear();++L<O;){var Z=_[L];this.set(Z[0],Z[1])}}function t3(){this.size=0,this.__data__={hash:new fo,map:new(vl||Gn),string:new fo}}function r3(_){var L=Rf(this,_).delete(_);return this.size-=L?1:0,L}function a3(_){return Rf(this,_).get(_)}function n3(_){return Rf(this,_).has(_)}function i3(_,L){var O=Rf(this,_),Z=O.size;return O.set(_,L),this.size+=O.size==Z?0:1,this}Wn.prototype.clear=t3,Wn.prototype.delete=r3,Wn.prototype.get=a3,Wn.prototype.has=n3,Wn.prototype.set=i3;function co(_){var L=-1,O=_==null?0:_.length;for(this.__data__=new Wn;++L<O;)this.add(_[L])}function o3(_){return this.__data__.set(_,s),this}function s3(_){return this.__data__.has(_)}co.prototype.add=co.prototype.push=o3,co.prototype.has=s3;function rn(_){var L=this.__data__=new Gn(_);this.size=L.size}function l3(){this.__data__=new Gn,this.size=0}function u3(_){var L=this.__data__,O=L.delete(_);return this.size=L.size,O}function f3(_){return this.__data__.get(_)}function c3(_){return this.__data__.has(_)}function h3(_,L){var O=this.__data__;if(O instanceof Gn){var Z=O.__data__;if(!vl||Z.length<a-1)return Z.push([_,L]),this.size=++O.size,this;O=this.__data__=new Wn(Z)}return O.set(_,L),this.size=O.size,this}rn.prototype.clear=l3,rn.prototype.delete=u3,rn.prototype.get=f3,rn.prototype.has=c3,rn.prototype.set=h3;function Aw(_,L){var O=wt(_),Z=!O&&mo(_),J=!O&&!Z&&Pi(_),ae=!O&&!Z&&!J&&rs(_),ge=O||Z||J||ae,xe=ge?vv(_.length,Sz):[],Te=xe.length;for(var Ve in _)(L||Zt.call(_,Ve))&&!(ge&&(Ve=="length"||J&&(Ve=="offset"||Ve=="parent")||ae&&(Ve=="buffer"||Ve=="byteLength"||Ve=="byteOffset")||Kn(Ve,Te)))&&xe.push(Ve);return xe}function Tw(_){var L=_.length;return L?_[Pv(0,L-1)]:r}function v3(_,L){return Ef(ua(_),ho(L,0,_.length))}function d3(_){return Ef(ua(_))}function xv(_,L,O){(O!==r&&!an(_[L],O)||O===r&&!(L in _))&&$n(_,L,O)}function ml(_,L,O){var Z=_[L];(!(Zt.call(_,L)&&an(Z,O))||O===r&&!(L in _))&&$n(_,L,O)}function xf(_,L){for(var O=_.length;O--;)if(an(_[O][0],L))return O;return-1}function g3(_,L,O,Z){return Ci(_,function(J,ae,ge){L(Z,J,O(J),ge)}),Z}function Cw(_,L){return _&&Sn(L,Nr(L),_)}function p3(_,L){return _&&Sn(L,ca(L),_)}function $n(_,L,O){L=="__proto__"&&df?df(_,L,{configurable:!0,enumerable:!0,value:O,writable:!0}):_[L]=O}function wv(_,L){for(var O=-1,Z=L.length,J=De(Z),ae=_==null;++O<Z;)J[O]=ae?r:td(_,L[O]);return J}function ho(_,L,O){return _===_&&(O!==r&&(_=_<=O?_:O),L!==r&&(_=_>=L?_:L)),_}function Va(_,L,O,Z,J,ae){var ge,xe=L&h,Te=L&c,Ve=L&v;if(O&&(ge=J?O(_,Z,J,ae):O(_)),ge!==r)return ge;if(!gr(_))return _;var He=wt(_);if(He){if(ge=nV(_),!xe)return ua(_,ge)}else{var Ue=Xr(_),et=Ue==de||Ue==he;if(Pi(_))return Xw(_,xe);if(Ue==G||Ue==W||et&&!J){if(ge=Te||et?{}:gS(_),!xe)return Te?Y3(_,p3(ge,_)):$3(_,Cw(ge,_))}else{if(!or[Ue])return J?_:{};ge=iV(_,Ue,xe)}}ae||(ae=new rn);var st=ae.get(_);if(st)return st;ae.set(_,ge),GS(_)?_.forEach(function(dt){ge.add(Va(dt,L,O,dt,_,ae))}):qS(_)&&_.forEach(function(dt,Rt){ge.set(Rt,Va(dt,L,O,Rt,_,ae))});var vt=Ve?Te?Hv:Fv:Te?ca:Nr,Mt=He?r:vt(_);return Ba(Mt||_,function(dt,Rt){Mt&&(Rt=dt,dt=_[Rt]),ml(ge,Rt,Va(dt,L,O,Rt,_,ae))}),ge}function m3(_){var L=Nr(_);return function(O){return Mw(O,_,L)}}function Mw(_,L,O){var Z=O.length;if(_==null)return!Z;for(_=er(_);Z--;){var J=O[Z],ae=L[J],ge=_[J];if(ge===r&&!(J in _)||!ae(ge))return!1}return!0}function Lw(_,L,O){if(typeof _!="function")throw new Na(o);return Al(function(){_.apply(r,O)},L)}function yl(_,L,O,Z){var J=-1,ae=rf,ge=!0,xe=_.length,Te=[],Ve=L.length;if(!xe)return Te;O&&(L=vr(L,ba(O))),Z?(ae=sv,ge=!1):L.length>=a&&(ae=cl,ge=!1,L=new co(L));e:for(;++J<xe;){var He=_[J],Ue=O==null?He:O(He);if(He=Z||He!==0?He:0,ge&&Ue===Ue){for(var et=Ve;et--;)if(L[et]===Ue)continue e;Te.push(He)}else ae(L,Ue,Z)||Te.push(He)}return Te}var Ci=tS(wn),Iw=tS(bv,!0);function y3(_,L){var O=!0;return Ci(_,function(Z,J,ae){return O=!!L(Z,J,ae),O}),O}function wf(_,L,O){for(var Z=-1,J=_.length;++Z<J;){var ae=_[Z],ge=L(ae);if(ge!=null&&(xe===r?ge===ge&&!Ta(ge):O(ge,xe)))var xe=ge,Te=ae}return Te}function _3(_,L,O,Z){var J=_.length;for(O=At(O),O<0&&(O=-O>J?0:J+O),Z=Z===r||Z>J?J:At(Z),Z<0&&(Z+=J),Z=O>Z?0:$S(Z);O<Z;)_[O++]=L;return _}function Pw(_,L){var O=[];return Ci(_,function(Z,J,ae){L(Z,J,ae)&&O.push(Z)}),O}function qr(_,L,O,Z,J){var ae=-1,ge=_.length;for(O||(O=sV),J||(J=[]);++ae<ge;){var xe=_[ae];L>0&&O(xe)?L>1?qr(xe,L-1,O,Z,J):bi(J,xe):Z||(J[J.length]=xe)}return J}var Sv=rS(),Dw=rS(!0);function wn(_,L){return _&&Sv(_,L,Nr)}function bv(_,L){return _&&Dw(_,L,Nr)}function Sf(_,L){return Si(L,function(O){return Xn(_[O])})}function vo(_,L){L=Li(L,_);for(var O=0,Z=L.length;_!=null&&O<Z;)_=_[bn(L[O++])];return O&&O==Z?_:r}function Rw(_,L,O){var Z=L(_);return wt(_)?Z:bi(Z,O(_))}function ta(_){return _==null?_===r?re:X:uo&&uo in er(_)?tV(_):dV(_)}function Av(_,L){return _>L}function x3(_,L){return _!=null&&Zt.call(_,L)}function w3(_,L){return _!=null&&L in er(_)}function S3(_,L,O){return _>=Kr(L,O)&&_<Pr(L,O)}function Tv(_,L,O){for(var Z=O?sv:rf,J=_[0].length,ae=_.length,ge=ae,xe=De(ae),Te=1/0,Ve=[];ge--;){var He=_[ge];ge&&L&&(He=vr(He,ba(L))),Te=Kr(He.length,Te),xe[ge]=!O&&(L||J>=120&&He.length>=120)?new co(ge&&He):r}He=_[0];var Ue=-1,et=xe[0];e:for(;++Ue<J&&Ve.length<Te;){var st=He[Ue],vt=L?L(st):st;if(st=O||st!==0?st:0,!(et?cl(et,vt):Z(Ve,vt,O))){for(ge=ae;--ge;){var Mt=xe[ge];if(!(Mt?cl(Mt,vt):Z(_[ge],vt,O)))continue e}et&&et.push(vt),Ve.push(st)}}return Ve}function b3(_,L,O,Z){return wn(_,function(J,ae,ge){L(Z,O(J),ae,ge)}),Z}function _l(_,L,O){L=Li(L,_),_=_S(_,L);var Z=_==null?_:_[bn(Ha(L))];return Z==null?r:Sa(Z,_,O)}function Ew(_){return pr(_)&&ta(_)==W}function A3(_){return pr(_)&&ta(_)==Ce}function T3(_){return pr(_)&&ta(_)==j}function xl(_,L,O,Z,J){return _===L?!0:_==null||L==null||!pr(_)&&!pr(L)?_!==_&&L!==L:C3(_,L,O,Z,xl,J)}function C3(_,L,O,Z,J,ae){var ge=wt(_),xe=wt(L),Te=ge?U:Xr(_),Ve=xe?U:Xr(L);Te=Te==W?G:Te,Ve=Ve==W?G:Ve;var He=Te==G,Ue=Ve==G,et=Te==Ve;if(et&&Pi(_)){if(!Pi(L))return!1;ge=!0,He=!1}if(et&&!He)return ae||(ae=new rn),ge||rs(_)?hS(_,L,O,Z,J,ae):j3(_,L,Te,O,Z,J,ae);if(!(O&d)){var st=He&&Zt.call(_,"__wrapped__"),vt=Ue&&Zt.call(L,"__wrapped__");if(st||vt){var Mt=st?_.value():_,dt=vt?L.value():L;return ae||(ae=new rn),J(Mt,dt,O,Z,ae)}}return et?(ae||(ae=new rn),eV(_,L,O,Z,J,ae)):!1}function M3(_){return pr(_)&&Xr(_)==pe}function Cv(_,L,O,Z){var J=O.length,ae=J,ge=!Z;if(_==null)return!ae;for(_=er(_);J--;){var xe=O[J];if(ge&&xe[2]?xe[1]!==_[xe[0]]:!(xe[0]in _))return!1}for(;++J<ae;){xe=O[J];var Te=xe[0],Ve=_[Te],He=xe[1];if(ge&&xe[2]){if(Ve===r&&!(Te in _))return!1}else{var Ue=new rn;if(Z)var et=Z(Ve,He,Te,_,L,Ue);if(!(et===r?xl(He,Ve,d|m,Z,Ue):et))return!1}}return!0}function kw(_){if(!gr(_)||uV(_))return!1;var L=Xn(_)?Mz:qn;return L.test(po(_))}function L3(_){return pr(_)&&ta(_)==fe}function I3(_){return pr(_)&&Xr(_)==oe}function P3(_){return pr(_)&&Vf(_.length)&&!!ur[ta(_)]}function Ow(_){return typeof _=="function"?_:_==null?ha:typeof _=="object"?wt(_)?zw(_[0],_[1]):Nw(_):ab(_)}function Mv(_){if(!bl(_))return Ez(_);var L=[];for(var O in er(_))Zt.call(_,O)&&O!="constructor"&&L.push(O);return L}function D3(_){if(!gr(_))return vV(_);var L=bl(_),O=[];for(var Z in _)Z=="constructor"&&(L||!Zt.call(_,Z))||O.push(Z);return O}function Lv(_,L){return _<L}function Bw(_,L){var O=-1,Z=fa(_)?De(_.length):[];return Ci(_,function(J,ae,ge){Z[++O]=L(J,ae,ge)}),Z}function Nw(_){var L=Uv(_);return L.length==1&&L[0][2]?mS(L[0][0],L[0][1]):function(O){return O===_||Cv(O,_,L)}}function zw(_,L){return Wv(_)&&pS(L)?mS(bn(_),L):function(O){var Z=td(O,_);return Z===r&&Z===L?rd(O,_):xl(L,Z,d|m)}}function bf(_,L,O,Z,J){_!==L&&Sv(L,function(ae,ge){if(J||(J=new rn),gr(ae))R3(_,L,ge,O,bf,Z,J);else{var xe=Z?Z(Yv(_,ge),ae,ge+"",_,L,J):r;xe===r&&(xe=ae),xv(_,ge,xe)}},ca)}function R3(_,L,O,Z,J,ae,ge){var xe=Yv(_,O),Te=Yv(L,O),Ve=ge.get(Te);if(Ve){xv(_,O,Ve);return}var He=ae?ae(xe,Te,O+"",_,L,ge):r,Ue=He===r;if(Ue){var et=wt(Te),st=!et&&Pi(Te),vt=!et&&!st&&rs(Te);He=Te,et||st||vt?wt(xe)?He=xe:_r(xe)?He=ua(xe):st?(Ue=!1,He=Xw(Te,!0)):vt?(Ue=!1,He=Qw(Te,!0)):He=[]:Tl(Te)||mo(Te)?(He=xe,mo(xe)?He=YS(xe):(!gr(xe)||Xn(xe))&&(He=gS(Te))):Ue=!1}Ue&&(ge.set(Te,He),J(He,Te,Z,ae,ge),ge.delete(Te)),xv(_,O,He)}function Vw(_,L){var O=_.length;if(O)return L+=L<0?O:0,Kn(L,O)?_[L]:r}function Fw(_,L,O){L.length?L=vr(L,function(ae){return wt(ae)?function(ge){return vo(ge,ae.length===1?ae[0]:ae)}:ae}):L=[ha];var Z=-1;L=vr(L,ba(ct()));var J=Bw(_,function(ae,ge,xe){var Te=vr(L,function(Ve){return Ve(ae)});return{criteria:Te,index:++Z,value:ae}});return iz(J,function(ae,ge){return W3(ae,ge,O)})}function E3(_,L){return Hw(_,L,function(O,Z){return rd(_,Z)})}function Hw(_,L,O){for(var Z=-1,J=L.length,ae={};++Z<J;){var ge=L[Z],xe=vo(_,ge);O(xe,ge)&&wl(ae,Li(ge,_),xe)}return ae}function k3(_){return function(L){return vo(L,_)}}function Iv(_,L,O,Z){var J=Z?nz:Wo,ae=-1,ge=L.length,xe=_;for(_===L&&(L=ua(L)),O&&(xe=vr(_,ba(O)));++ae<ge;)for(var Te=0,Ve=L[ae],He=O?O(Ve):Ve;(Te=J(xe,He,Te,Z))>-1;)xe!==_&&vf.call(xe,Te,1),vf.call(_,Te,1);return _}function qw(_,L){for(var O=_?L.length:0,Z=O-1;O--;){var J=L[O];if(O==Z||J!==ae){var ae=J;Kn(J)?vf.call(_,J,1):Ev(_,J)}}return _}function Pv(_,L){return _+pf(Sw()*(L-_+1))}function O3(_,L,O,Z){for(var J=-1,ae=Pr(gf((L-_)/(O||1)),0),ge=De(ae);ae--;)ge[Z?ae:++J]=_,_+=O;return ge}function Dv(_,L){var O="";if(!_||L<1||L>F)return O;do L%2&&(O+=_),L=pf(L/2),L&&(_+=_);while(L);return O}function Pt(_,L){return Zv(yS(_,L,ha),_+"")}function B3(_){return Tw(as(_))}function N3(_,L){var O=as(_);return Ef(O,ho(L,0,O.length))}function wl(_,L,O,Z){if(!gr(_))return _;L=Li(L,_);for(var J=-1,ae=L.length,ge=ae-1,xe=_;xe!=null&&++J<ae;){var Te=bn(L[J]),Ve=O;if(Te==="__proto__"||Te==="constructor"||Te==="prototype")return _;if(J!=ge){var He=xe[Te];Ve=Z?Z(He,Te,xe):r,Ve===r&&(Ve=gr(He)?He:Kn(L[J+1])?[]:{})}ml(xe,Te,Ve),xe=xe[Te]}return _}var Uw=mf?function(_,L){return mf.set(_,L),_}:ha,z3=df?function(_,L){return df(_,"toString",{configurable:!0,enumerable:!1,value:nd(L),writable:!0})}:ha;function V3(_){return Ef(as(_))}function Fa(_,L,O){var Z=-1,J=_.length;L<0&&(L=-L>J?0:J+L),O=O>J?J:O,O<0&&(O+=J),J=L>O?0:O-L>>>0,L>>>=0;for(var ae=De(J);++Z<J;)ae[Z]=_[Z+L];return ae}function F3(_,L){var O;return Ci(_,function(Z,J,ae){return O=L(Z,J,ae),!O}),!!O}function Af(_,L,O){var Z=0,J=_==null?Z:_.length;if(typeof L=="number"&&L===L&&J<=N){for(;Z<J;){var ae=Z+J>>>1,ge=_[ae];ge!==null&&!Ta(ge)&&(O?ge<=L:ge<L)?Z=ae+1:J=ae}return J}return Rv(_,L,ha,O)}function Rv(_,L,O,Z){var J=0,ae=_==null?0:_.length;if(ae===0)return 0;L=O(L);for(var ge=L!==L,xe=L===null,Te=Ta(L),Ve=L===r;J<ae;){var He=pf((J+ae)/2),Ue=O(_[He]),et=Ue!==r,st=Ue===null,vt=Ue===Ue,Mt=Ta(Ue);if(ge)var dt=Z||vt;else Ve?dt=vt&&(Z||et):xe?dt=vt&&et&&(Z||!st):Te?dt=vt&&et&&!st&&(Z||!Mt):st||Mt?dt=!1:dt=Z?Ue<=L:Ue<L;dt?J=He+1:ae=He}return Kr(ae,z)}function Gw(_,L){for(var O=-1,Z=_.length,J=0,ae=[];++O<Z;){var ge=_[O],xe=L?L(ge):ge;if(!O||!an(xe,Te)){var Te=xe;ae[J++]=ge===0?0:ge}}return ae}function Ww(_){return typeof _=="number"?_:Ta(_)?q:+_}function Aa(_){if(typeof _=="string")return _;if(wt(_))return vr(_,Aa)+"";if(Ta(_))return bw?bw.call(_):"";var L=_+"";return L=="0"&&1/_==-V?"-0":L}function Mi(_,L,O){var Z=-1,J=rf,ae=_.length,ge=!0,xe=[],Te=xe;if(O)ge=!1,J=sv;else if(ae>=a){var Ve=L?null:Q3(_);if(Ve)return nf(Ve);ge=!1,J=cl,Te=new co}else Te=L?[]:xe;e:for(;++Z<ae;){var He=_[Z],Ue=L?L(He):He;if(He=O||He!==0?He:0,ge&&Ue===Ue){for(var et=Te.length;et--;)if(Te[et]===Ue)continue e;L&&Te.push(Ue),xe.push(He)}else J(Te,Ue,O)||(Te!==xe&&Te.push(Ue),xe.push(He))}return xe}function Ev(_,L){return L=Li(L,_),_=_S(_,L),_==null||delete _[bn(Ha(L))]}function $w(_,L,O,Z){return wl(_,L,O(vo(_,L)),Z)}function Tf(_,L,O,Z){for(var J=_.length,ae=Z?J:-1;(Z?ae--:++ae<J)&&L(_[ae],ae,_););return O?Fa(_,Z?0:ae,Z?ae+1:J):Fa(_,Z?ae+1:0,Z?J:ae)}function Yw(_,L){var O=_;return O instanceof Bt&&(O=O.value()),lv(L,function(Z,J){return J.func.apply(J.thisArg,bi([Z],J.args))},O)}function kv(_,L,O){var Z=_.length;if(Z<2)return Z?Mi(_[0]):[];for(var J=-1,ae=De(Z);++J<Z;)for(var ge=_[J],xe=-1;++xe<Z;)xe!=J&&(ae[J]=yl(ae[J]||ge,_[xe],L,O));return Mi(qr(ae,1),L,O)}function Zw(_,L,O){for(var Z=-1,J=_.length,ae=L.length,ge={};++Z<J;){var xe=Z<ae?L[Z]:r;O(ge,_[Z],xe)}return ge}function Ov(_){return _r(_)?_:[]}function Bv(_){return typeof _=="function"?_:ha}function Li(_,L){return wt(_)?_:Wv(_,L)?[_]:bS(Yt(_))}var H3=Pt;function Ii(_,L,O){var Z=_.length;return O=O===r?Z:O,!L&&O>=Z?_:Fa(_,L,O)}var Kw=Lz||function(_){return Hr.clearTimeout(_)};function Xw(_,L){if(L)return _.slice();var O=_.length,Z=mw?mw(O):new _.constructor(O);return _.copy(Z),Z}function Nv(_){var L=new _.constructor(_.byteLength);return new cf(L).set(new cf(_)),L}function q3(_,L){var O=L?Nv(_.buffer):_.buffer;return new _.constructor(O,_.byteOffset,_.byteLength)}function U3(_){var L=new _.constructor(_.source,wa.exec(_));return L.lastIndex=_.lastIndex,L}function G3(_){return pl?er(pl.call(_)):{}}function Qw(_,L){var O=L?Nv(_.buffer):_.buffer;return new _.constructor(O,_.byteOffset,_.length)}function Jw(_,L){if(_!==L){var O=_!==r,Z=_===null,J=_===_,ae=Ta(_),ge=L!==r,xe=L===null,Te=L===L,Ve=Ta(L);if(!xe&&!Ve&&!ae&&_>L||ae&&ge&&Te&&!xe&&!Ve||Z&&ge&&Te||!O&&Te||!J)return 1;if(!Z&&!ae&&!Ve&&_<L||Ve&&O&&J&&!Z&&!ae||xe&&O&&J||!ge&&J||!Te)return-1}return 0}function W3(_,L,O){for(var Z=-1,J=_.criteria,ae=L.criteria,ge=J.length,xe=O.length;++Z<ge;){var Te=Jw(J[Z],ae[Z]);if(Te){if(Z>=xe)return Te;var Ve=O[Z];return Te*(Ve=="desc"?-1:1)}}return _.index-L.index}function jw(_,L,O,Z){for(var J=-1,ae=_.length,ge=O.length,xe=-1,Te=L.length,Ve=Pr(ae-ge,0),He=De(Te+Ve),Ue=!Z;++xe<Te;)He[xe]=L[xe];for(;++J<ge;)(Ue||J<ae)&&(He[O[J]]=_[J]);for(;Ve--;)He[xe++]=_[J++];return He}function eS(_,L,O,Z){for(var J=-1,ae=_.length,ge=-1,xe=O.length,Te=-1,Ve=L.length,He=Pr(ae-xe,0),Ue=De(He+Ve),et=!Z;++J<He;)Ue[J]=_[J];for(var st=J;++Te<Ve;)Ue[st+Te]=L[Te];for(;++ge<xe;)(et||J<ae)&&(Ue[st+O[ge]]=_[J++]);return Ue}function ua(_,L){var O=-1,Z=_.length;for(L||(L=De(Z));++O<Z;)L[O]=_[O];return L}function Sn(_,L,O,Z){var J=!O;O||(O={});for(var ae=-1,ge=L.length;++ae<ge;){var xe=L[ae],Te=Z?Z(O[xe],_[xe],xe,O,_):r;Te===r&&(Te=_[xe]),J?$n(O,xe,Te):ml(O,xe,Te)}return O}function $3(_,L){return Sn(_,Gv(_),L)}function Y3(_,L){return Sn(_,vS(_),L)}function Cf(_,L){return function(O,Z){var J=wt(O)?J5:g3,ae=L?L():{};return J(O,_,ct(Z,2),ae)}}function jo(_){return Pt(function(L,O){var Z=-1,J=O.length,ae=J>1?O[J-1]:r,ge=J>2?O[2]:r;for(ae=_.length>3&&typeof ae=="function"?(J--,ae):r,ge&&ra(O[0],O[1],ge)&&(ae=J<3?r:ae,J=1),L=er(L);++Z<J;){var xe=O[Z];xe&&_(L,xe,Z,ae)}return L})}function tS(_,L){return function(O,Z){if(O==null)return O;if(!fa(O))return _(O,Z);for(var J=O.length,ae=L?J:-1,ge=er(O);(L?ae--:++ae<J)&&Z(ge[ae],ae,ge)!==!1;);return O}}function rS(_){return function(L,O,Z){for(var J=-1,ae=er(L),ge=Z(L),xe=ge.length;xe--;){var Te=ge[_?xe:++J];if(O(ae[Te],Te,ae)===!1)break}return L}}function Z3(_,L,O){var Z=L&g,J=Sl(_);function ae(){var ge=this&&this!==Hr&&this instanceof ae?J:_;return ge.apply(Z?O:this,arguments)}return ae}function aS(_){return function(L){L=Yt(L);var O=$o(L)?tn(L):r,Z=O?O[0]:L.charAt(0),J=O?Ii(O,1).join(""):L.slice(1);return Z[_]()+J}}function es(_){return function(L){return lv(tb(eb(L).replace(z5,"")),_,"")}}function Sl(_){return function(){var L=arguments;switch(L.length){case 0:return new _;case 1:return new _(L[0]);case 2:return new _(L[0],L[1]);case 3:return new _(L[0],L[1],L[2]);case 4:return new _(L[0],L[1],L[2],L[3]);case 5:return new _(L[0],L[1],L[2],L[3],L[4]);case 6:return new _(L[0],L[1],L[2],L[3],L[4],L[5]);case 7:return new _(L[0],L[1],L[2],L[3],L[4],L[5],L[6])}var O=Jo(_.prototype),Z=_.apply(O,L);return gr(Z)?Z:O}}function K3(_,L,O){var Z=Sl(_);function J(){for(var ae=arguments.length,ge=De(ae),xe=ae,Te=ts(J);xe--;)ge[xe]=arguments[xe];var Ve=ae<3&&ge[0]!==Te&&ge[ae-1]!==Te?[]:Ai(ge,Te);if(ae-=Ve.length,ae<O)return lS(_,L,Mf,J.placeholder,r,ge,Ve,r,r,O-ae);var He=this&&this!==Hr&&this instanceof J?Z:_;return Sa(He,this,ge)}return J}function nS(_){return function(L,O,Z){var J=er(L);if(!fa(L)){var ae=ct(O,3);L=Nr(L),O=function(xe){return ae(J[xe],xe,J)}}var ge=_(L,O,Z);return ge>-1?J[ae?L[ge]:ge]:r}}function iS(_){return Zn(function(L){var O=L.length,Z=O,J=za.prototype.thru;for(_&&L.reverse();Z--;){var ae=L[Z];if(typeof ae!="function")throw new Na(o);if(J&&!ge&&Df(ae)=="wrapper")var ge=new za([],!0)}for(Z=ge?Z:O;++Z<O;){ae=L[Z];var xe=Df(ae),Te=xe=="wrapper"?qv(ae):r;Te&&$v(Te[0])&&Te[1]==(S|x|w|T)&&!Te[4].length&&Te[9]==1?ge=ge[Df(Te[0])].apply(ge,Te[3]):ge=ae.length==1&&$v(ae)?ge[xe]():ge.thru(ae)}return function(){var Ve=arguments,He=Ve[0];if(ge&&Ve.length==1&&wt(He))return ge.plant(He).value();for(var Ue=0,et=O?L[Ue].apply(this,Ve):He;++Ue<O;)et=L[Ue].call(this,et);return et}})}function Mf(_,L,O,Z,J,ae,ge,xe,Te,Ve){var He=L&S,Ue=L&g,et=L&p,st=L&(x|A),vt=L&C,Mt=et?r:Sl(_);function dt(){for(var Rt=arguments.length,Vt=De(Rt),Ca=Rt;Ca--;)Vt[Ca]=arguments[Ca];if(st)var aa=ts(dt),Ma=sz(Vt,aa);if(Z&&(Vt=jw(Vt,Z,J,st)),ae&&(Vt=eS(Vt,ae,ge,st)),Rt-=Ma,st&&Rt<Ve){var xr=Ai(Vt,aa);return lS(_,L,Mf,dt.placeholder,O,Vt,xr,xe,Te,Ve-Rt)}var nn=Ue?O:this,Jn=et?nn[_]:_;return Rt=Vt.length,xe?Vt=gV(Vt,xe):vt&&Rt>1&&Vt.reverse(),He&&Te<Rt&&(Vt.length=Te),this&&this!==Hr&&this instanceof dt&&(Jn=Mt||Sl(Jn)),Jn.apply(nn,Vt)}return dt}function oS(_,L){return function(O,Z){return b3(O,_,L(Z),{})}}function Lf(_,L){return function(O,Z){var J;if(O===r&&Z===r)return L;if(O!==r&&(J=O),Z!==r){if(J===r)return Z;typeof O=="string"||typeof Z=="string"?(O=Aa(O),Z=Aa(Z)):(O=Ww(O),Z=Ww(Z)),J=_(O,Z)}return J}}function zv(_){return Zn(function(L){return L=vr(L,ba(ct())),Pt(function(O){var Z=this;return _(L,function(J){return Sa(J,Z,O)})})})}function If(_,L){L=L===r?" ":Aa(L);var O=L.length;if(O<2)return O?Dv(L,_):L;var Z=Dv(L,gf(_/Yo(L)));return $o(L)?Ii(tn(Z),0,_).join(""):Z.slice(0,_)}function X3(_,L,O,Z){var J=L&g,ae=Sl(_);function ge(){for(var xe=-1,Te=arguments.length,Ve=-1,He=Z.length,Ue=De(He+Te),et=this&&this!==Hr&&this instanceof ge?ae:_;++Ve<He;)Ue[Ve]=Z[Ve];for(;Te--;)Ue[Ve++]=arguments[++xe];return Sa(et,J?O:this,Ue)}return ge}function sS(_){return function(L,O,Z){return Z&&typeof Z!="number"&&ra(L,O,Z)&&(O=Z=r),L=Qn(L),O===r?(O=L,L=0):O=Qn(O),Z=Z===r?L<O?1:-1:Qn(Z),O3(L,O,Z,_)}}function Pf(_){return function(L,O){return typeof L=="string"&&typeof O=="string"||(L=qa(L),O=qa(O)),_(L,O)}}function lS(_,L,O,Z,J,ae,ge,xe,Te,Ve){var He=L&x,Ue=He?ge:r,et=He?r:ge,st=He?ae:r,vt=He?r:ae;L|=He?w:b,L&=~(He?b:w),L&y||(L&=-4);var Mt=[_,L,J,st,Ue,vt,et,xe,Te,Ve],dt=O.apply(r,Mt);return $v(_)&&xS(dt,Mt),dt.placeholder=Z,wS(dt,_,L)}function Vv(_){var L=Ir[_];return function(O,Z){if(O=qa(O),Z=Z==null?0:Kr(At(Z),292),Z&&ww(O)){var J=(Yt(O)+"e").split("e"),ae=L(J[0]+"e"+(+J[1]+Z));return J=(Yt(ae)+"e").split("e"),+(J[0]+"e"+(+J[1]-Z))}return L(O)}}var Q3=Xo&&1/nf(new Xo([,-0]))[1]==V?function(_){return new Xo(_)}:sd;function uS(_){return function(L){var O=Xr(L);return O==pe?gv(L):O==oe?dz(L):oz(L,_(L))}}function Yn(_,L,O,Z,J,ae,ge,xe){var Te=L&p;if(!Te&&typeof _!="function")throw new Na(o);var Ve=Z?Z.length:0;if(Ve||(L&=-97,Z=J=r),ge=ge===r?ge:Pr(At(ge),0),xe=xe===r?xe:At(xe),Ve-=J?J.length:0,L&b){var He=Z,Ue=J;Z=J=r}var et=Te?r:qv(_),st=[_,L,O,Z,J,He,Ue,ae,ge,xe];if(et&&hV(st,et),_=st[0],L=st[1],O=st[2],Z=st[3],J=st[4],xe=st[9]=st[9]===r?Te?0:_.length:Pr(st[9]-Ve,0),!xe&&L&(x|A)&&(L&=-25),!L||L==g)var vt=Z3(_,L,O);else L==x||L==A?vt=K3(_,L,xe):(L==w||L==(g|w))&&!J.length?vt=X3(_,L,O,Z):vt=Mf.apply(r,st);var Mt=et?Uw:xS;return wS(Mt(vt,st),_,L)}function fS(_,L,O,Z){return _===r||an(_,Ko[O])&&!Zt.call(Z,O)?L:_}function cS(_,L,O,Z,J,ae){return gr(_)&&gr(L)&&(ae.set(L,_),bf(_,L,r,cS,ae),ae.delete(L)),_}function J3(_){return Tl(_)?r:_}function hS(_,L,O,Z,J,ae){var ge=O&d,xe=_.length,Te=L.length;if(xe!=Te&&!(ge&&Te>xe))return!1;var Ve=ae.get(_),He=ae.get(L);if(Ve&&He)return Ve==L&&He==_;var Ue=-1,et=!0,st=O&m?new co:r;for(ae.set(_,L),ae.set(L,_);++Ue<xe;){var vt=_[Ue],Mt=L[Ue];if(Z)var dt=ge?Z(Mt,vt,Ue,L,_,ae):Z(vt,Mt,Ue,_,L,ae);if(dt!==r){if(dt)continue;et=!1;break}if(st){if(!uv(L,function(Rt,Vt){if(!cl(st,Vt)&&(vt===Rt||J(vt,Rt,O,Z,ae)))return st.push(Vt)})){et=!1;break}}else if(!(vt===Mt||J(vt,Mt,O,Z,ae))){et=!1;break}}return ae.delete(_),ae.delete(L),et}function j3(_,L,O,Z,J,ae,ge){switch(O){case Le:if(_.byteLength!=L.byteLength||_.byteOffset!=L.byteOffset)return!1;_=_.buffer,L=L.buffer;case Ce:return!(_.byteLength!=L.byteLength||!ae(new cf(_),new cf(L)));case Q:case j:case ye:return an(+_,+L);case le:return _.name==L.name&&_.message==L.message;case fe:case ve:return _==L+"";case pe:var xe=gv;case oe:var Te=Z&d;if(xe||(xe=nf),_.size!=L.size&&!Te)return!1;var Ve=ge.get(_);if(Ve)return Ve==L;Z|=m,ge.set(_,L);var He=hS(xe(_),xe(L),Z,J,ae,ge);return ge.delete(_),He;case Me:if(pl)return pl.call(_)==pl.call(L)}return!1}function eV(_,L,O,Z,J,ae){var ge=O&d,xe=Fv(_),Te=xe.length,Ve=Fv(L),He=Ve.length;if(Te!=He&&!ge)return!1;for(var Ue=Te;Ue--;){var et=xe[Ue];if(!(ge?et in L:Zt.call(L,et)))return!1}var st=ae.get(_),vt=ae.get(L);if(st&&vt)return st==L&&vt==_;var Mt=!0;ae.set(_,L),ae.set(L,_);for(var dt=ge;++Ue<Te;){et=xe[Ue];var Rt=_[et],Vt=L[et];if(Z)var Ca=ge?Z(Vt,Rt,et,L,_,ae):Z(Rt,Vt,et,_,L,ae);if(!(Ca===r?Rt===Vt||J(Rt,Vt,O,Z,ae):Ca)){Mt=!1;break}dt||(dt=et=="constructor")}if(Mt&&!dt){var aa=_.constructor,Ma=L.constructor;aa!=Ma&&"constructor"in _&&"constructor"in L&&!(typeof aa=="function"&&aa instanceof aa&&typeof Ma=="function"&&Ma instanceof Ma)&&(Mt=!1)}return ae.delete(_),ae.delete(L),Mt}function Zn(_){return Zv(yS(_,r,MS),_+"")}function Fv(_){return Rw(_,Nr,Gv)}function Hv(_){return Rw(_,ca,vS)}var qv=mf?function(_){return mf.get(_)}:sd;function Df(_){for(var L=_.name+"",O=Qo[L],Z=Zt.call(Qo,L)?O.length:0;Z--;){var J=O[Z],ae=J.func;if(ae==null||ae==_)return J.name}return L}function ts(_){var L=Zt.call(te,"placeholder")?te:_;return L.placeholder}function ct(){var _=te.iteratee||id;return _=_===id?Ow:_,arguments.length?_(arguments[0],arguments[1]):_}function Rf(_,L){var O=_.__data__;return lV(L)?O[typeof L=="string"?"string":"hash"]:O.map}function Uv(_){for(var L=Nr(_),O=L.length;O--;){var Z=L[O],J=_[Z];L[O]=[Z,J,pS(J)]}return L}function go(_,L){var O=cz(_,L);return kw(O)?O:r}function tV(_){var L=Zt.call(_,uo),O=_[uo];try{_[uo]=r;var Z=!0}catch{}var J=uf.call(_);return Z&&(L?_[uo]=O:delete _[uo]),J}var Gv=mv?function(_){return _==null?[]:(_=er(_),Si(mv(_),function(L){return _w.call(_,L)}))}:ld,vS=mv?function(_){for(var L=[];_;)bi(L,Gv(_)),_=hf(_);return L}:ld,Xr=ta;(yv&&Xr(new yv(new ArrayBuffer(1)))!=Le||vl&&Xr(new vl)!=pe||_v&&Xr(_v.resolve())!=$||Xo&&Xr(new Xo)!=oe||dl&&Xr(new dl)!=ie)&&(Xr=function(_){var L=ta(_),O=L==G?_.constructor:r,Z=O?po(O):"";if(Z)switch(Z){case Nz:return Le;case zz:return pe;case Vz:return $;case Fz:return oe;case Hz:return ie}return L});function rV(_,L,O){for(var Z=-1,J=O.length;++Z<J;){var ae=O[Z],ge=ae.size;switch(ae.type){case"drop":_+=ge;break;case"dropRight":L-=ge;break;case"take":L=Kr(L,_+ge);break;case"takeRight":_=Pr(_,L-ge);break}}return{start:_,end:L}}function aV(_){var L=_.match(zt);return L?L[1].split(cr):[]}function dS(_,L,O){L=Li(L,_);for(var Z=-1,J=L.length,ae=!1;++Z<J;){var ge=bn(L[Z]);if(!(ae=_!=null&&O(_,ge)))break;_=_[ge]}return ae||++Z!=J?ae:(J=_==null?0:_.length,!!J&&Vf(J)&&Kn(ge,J)&&(wt(_)||mo(_)))}function nV(_){var L=_.length,O=new _.constructor(L);return L&&typeof _[0]=="string"&&Zt.call(_,"index")&&(O.index=_.index,O.input=_.input),O}function gS(_){return typeof _.constructor=="function"&&!bl(_)?Jo(hf(_)):{}}function iV(_,L,O){var Z=_.constructor;switch(L){case Ce:return Nv(_);case Q:case j:return new Z(+_);case Le:return q3(_,O);case Pe:case Ie:case Fe:case Ne:case Ze:case Xe:case Ye:case mt:case Lt:return Qw(_,O);case pe:return new Z;case ye:case ve:return new Z(_);case fe:return U3(_);case oe:return new Z;case Me:return G3(_)}}function oV(_,L){var O=L.length;if(!O)return _;var Z=O-1;return L[Z]=(O>1?"& ":"")+L[Z],L=L.join(O>2?", ":" "),_.replace(Ct,`{
/* [wrapped with `+L+`] */
`)}function sV(_){return wt(_)||mo(_)||!!(xw&&_&&_[xw])}function Kn(_,L){var O=typeof _;return L=L??F,!!L&&(O=="number"||O!="symbol"&&xi.test(_))&&_>-1&&_%1==0&&_<L}function ra(_,L,O){if(!gr(O))return!1;var Z=typeof L;return(Z=="number"?fa(O)&&Kn(L,O.length):Z=="string"&&L in O)?an(O[L],_):!1}function Wv(_,L){if(wt(_))return!1;var O=typeof _;return O=="number"||O=="symbol"||O=="boolean"||_==null||Ta(_)?!0:ft.test(_)||!ut.test(_)||L!=null&&_ in er(L)}function lV(_){var L=typeof _;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?_!=="__proto__":_===null}function $v(_){var L=Df(_),O=te[L];if(typeof O!="function"||!(L in Bt.prototype))return!1;if(_===O)return!0;var Z=qv(O);return!!Z&&_===Z[0]}function uV(_){return!!pw&&pw in _}var fV=sf?Xn:ud;function bl(_){var L=_&&_.constructor,O=typeof L=="function"&&L.prototype||Ko;return _===O}function pS(_){return _===_&&!gr(_)}function mS(_,L){return function(O){return O==null?!1:O[_]===L&&(L!==r||_ in er(O))}}function cV(_){var L=Nf(_,function(Z){return O.size===f&&O.clear(),Z}),O=L.cache;return L}function hV(_,L){var O=_[1],Z=L[1],J=O|Z,ae=J<(g|p|S),ge=Z==S&&O==x||Z==S&&O==T&&_[7].length<=L[8]||Z==(S|T)&&L[7].length<=L[8]&&O==x;if(!(ae||ge))return _;Z&g&&(_[2]=L[2],J|=O&g?0:y);var xe=L[3];if(xe){var Te=_[3];_[3]=Te?jw(Te,xe,L[4]):xe,_[4]=Te?Ai(_[3],u):L[4]}return xe=L[5],xe&&(Te=_[5],_[5]=Te?eS(Te,xe,L[6]):xe,_[6]=Te?Ai(_[5],u):L[6]),xe=L[7],xe&&(_[7]=xe),Z&S&&(_[8]=_[8]==null?L[8]:Kr(_[8],L[8])),_[9]==null&&(_[9]=L[9]),_[0]=L[0],_[1]=J,_}function vV(_){var L=[];if(_!=null)for(var O in er(_))L.push(O);return L}function dV(_){return uf.call(_)}function yS(_,L,O){return L=Pr(L===r?_.length-1:L,0),function(){for(var Z=arguments,J=-1,ae=Pr(Z.length-L,0),ge=De(ae);++J<ae;)ge[J]=Z[L+J];J=-1;for(var xe=De(L+1);++J<L;)xe[J]=Z[J];return xe[L]=O(ge),Sa(_,this,xe)}}function _S(_,L){return L.length<2?_:vo(_,Fa(L,0,-1))}function gV(_,L){for(var O=_.length,Z=Kr(L.length,O),J=ua(_);Z--;){var ae=L[Z];_[Z]=Kn(ae,O)?J[ae]:r}return _}function Yv(_,L){if(!(L==="constructor"&&typeof _[L]=="function")&&L!="__proto__")return _[L]}var xS=SS(Uw),Al=Pz||function(_,L){return Hr.setTimeout(_,L)},Zv=SS(z3);function wS(_,L,O){var Z=L+"";return Zv(_,oV(Z,pV(aV(Z),O)))}function SS(_){var L=0,O=0;return function(){var Z=kz(),J=D-(Z-O);if(O=Z,J>0){if(++L>=P)return arguments[0]}else L=0;return _.apply(r,arguments)}}function Ef(_,L){var O=-1,Z=_.length,J=Z-1;for(L=L===r?Z:L;++O<L;){var ae=Pv(O,J),ge=_[ae];_[ae]=_[O],_[O]=ge}return _.length=L,_}var bS=cV(function(_){var L=[];return _.charCodeAt(0)===46&&L.push(""),_.replace(Ut,function(O,Z,J,ae){L.push(J?ae.replace(Ot,"$1"):Z||O)}),L});function bn(_){if(typeof _=="string"||Ta(_))return _;var L=_+"";return L=="0"&&1/_==-V?"-0":L}function po(_){if(_!=null){try{return lf.call(_)}catch{}try{return _+""}catch{}}return""}function pV(_,L){return Ba(H,function(O){var Z="_."+O[0];L&O[1]&&!rf(_,Z)&&_.push(Z)}),_.sort()}function AS(_){if(_ instanceof Bt)return _.clone();var L=new za(_.__wrapped__,_.__chain__);return L.__actions__=ua(_.__actions__),L.__index__=_.__index__,L.__values__=_.__values__,L}function mV(_,L,O){(O?ra(_,L,O):L===r)?L=1:L=Pr(At(L),0);var Z=_==null?0:_.length;if(!Z||L<1)return[];for(var J=0,ae=0,ge=De(gf(Z/L));J<Z;)ge[ae++]=Fa(_,J,J+=L);return ge}function yV(_){for(var L=-1,O=_==null?0:_.length,Z=0,J=[];++L<O;){var ae=_[L];ae&&(J[Z++]=ae)}return J}function _V(){var _=arguments.length;if(!_)return[];for(var L=De(_-1),O=arguments[0],Z=_;Z--;)L[Z-1]=arguments[Z];return bi(wt(O)?ua(O):[O],qr(L,1))}var xV=Pt(function(_,L){return _r(_)?yl(_,qr(L,1,_r,!0)):[]}),wV=Pt(function(_,L){var O=Ha(L);return _r(O)&&(O=r),_r(_)?yl(_,qr(L,1,_r,!0),ct(O,2)):[]}),SV=Pt(function(_,L){var O=Ha(L);return _r(O)&&(O=r),_r(_)?yl(_,qr(L,1,_r,!0),r,O):[]});function bV(_,L,O){var Z=_==null?0:_.length;return Z?(L=O||L===r?1:At(L),Fa(_,L<0?0:L,Z)):[]}function AV(_,L,O){var Z=_==null?0:_.length;return Z?(L=O||L===r?1:At(L),L=Z-L,Fa(_,0,L<0?0:L)):[]}function TV(_,L){return _&&_.length?Tf(_,ct(L,3),!0,!0):[]}function CV(_,L){return _&&_.length?Tf(_,ct(L,3),!0):[]}function MV(_,L,O,Z){var J=_==null?0:_.length;return J?(O&&typeof O!="number"&&ra(_,L,O)&&(O=0,Z=J),_3(_,L,O,Z)):[]}function TS(_,L,O){var Z=_==null?0:_.length;if(!Z)return-1;var J=O==null?0:At(O);return J<0&&(J=Pr(Z+J,0)),af(_,ct(L,3),J)}function CS(_,L,O){var Z=_==null?0:_.length;if(!Z)return-1;var J=Z-1;return O!==r&&(J=At(O),J=O<0?Pr(Z+J,0):Kr(J,Z-1)),af(_,ct(L,3),J,!0)}function MS(_){var L=_==null?0:_.length;return L?qr(_,1):[]}function LV(_){var L=_==null?0:_.length;return L?qr(_,V):[]}function IV(_,L){var O=_==null?0:_.length;return O?(L=L===r?1:At(L),qr(_,L)):[]}function PV(_){for(var L=-1,O=_==null?0:_.length,Z={};++L<O;){var J=_[L];Z[J[0]]=J[1]}return Z}function LS(_){return _&&_.length?_[0]:r}function DV(_,L,O){var Z=_==null?0:_.length;if(!Z)return-1;var J=O==null?0:At(O);return J<0&&(J=Pr(Z+J,0)),Wo(_,L,J)}function RV(_){var L=_==null?0:_.length;return L?Fa(_,0,-1):[]}var EV=Pt(function(_){var L=vr(_,Ov);return L.length&&L[0]===_[0]?Tv(L):[]}),kV=Pt(function(_){var L=Ha(_),O=vr(_,Ov);return L===Ha(O)?L=r:O.pop(),O.length&&O[0]===_[0]?Tv(O,ct(L,2)):[]}),OV=Pt(function(_){var L=Ha(_),O=vr(_,Ov);return L=typeof L=="function"?L:r,L&&O.pop(),O.length&&O[0]===_[0]?Tv(O,r,L):[]});function BV(_,L){return _==null?"":Rz.call(_,L)}function Ha(_){var L=_==null?0:_.length;return L?_[L-1]:r}function NV(_,L,O){var Z=_==null?0:_.length;if(!Z)return-1;var J=Z;return O!==r&&(J=At(O),J=J<0?Pr(Z+J,0):Kr(J,Z-1)),L===L?pz(_,L,J):af(_,lw,J,!0)}function zV(_,L){return _&&_.length?Vw(_,At(L)):r}var VV=Pt(IS);function IS(_,L){return _&&_.length&&L&&L.length?Iv(_,L):_}function FV(_,L,O){return _&&_.length&&L&&L.length?Iv(_,L,ct(O,2)):_}function HV(_,L,O){return _&&_.length&&L&&L.length?Iv(_,L,r,O):_}var qV=Zn(function(_,L){var O=_==null?0:_.length,Z=wv(_,L);return qw(_,vr(L,function(J){return Kn(J,O)?+J:J}).sort(Jw)),Z});function UV(_,L){var O=[];if(!(_&&_.length))return O;var Z=-1,J=[],ae=_.length;for(L=ct(L,3);++Z<ae;){var ge=_[Z];L(ge,Z,_)&&(O.push(ge),J.push(Z))}return qw(_,J),O}function Kv(_){return _==null?_:Bz.call(_)}function GV(_,L,O){var Z=_==null?0:_.length;return Z?(O&&typeof O!="number"&&ra(_,L,O)?(L=0,O=Z):(L=L==null?0:At(L),O=O===r?Z:At(O)),Fa(_,L,O)):[]}function WV(_,L){return Af(_,L)}function $V(_,L,O){return Rv(_,L,ct(O,2))}function YV(_,L){var O=_==null?0:_.length;if(O){var Z=Af(_,L);if(Z<O&&an(_[Z],L))return Z}return-1}function ZV(_,L){return Af(_,L,!0)}function KV(_,L,O){return Rv(_,L,ct(O,2),!0)}function XV(_,L){var O=_==null?0:_.length;if(O){var Z=Af(_,L,!0)-1;if(an(_[Z],L))return Z}return-1}function QV(_){return _&&_.length?Gw(_):[]}function JV(_,L){return _&&_.length?Gw(_,ct(L,2)):[]}function jV(_){var L=_==null?0:_.length;return L?Fa(_,1,L):[]}function eF(_,L,O){return _&&_.length?(L=O||L===r?1:At(L),Fa(_,0,L<0?0:L)):[]}function tF(_,L,O){var Z=_==null?0:_.length;return Z?(L=O||L===r?1:At(L),L=Z-L,Fa(_,L<0?0:L,Z)):[]}function rF(_,L){return _&&_.length?Tf(_,ct(L,3),!1,!0):[]}function aF(_,L){return _&&_.length?Tf(_,ct(L,3)):[]}var nF=Pt(function(_){return Mi(qr(_,1,_r,!0))}),iF=Pt(function(_){var L=Ha(_);return _r(L)&&(L=r),Mi(qr(_,1,_r,!0),ct(L,2))}),oF=Pt(function(_){var L=Ha(_);return L=typeof L=="function"?L:r,Mi(qr(_,1,_r,!0),r,L)});function sF(_){return _&&_.length?Mi(_):[]}function lF(_,L){return _&&_.length?Mi(_,ct(L,2)):[]}function uF(_,L){return L=typeof L=="function"?L:r,_&&_.length?Mi(_,r,L):[]}function Xv(_){if(!(_&&_.length))return[];var L=0;return _=Si(_,function(O){if(_r(O))return L=Pr(O.length,L),!0}),vv(L,function(O){return vr(_,fv(O))})}function PS(_,L){if(!(_&&_.length))return[];var O=Xv(_);return L==null?O:vr(O,function(Z){return Sa(L,r,Z)})}var fF=Pt(function(_,L){return _r(_)?yl(_,L):[]}),cF=Pt(function(_){return kv(Si(_,_r))}),hF=Pt(function(_){var L=Ha(_);return _r(L)&&(L=r),kv(Si(_,_r),ct(L,2))}),vF=Pt(function(_){var L=Ha(_);return L=typeof L=="function"?L:r,kv(Si(_,_r),r,L)}),dF=Pt(Xv);function gF(_,L){return Zw(_||[],L||[],ml)}function pF(_,L){return Zw(_||[],L||[],wl)}var mF=Pt(function(_){var L=_.length,O=L>1?_[L-1]:r;return O=typeof O=="function"?(_.pop(),O):r,PS(_,O)});function DS(_){var L=te(_);return L.__chain__=!0,L}function yF(_,L){return L(_),_}function kf(_,L){return L(_)}var _F=Zn(function(_){var L=_.length,O=L?_[0]:0,Z=this.__wrapped__,J=function(ae){return wv(ae,_)};return L>1||this.__actions__.length||!(Z instanceof Bt)||!Kn(O)?this.thru(J):(Z=Z.slice(O,+O+(L?1:0)),Z.__actions__.push({func:kf,args:[J],thisArg:r}),new za(Z,this.__chain__).thru(function(ae){return L&&!ae.length&&ae.push(r),ae}))});function xF(){return DS(this)}function wF(){return new za(this.value(),this.__chain__)}function SF(){this.__values__===r&&(this.__values__=WS(this.value()));var _=this.__index__>=this.__values__.length,L=_?r:this.__values__[this.__index__++];return{done:_,value:L}}function bF(){return this}function AF(_){for(var L,O=this;O instanceof _f;){var Z=AS(O);Z.__index__=0,Z.__values__=r,L?J.__wrapped__=Z:L=Z;var J=Z;O=O.__wrapped__}return J.__wrapped__=_,L}function TF(){var _=this.__wrapped__;if(_ instanceof Bt){var L=_;return this.__actions__.length&&(L=new Bt(this)),L=L.reverse(),L.__actions__.push({func:kf,args:[Kv],thisArg:r}),new za(L,this.__chain__)}return this.thru(Kv)}function CF(){return Yw(this.__wrapped__,this.__actions__)}var MF=Cf(function(_,L,O){Zt.call(_,O)?++_[O]:$n(_,O,1)});function LF(_,L,O){var Z=wt(_)?ow:y3;return O&&ra(_,L,O)&&(L=r),Z(_,ct(L,3))}function IF(_,L){var O=wt(_)?Si:Pw;return O(_,ct(L,3))}var PF=nS(TS),DF=nS(CS);function RF(_,L){return qr(Of(_,L),1)}function EF(_,L){return qr(Of(_,L),V)}function kF(_,L,O){return O=O===r?1:At(O),qr(Of(_,L),O)}function RS(_,L){var O=wt(_)?Ba:Ci;return O(_,ct(L,3))}function ES(_,L){var O=wt(_)?j5:Iw;return O(_,ct(L,3))}var OF=Cf(function(_,L,O){Zt.call(_,O)?_[O].push(L):$n(_,O,[L])});function BF(_,L,O,Z){_=fa(_)?_:as(_),O=O&&!Z?At(O):0;var J=_.length;return O<0&&(O=Pr(J+O,0)),Ff(_)?O<=J&&_.indexOf(L,O)>-1:!!J&&Wo(_,L,O)>-1}var NF=Pt(function(_,L,O){var Z=-1,J=typeof L=="function",ae=fa(_)?De(_.length):[];return Ci(_,function(ge){ae[++Z]=J?Sa(L,ge,O):_l(ge,L,O)}),ae}),zF=Cf(function(_,L,O){$n(_,O,L)});function Of(_,L){var O=wt(_)?vr:Bw;return O(_,ct(L,3))}function VF(_,L,O,Z){return _==null?[]:(wt(L)||(L=L==null?[]:[L]),O=Z?r:O,wt(O)||(O=O==null?[]:[O]),Fw(_,L,O))}var FF=Cf(function(_,L,O){_[O?0:1].push(L)},function(){return[[],[]]});function HF(_,L,O){var Z=wt(_)?lv:fw,J=arguments.length<3;return Z(_,ct(L,4),O,J,Ci)}function qF(_,L,O){var Z=wt(_)?ez:fw,J=arguments.length<3;return Z(_,ct(L,4),O,J,Iw)}function UF(_,L){var O=wt(_)?Si:Pw;return O(_,zf(ct(L,3)))}function GF(_){var L=wt(_)?Tw:B3;return L(_)}function WF(_,L,O){(O?ra(_,L,O):L===r)?L=1:L=At(L);var Z=wt(_)?v3:N3;return Z(_,L)}function $F(_){var L=wt(_)?d3:V3;return L(_)}function YF(_){if(_==null)return 0;if(fa(_))return Ff(_)?Yo(_):_.length;var L=Xr(_);return L==pe||L==oe?_.size:Mv(_).length}function ZF(_,L,O){var Z=wt(_)?uv:F3;return O&&ra(_,L,O)&&(L=r),Z(_,ct(L,3))}var KF=Pt(function(_,L){if(_==null)return[];var O=L.length;return O>1&&ra(_,L[0],L[1])?L=[]:O>2&&ra(L[0],L[1],L[2])&&(L=[L[0]]),Fw(_,qr(L,1),[])}),Bf=Iz||function(){return Hr.Date.now()};function XF(_,L){if(typeof L!="function")throw new Na(o);return _=At(_),function(){if(--_<1)return L.apply(this,arguments)}}function kS(_,L,O){return L=O?r:L,L=_&&L==null?_.length:L,Yn(_,S,r,r,r,r,L)}function OS(_,L){var O;if(typeof L!="function")throw new Na(o);return _=At(_),function(){return--_>0&&(O=L.apply(this,arguments)),_<=1&&(L=r),O}}var Qv=Pt(function(_,L,O){var Z=g;if(O.length){var J=Ai(O,ts(Qv));Z|=w}return Yn(_,Z,L,O,J)}),BS=Pt(function(_,L,O){var Z=g|p;if(O.length){var J=Ai(O,ts(BS));Z|=w}return Yn(L,Z,_,O,J)});function NS(_,L,O){L=O?r:L;var Z=Yn(_,x,r,r,r,r,r,L);return Z.placeholder=NS.placeholder,Z}function zS(_,L,O){L=O?r:L;var Z=Yn(_,A,r,r,r,r,r,L);return Z.placeholder=zS.placeholder,Z}function VS(_,L,O){var Z,J,ae,ge,xe,Te,Ve=0,He=!1,Ue=!1,et=!0;if(typeof _!="function")throw new Na(o);L=qa(L)||0,gr(O)&&(He=!!O.leading,Ue="maxWait"in O,ae=Ue?Pr(qa(O.maxWait)||0,L):ae,et="trailing"in O?!!O.trailing:et);function st(xr){var nn=Z,Jn=J;return Z=J=r,Ve=xr,ge=_.apply(Jn,nn),ge}function vt(xr){return Ve=xr,xe=Al(Rt,L),He?st(xr):ge}function Mt(xr){var nn=xr-Te,Jn=xr-Ve,nb=L-nn;return Ue?Kr(nb,ae-Jn):nb}function dt(xr){var nn=xr-Te,Jn=xr-Ve;return Te===r||nn>=L||nn<0||Ue&&Jn>=ae}function Rt(){var xr=Bf();if(dt(xr))return Vt(xr);xe=Al(Rt,Mt(xr))}function Vt(xr){return xe=r,et&&Z?st(xr):(Z=J=r,ge)}function Ca(){xe!==r&&Kw(xe),Ve=0,Z=Te=J=xe=r}function aa(){return xe===r?ge:Vt(Bf())}function Ma(){var xr=Bf(),nn=dt(xr);if(Z=arguments,J=this,Te=xr,nn){if(xe===r)return vt(Te);if(Ue)return Kw(xe),xe=Al(Rt,L),st(Te)}return xe===r&&(xe=Al(Rt,L)),ge}return Ma.cancel=Ca,Ma.flush=aa,Ma}var QF=Pt(function(_,L){return Lw(_,1,L)}),JF=Pt(function(_,L,O){return Lw(_,qa(L)||0,O)});function jF(_){return Yn(_,C)}function Nf(_,L){if(typeof _!="function"||L!=null&&typeof L!="function")throw new Na(o);var O=function(){var Z=arguments,J=L?L.apply(this,Z):Z[0],ae=O.cache;if(ae.has(J))return ae.get(J);var ge=_.apply(this,Z);return O.cache=ae.set(J,ge)||ae,ge};return O.cache=new(Nf.Cache||Wn),O}Nf.Cache=Wn;function zf(_){if(typeof _!="function")throw new Na(o);return function(){var L=arguments;switch(L.length){case 0:return!_.call(this);case 1:return!_.call(this,L[0]);case 2:return!_.call(this,L[0],L[1]);case 3:return!_.call(this,L[0],L[1],L[2])}return!_.apply(this,L)}}function e4(_){return OS(2,_)}var t4=H3(function(_,L){L=L.length==1&&wt(L[0])?vr(L[0],ba(ct())):vr(qr(L,1),ba(ct()));var O=L.length;return Pt(function(Z){for(var J=-1,ae=Kr(Z.length,O);++J<ae;)Z[J]=L[J].call(this,Z[J]);return Sa(_,this,Z)})}),Jv=Pt(function(_,L){var O=Ai(L,ts(Jv));return Yn(_,w,r,L,O)}),FS=Pt(function(_,L){var O=Ai(L,ts(FS));return Yn(_,b,r,L,O)}),r4=Zn(function(_,L){return Yn(_,T,r,r,r,L)});function a4(_,L){if(typeof _!="function")throw new Na(o);return L=L===r?L:At(L),Pt(_,L)}function n4(_,L){if(typeof _!="function")throw new Na(o);return L=L==null?0:Pr(At(L),0),Pt(function(O){var Z=O[L],J=Ii(O,0,L);return Z&&bi(J,Z),Sa(_,this,J)})}function i4(_,L,O){var Z=!0,J=!0;if(typeof _!="function")throw new Na(o);return gr(O)&&(Z="leading"in O?!!O.leading:Z,J="trailing"in O?!!O.trailing:J),VS(_,L,{leading:Z,maxWait:L,trailing:J})}function o4(_){return kS(_,1)}function s4(_,L){return Jv(Bv(L),_)}function l4(){if(!arguments.length)return[];var _=arguments[0];return wt(_)?_:[_]}function u4(_){return Va(_,v)}function f4(_,L){return L=typeof L=="function"?L:r,Va(_,v,L)}function c4(_){return Va(_,h|v)}function h4(_,L){return L=typeof L=="function"?L:r,Va(_,h|v,L)}function v4(_,L){return L==null||Mw(_,L,Nr(L))}function an(_,L){return _===L||_!==_&&L!==L}var d4=Pf(Av),g4=Pf(function(_,L){return _>=L}),mo=Ew(function(){return arguments}())?Ew:function(_){return pr(_)&&Zt.call(_,"callee")&&!_w.call(_,"callee")},wt=De.isArray,p4=ew?ba(ew):A3;function fa(_){return _!=null&&Vf(_.length)&&!Xn(_)}function _r(_){return pr(_)&&fa(_)}function m4(_){return _===!0||_===!1||pr(_)&&ta(_)==Q}var Pi=Dz||ud,y4=tw?ba(tw):T3;function _4(_){return pr(_)&&_.nodeType===1&&!Tl(_)}function x4(_){if(_==null)return!0;if(fa(_)&&(wt(_)||typeof _=="string"||typeof _.splice=="function"||Pi(_)||rs(_)||mo(_)))return!_.length;var L=Xr(_);if(L==pe||L==oe)return!_.size;if(bl(_))return!Mv(_).length;for(var O in _)if(Zt.call(_,O))return!1;return!0}function w4(_,L){return xl(_,L)}function S4(_,L,O){O=typeof O=="function"?O:r;var Z=O?O(_,L):r;return Z===r?xl(_,L,r,O):!!Z}function jv(_){if(!pr(_))return!1;var L=ta(_);return L==le||L==se||typeof _.message=="string"&&typeof _.name=="string"&&!Tl(_)}function b4(_){return typeof _=="number"&&ww(_)}function Xn(_){if(!gr(_))return!1;var L=ta(_);return L==de||L==he||L==K||L==ee}function HS(_){return typeof _=="number"&&_==At(_)}function Vf(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=F}function gr(_){var L=typeof _;return _!=null&&(L=="object"||L=="function")}function pr(_){return _!=null&&typeof _=="object"}var qS=rw?ba(rw):M3;function A4(_,L){return _===L||Cv(_,L,Uv(L))}function T4(_,L,O){return O=typeof O=="function"?O:r,Cv(_,L,Uv(L),O)}function C4(_){return US(_)&&_!=+_}function M4(_){if(fV(_))throw new xt(i);return kw(_)}function L4(_){return _===null}function I4(_){return _==null}function US(_){return typeof _=="number"||pr(_)&&ta(_)==ye}function Tl(_){if(!pr(_)||ta(_)!=G)return!1;var L=hf(_);if(L===null)return!0;var O=Zt.call(L,"constructor")&&L.constructor;return typeof O=="function"&&O instanceof O&&lf.call(O)==Tz}var ed=aw?ba(aw):L3;function P4(_){return HS(_)&&_>=-F&&_<=F}var GS=nw?ba(nw):I3;function Ff(_){return typeof _=="string"||!wt(_)&&pr(_)&&ta(_)==ve}function Ta(_){return typeof _=="symbol"||pr(_)&&ta(_)==Me}var rs=iw?ba(iw):P3;function D4(_){return _===r}function R4(_){return pr(_)&&Xr(_)==ie}function E4(_){return pr(_)&&ta(_)==me}var k4=Pf(Lv),O4=Pf(function(_,L){return _<=L});function WS(_){if(!_)return[];if(fa(_))return Ff(_)?tn(_):ua(_);if(hl&&_[hl])return vz(_[hl]());var L=Xr(_),O=L==pe?gv:L==oe?nf:as;return O(_)}function Qn(_){if(!_)return _===0?_:0;if(_=qa(_),_===V||_===-V){var L=_<0?-1:1;return L*Y}return _===_?_:0}function At(_){var L=Qn(_),O=L%1;return L===L?O?L-O:L:0}function $S(_){return _?ho(At(_),0,E):0}function qa(_){if(typeof _=="number")return _;if(Ta(_))return q;if(gr(_)){var L=typeof _.valueOf=="function"?_.valueOf():_;_=gr(L)?L+"":L}if(typeof _!="string")return _===0?_:+_;_=cw(_);var O=ka.test(_);return O||_i.test(_)?X5(_.slice(2),O?2:8):xn.test(_)?q:+_}function YS(_){return Sn(_,ca(_))}function B4(_){return _?ho(At(_),-F,F):_===0?_:0}function Yt(_){return _==null?"":Aa(_)}var N4=jo(function(_,L){if(bl(L)||fa(L)){Sn(L,Nr(L),_);return}for(var O in L)Zt.call(L,O)&&ml(_,O,L[O])}),ZS=jo(function(_,L){Sn(L,ca(L),_)}),Hf=jo(function(_,L,O,Z){Sn(L,ca(L),_,Z)}),z4=jo(function(_,L,O,Z){Sn(L,Nr(L),_,Z)}),V4=Zn(wv);function F4(_,L){var O=Jo(_);return L==null?O:Cw(O,L)}var H4=Pt(function(_,L){_=er(_);var O=-1,Z=L.length,J=Z>2?L[2]:r;for(J&&ra(L[0],L[1],J)&&(Z=1);++O<Z;)for(var ae=L[O],ge=ca(ae),xe=-1,Te=ge.length;++xe<Te;){var Ve=ge[xe],He=_[Ve];(He===r||an(He,Ko[Ve])&&!Zt.call(_,Ve))&&(_[Ve]=ae[Ve])}return _}),q4=Pt(function(_){return _.push(r,cS),Sa(KS,r,_)});function U4(_,L){return sw(_,ct(L,3),wn)}function G4(_,L){return sw(_,ct(L,3),bv)}function W4(_,L){return _==null?_:Sv(_,ct(L,3),ca)}function $4(_,L){return _==null?_:Dw(_,ct(L,3),ca)}function Y4(_,L){return _&&wn(_,ct(L,3))}function Z4(_,L){return _&&bv(_,ct(L,3))}function K4(_){return _==null?[]:Sf(_,Nr(_))}function X4(_){return _==null?[]:Sf(_,ca(_))}function td(_,L,O){var Z=_==null?r:vo(_,L);return Z===r?O:Z}function Q4(_,L){return _!=null&&dS(_,L,x3)}function rd(_,L){return _!=null&&dS(_,L,w3)}var J4=oS(function(_,L,O){L!=null&&typeof L.toString!="function"&&(L=uf.call(L)),_[L]=O},nd(ha)),j4=oS(function(_,L,O){L!=null&&typeof L.toString!="function"&&(L=uf.call(L)),Zt.call(_,L)?_[L].push(O):_[L]=[O]},ct),eH=Pt(_l);function Nr(_){return fa(_)?Aw(_):Mv(_)}function ca(_){return fa(_)?Aw(_,!0):D3(_)}function tH(_,L){var O={};return L=ct(L,3),wn(_,function(Z,J,ae){$n(O,L(Z,J,ae),Z)}),O}function rH(_,L){var O={};return L=ct(L,3),wn(_,function(Z,J,ae){$n(O,J,L(Z,J,ae))}),O}var aH=jo(function(_,L,O){bf(_,L,O)}),KS=jo(function(_,L,O,Z){bf(_,L,O,Z)}),nH=Zn(function(_,L){var O={};if(_==null)return O;var Z=!1;L=vr(L,function(ae){return ae=Li(ae,_),Z||(Z=ae.length>1),ae}),Sn(_,Hv(_),O),Z&&(O=Va(O,h|c|v,J3));for(var J=L.length;J--;)Ev(O,L[J]);return O});function iH(_,L){return XS(_,zf(ct(L)))}var oH=Zn(function(_,L){return _==null?{}:E3(_,L)});function XS(_,L){if(_==null)return{};var O=vr(Hv(_),function(Z){return[Z]});return L=ct(L),Hw(_,O,function(Z,J){return L(Z,J[0])})}function sH(_,L,O){L=Li(L,_);var Z=-1,J=L.length;for(J||(J=1,_=r);++Z<J;){var ae=_==null?r:_[bn(L[Z])];ae===r&&(Z=J,ae=O),_=Xn(ae)?ae.call(_):ae}return _}function lH(_,L,O){return _==null?_:wl(_,L,O)}function uH(_,L,O,Z){return Z=typeof Z=="function"?Z:r,_==null?_:wl(_,L,O,Z)}var QS=uS(Nr),JS=uS(ca);function fH(_,L,O){var Z=wt(_),J=Z||Pi(_)||rs(_);if(L=ct(L,4),O==null){var ae=_&&_.constructor;J?O=Z?new ae:[]:gr(_)?O=Xn(ae)?Jo(hf(_)):{}:O={}}return(J?Ba:wn)(_,function(ge,xe,Te){return L(O,ge,xe,Te)}),O}function cH(_,L){return _==null?!0:Ev(_,L)}function hH(_,L,O){return _==null?_:$w(_,L,Bv(O))}function vH(_,L,O,Z){return Z=typeof Z=="function"?Z:r,_==null?_:$w(_,L,Bv(O),Z)}function as(_){return _==null?[]:dv(_,Nr(_))}function dH(_){return _==null?[]:dv(_,ca(_))}function gH(_,L,O){return O===r&&(O=L,L=r),O!==r&&(O=qa(O),O=O===O?O:0),L!==r&&(L=qa(L),L=L===L?L:0),ho(qa(_),L,O)}function pH(_,L,O){return L=Qn(L),O===r?(O=L,L=0):O=Qn(O),_=qa(_),S3(_,L,O)}function mH(_,L,O){if(O&&typeof O!="boolean"&&ra(_,L,O)&&(L=O=r),O===r&&(typeof L=="boolean"?(O=L,L=r):typeof _=="boolean"&&(O=_,_=r)),_===r&&L===r?(_=0,L=1):(_=Qn(_),L===r?(L=_,_=0):L=Qn(L)),_>L){var Z=_;_=L,L=Z}if(O||_%1||L%1){var J=Sw();return Kr(_+J*(L-_+K5("1e-"+((J+"").length-1))),L)}return Pv(_,L)}var yH=es(function(_,L,O){return L=L.toLowerCase(),_+(O?jS(L):L)});function jS(_){return ad(Yt(_).toLowerCase())}function eb(_){return _=Yt(_),_&&_.replace(Jh,lz).replace(V5,"")}function _H(_,L,O){_=Yt(_),L=Aa(L);var Z=_.length;O=O===r?Z:ho(At(O),0,Z);var J=O;return O-=L.length,O>=0&&_.slice(O,J)==L}function xH(_){return _=Yt(_),_&&ze.test(_)?_.replace(Ae,uz):_}function wH(_){return _=Yt(_),_&&bt.test(_)?_.replace(It,"\\$&"):_}var SH=es(function(_,L,O){return _+(O?"-":"")+L.toLowerCase()}),bH=es(function(_,L,O){return _+(O?" ":"")+L.toLowerCase()}),AH=aS("toLowerCase");function TH(_,L,O){_=Yt(_),L=At(L);var Z=L?Yo(_):0;if(!L||Z>=L)return _;var J=(L-Z)/2;return If(pf(J),O)+_+If(gf(J),O)}function CH(_,L,O){_=Yt(_),L=At(L);var Z=L?Yo(_):0;return L&&Z<L?_+If(L-Z,O):_}function MH(_,L,O){_=Yt(_),L=At(L);var Z=L?Yo(_):0;return L&&Z<L?If(L-Z,O)+_:_}function LH(_,L,O){return O||L==null?L=0:L&&(L=+L),Oz(Yt(_).replace(gt,""),L||0)}function IH(_,L,O){return(O?ra(_,L,O):L===r)?L=1:L=At(L),Dv(Yt(_),L)}function PH(){var _=arguments,L=Yt(_[0]);return _.length<3?L:L.replace(_[1],_[2])}var DH=es(function(_,L,O){return _+(O?"_":"")+L.toLowerCase()});function RH(_,L,O){return O&&typeof O!="number"&&ra(_,L,O)&&(L=O=r),O=O===r?E:O>>>0,O?(_=Yt(_),_&&(typeof L=="string"||L!=null&&!ed(L))&&(L=Aa(L),!L&&$o(_))?Ii(tn(_),0,O):_.split(L,O)):[]}var EH=es(function(_,L,O){return _+(O?" ":"")+ad(L)});function kH(_,L,O){return _=Yt(_),O=O==null?0:ho(At(O),0,_.length),L=Aa(L),_.slice(O,O+L.length)==L}function OH(_,L,O){var Z=te.templateSettings;O&&ra(_,L,O)&&(L=r),_=Yt(_),L=Hf({},L,Z,fS);var J=Hf({},L.imports,Z.imports,fS),ae=Nr(J),ge=dv(J,ae),xe,Te,Ve=0,He=L.interpolate||Go,Ue="__p += '",et=pv((L.escape||Go).source+"|"+He.source+"|"+(He===ot?lr:Go).source+"|"+(L.evaluate||Go).source+"|$","g"),st="//# sourceURL="+(Zt.call(L,"sourceURL")?(L.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++G5+"]")+`
`;_.replace(et,function(dt,Rt,Vt,Ca,aa,Ma){return Vt||(Vt=Ca),Ue+=_.slice(Ve,Ma).replace(Qu,fz),Rt&&(xe=!0,Ue+=`' +
__e(`+Rt+`) +
'`),aa&&(Te=!0,Ue+=`';
`+aa+`;
__p += '`),Vt&&(Ue+=`' +
((__t = (`+Vt+`)) == null ? '' : __t) +
'`),Ve=Ma+dt.length,dt}),Ue+=`';
`;var vt=Zt.call(L,"variable")&&L.variable;if(!vt)Ue=`with (obj) {
`+Ue+`
}
`;else if(Xt.test(vt))throw new xt(l);Ue=(Te?Ue.replace(Gt,""):Ue).replace(ce,"$1").replace(_e,"$1;"),Ue="function("+(vt||"obj")+`) {
`+(vt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(xe?", __e = _.escape":"")+(Te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var Mt=rb(function(){return $t(ae,st+"return "+Ue).apply(r,ge)});if(Mt.source=Ue,jv(Mt))throw Mt;return Mt}function BH(_){return Yt(_).toLowerCase()}function NH(_){return Yt(_).toUpperCase()}function zH(_,L,O){if(_=Yt(_),_&&(O||L===r))return cw(_);if(!_||!(L=Aa(L)))return _;var Z=tn(_),J=tn(L),ae=hw(Z,J),ge=vw(Z,J)+1;return Ii(Z,ae,ge).join("")}function VH(_,L,O){if(_=Yt(_),_&&(O||L===r))return _.slice(0,gw(_)+1);if(!_||!(L=Aa(L)))return _;var Z=tn(_),J=vw(Z,tn(L))+1;return Ii(Z,0,J).join("")}function FH(_,L,O){if(_=Yt(_),_&&(O||L===r))return _.replace(gt,"");if(!_||!(L=Aa(L)))return _;var Z=tn(_),J=hw(Z,tn(L));return Ii(Z,J).join("")}function HH(_,L){var O=M,Z=I;if(gr(L)){var J="separator"in L?L.separator:J;O="length"in L?At(L.length):O,Z="omission"in L?Aa(L.omission):Z}_=Yt(_);var ae=_.length;if($o(_)){var ge=tn(_);ae=ge.length}if(O>=ae)return _;var xe=O-Yo(Z);if(xe<1)return Z;var Te=ge?Ii(ge,0,xe).join(""):_.slice(0,xe);if(J===r)return Te+Z;if(ge&&(xe+=Te.length-xe),ed(J)){if(_.slice(xe).search(J)){var Ve,He=Te;for(J.global||(J=pv(J.source,Yt(wa.exec(J))+"g")),J.lastIndex=0;Ve=J.exec(He);)var Ue=Ve.index;Te=Te.slice(0,Ue===r?xe:Ue)}}else if(_.indexOf(Aa(J),xe)!=xe){var et=Te.lastIndexOf(J);et>-1&&(Te=Te.slice(0,et))}return Te+Z}function qH(_){return _=Yt(_),_&&Be.test(_)?_.replace(be,mz):_}var UH=es(function(_,L,O){return _+(O?" ":"")+L.toUpperCase()}),ad=aS("toUpperCase");function tb(_,L,O){return _=Yt(_),L=O?r:L,L===r?hz(_)?xz(_):az(_):_.match(L)||[]}var rb=Pt(function(_,L){try{return Sa(_,r,L)}catch(O){return jv(O)?O:new xt(O)}}),GH=Zn(function(_,L){return Ba(L,function(O){O=bn(O),$n(_,O,Qv(_[O],_))}),_});function WH(_){var L=_==null?0:_.length,O=ct();return _=L?vr(_,function(Z){if(typeof Z[1]!="function")throw new Na(o);return[O(Z[0]),Z[1]]}):[],Pt(function(Z){for(var J=-1;++J<L;){var ae=_[J];if(Sa(ae[0],this,Z))return Sa(ae[1],this,Z)}})}function $H(_){return m3(Va(_,h))}function nd(_){return function(){return _}}function YH(_,L){return _==null||_!==_?L:_}var ZH=iS(),KH=iS(!0);function ha(_){return _}function id(_){return Ow(typeof _=="function"?_:Va(_,h))}function XH(_){return Nw(Va(_,h))}function QH(_,L){return zw(_,Va(L,h))}var JH=Pt(function(_,L){return function(O){return _l(O,_,L)}}),jH=Pt(function(_,L){return function(O){return _l(_,O,L)}});function od(_,L,O){var Z=Nr(L),J=Sf(L,Z);O==null&&!(gr(L)&&(J.length||!Z.length))&&(O=L,L=_,_=this,J=Sf(L,Nr(L)));var ae=!(gr(O)&&"chain"in O)||!!O.chain,ge=Xn(_);return Ba(J,function(xe){var Te=L[xe];_[xe]=Te,ge&&(_.prototype[xe]=function(){var Ve=this.__chain__;if(ae||Ve){var He=_(this.__wrapped__),Ue=He.__actions__=ua(this.__actions__);return Ue.push({func:Te,args:arguments,thisArg:_}),He.__chain__=Ve,He}return Te.apply(_,bi([this.value()],arguments))})}),_}function eq(){return Hr._===this&&(Hr._=Cz),this}function sd(){}function tq(_){return _=At(_),Pt(function(L){return Vw(L,_)})}var rq=zv(vr),aq=zv(ow),nq=zv(uv);function ab(_){return Wv(_)?fv(bn(_)):k3(_)}function iq(_){return function(L){return _==null?r:vo(_,L)}}var oq=sS(),sq=sS(!0);function ld(){return[]}function ud(){return!1}function lq(){return{}}function uq(){return""}function fq(){return!0}function cq(_,L){if(_=At(_),_<1||_>F)return[];var O=E,Z=Kr(_,E);L=ct(L),_-=E;for(var J=vv(Z,L);++O<_;)L(O);return J}function hq(_){return wt(_)?vr(_,bn):Ta(_)?[_]:ua(bS(Yt(_)))}function vq(_){var L=++Az;return Yt(_)+L}var dq=Lf(function(_,L){return _+L},0),gq=Vv("ceil"),pq=Lf(function(_,L){return _/L},1),mq=Vv("floor");function yq(_){return _&&_.length?wf(_,ha,Av):r}function _q(_,L){return _&&_.length?wf(_,ct(L,2),Av):r}function xq(_){return uw(_,ha)}function wq(_,L){return uw(_,ct(L,2))}function Sq(_){return _&&_.length?wf(_,ha,Lv):r}function bq(_,L){return _&&_.length?wf(_,ct(L,2),Lv):r}var Aq=Lf(function(_,L){return _*L},1),Tq=Vv("round"),Cq=Lf(function(_,L){return _-L},0);function Mq(_){return _&&_.length?hv(_,ha):0}function Lq(_,L){return _&&_.length?hv(_,ct(L,2)):0}return te.after=XF,te.ary=kS,te.assign=N4,te.assignIn=ZS,te.assignInWith=Hf,te.assignWith=z4,te.at=V4,te.before=OS,te.bind=Qv,te.bindAll=GH,te.bindKey=BS,te.castArray=l4,te.chain=DS,te.chunk=mV,te.compact=yV,te.concat=_V,te.cond=WH,te.conforms=$H,te.constant=nd,te.countBy=MF,te.create=F4,te.curry=NS,te.curryRight=zS,te.debounce=VS,te.defaults=H4,te.defaultsDeep=q4,te.defer=QF,te.delay=JF,te.difference=xV,te.differenceBy=wV,te.differenceWith=SV,te.drop=bV,te.dropRight=AV,te.dropRightWhile=TV,te.dropWhile=CV,te.fill=MV,te.filter=IF,te.flatMap=RF,te.flatMapDeep=EF,te.flatMapDepth=kF,te.flatten=MS,te.flattenDeep=LV,te.flattenDepth=IV,te.flip=jF,te.flow=ZH,te.flowRight=KH,te.fromPairs=PV,te.functions=K4,te.functionsIn=X4,te.groupBy=OF,te.initial=RV,te.intersection=EV,te.intersectionBy=kV,te.intersectionWith=OV,te.invert=J4,te.invertBy=j4,te.invokeMap=NF,te.iteratee=id,te.keyBy=zF,te.keys=Nr,te.keysIn=ca,te.map=Of,te.mapKeys=tH,te.mapValues=rH,te.matches=XH,te.matchesProperty=QH,te.memoize=Nf,te.merge=aH,te.mergeWith=KS,te.method=JH,te.methodOf=jH,te.mixin=od,te.negate=zf,te.nthArg=tq,te.omit=nH,te.omitBy=iH,te.once=e4,te.orderBy=VF,te.over=rq,te.overArgs=t4,te.overEvery=aq,te.overSome=nq,te.partial=Jv,te.partialRight=FS,te.partition=FF,te.pick=oH,te.pickBy=XS,te.property=ab,te.propertyOf=iq,te.pull=VV,te.pullAll=IS,te.pullAllBy=FV,te.pullAllWith=HV,te.pullAt=qV,te.range=oq,te.rangeRight=sq,te.rearg=r4,te.reject=UF,te.remove=UV,te.rest=a4,te.reverse=Kv,te.sampleSize=WF,te.set=lH,te.setWith=uH,te.shuffle=$F,te.slice=GV,te.sortBy=KF,te.sortedUniq=QV,te.sortedUniqBy=JV,te.split=RH,te.spread=n4,te.tail=jV,te.take=eF,te.takeRight=tF,te.takeRightWhile=rF,te.takeWhile=aF,te.tap=yF,te.throttle=i4,te.thru=kf,te.toArray=WS,te.toPairs=QS,te.toPairsIn=JS,te.toPath=hq,te.toPlainObject=YS,te.transform=fH,te.unary=o4,te.union=nF,te.unionBy=iF,te.unionWith=oF,te.uniq=sF,te.uniqBy=lF,te.uniqWith=uF,te.unset=cH,te.unzip=Xv,te.unzipWith=PS,te.update=hH,te.updateWith=vH,te.values=as,te.valuesIn=dH,te.without=fF,te.words=tb,te.wrap=s4,te.xor=cF,te.xorBy=hF,te.xorWith=vF,te.zip=dF,te.zipObject=gF,te.zipObjectDeep=pF,te.zipWith=mF,te.entries=QS,te.entriesIn=JS,te.extend=ZS,te.extendWith=Hf,od(te,te),te.add=dq,te.attempt=rb,te.camelCase=yH,te.capitalize=jS,te.ceil=gq,te.clamp=gH,te.clone=u4,te.cloneDeep=c4,te.cloneDeepWith=h4,te.cloneWith=f4,te.conformsTo=v4,te.deburr=eb,te.defaultTo=YH,te.divide=pq,te.endsWith=_H,te.eq=an,te.escape=xH,te.escapeRegExp=wH,te.every=LF,te.find=PF,te.findIndex=TS,te.findKey=U4,te.findLast=DF,te.findLastIndex=CS,te.findLastKey=G4,te.floor=mq,te.forEach=RS,te.forEachRight=ES,te.forIn=W4,te.forInRight=$4,te.forOwn=Y4,te.forOwnRight=Z4,te.get=td,te.gt=d4,te.gte=g4,te.has=Q4,te.hasIn=rd,te.head=LS,te.identity=ha,te.includes=BF,te.indexOf=DV,te.inRange=pH,te.invoke=eH,te.isArguments=mo,te.isArray=wt,te.isArrayBuffer=p4,te.isArrayLike=fa,te.isArrayLikeObject=_r,te.isBoolean=m4,te.isBuffer=Pi,te.isDate=y4,te.isElement=_4,te.isEmpty=x4,te.isEqual=w4,te.isEqualWith=S4,te.isError=jv,te.isFinite=b4,te.isFunction=Xn,te.isInteger=HS,te.isLength=Vf,te.isMap=qS,te.isMatch=A4,te.isMatchWith=T4,te.isNaN=C4,te.isNative=M4,te.isNil=I4,te.isNull=L4,te.isNumber=US,te.isObject=gr,te.isObjectLike=pr,te.isPlainObject=Tl,te.isRegExp=ed,te.isSafeInteger=P4,te.isSet=GS,te.isString=Ff,te.isSymbol=Ta,te.isTypedArray=rs,te.isUndefined=D4,te.isWeakMap=R4,te.isWeakSet=E4,te.join=BV,te.kebabCase=SH,te.last=Ha,te.lastIndexOf=NV,te.lowerCase=bH,te.lowerFirst=AH,te.lt=k4,te.lte=O4,te.max=yq,te.maxBy=_q,te.mean=xq,te.meanBy=wq,te.min=Sq,te.minBy=bq,te.stubArray=ld,te.stubFalse=ud,te.stubObject=lq,te.stubString=uq,te.stubTrue=fq,te.multiply=Aq,te.nth=zV,te.noConflict=eq,te.noop=sd,te.now=Bf,te.pad=TH,te.padEnd=CH,te.padStart=MH,te.parseInt=LH,te.random=mH,te.reduce=HF,te.reduceRight=qF,te.repeat=IH,te.replace=PH,te.result=sH,te.round=Tq,te.runInContext=Se,te.sample=GF,te.size=YF,te.snakeCase=DH,te.some=ZF,te.sortedIndex=WV,te.sortedIndexBy=$V,te.sortedIndexOf=YV,te.sortedLastIndex=ZV,te.sortedLastIndexBy=KV,te.sortedLastIndexOf=XV,te.startCase=EH,te.startsWith=kH,te.subtract=Cq,te.sum=Mq,te.sumBy=Lq,te.template=OH,te.times=cq,te.toFinite=Qn,te.toInteger=At,te.toLength=$S,te.toLower=BH,te.toNumber=qa,te.toSafeInteger=B4,te.toString=Yt,te.toUpper=NH,te.trim=zH,te.trimEnd=VH,te.trimStart=FH,te.truncate=HH,te.unescape=qH,te.uniqueId=vq,te.upperCase=UH,te.upperFirst=ad,te.each=RS,te.eachRight=ES,te.first=LS,od(te,function(){var _={};return wn(te,function(L,O){Zt.call(te.prototype,O)||(_[O]=L)}),_}(),{chain:!1}),te.VERSION=n,Ba(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){te[_].placeholder=te}),Ba(["drop","take"],function(_,L){Bt.prototype[_]=function(O){O=O===r?1:Pr(At(O),0);var Z=this.__filtered__&&!L?new Bt(this):this.clone();return Z.__filtered__?Z.__takeCount__=Kr(O,Z.__takeCount__):Z.__views__.push({size:Kr(O,E),type:_+(Z.__dir__<0?"Right":"")}),Z},Bt.prototype[_+"Right"]=function(O){return this.reverse()[_](O).reverse()}}),Ba(["filter","map","takeWhile"],function(_,L){var O=L+1,Z=O==k||O==B;Bt.prototype[_]=function(J){var ae=this.clone();return ae.__iteratees__.push({iteratee:ct(J,3),type:O}),ae.__filtered__=ae.__filtered__||Z,ae}}),Ba(["head","last"],function(_,L){var O="take"+(L?"Right":"");Bt.prototype[_]=function(){return this[O](1).value()[0]}}),Ba(["initial","tail"],function(_,L){var O="drop"+(L?"":"Right");Bt.prototype[_]=function(){return this.__filtered__?new Bt(this):this[O](1)}}),Bt.prototype.compact=function(){return this.filter(ha)},Bt.prototype.find=function(_){return this.filter(_).head()},Bt.prototype.findLast=function(_){return this.reverse().find(_)},Bt.prototype.invokeMap=Pt(function(_,L){return typeof _=="function"?new Bt(this):this.map(function(O){return _l(O,_,L)})}),Bt.prototype.reject=function(_){return this.filter(zf(ct(_)))},Bt.prototype.slice=function(_,L){_=At(_);var O=this;return O.__filtered__&&(_>0||L<0)?new Bt(O):(_<0?O=O.takeRight(-_):_&&(O=O.drop(_)),L!==r&&(L=At(L),O=L<0?O.dropRight(-L):O.take(L-_)),O)},Bt.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Bt.prototype.toArray=function(){return this.take(E)},wn(Bt.prototype,function(_,L){var O=/^(?:filter|find|map|reject)|While$/.test(L),Z=/^(?:head|last)$/.test(L),J=te[Z?"take"+(L=="last"?"Right":""):L],ae=Z||/^find/.test(L);J&&(te.prototype[L]=function(){var ge=this.__wrapped__,xe=Z?[1]:arguments,Te=ge instanceof Bt,Ve=xe[0],He=Te||wt(ge),Ue=function(Rt){var Vt=J.apply(te,bi([Rt],xe));return Z&&et?Vt[0]:Vt};He&&O&&typeof Ve=="function"&&Ve.length!=1&&(Te=He=!1);var et=this.__chain__,st=!!this.__actions__.length,vt=ae&&!et,Mt=Te&&!st;if(!ae&&He){ge=Mt?ge:new Bt(this);var dt=_.apply(ge,xe);return dt.__actions__.push({func:kf,args:[Ue],thisArg:r}),new za(dt,et)}return vt&&Mt?_.apply(this,xe):(dt=this.thru(Ue),vt?Z?dt.value()[0]:dt.value():dt)})}),Ba(["pop","push","shift","sort","splice","unshift"],function(_){var L=of[_],O=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",Z=/^(?:pop|shift)$/.test(_);te.prototype[_]=function(){var J=arguments;if(Z&&!this.__chain__){var ae=this.value();return L.apply(wt(ae)?ae:[],J)}return this[O](function(ge){return L.apply(wt(ge)?ge:[],J)})}}),wn(Bt.prototype,function(_,L){var O=te[L];if(O){var Z=O.name+"";Zt.call(Qo,Z)||(Qo[Z]=[]),Qo[Z].push({name:L,func:O})}}),Qo[Mf(r,p).name]=[{name:"wrapper",func:r}],Bt.prototype.clone=qz,Bt.prototype.reverse=Uz,Bt.prototype.value=Gz,te.prototype.at=_F,te.prototype.chain=xF,te.prototype.commit=wF,te.prototype.next=SF,te.prototype.plant=AF,te.prototype.reverse=TF,te.prototype.toJSON=te.prototype.valueOf=te.prototype.value=CF,te.prototype.first=te.prototype.head,hl&&(te.prototype[hl]=bF),te},Zo=wz();lo?((lo.exports=Zo)._=Zo,iv._=Zo):Hr._=Zo}).call(Bq)})(Gc,Gc.exports);var ub=Gc.exports;const s1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const e in s1)Object.freeze(s1[e]);const kn=Object.freeze(s1),_E=Object.create(null);for(const e in kn)Object.hasOwn(kn,e)&&(_E[kn[e]]=e);const Er={to:{},get:{}};Er.get=function(e){const t=e.slice(0,3).toLowerCase();let r,n;switch(t){case"hsl":{r=Er.get.hsl(e),n="hsl";break}case"hwb":{r=Er.get.hwb(e),n="hwb";break}default:{r=Er.get.rgb(e),n="rgb";break}}return r?{model:n,value:r}:null};Er.get.rgb=function(e){if(!e)return null;const t=/^#([a-f\d]{3,4})$/i,r=/^#([a-f\d]{6})([a-f\d]{2})?$/i,n=/^rgba?\(\s*([+-]?(?:\d*\.)?\d+(?:e\d+)?)(?=[\s,])\s*(?:,\s*)?([+-]?(?:\d*\.)?\d+(?:e\d+)?)(?=[\s,])\s*(?:,\s*)?([+-]?(?:\d*\.)?\d+(?:e\d+)?)\s*(?:[\s,|/]\s*([+-]?(?:\d*\.)?\d+(?:e\d+)?)(%?)\s*)?\)$/i,a=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/i,i=/^(\w+)$/;let o=[0,0,0,1],l,s,f;if(l=e.match(r)){for(f=l[2],l=l[1],s=0;s<3;s++){const u=s*2;o[s]=Number.parseInt(l.slice(u,u+2),16)}f&&(o[3]=Number.parseInt(f,16)/255)}else if(l=e.match(t)){for(l=l[1],f=l[3],s=0;s<3;s++)o[s]=Number.parseInt(l[s]+l[s],16);f&&(o[3]=Number.parseInt(f+f,16)/255)}else if(l=e.match(n)){for(s=0;s<3;s++)o[s]=Number.parseFloat(l[s+1]);l[4]&&(o[3]=l[5]?Number.parseFloat(l[4])*.01:Number.parseFloat(l[4]))}else if(l=e.match(a)){for(s=0;s<3;s++)o[s]=Math.round(Number.parseFloat(l[s+1])*2.55);l[4]&&(o[3]=l[5]?Number.parseFloat(l[4])*.01:Number.parseFloat(l[4]))}else return(l=e.toLowerCase().match(i))?l[1]==="transparent"?[0,0,0,0]:Object.hasOwn(kn,l[1])?(o=kn[l[1]].slice(),o[3]=1,o):null:null;for(s=0;s<3;s++)o[s]=Ki(o[s],0,255);return o[3]=Ki(o[3],0,1),o};Er.get.hsl=function(e){if(!e)return null;const t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:e[+-]?\d+)?)\s*)?\)$/i,r=e.match(t);if(r){const n=Number.parseFloat(r[4]),a=(Number.parseFloat(r[1])%360+360)%360,i=Ki(Number.parseFloat(r[2]),0,100),o=Ki(Number.parseFloat(r[3]),0,100),l=Ki(Number.isNaN(n)?1:n,0,1);return[a,i,o,l]}return null};Er.get.hwb=function(e){if(!e)return null;const t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:e[+-]?\d+)?)\s*)?\)$/i,r=e.match(t);if(r){const n=Number.parseFloat(r[4]),a=(Number.parseFloat(r[1])%360+360)%360,i=Ki(Number.parseFloat(r[2]),0,100),o=Ki(Number.parseFloat(r[3]),0,100),l=Ki(Number.isNaN(n)?1:n,0,1);return[a,i,o,l]}return null};Er.to.hex=function(...e){return"#"+qf(e[0])+qf(e[1])+qf(e[2])+(e[3]<1?qf(Math.round(e[3]*255)):"")};Er.to.rgb=function(...e){return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Er.to.rgb.percent=function(...e){const t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"};Er.to.hsl=function(...e){return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Er.to.hwb=function(...e){let t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Er.to.keyword=function(...e){return _E[e.slice(0,3)]};function Ki(e,t,r){return Math.min(Math.max(t,e),r)}function qf(e){const t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}const xE={};for(const e of Object.keys(kn))xE[kn[e]]=e;const tt={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},ui=(6/29)**3;function ws(e){const t=e>.0031308?1.055*e**.4166666666666667-.055:e*12.92;return Math.min(Math.max(0,t),1)}function Ss(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}for(const e of Object.keys(tt)){if(!("channels"in tt[e]))throw new Error("missing channels property: "+e);if(!("labels"in tt[e]))throw new Error("missing channel labels property: "+e);if(tt[e].labels.length!==tt[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=tt[e];delete tt[e].channels,delete tt[e].labels,Object.defineProperty(tt[e],"channels",{value:t}),Object.defineProperty(tt[e],"labels",{value:r})}tt.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=i-a;let l,s;switch(i){case a:{l=0;break}case t:{l=(r-n)/o;break}case r:{l=2+(n-t)/o;break}case n:{l=4+(t-r)/o;break}}l=Math.min(l*60,360),l<0&&(l+=360);const f=(a+i)/2;return i===a?s=0:f<=.5?s=o/(i+a):s=o/(2-i-a),[l,s*100,f*100]};tt.rgb.hsv=function(e){let t,r,n,a,i;const o=e[0]/255,l=e[1]/255,s=e[2]/255,f=Math.max(o,l,s),u=f-Math.min(o,l,s),h=function(c){return(f-c)/6/u+1/2};if(u===0)a=0,i=0;else{switch(i=u/f,t=h(o),r=h(l),n=h(s),f){case o:{a=n-r;break}case l:{a=1/3+t-n;break}case s:{a=2/3+r-t;break}}a<0?a+=1:a>1&&(a-=1)}return[a*360,i*100,f*100]};tt.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const a=tt.rgb.hsl(e)[0],i=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[a,i*100,n*100]};tt.rgb.oklab=function(e){const t=Ss(e[0]/255),r=Ss(e[1]/255),n=Ss(e[2]/255),a=Math.cbrt(.4122214708*t+.5363325363*r+.0514459929*n),i=Math.cbrt(.2119034982*t+.6806995451*r+.1073969566*n),o=Math.cbrt(.0883024619*t+.2817188376*r+.6299787005*n),l=.2104542553*a+.793617785*i-.0040720468*o,s=1.9779984951*a-2.428592205*i+.4505937099*o,f=.0259040371*a+.7827717662*i-.808675766*o;return[l*100,s*100,f*100]};tt.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.min(1-t,1-r,1-n),i=(1-t-a)/(1-a)||0,o=(1-r-a)/(1-a)||0,l=(1-n-a)/(1-a)||0;return[i*100,o*100,l*100,a*100]};function $q(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}tt.rgb.keyword=function(e){const t=xE[e];if(t)return t;let r=Number.POSITIVE_INFINITY,n;for(const a of Object.keys(kn)){const i=kn[a],o=$q(e,i);o<r&&(r=o,n=a)}return n};tt.keyword.rgb=function(e){return[...kn[e]]};tt.rgb.xyz=function(e){const t=Ss(e[0]/255),r=Ss(e[1]/255),n=Ss(e[2]/255),a=t*.4124564+r*.3575761+n*.1804375,i=t*.2126729+r*.7151522+n*.072175,o=t*.0193339+r*.119192+n*.9503041;return[a*100,i*100,o*100]};tt.rgb.lab=function(e){const t=tt.rgb.xyz(e);let r=t[0],n=t[1],a=t[2];r/=95.047,n/=100,a/=108.883,r=r>ui?r**(1/3):7.787*r+16/116,n=n>ui?n**(1/3):7.787*n+16/116,a=a>ui?a**(1/3):7.787*a+16/116;const i=116*n-16,o=500*(r-n),l=200*(n-a);return[i,o,l]};tt.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let a,i;if(r===0)return i=n*255,[i,i,i];const o=n<.5?n*(1+r):n+r-n*r,l=2*n-o,s=[0,0,0];for(let f=0;f<3;f++)a=t+1/3*-(f-1),a<0&&a++,a>1&&a--,6*a<1?i=l+(o-l)*6*a:2*a<1?i=o:3*a<2?i=l+(o-l)*(2/3-a)*6:i=l,s[f]=i*255;return s};tt.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,a=r;const i=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,a*=i<=1?i:2-i;const o=(n+r)/2,l=n===0?2*a/(i+a):2*r/(n+r);return[t,l*100,o*100]};tt.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const a=Math.floor(t)%6,i=t-Math.floor(t),o=255*n*(1-r),l=255*n*(1-r*i),s=255*n*(1-r*(1-i));switch(n*=255,a){case 0:return[n,s,o];case 1:return[l,n,o];case 2:return[o,n,s];case 3:return[o,l,n];case 4:return[s,o,n];case 5:return[n,o,l]}};tt.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,a=Math.max(n,.01);let i,o;o=(2-r)*n;const l=(2-r)*a;return i=r*a,i/=l<=1?l:2-l,i=i||0,o/=2,[t,i*100,o*100]};tt.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const a=r+n;let i;a>1&&(r/=a,n/=a);const o=Math.floor(6*t),l=1-n;i=6*t-o,o&1&&(i=1-i);const s=r+i*(l-r);let f,u,h;switch(o){default:case 6:case 0:{f=l,u=s,h=r;break}case 1:{f=s,u=l,h=r;break}case 2:{f=r,u=l,h=s;break}case 3:{f=r,u=s,h=l;break}case 4:{f=s,u=r,h=l;break}case 5:{f=l,u=r,h=s;break}}return[f*255,u*255,h*255]};tt.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,a=e[3]/100,i=1-Math.min(1,t*(1-a)+a),o=1-Math.min(1,r*(1-a)+a),l=1-Math.min(1,n*(1-a)+a);return[i*255,o*255,l*255]};tt.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let a,i,o;return a=t*3.2404542+r*-1.5371385+n*-.4985314,i=t*-.969266+r*1.8760108+n*.041556,o=t*.0556434+r*-.2040259+n*1.0572252,a=ws(a),i=ws(i),o=ws(o),[a*255,i*255,o*255]};tt.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>ui?t**(1/3):7.787*t+16/116,r=r>ui?r**(1/3):7.787*r+16/116,n=n>ui?n**(1/3):7.787*n+16/116;const a=116*r-16,i=500*(t-r),o=200*(r-n);return[a,i,o]};tt.xyz.oklab=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,a=Math.cbrt(.8189330101*t+.3618667424*r-.1288597137*n),i=Math.cbrt(.0329845436*t+.9293118715*r+.0361456387*n),o=Math.cbrt(.0482003018*t+.2643662691*r+.633851707*n),l=.2104542553*a+.793617785*i-.0040720468*o,s=1.9779984951*a-2.428592205*i+.4505937099*o,f=.0259040371*a+.7827717662*i-.808675766*o;return[l*100,s*100,f*100]};tt.oklab.oklch=function(e){return tt.lab.lch(e)};tt.oklab.xyz=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,a=(.999999998*t+.396337792*r+.215803758*n)**3,i=(1.000000008*t-.105561342*r-.063854175*n)**3,o=(1.000000055*t-.089484182*r-1.291485538*n)**3,l=1.227013851*a-.55779998*i+.281256149*o,s=-.040580178*a+1.11225687*i-.071676679*o,f=-.076381285*a-.421481978*i+1.58616322*o;return[l*100,s*100,f*100]};tt.oklab.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,a=(t+.3963377774*r+.2158037573*n)**3,i=(t-.1055613458*r-.0638541728*n)**3,o=(t-.0894841775*r-1.291485548*n)**3,l=ws(4.0767416621*a-3.3077115913*i+.2309699292*o),s=ws(-1.2684380046*a+2.6097574011*i-.3413193965*o),f=ws(-.0041960863*a-.7034186147*i+1.707614701*o);return[l*255,s*255,f*255]};tt.oklch.oklab=function(e){return tt.lch.lab(e)};tt.lab.xyz=function(e){const t=e[0],r=e[1],n=e[2];let a,i,o;i=(t+16)/116,a=r/500+i,o=i-n/200;const l=i**3,s=a**3,f=o**3;return i=l>ui?l:(i-16/116)/7.787,a=s>ui?s:(a-16/116)/7.787,o=f>ui?f:(o-16/116)/7.787,a*=95.047,i*=100,o*=108.883,[a,i,o]};tt.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let a;a=Math.atan2(n,r)*360/2/Math.PI,a<0&&(a+=360);const o=Math.sqrt(r*r+n*n);return[t,o,a]};tt.lch.lab=function(e){const t=e[0],r=e[1],a=e[2]/360*2*Math.PI,i=r*Math.cos(a),o=r*Math.sin(a);return[t,i,o]};tt.rgb.ansi16=function(e,t=null){const[r,n,a]=e;let i=t===null?tt.rgb.hsv(e)[2]:t;if(i=Math.round(i/50),i===0)return 30;let o=30+(Math.round(a/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return i===2&&(o+=60),o};tt.hsv.ansi16=function(e){return tt.rgb.ansi16(tt.hsv.rgb(e),e[2])};tt.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];return t>>4===r>>4&&r>>4===n>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};tt.ansi16.rgb=function(e){e=e[0];let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(Math.trunc(e>50)+1)*.5,n=(t&1)*r*255,a=(t>>1&1)*r*255,i=(t>>2&1)*r*255;return[n,a,i]};tt.ansi256.rgb=function(e){if(e=e[0],e>=232){const i=(e-232)*10+8;return[i,i,i]}e-=16;let t;const r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,a=t%6/5*255;return[r,n,a]};tt.rgb.hex=function(e){const r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".slice(r.length)+r};tt.hex.rgb=function(e){const t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=[...r].map(l=>l+l).join(""));const n=Number.parseInt(r,16),a=n>>16&255,i=n>>8&255,o=n&255;return[a,i,o]};tt.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(Math.max(t,r),n),i=Math.min(Math.min(t,r),n),o=a-i;let l;const s=o<1?i/(1-o):0;return o<=0?l=0:a===t?l=(r-n)/o%6:a===r?l=2+(n-t)/o:l=4+(t-r)/o,l/=6,l%=1,[l*360,o*100,s*100]};tt.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let a=0;return n<1&&(a=(r-.5*n)/(1-n)),[e[0],n*100,a*100]};tt.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],n*100,a*100]};tt.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];const a=[0,0,0],i=t%1*6,o=i%1,l=1-o;let s=0;switch(Math.floor(i)){case 0:{a[0]=1,a[1]=o,a[2]=0;break}case 1:{a[0]=l,a[1]=1,a[2]=0;break}case 2:{a[0]=0,a[1]=1,a[2]=o;break}case 3:{a[0]=0,a[1]=l,a[2]=1;break}case 4:{a[0]=o,a[1]=0,a[2]=1;break}default:a[0]=1,a[1]=0,a[2]=l}return s=(1-r)*n,[(r*a[0]+s)*255,(r*a[1]+s)*255,(r*a[2]+s)*255]};tt.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);let a=0;return n>0&&(a=t/n),[e[0],a*100,n*100]};tt.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let a=0;return n>0&&n<.5?a=t/(2*n):n>=.5&&n<1&&(a=t/(2*(1-n))),[e[0],a*100,n*100]};tt.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};tt.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,a=n-t;let i=0;return a<1&&(i=(n-a)/(1-a)),[e[0],a*100,i*100]};tt.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};tt.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};tt.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};tt.gray.hsl=function(e){return[0,0,e[0]]};tt.gray.hsv=tt.gray.hsl;tt.gray.hwb=function(e){return[0,100,e[0]]};tt.gray.cmyk=function(e){return[0,0,0,e[0]]};tt.gray.lab=function(e){return[e[0],0,0]};tt.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(n.length)+n};tt.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};function Yq(){const e={},t=Object.keys(tt);for(let{length:r}=t,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function Zq(e){const t=Yq(),r=[e];for(t[e].distance=0;r.length>0;){const n=r.pop(),a=Object.keys(tt[n]);for(let{length:i}=a,o=0;o<i;o++){const l=a[o],s=t[l];s.distance===-1&&(s.distance=t[n].distance+1,s.parent=n,r.unshift(l))}}return t}function Kq(e,t){return function(r){return t(e(r))}}function Xq(e,t){const r=[t[e].parent,e];let n=tt[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)r.unshift(t[a].parent),n=Kq(tt[t[a].parent][a],n),a=t[a].parent;return n.conversion=r,n}function Qq(e){const t=Zq(e),r={},n=Object.keys(t);for(let{length:a}=n,i=0;i<a;i++){const o=n[i];t[o].parent!==null&&(r[o]=Xq(o,t))}return r}const Fr={},Jq=Object.keys(tt);function jq(e){const t=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function eU(e){const t=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const a=e(r);if(typeof a=="object")for(let{length:i}=a,o=0;o<i;o++)a[o]=Math.round(a[o]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}for(const e of Jq){Fr[e]={},Object.defineProperty(Fr[e],"channels",{value:tt[e].channels}),Object.defineProperty(Fr[e],"labels",{value:tt[e].labels});const t=Qq(e),r=Object.keys(t);for(const n of r){const a=t[n];Fr[e][n]=eU(a),Fr[e][n].raw=jq(a)}}const wE=["keyword","gray","hex"],l1={};for(const e of Object.keys(Fr))l1[[...Fr[e].labels].sort().join("")]=e;const Jl={};function Vr(e,t){if(!(this instanceof Vr))return new Vr(e,t);if(t&&t in wE&&(t=null),t&&!(t in Fr))throw new Error("Unknown model: "+t);let r,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Vr)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const a=Er.get(e);if(a===null)throw new Error("Unable to parse color from string: "+e);this.model=a.model,n=Fr[this.model].channels,this.color=a.value.slice(0,n),this.valpha=typeof a.value[n]=="number"?a.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=Fr[this.model].channels;const a=Array.prototype.slice.call(e,0,n);this.color=u1(a,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const i=a.sort().join("");if(!(i in l1))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=l1[i];const{labels:o}=Fr[this.model],l=[];for(r=0;r<o.length;r++)l.push(e[o[r]]);this.color=u1(l)}if(Jl[this.model])for(n=Fr[this.model].channels,r=0;r<n;r++){const a=Jl[this.model][r];a&&(this.color[r]=a(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Vr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Er.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const r=t.valpha===1?t.color:[...t.color,this.valpha];return Er.to[t.model](...r)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:[...t.color,this.valpha];return Er.to.rgb.percent(...r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=Fr[this.model],{labels:r}=Fr[this.model];for(let n=0;n<t;n++)e[r[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new Vr([...this.color.map(rU(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new Vr([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:mr("rgb",0,Dr(255)),green:mr("rgb",1,Dr(255)),blue:mr("rgb",2,Dr(255)),hue:mr(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:mr("hsl",1,Dr(100)),lightness:mr("hsl",2,Dr(100)),saturationv:mr("hsv",1,Dr(100)),value:mr("hsv",2,Dr(100)),chroma:mr("hcg",1,Dr(100)),gray:mr("hcg",2,Dr(100)),white:mr("hwb",1,Dr(100)),wblack:mr("hwb",2,Dr(100)),cyan:mr("cmyk",0,Dr(100)),magenta:mr("cmyk",1,Dr(100)),yellow:mr("cmyk",2,Dr(100)),black:mr("cmyk",3,Dr(100)),x:mr("xyz",0,Dr(95.047)),y:mr("xyz",1,Dr(100)),z:mr("xyz",2,Dr(108.833)),l:mr("lab",0,Dr(100)),a:mr("lab",1),b:mr("lab",2),keyword(e){return e!==void 0?new Vr(e):Fr[this.model].keyword(this.color)},hex(e){return e!==void 0?new Vr(e):Er.to.hex(...this.rgb().round().color)},hexa(e){if(e!==void 0)return new Vr(e);const t=this.rgb().round().color;let r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),Er.to.hex(...t)+r},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[r,n]of e.entries()){const a=n/255;t[r]=a<=.04045?a/12.92:((a+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return Vr.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const r=e.rgb(),n=this.rgb(),a=t===void 0?.5:t,i=2*a-1,o=r.alpha()-n.alpha(),l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,s=1-l;return Vr.rgb(l*r.red()+s*n.red(),l*r.green()+s*n.green(),l*r.blue()+s*n.blue(),r.alpha()*a+n.alpha()*(1-a))}};for(const e of Object.keys(Fr)){if(wE.includes(e))continue;const{channels:t}=Fr[e];Vr.prototype[e]=function(...r){return this.model===e?new Vr(this):r.length>0?new Vr(r,e):new Vr([...aU(Fr[this.model][e].raw(this.color)),this.valpha],e)},Vr[e]=function(...r){let n=r[0];return typeof n=="number"&&(n=u1(r,t)),new Vr(n,e)}}function tU(e,t){return Number(e.toFixed(t))}function rU(e){return function(t){return tU(t,e)}}function mr(e,t,r){e=Array.isArray(e)?e:[e];for(const n of e)(Jl[n]||(Jl[n]=[]))[t]=r;return e=e[0],function(n){let a;return n!==void 0?(r&&(n=r(n)),a=this[e](),a.color[t]=n,a):(a=this[e]().color[t],r&&(a=r(a)),a)}}function Dr(e){return function(t){return Math.max(0,Math.min(e,t))}}function aU(e){return Array.isArray(e)?e:[e]}function u1(e,t){for(let r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}function Xa(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xa=function(t){return typeof t}:Xa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ht(e,t,r){return t&&fb(e.prototype,t),r&&fb(e,r),e}function Jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nu(e,t)}function Yr(e){return Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yr(e)}function nu(e,t){return nu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},nu(e,t)}function SE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Lc(e,t,r){return SE()?Lc=Reflect.construct:Lc=function(a,i,o){var l=[null];l.push.apply(l,i);var s=Function.bind.apply(a,l),f=new s;return o&&nu(f,o.prototype),f},Lc.apply(null,arguments)}function nU(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function f1(e){var t=typeof Map=="function"?new Map:void 0;return f1=function(n){if(n===null||!nU(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Lc(n,arguments,Yr(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),nu(a,n)},f1(e)}function Wa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bE(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:Wa(e)}function nr(e){var t=SE();return function(){var r=Yr(e),n;if(t){var a=Yr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bE(this,n)}}function iU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Yr(e),e!==null););return e}function _a(e,t,r){return typeof Reflect<"u"&&Reflect.get?_a=Reflect.get:_a=function(a,i,o){var l=iU(a,i);if(l){var s=Object.getOwnPropertyDescriptor(l,i);return s.get?s.get.call(o):s.value}},_a(e,t,r||e)}function yu(e,t){return AE(e)||sU(e,t)||f_(e,t)||TE()}function Ml(e){return AE(e)||oU(e)||f_(e)||TE()}function AE(e){if(Array.isArray(e))return e}function oU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function f_(e,t){if(e){if(typeof e=="string")return cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cb(e,t)}}function cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rr(e){if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(e=f_(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,a=!0,i=!1,o;return{s:function(){n=e[Symbol.iterator]()},n:function(){var l=n.next();return a=l.done,l},e:function(l){i=!0,o=l},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}}}var Cr={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Oe={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},Ic="tag:yaml.org,2002:",qi={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function hb(e){for(var t=[0],r=e.indexOf(`
`);r!==-1;)r+=1,t.push(r),r=e.indexOf(`
`,r);return t}function CE(e){var t,r;return typeof e=="string"?(t=hb(e),r=e):(Array.isArray(e)&&(e=e[0]),e&&e.context&&(e.lineStarts||(e.lineStarts=hb(e.context.src)),t=e.lineStarts,r=e.context.src)),{lineStarts:t,src:r}}function c1(e,t){if(typeof e!="number"||e<0)return null;var r=CE(t),n=r.lineStarts,a=r.src;if(!n||!a||e>a.length)return null;for(var i=0;i<n.length;++i){var o=n[i];if(e<o)return{line:i,col:e-n[i-1]+1};if(e===o)return{line:i+1,col:1}}var l=n.length;return{line:l,col:e-n[l-1]+1}}function lU(e,t){var r=CE(t),n=r.lineStarts,a=r.src;if(!n||!(e>=1)||e>n.length)return null;for(var i=n[e-1],o=n[e];o&&o>i&&a[o-1]===`
`;)--o;return a.slice(i,o)}function uU(e,t){var r=e.start,n=e.end,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:80,i=lU(r.line,t);if(!i)return null;var o=r.col;if(i.length>a)if(o<=a-10)i=i.substr(0,a-1)+"…";else{var l=Math.round(a/2);i.length>o+l&&(i=i.substr(0,o+l-1)+"…"),o-=i.length-a,i="…"+i.substr(1-a)}var s=1,f="";n&&(n.line===r.line&&o+(n.col-r.col)<=a+1?s=n.col-r.col:(s=Math.min(i.length+1,a)-o,f="…"));var u=o>1?" ".repeat(o-1):"",h="^".repeat(s);return"".concat(i,`
`).concat(u).concat(h).concat(f)}var dr=function(){Ht(e,null,[{key:"copy",value:function(r){return new e(r.start,r.end)}}]);function e(t,r){qt(this,e),this.start=t,this.end=r||t}return Ht(e,[{key:"isEmpty",value:function(){return typeof this.start!="number"||!this.end||this.end<=this.start}},{key:"setOrigRange",value:function(r,n){var a=this.start,i=this.end;if(r.length===0||i<=r[0])return this.origStart=a,this.origEnd=i,n;for(var o=n;o<r.length&&!(r[o]>a);)++o;this.origStart=a+o;for(var l=o;o<r.length&&!(r[o]>=i);)++o;return this.origEnd=i+o,l}}]),e}(),je=function(){Ht(e,null,[{key:"addStringTerminator",value:function(r,n,a){if(a[a.length-1]===`
`)return a;var i=e.endOfWhiteSpace(r,n);return i>=r.length||r[i]===`
`?a+`
`:a}},{key:"atDocumentBoundary",value:function(r,n,a){var i=r[n];if(!i)return!0;var o=r[n-1];if(o&&o!==`
`)return!1;if(a){if(i!==a)return!1}else if(i!==Cr.DIRECTIVES_END&&i!==Cr.DOCUMENT_END)return!1;var l=r[n+1],s=r[n+2];if(l!==i||s!==i)return!1;var f=r[n+3];return!f||f===`
`||f==="	"||f===" "}},{key:"endOfIdentifier",value:function(r,n){for(var a=r[n],i=a==="<",o=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];a&&o.indexOf(a)===-1;)a=r[n+=1];return i&&a===">"&&(n+=1),n}},{key:"endOfIndent",value:function(r,n){for(var a=r[n];a===" ";)a=r[n+=1];return n}},{key:"endOfLine",value:function(r,n){for(var a=r[n];a&&a!==`
`;)a=r[n+=1];return n}},{key:"endOfWhiteSpace",value:function(r,n){for(var a=r[n];a==="	"||a===" ";)a=r[n+=1];return n}},{key:"startOfLine",value:function(r,n){var a=r[n-1];if(a===`
`)return n;for(;a&&a!==`
`;)a=r[n-=1];return n+1}},{key:"endOfBlockIndent",value:function(r,n,a){var i=e.endOfIndent(r,a);if(i>a+n)return i;var o=e.endOfWhiteSpace(r,i),l=r[o];return!l||l===`
`?o:null}},{key:"atBlank",value:function(r,n,a){var i=r[n];return i===`
`||i==="	"||i===" "||a&&!i}},{key:"nextNodeIsIndented",value:function(r,n,a){return!r||n<0?!1:n>0?!0:a&&r==="-"}},{key:"normalizeOffset",value:function(r,n){var a=r[n];return a?a!==`
`&&r[n-1]===`
`?n-1:e.endOfWhiteSpace(r,n):n}},{key:"foldNewline",value:function(r,n,a){for(var i=0,o=!1,l="",s=r[n+1];s===" "||s==="	"||s===`
`;){switch(s){case`
`:i=0,n+=1,l+=`
`;break;case"	":i<=a&&(o=!0),n=e.endOfWhiteSpace(r,n+2)-1;break;case" ":i+=1,n+=1;break}s=r[n+1]}return l||(l=" "),s&&i<=a&&(o=!0),{fold:l,offset:n,error:o}}}]);function e(t,r,n){qt(this,e),Object.defineProperty(this,"context",{value:n||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=r||[],this.type=t,this.value=null}return Ht(e,[{key:"getPropValue",value:function(r,n,a){if(!this.context)return null;var i=this.context.src,o=this.props[r];return o&&i[o.start]===n?i.slice(o.start+(a?1:0),o.end):null}},{key:"commentHasRequiredWhitespace",value:function(r){var n=this.context.src;if(this.header&&r===this.header.end||!this.valueRange)return!1;var a=this.valueRange.end;return r!==a||e.atBlank(n,a-1)}},{key:"parseComment",value:function(r){var n=this.context.src;if(n[r]===Cr.COMMENT){var a=e.endOfLine(n,r+1),i=new dr(r,a);return this.props.push(i),a}return r}},{key:"setOrigRanges",value:function(r,n){return this.range&&(n=this.range.setOrigRange(r,n)),this.valueRange&&this.valueRange.setOrigRange(r,n),this.props.forEach(function(a){return a.setOrigRange(r,n)}),n}},{key:"toString",value:function(){var r=this.context.src,n=this.range,a=this.value;if(a!=null)return a;var i=r.slice(n.start,n.end);return e.addStringTerminator(r,n.end,i)}},{key:"anchor",get:function(){for(var r=0;r<this.props.length;++r){var n=this.getPropValue(r,Cr.ANCHOR,!0);if(n!=null)return n}return null}},{key:"comment",get:function(){for(var r=[],n=0;n<this.props.length;++n){var a=this.getPropValue(n,Cr.COMMENT,!0);a!=null&&r.push(a)}return r.length>0?r.join(`
`):null}},{key:"hasComment",get:function(){if(this.context){for(var r=this.context.src,n=0;n<this.props.length;++n)if(r[this.props[n].start]===Cr.COMMENT)return!0}return!1}},{key:"hasProps",get:function(){if(this.context){for(var r=this.context.src,n=0;n<this.props.length;++n)if(r[this.props[n].start]!==Cr.COMMENT)return!0}return!1}},{key:"includesTrailingLines",get:function(){return!1}},{key:"jsonLike",get:function(){var r=[Oe.FLOW_MAP,Oe.FLOW_SEQ,Oe.QUOTE_DOUBLE,Oe.QUOTE_SINGLE];return r.indexOf(this.type)!==-1}},{key:"rangeAsLinePos",get:function(){if(!(!this.range||!this.context)){var r=c1(this.range.start,this.context.root);if(r){var n=c1(this.range.end,this.context.root);return{start:r,end:n}}}}},{key:"rawValue",get:function(){if(!this.valueRange||!this.context)return null;var r=this.valueRange,n=r.start,a=r.end;return this.context.src.slice(n,a)}},{key:"tag",get:function(){for(var r=0;r<this.props.length;++r){var n=this.getPropValue(r,Cr.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};var a=n.match(/^(.*!)([^!]*)$/),i=yu(a,3);i[0];var o=i[1],l=i[2];return{handle:o,suffix:l}}}return null}},{key:"valueRangeContainsNewline",get:function(){if(!this.valueRange||!this.context)return!1;for(var r=this.valueRange,n=r.start,a=r.end,i=this.context.src,o=n;o<a;++o)if(i[o]===`
`)return!0;return!1}}]),e}(),Ps=function(e){ar(r,e);var t=nr(r);function r(n,a,i){var o;if(qt(this,r),!i||!(a instanceof je))throw new Error("Invalid arguments for new ".concat(n));return o=t.call(this),o.name=n,o.message=i,o.source=a,o}return Ht(r,[{key:"makePretty",value:function(){if(this.source){this.nodeType=this.source.type;var a=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new dr(this.offset,this.offset+1);var i=a&&c1(this.offset,a);if(i){var o={line:i.line,col:i.col+1};this.linePos={start:i,end:o}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){var l=this.linePos.start,s=l.line,f=l.col;this.message+=" at line ".concat(s,", column ").concat(f);var u=a&&uU(this.linePos,a);u&&(this.message+=`:

`.concat(u,`
`))}delete this.source}}}]),r}(f1(Error)),iu=function(e){ar(r,e);var t=nr(r);function r(n,a){return qt(this,r),t.call(this,"YAMLReferenceError",n,a)}return r}(Ps),St=function(e){ar(r,e);var t=nr(r);function r(n,a){return qt(this,r),t.call(this,"YAMLSemanticError",n,a)}return r}(Ps),jr=function(e){ar(r,e);var t=nr(r);function r(n,a){return qt(this,r),t.call(this,"YAMLSyntaxError",n,a)}return r}(Ps),Gs=function(e){ar(r,e);var t=nr(r);function r(n,a){return qt(this,r),t.call(this,"YAMLWarning",n,a)}return r}(Ps),ME=function(e){ar(r,e);var t=nr(r);function r(){return qt(this,r),t.apply(this,arguments)}return Ht(r,[{key:"parseBlockValue",value:function(a){for(var i=this.context,o=i.indent,l=i.inFlow,s=i.src,f=a,u=a,h=s[f];h===`
`&&!je.atDocumentBoundary(s,f+1);h=s[f]){var c=je.endOfBlockIndent(s,o,f+1);if(c===null||s[c]==="#")break;s[c]===`
`?f=c:(u=r.endOfLine(s,c,l),f=u)}return this.valueRange.isEmpty()&&(this.valueRange.start=a),this.valueRange.end=u,u}},{key:"parse",value:function(a,i){this.context=a;var o=a.inFlow,l=a.src,s=i,f=l[s];return f&&f!=="#"&&f!==`
`&&(s=r.endOfLine(l,i,o)),this.valueRange=new dr(i,s),s=je.endOfWhiteSpace(l,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}},{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;for(var a=this.valueRange,i=a.start,o=a.end,l=this.context.src,s=l[o-1];i<o&&(s===`
`||s==="	"||s===" ");)s=l[--o-1];for(var f="",u=i;u<o;++u){var h=l[u];if(h===`
`){var c=je.foldNewline(l,u,-1),v=c.fold,d=c.offset;f+=v,u=d}else if(h===" "||h==="	"){for(var m=u,g=l[u+1];u<o&&(g===" "||g==="	");)u+=1,g=l[u+1];g!==`
`&&(f+=u>m?l.slice(m,u+1):h)}else f+=h}var p=l[i];switch(p){case"	":{var y="Plain value cannot start with a tab character",x=[new St(this,y)];return{errors:x,str:f}}case"@":case"`":{var A="Plain value cannot start with reserved character ".concat(p),w=[new St(this,A)];return{errors:w,str:f}}default:return f}}}],[{key:"endOfLine",value:function(a,i,o){for(var l=a[i],s=i;l&&l!==`
`&&!(o&&(l==="["||l==="]"||l==="{"||l==="}"||l===","));){var f=a[s+1];if(l===":"&&(!f||f===`
`||f==="	"||f===" "||o&&f===",")||(l===" "||l==="	")&&f==="#")break;s+=1,l=f}return s}}]),r}(je),ou=function(e){ar(r,e);var t=nr(r);function r(){return qt(this,r),t.call(this,Oe.BLANK_LINE)}return Ht(r,[{key:"parse",value:function(a,i){return this.context=a,this.range=new dr(i,i+1),i+1}},{key:"includesTrailingLines",get:function(){return!0}}]),r}(je),c_=function(e){ar(r,e);var t=nr(r);function r(n,a){var i;return qt(this,r),i=t.call(this,n,a),i.node=null,i}return Ht(r,[{key:"parse",value:function(a,i){this.context=a;var o=a.parseNode,l=a.src,s=a.atLineStart,f=a.lineStart;!s&&this.type===Oe.SEQ_ITEM&&(this.error=new St(this,"Sequence items must not have preceding content on the same line"));for(var u=s?i-f:a.indent,h=je.endOfWhiteSpace(l,i+1),c=l[h],v=c==="#",d=[],m=null;c===`
`||c==="#";){if(c==="#"){var g=je.endOfLine(l,h+1);d.push(new dr(h,g)),h=g}else{s=!0,f=h+1;var p=je.endOfWhiteSpace(l,f);l[p]===`
`&&d.length===0&&(m=new ou,f=m.parse({src:l},f)),h=je.endOfIndent(l,f)}c=l[h]}if(je.nextNodeIsIndented(c,h-(f+u),this.type!==Oe.SEQ_ITEM)?this.node=o({atLineStart:s,inCollection:!1,indent:u,lineStart:f,parent:this},h):c&&f>i+1&&(h=f-1),this.node){if(m){var y=a.parent.items||a.parent.contents;y&&y.push(m)}d.length&&Array.prototype.push.apply(this.props,d),h=this.node.range.end}else if(v){var x=d[0];this.props.push(x),h=x.end}else h=je.endOfLine(l,i+1);var A=this.node?this.node.valueRange.end:h;return this.valueRange=new dr(i,A),h}},{key:"setOrigRanges",value:function(a,i){return i=_a(Yr(r.prototype),"setOrigRanges",this).call(this,a,i),this.node?this.node.setOrigRanges(a,i):i}},{key:"toString",value:function(){var a=this.context.src,i=this.node,o=this.range,l=this.value;if(l!=null)return l;var s=i?a.slice(o.start,i.range.start)+String(i):a.slice(o.start,o.end);return je.addStringTerminator(a,o.end,s)}},{key:"includesTrailingLines",get:function(){return!!this.node&&this.node.includesTrailingLines}}]),r}(je),jl=function(e){ar(r,e);var t=nr(r);function r(){return qt(this,r),t.call(this,Oe.COMMENT)}return Ht(r,[{key:"parse",value:function(a,i){this.context=a;var o=this.parseComment(i);return this.range=new dr(i,o),o}}]),r}(je);function h1(e){for(var t=e;t instanceof c_;)t=t.node;if(!(t instanceof LE))return null;for(var r=t.items.length,n=-1,a=r-1;a>=0;--a){var i=t.items[a];if(i.type===Oe.COMMENT){var o=i.context,l=o.indent,s=o.lineStart;if(l>0&&i.range.start>=s+l)break;n=a}else if(i.type===Oe.BLANK_LINE)n=a;else break}if(n===-1)return null;for(var f=t.items.splice(n,r-n),u=f[0].range.start;t.range.end=u,t.valueRange&&t.valueRange.end>u&&(t.valueRange.end=u),t!==e;)t=t.context.parent;return f}var LE=function(e){ar(r,e);var t=nr(r);Ht(r,null,[{key:"nextContentHasIndent",value:function(a,i,o){var l=je.endOfLine(a,i)+1;i=je.endOfWhiteSpace(a,l);var s=a[i];return s?i>=l+o?!0:s!=="#"&&s!==`
`?!1:r.nextContentHasIndent(a,i,o):!1}}]);function r(n){var a;qt(this,r),a=t.call(this,n.type===Oe.SEQ_ITEM?Oe.SEQ:Oe.MAP);for(var i=n.props.length-1;i>=0;--i)if(n.props[i].start<n.context.lineStart){a.props=n.props.slice(0,i+1),n.props=n.props.slice(i+1);var o=n.props[0]||n.valueRange;n.range.start=o.start;break}a.items=[n];var l=h1(n);return l&&Array.prototype.push.apply(a.items,l),a}return Ht(r,[{key:"parse",value:function(a,i){this.context=a;var o=a.parseNode,l=a.src,s=je.startOfLine(l,i),f=this.items[0];f.context.parent=this,this.valueRange=dr.copy(f.valueRange);var u=f.range.start-f.context.lineStart,h=i;h=je.normalizeOffset(l,h);for(var c=l[h],v=je.endOfWhiteSpace(l,s)===h,d=!1;c;){for(;c===`
`||c==="#";){if(v&&c===`
`&&!d){var m=new ou;if(h=m.parse({src:l},h),this.valueRange.end=h,h>=l.length){c=null;break}this.items.push(m),h-=1}else if(c==="#"){if(h<s+u&&!r.nextContentHasIndent(l,h,u))return h;var g=new jl;if(h=g.parse({indent:u,lineStart:s,src:l},h),this.items.push(g),this.valueRange.end=h,h>=l.length){c=null;break}}if(s=h+1,h=je.endOfIndent(l,s),je.atBlank(l,h)){var p=je.endOfWhiteSpace(l,h),y=l[p];(!y||y===`
`||y==="#")&&(h=p)}c=l[h],v=!0}if(!c)break;if(h!==s+u&&(v||c!==":")){if(h<s+u){s>i&&(h=s);break}else if(!this.error){var x="All collection items must start at the same column";this.error=new jr(this,x)}}if(f.type===Oe.SEQ_ITEM){if(c!=="-"){s>i&&(h=s);break}}else if(c==="-"&&!this.error){var A=l[h+1];if(!A||A===`
`||A==="	"||A===" "){var w="A collection cannot be both a mapping and a sequence";this.error=new jr(this,w)}}var b=o({atLineStart:v,inCollection:!0,indent:u,lineStart:s,parent:this},h);if(!b)return h;if(this.items.push(b),this.valueRange.end=b.valueRange.end,h=je.normalizeOffset(l,b.range.end),c=l[h],v=!1,d=b.includesTrailingLines,c){for(var S=h-1,T=l[S];T===" "||T==="	";)T=l[--S];T===`
`&&(s=S+1,v=!0)}var C=h1(b);C&&Array.prototype.push.apply(this.items,C)}return h}},{key:"setOrigRanges",value:function(a,i){return i=_a(Yr(r.prototype),"setOrigRanges",this).call(this,a,i),this.items.forEach(function(o){i=o.setOrigRanges(a,i)}),i}},{key:"toString",value:function(){var a=this.context.src,i=this.items,o=this.range,l=this.value;if(l!=null)return l;for(var s=a.slice(o.start,i[0].range.start)+String(i[0]),f=1;f<i.length;++f){var u=i[f],h=u.context,c=h.atLineStart,v=h.indent;if(c)for(var d=0;d<v;++d)s+=" ";s+=String(u)}return je.addStringTerminator(a,o.end,s)}},{key:"includesTrailingLines",get:function(){return this.items.length>0}}]),r}(je),fU=function(e){ar(r,e);var t=nr(r);function r(){var n;return qt(this,r),n=t.call(this,Oe.DIRECTIVE),n.name=null,n}return Ht(r,[{key:"parseName",value:function(a){for(var i=this.context.src,o=a,l=i[o];l&&l!==`
`&&l!=="	"&&l!==" ";)l=i[o+=1];return this.name=i.slice(a,o),o}},{key:"parseParameters",value:function(a){for(var i=this.context.src,o=a,l=i[o];l&&l!==`
`&&l!=="#";)l=i[o+=1];return this.valueRange=new dr(a,o),o}},{key:"parse",value:function(a,i){this.context=a;var o=this.parseName(i+1);return o=this.parseParameters(o),o=this.parseComment(o),this.range=new dr(i,o),o}},{key:"parameters",get:function(){var a=this.rawValue;return a?a.trim().split(/[ \t]+/):[]}}]),r}(je),cU=function(e){ar(r,e);var t=nr(r);Ht(r,null,[{key:"startCommentOrEndBlankLine",value:function(a,i){var o=je.endOfWhiteSpace(a,i),l=a[o];return l==="#"||l===`
`?o:i}}]);function r(){var n;return qt(this,r),n=t.call(this,Oe.DOCUMENT),n.directives=null,n.contents=null,n.directivesEndMarker=null,n.documentEndMarker=null,n}return Ht(r,[{key:"parseDirectives",value:function(a){var i=this.context.src;this.directives=[];for(var o=!0,l=!1,s=a;!je.atDocumentBoundary(i,s,Cr.DIRECTIVES_END);)switch(s=r.startCommentOrEndBlankLine(i,s),i[s]){case`
`:if(o){var f=new ou;s=f.parse({src:i},s),s<i.length&&this.directives.push(f)}else s+=1,o=!0;break;case"#":{var u=new jl;s=u.parse({src:i},s),this.directives.push(u),o=!1}break;case"%":{var h=new fU;s=h.parse({parent:this,src:i},s),this.directives.push(h),l=!0,o=!1}break;default:return l?this.error=new St(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return i[s]?(this.directivesEndMarker=new dr(s,s+3),s+3):(l?this.error=new St(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}},{key:"parseContents",value:function(a){var i=this.context,o=i.parseNode,l=i.src;this.contents||(this.contents=[]);for(var s=a;l[s-1]==="-";)s-=1;var f=je.endOfWhiteSpace(l,a),u=s===a;for(this.valueRange=new dr(f);!je.atDocumentBoundary(l,f,Cr.DOCUMENT_END);){switch(l[f]){case`
`:if(u){var h=new ou;f=h.parse({src:l},f),f<l.length&&this.contents.push(h)}else f+=1,u=!0;s=f;break;case"#":{var c=new jl;f=c.parse({src:l},f),this.contents.push(c),u=!1}break;default:{var v=je.endOfIndent(l,f),d={atLineStart:u,indent:-1,inFlow:!1,inCollection:!1,lineStart:s,parent:this},m=o(d,v);if(!m)return this.valueRange.end=v;this.contents.push(m),f=m.range.end,u=!1;var g=h1(m);g&&Array.prototype.push.apply(this.contents,g)}}f=r.startCommentOrEndBlankLine(l,f)}if(this.valueRange.end=f,l[f]&&(this.documentEndMarker=new dr(f,f+3),f+=3,l[f])){if(f=je.endOfWhiteSpace(l,f),l[f]==="#"){var p=new jl;f=p.parse({src:l},f),this.contents.push(p)}switch(l[f]){case`
`:f+=1;break;case void 0:break;default:this.error=new jr(this,"Document end marker line cannot have a non-comment suffix")}}return f}},{key:"parse",value:function(a,i){a.root=this,this.context=a;var o=a.src,l=o.charCodeAt(i)===65279?i+1:i;return l=this.parseDirectives(l),l=this.parseContents(l),l}},{key:"setOrigRanges",value:function(a,i){return i=_a(Yr(r.prototype),"setOrigRanges",this).call(this,a,i),this.directives.forEach(function(o){i=o.setOrigRanges(a,i)}),this.directivesEndMarker&&(i=this.directivesEndMarker.setOrigRange(a,i)),this.contents.forEach(function(o){i=o.setOrigRanges(a,i)}),this.documentEndMarker&&(i=this.documentEndMarker.setOrigRange(a,i)),i}},{key:"toString",value:function(){var a=this.contents,i=this.directives,o=this.value;if(o!=null)return o;var l=i.join("");return a.length>0&&((i.length>0||a[0].type===Oe.COMMENT)&&(l+=`---
`),l+=a.join("")),l[l.length-1]!==`
`&&(l+=`
`),l}}]),r}(je),hU=function(e){ar(r,e);var t=nr(r);function r(){return qt(this,r),t.apply(this,arguments)}return Ht(r,[{key:"parse",value:function(a,i){this.context=a;var o=a.src,l=je.endOfIdentifier(o,i+1);return this.valueRange=new dr(i+1,l),l=je.endOfWhiteSpace(o,l),l=this.parseComment(l),l}}]),r}(je),Ei={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},vU=function(e){ar(r,e);var t=nr(r);function r(n,a){var i;return qt(this,r),i=t.call(this,n,a),i.blockIndent=null,i.chomping=Ei.CLIP,i.header=null,i}return Ht(r,[{key:"parseBlockHeader",value:function(a){for(var i=this.context.src,o=a+1,l="";;){var s=i[o];switch(s){case"-":this.chomping=Ei.STRIP;break;case"+":this.chomping=Ei.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":l+=s;break;default:return this.blockIndent=Number(l)||null,this.header=new dr(a,o),o}o+=1}}},{key:"parseBlockValue",value:function(a){for(var i=this.context,o=i.indent,l=i.src,s=!!this.blockIndent,f=a,u=a,h=1,c=l[f];c===`
`&&(f+=1,!je.atDocumentBoundary(l,f));c=l[f]){var v=je.endOfBlockIndent(l,o,f);if(v===null)break;var d=l[v],m=v-(f+o);if(this.blockIndent){if(d&&d!==`
`&&m<this.blockIndent){if(l[v]==="#")break;if(!this.error){var p=s?"explicit indentation indicator":"first line",y="Block scalars must not be less indented than their ".concat(p);this.error=new St(this,y)}}}else if(l[v]!==`
`){if(m<h){var g="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new St(this,g)}this.blockIndent=m}else m>h&&(h=m);l[v]===`
`?f=v:f=u=je.endOfLine(l,v)}return this.chomping!==Ei.KEEP&&(f=l[u]?u+1:u),this.valueRange=new dr(a+1,f),f}},{key:"parse",value:function(a,i){this.context=a;var o=a.src,l=this.parseBlockHeader(i);return l=je.endOfWhiteSpace(o,l),l=this.parseComment(l),l=this.parseBlockValue(l),l}},{key:"setOrigRanges",value:function(a,i){return i=_a(Yr(r.prototype),"setOrigRanges",this).call(this,a,i),this.header?this.header.setOrigRange(a,i):i}},{key:"includesTrailingLines",get:function(){return this.chomping===Ei.KEEP}},{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var a=this.valueRange,i=a.start,o=a.end,l=this.context,s=l.indent,f=l.src;if(this.valueRange.isEmpty())return"";for(var u=null,h=f[o-1];h===`
`||h==="	"||h===" ";){if(o-=1,o<=i){if(this.chomping===Ei.KEEP)break;return""}h===`
`&&(u=o),h=f[o-1]}var c=o+1;u&&(this.chomping===Ei.KEEP?(c=u,o=this.valueRange.end):o=u);for(var v=s+this.blockIndent,d=this.type===Oe.BLOCK_FOLDED,m=!0,g="",p="",y=!1,x=i;x<o;++x){for(var A=0;A<v&&f[x]===" ";++A)x+=1;var w=f[x];if(w===`
`)p===`
`?g+=`
`:p=`
`;else{var b=je.endOfLine(f,x),S=f.slice(x,b);x=b,d&&(w===" "||w==="	")&&x<c?(p===" "?p=`
`:!y&&!m&&p===`
`&&(p=`

`),g+=p+S,p=b<o&&f[b]||"",y=!0):(g+=p+S,p=d&&x<c?" ":`
`,y=!1),m&&S!==""&&(m=!1)}}return this.chomping===Ei.STRIP?g:g+`
`}}]),r}(je),dU=function(e){ar(r,e);var t=nr(r);function r(n,a){var i;return qt(this,r),i=t.call(this,n,a),i.items=null,i}return Ht(r,[{key:"prevNodeIsJsonLike",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.items.length,i=this.items[a-1];return!!i&&(i.jsonLike||i.type===Oe.COMMENT&&this.prevNodeIsJsonLike(a-1))}},{key:"parse",value:function(a,i){this.context=a;var o=a.parseNode,l=a.src,s=a.indent,f=a.lineStart,u=l[i];this.items=[{char:u,offset:i}];var h=je.endOfWhiteSpace(l,i+1);for(u=l[h];u&&u!=="]"&&u!=="}";){switch(u){case`
`:{f=h+1;var c=je.endOfWhiteSpace(l,f);if(l[c]===`
`){var v=new ou;f=v.parse({src:l},f),this.items.push(v)}if(h=je.endOfIndent(l,f),h<=f+s&&(u=l[h],h<f+s||u!=="]"&&u!=="}")){var d="Insufficient indentation in flow collection";this.error=new St(this,d)}}break;case",":this.items.push({char:u,offset:h}),h+=1;break;case"#":{var m=new jl;h=m.parse({src:l},h),this.items.push(m)}break;case"?":case":":{var g=l[h+1];if(g===`
`||g==="	"||g===" "||g===","||u===":"&&this.prevNodeIsJsonLike()){this.items.push({char:u,offset:h}),h+=1;break}}default:{var p=o({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:f,parent:this},h);if(!p)return this.valueRange=new dr(i,h),h;this.items.push(p),h=je.normalizeOffset(l,p.range.end)}}h=je.endOfWhiteSpace(l,h),u=l[h]}return this.valueRange=new dr(i,h+1),u&&(this.items.push({char:u,offset:h}),h=je.endOfWhiteSpace(l,h+1),h=this.parseComment(h)),h}},{key:"setOrigRanges",value:function(a,i){return i=_a(Yr(r.prototype),"setOrigRanges",this).call(this,a,i),this.items.forEach(function(o){if(o instanceof je)i=o.setOrigRanges(a,i);else if(a.length===0)o.origOffset=o.offset;else{for(var l=i;l<a.length&&!(a[l]>o.offset);)++l;o.origOffset=o.offset+l,i=l}}),i}},{key:"toString",value:function(){var a=this.context.src,i=this.items,o=this.range,l=this.value;if(l!=null)return l;var s=i.filter(function(h){return h instanceof je}),f="",u=o.start;return s.forEach(function(h){var c=a.slice(u,h.range.start);u=h.range.end,f+=c+String(h),f[f.length-1]===`
`&&a[u-1]!==`
`&&a[u]===`
`&&(u+=1)}),f+=a.slice(u,o.end),je.addStringTerminator(a,o.end,f)}}]),r}(je),gU=function(e){ar(r,e);var t=nr(r);function r(){return qt(this,r),t.apply(this,arguments)}return Ht(r,[{key:"parseCharCode",value:function(a,i,o){var l=this.context.src,s=l.substr(a,i),f=s.length===i&&/^[0-9a-fA-F]+$/.test(s),u=f?parseInt(s,16):NaN;return isNaN(u)?(o.push(new jr(this,"Invalid escape sequence ".concat(l.substr(a-2,i+2)))),l.substr(a-2,i+2)):String.fromCodePoint(u)}},{key:"parse",value:function(a,i){this.context=a;var o=a.src,l=r.endOfQuote(o,i+1);return this.valueRange=new dr(i,l),l=je.endOfWhiteSpace(o,l),l=this.parseComment(l),l}},{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var a=[],i=this.valueRange,o=i.start,l=i.end,s=this.context,f=s.indent,u=s.src;u[l-1]!=='"'&&a.push(new jr(this,'Missing closing "quote'));for(var h="",c=o+1;c<l-1;++c){var v=u[c];if(v===`
`){je.atDocumentBoundary(u,c+1)&&a.push(new St(this,"Document boundary indicators are not allowed within string values"));var d=je.foldNewline(u,c,f),m=d.fold,g=d.offset,p=d.error;h+=m,c=g,p&&a.push(new St(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(v==="\\")switch(c+=1,u[c]){case"0":h+="\0";break;case"a":h+="\x07";break;case"b":h+="\b";break;case"e":h+="\x1B";break;case"f":h+="\f";break;case"n":h+=`
`;break;case"r":h+="\r";break;case"t":h+="	";break;case"v":h+="\v";break;case"N":h+="";break;case"_":h+=" ";break;case"L":h+="\u2028";break;case"P":h+="\u2029";break;case" ":h+=" ";break;case'"':h+='"';break;case"/":h+="/";break;case"\\":h+="\\";break;case"	":h+="	";break;case"x":h+=this.parseCharCode(c+1,2,a),c+=2;break;case"u":h+=this.parseCharCode(c+1,4,a),c+=4;break;case"U":h+=this.parseCharCode(c+1,8,a),c+=8;break;case`
`:for(;u[c+1]===" "||u[c+1]==="	";)c+=1;break;default:a.push(new jr(this,"Invalid escape sequence ".concat(u.substr(c-1,2)))),h+="\\"+u[c]}else if(v===" "||v==="	"){for(var y=c,x=u[c+1];x===" "||x==="	";)c+=1,x=u[c+1];x!==`
`&&(h+=c>y?u.slice(y,c+1):v)}else h+=v}return a.length>0?{errors:a,str:h}:h}}],[{key:"endOfQuote",value:function(a,i){for(var o=a[i];o&&o!=='"';)i+=o==="\\"?2:1,o=a[i];return i+1}}]),r}(je),pU=function(e){ar(r,e);var t=nr(r);function r(){return qt(this,r),t.apply(this,arguments)}return Ht(r,[{key:"parse",value:function(a,i){this.context=a;var o=a.src,l=r.endOfQuote(o,i+1);return this.valueRange=new dr(i,l),l=je.endOfWhiteSpace(o,l),l=this.parseComment(l),l}},{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var a=[],i=this.valueRange,o=i.start,l=i.end,s=this.context,f=s.indent,u=s.src;u[l-1]!=="'"&&a.push(new jr(this,"Missing closing 'quote"));for(var h="",c=o+1;c<l-1;++c){var v=u[c];if(v===`
`){je.atDocumentBoundary(u,c+1)&&a.push(new St(this,"Document boundary indicators are not allowed within string values"));var d=je.foldNewline(u,c,f),m=d.fold,g=d.offset,p=d.error;h+=m,c=g,p&&a.push(new St(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(v==="'")h+=v,c+=1,u[c]!=="'"&&a.push(new jr(this,"Unescaped single quote? This should not happen."));else if(v===" "||v==="	"){for(var y=c,x=u[c+1];x===" "||x==="	";)c+=1,x=u[c+1];x!==`
`&&(h+=c>y?u.slice(y,c+1):v)}else h+=v}return a.length>0?{errors:a,str:h}:h}}],[{key:"endOfQuote",value:function(a,i){for(var o=a[i];o;)if(o==="'"){if(a[i+1]!=="'")break;o=a[i+=2]}else o=a[i+=1];return i+1}}]),r}(je);function mU(e,t){switch(e){case Oe.ALIAS:return new hU(e,t);case Oe.BLOCK_FOLDED:case Oe.BLOCK_LITERAL:return new vU(e,t);case Oe.FLOW_MAP:case Oe.FLOW_SEQ:return new dU(e,t);case Oe.MAP_KEY:case Oe.MAP_VALUE:case Oe.SEQ_ITEM:return new c_(e,t);case Oe.COMMENT:case Oe.PLAIN:return new ME(e,t);case Oe.QUOTE_DOUBLE:return new gU(e,t);case Oe.QUOTE_SINGLE:return new pU(e,t);default:return null}}var yU=function(){Ht(e,null,[{key:"parseType",value:function(r,n,a){switch(r[n]){case"*":return Oe.ALIAS;case">":return Oe.BLOCK_FOLDED;case"|":return Oe.BLOCK_LITERAL;case"{":return Oe.FLOW_MAP;case"[":return Oe.FLOW_SEQ;case"?":return!a&&je.atBlank(r,n+1,!0)?Oe.MAP_KEY:Oe.PLAIN;case":":return!a&&je.atBlank(r,n+1,!0)?Oe.MAP_VALUE:Oe.PLAIN;case"-":return!a&&je.atBlank(r,n+1,!0)?Oe.SEQ_ITEM:Oe.PLAIN;case'"':return Oe.QUOTE_DOUBLE;case"'":return Oe.QUOTE_SINGLE;default:return Oe.PLAIN}}}]);function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.atLineStart,i=n.inCollection,o=n.inFlow,l=n.indent,s=n.lineStart,f=n.parent;qt(this,e),Jr(this,"parseNode",function(u,h){if(je.atDocumentBoundary(t.src,h))return null;var c=new e(t,u),v=c.parseProps(h),d=v.props,m=v.type,g=v.valueStart,p=mU(m,d),y=p.parse(c,g);if(p.range=new dr(h,y),y<=h&&(p.error=new Error("Node#parse consumed no characters"),p.error.parseEnd=y,p.error.source=p,p.range.end=h+1),c.nodeStartsCollection(p)){!p.error&&!c.atLineStart&&c.parent.type===Oe.DOCUMENT&&(p.error=new jr(p,"Block collection must not have preceding content here (e.g. directives-end indicator)"));var x=new LE(p);return y=x.parse(new e(c),y),x.range=new dr(h,y),x}return p}),this.atLineStart=a??(r.atLineStart||!1),this.inCollection=i??(r.inCollection||!1),this.inFlow=o??(r.inFlow||!1),this.indent=l??r.indent,this.lineStart=s??r.lineStart,this.parent=f??(r.parent||{}),this.root=r.root,this.src=r.src}return Ht(e,[{key:"nodeStartsCollection",value:function(r){var n=this.inCollection,a=this.inFlow,i=this.src;if(n||a)return!1;if(r instanceof c_)return!0;var o=r.range.end;return i[o]===`
`||i[o-1]===`
`?!1:(o=je.endOfWhiteSpace(i,o),i[o]===":")}},{key:"parseProps",value:function(r){var n=this.inFlow,a=this.parent,i=this.src,o=[],l=!1;r=this.atLineStart?je.endOfIndent(i,r):je.endOfWhiteSpace(i,r);for(var s=i[r];s===Cr.ANCHOR||s===Cr.COMMENT||s===Cr.TAG||s===`
`;){if(s===`
`){var f=r+1,u=je.endOfIndent(i,f),h=u-(f+this.indent),c=a.type===Oe.SEQ_ITEM&&a.context.atLineStart;if(!je.nextNodeIsIndented(i[u],h,!c))break;this.atLineStart=!0,this.lineStart=f,l=!1,r=u}else if(s===Cr.COMMENT){var v=je.endOfLine(i,r+1);o.push(new dr(r,v)),r=v}else{var d=je.endOfIdentifier(i,r+1);s===Cr.TAG&&i[d]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(r+1,d+13))&&(d=je.endOfIdentifier(i,d+5)),o.push(new dr(r,d)),l=!0,r=je.endOfWhiteSpace(i,d)}s=i[r]}l&&s===":"&&je.atBlank(i,r+1,!0)&&(r-=1);var m=e.parseType(i,r,n);return{props:o,type:m,valueStart:r}}}]),e}();function h_(e){var t=[];e.indexOf("\r")!==-1&&(e=e.replace(/\r\n?/g,function(o,l){return o.length>1&&t.push(l),`
`}));var r=[],n=0;do{var a=new cU,i=new yU({src:e});n=a.parse(i,n),r.push(a)}while(n<e.length);return r.setOrigRanges=function(){if(t.length===0)return!1;for(var o=1;o<t.length;++o)t[o]-=o;for(var l=0,s=0;s<r.length;++s)l=r[s].setOrigRanges(t,l);return t.splice(0,t.length),!0},r.toString=function(){return r.join(`...
`)},r}function _U(e,t,r){if(!r)return e;var n=r.replace(/[\s\S]^/gm,"$&".concat(t,"#"));return"#".concat(n,`
`).concat(t).concat(e)}function _s(e,t,r){return r?r.indexOf(`
`)===-1?"".concat(e," #").concat(r):"".concat(e,`
`)+r.replace(/^/gm,"".concat(t||"","#")):e}var Pa=function e(){qt(this,e)};function hn(e,t,r){if(Array.isArray(e))return e.map(function(i,o){return hn(i,String(o),r)});if(e&&typeof e.toJSON=="function"){var n=r&&r.anchors&&r.anchors.get(e);n&&(r.onCreate=function(i){n.res=i,delete r.onCreate});var a=e.toJSON(t,r);return n&&r.onCreate&&r.onCreate(a),a}return(!r||!r.keep)&&typeof e=="bigint"?Number(e):e}var Kt=function(e){ar(r,e);var t=nr(r);function r(n){var a;return qt(this,r),a=t.call(this),a.value=n,a}return Ht(r,[{key:"toJSON",value:function(a,i){return i&&i.keep?this.value:hn(this.value,a,i)}},{key:"toString",value:function(){return String(this.value)}}]),r}(Pa);function vb(e,t,r){for(var n=r,a=t.length-1;a>=0;--a){var i=t[a],o=Number.isInteger(i)&&i>=0?[]:{};o[i]=n,n=o}return e.createNode(n,!1)}var $l=function(t){return t==null||Xa(t)==="object"&&t[Symbol.iterator]().next().done},$r=function(e){ar(r,e);var t=nr(r);function r(n){var a;return qt(this,r),a=t.call(this),Jr(Wa(a),"items",[]),a.schema=n,a}return Ht(r,[{key:"addIn",value:function(a,i){if($l(a))this.add(i);else{var o=Ml(a),l=o[0],s=o.slice(1),f=this.get(l,!0);if(f instanceof r)f.addIn(s,i);else if(f===void 0&&this.schema)this.set(l,vb(this.schema,s,i));else throw new Error("Expected YAML collection at ".concat(l,". Remaining path: ").concat(s))}}},{key:"deleteIn",value:function(a){var i=Ml(a),o=i[0],l=i.slice(1);if(l.length===0)return this.delete(o);var s=this.get(o,!0);if(s instanceof r)return s.deleteIn(l);throw new Error("Expected YAML collection at ".concat(o,". Remaining path: ").concat(l))}},{key:"getIn",value:function(a,i){var o=Ml(a),l=o[0],s=o.slice(1),f=this.get(l,!0);return s.length===0?!i&&f instanceof Kt?f.value:f:f instanceof r?f.getIn(s,i):void 0}},{key:"hasAllNullValues",value:function(){return this.items.every(function(a){if(!a||a.type!=="PAIR")return!1;var i=a.value;return i==null||i instanceof Kt&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}},{key:"hasIn",value:function(a){var i=Ml(a),o=i[0],l=i.slice(1);if(l.length===0)return this.has(o);var s=this.get(o,!0);return s instanceof r?s.hasIn(l):!1}},{key:"setIn",value:function(a,i){var o=Ml(a),l=o[0],s=o.slice(1);if(s.length===0)this.set(l,i);else{var f=this.get(l,!0);if(f instanceof r)f.setIn(s,i);else if(f===void 0&&this.schema)this.set(l,vb(this.schema,s,i));else throw new Error("Expected YAML collection at ".concat(l,". Remaining path: ").concat(s))}}},{key:"toJSON",value:function(){return null}},{key:"toString",value:function(a,i,o,l){var s=this,f=i.blockItem,u=i.flowChars,h=i.isMap,c=i.itemIndent,v=a,d=v.indent,m=v.indentStep,g=v.stringify,p=this.type===Oe.FLOW_MAP||this.type===Oe.FLOW_SEQ||a.inFlow;p&&(c+=m);var y=h&&this.hasAllNullValues();a=Object.assign({},a,{allNullValues:y,indent:c,inFlow:p,type:null});var x=!1,A=!1,w=this.items.reduce(function(V,F,Y){var q;F&&(!x&&F.spaceBefore&&V.push({type:"comment",str:""}),F.commentBefore&&F.commentBefore.match(/^.*$/gm).forEach(function(z){V.push({type:"comment",str:"#".concat(z)})}),F.comment&&(q=F.comment),p&&(!x&&F.spaceBefore||F.commentBefore||F.comment||F.key&&(F.key.commentBefore||F.key.comment)||F.value&&(F.value.commentBefore||F.value.comment))&&(A=!0)),x=!1;var E=g(F,a,function(){return q=null},function(){return x=!0});return p&&!A&&E.includes(`
`)&&(A=!0),p&&Y<s.items.length-1&&(E+=","),E=_s(E,c,q),x&&(q||p)&&(x=!1),V.push({type:"item",str:E}),V},[]),b;if(w.length===0)b=u.start+u.end;else if(p){var S=u.start,T=u.end,C=w.map(function(V){return V.str});if(A||C.reduce(function(V,F){return V+F.length+2},2)>r.maxFlowStringSingleLineLength){b=S;var M=rr(C),I;try{for(M.s();!(I=M.n()).done;){var P=I.value;b+=P?`
`.concat(m).concat(d).concat(P):`
`}}catch(V){M.e(V)}finally{M.f()}b+=`
`.concat(d).concat(T)}else b="".concat(S," ").concat(C.join(" ")," ").concat(T)}else{var D=w.map(f);b=D.shift();var k=rr(D),R;try{for(k.s();!(R=k.n()).done;){var B=R.value;b+=B?`
`.concat(d).concat(B):`
`}}catch(V){k.e(V)}finally{k.f()}}return this.comment?(b+=`
`+this.comment.replace(/^/gm,"".concat(d,"#")),o&&o()):x&&l&&l(),b}}]),r}(Pa);Jr($r,"maxFlowStringSingleLineLength",60);function Uf(e){var t=e instanceof Kt?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),Number.isInteger(t)&&t>=0?t:null}var On=function(e){ar(r,e);var t=nr(r);function r(){return qt(this,r),t.apply(this,arguments)}return Ht(r,[{key:"add",value:function(a){this.items.push(a)}},{key:"delete",value:function(a){var i=Uf(a);if(typeof i!="number")return!1;var o=this.items.splice(i,1);return o.length>0}},{key:"get",value:function(a,i){var o=Uf(a);if(typeof o=="number"){var l=this.items[o];return!i&&l instanceof Kt?l.value:l}}},{key:"has",value:function(a){var i=Uf(a);return typeof i=="number"&&i<this.items.length}},{key:"set",value:function(a,i){var o=Uf(a);if(typeof o!="number")throw new Error("Expected a valid index, not ".concat(a,"."));this.items[o]=i}},{key:"toJSON",value:function(a,i){var o=[];i&&i.onCreate&&i.onCreate(o);var l=0,s=rr(this.items),f;try{for(s.s();!(f=s.n()).done;){var u=f.value;o.push(hn(u,String(l++),i))}}catch(h){s.e(h)}finally{s.f()}return o}},{key:"toString",value:function(a,i,o){return a?_a(Yr(r.prototype),"toString",this).call(this,a,{blockItem:function(s){return s.type==="comment"?s.str:"- ".concat(s.str)},flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(a.indent||"")+"  "},i,o):JSON.stringify(this)}}]),r}($r),xU=function(t,r,n){return r===null?"":Xa(r)!=="object"?String(r):t instanceof Pa&&n&&n.doc?t.toString({anchors:{},doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(r)},Ft=function(e){ar(r,e);var t=nr(r);function r(n){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return qt(this,r),a=t.call(this),a.key=n,a.value=i,a.type=r.Type.PAIR,a}return Ht(r,[{key:"addToJSMap",value:function(a,i){var o=hn(this.key,"",a);if(i instanceof Map){var l=hn(this.value,o,a);i.set(o,l)}else if(i instanceof Set)i.add(o);else{var s=xU(this.key,o,a);i[s]=hn(this.value,s,a)}return i}},{key:"toJSON",value:function(a,i){var o=i&&i.mapAsMap?new Map:{};return this.addToJSMap(i,o)}},{key:"toString",value:function(a,i,o){if(!a||!a.doc)return JSON.stringify(this);var l=a.doc.options,s=l.indent,f=l.indentSeq,u=l.simpleKeys,h=this.key,c=this.value,v=h instanceof Pa&&h.comment;if(u){if(v)throw new Error("With simple keys, key nodes cannot have comments");if(h instanceof $r){var d="With simple keys, collection cannot be used as a key value";throw new Error(d)}}var m=!u&&(!h||v||h instanceof $r||h.type===Oe.BLOCK_FOLDED||h.type===Oe.BLOCK_LITERAL),g=a,p=g.doc,y=g.indent,x=g.indentStep,A=g.stringify;a=Object.assign({},a,{implicitKey:!m,indent:y+x});var w=!1,b=A(h,a,function(){return v=null},function(){return w=!0});if(b=_s(b,a.indent,v),a.allNullValues&&!u)return this.comment?(b=_s(b,a.indent,this.comment),i&&i()):w&&!v&&o&&o(),a.inFlow?b:"? ".concat(b);b=m?"? ".concat(b,`
`).concat(y,":"):"".concat(b,":"),this.comment&&(b=_s(b,a.indent,this.comment),i&&i());var S="",T=null;if(c instanceof Pa){if(c.spaceBefore&&(S=`
`),c.commentBefore){var C=c.commentBefore.replace(/^/gm,"".concat(a.indent,"#"));S+=`
`.concat(C)}T=c.comment}else c&&Xa(c)==="object"&&(c=p.schema.createNode(c,!0));a.implicitKey=!1,!m&&!this.comment&&c instanceof Kt&&(a.indentAtStart=b.length+1),w=!1,!f&&s>=2&&!a.inFlow&&!m&&c instanceof On&&c.type!==Oe.FLOW_SEQ&&!c.tag&&!p.anchors.getName(c)&&(a.indent=a.indent.substr(2));var M=A(c,a,function(){return T=null},function(){return w=!0}),I=" ";if(S||this.comment)I="".concat(S,`
`).concat(a.indent);else if(!m&&c instanceof $r){var P=M[0]==="["||M[0]==="{";(!P||M.includes(`
`))&&(I=`
`.concat(a.indent))}return w&&!T&&o&&o(),_s(b+I+M,a.indent,T)}},{key:"commentBefore",get:function(){return this.key instanceof Pa?this.key.commentBefore:void 0},set:function(a){if(this.key==null&&(this.key=new Kt(null)),this.key instanceof Pa)this.key.commentBefore=a;else{var i="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(i)}}}]),r}(Pa);Jr(Ft,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var wU=function e(t,r){if(t instanceof di){var n=r.get(t.source);return n.count*n.aliasCount}else if(t instanceof $r){var a=0,i=rr(t.items),o;try{for(i.s();!(o=i.n()).done;){var l=o.value,s=e(l,r);s>a&&(a=s)}}catch(h){i.e(h)}finally{i.f()}return a}else if(t instanceof Ft){var f=e(t.key,r),u=e(t.value,r);return Math.max(f,u)}return 1},di=function(e){ar(r,e);var t=nr(r);Ht(r,null,[{key:"stringify",value:function(a,i){var o=a.range,l=a.source,s=i.anchors,f=i.doc,u=i.implicitKey,h=i.inStringifyKey,c=Object.keys(s).find(function(d){return s[d]===l});if(!c&&h&&(c=f.anchors.getName(l)||f.anchors.newName()),c)return"*".concat(c).concat(u?" ":"");var v=f.anchors.getName(l)?"Alias node must be after source node":"Source node not found for alias node";throw new Error("".concat(v," [").concat(o,"]"))}}]);function r(n){var a;return qt(this,r),a=t.call(this),a.source=n,a.type=Oe.ALIAS,a}return Ht(r,[{key:"toJSON",value:function(a,i){if(!i)return hn(this.source,a,i);var o=i.anchors,l=i.maxAliasCount,s=o.get(this.source);if(!s||s.res===void 0){var f="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new iu(this.cstNode,f):new ReferenceError(f)}if(l>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=wU(this.source,o)),s.count*s.aliasCount>l)){var u="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new iu(this.cstNode,u):new ReferenceError(u)}return s.res}},{key:"toString",value:function(a){return r.stringify(this,a)}},{key:"tag",set:function(a){throw new Error("Alias nodes cannot have tags")}}]),r}(Pa);Jr(di,"default",!0);function Lo(e,t){var r=t instanceof Kt?t.value:t,n=rr(e),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;if(i instanceof Ft&&(i.key===t||i.key===r||i.key&&i.key.value===r))return i}}catch(o){n.e(o)}finally{n.f()}}var ma=function(e){ar(r,e);var t=nr(r);function r(){return qt(this,r),t.apply(this,arguments)}return Ht(r,[{key:"add",value:function(a,i){a?a instanceof Ft||(a=new Ft(a.key||a,a.value)):a=new Ft(a);var o=Lo(this.items,a.key),l=this.schema&&this.schema.sortMapEntries;if(o)if(i)o.value=a.value;else throw new Error("Key ".concat(a.key," already set"));else if(l){var s=this.items.findIndex(function(f){return l(a,f)<0});s===-1?this.items.push(a):this.items.splice(s,0,a)}else this.items.push(a)}},{key:"delete",value:function(a){var i=Lo(this.items,a);if(!i)return!1;var o=this.items.splice(this.items.indexOf(i),1);return o.length>0}},{key:"get",value:function(a,i){var o=Lo(this.items,a),l=o&&o.value;return!i&&l instanceof Kt?l.value:l}},{key:"has",value:function(a){return!!Lo(this.items,a)}},{key:"set",value:function(a,i){this.add(new Ft(a,i),!0)}},{key:"toJSON",value:function(a,i,o){var l=o?new o:i&&i.mapAsMap?new Map:{};i&&i.onCreate&&i.onCreate(l);var s=rr(this.items),f;try{for(s.s();!(f=s.n()).done;){var u=f.value;u.addToJSMap(i,l)}}catch(h){s.e(h)}finally{s.f()}return l}},{key:"toString",value:function(a,i,o){if(!a)return JSON.stringify(this);var l=rr(this.items),s;try{for(l.s();!(s=l.n()).done;){var f=s.value;if(!(f instanceof Ft))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(f)," instead"))}}catch(u){l.e(u)}finally{l.f()}return _a(Yr(r.prototype),"toString",this).call(this,a,{blockItem:function(h){return h.str},flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:a.indent||""},i,o)}}]),r}($r),IE="<<",PE=function(e){ar(r,e);var t=nr(r);function r(n){var a;if(qt(this,r),n instanceof Ft){var i=n.value;i instanceof On||(i=new On,i.items.push(n.value),i.range=n.value.range),a=t.call(this,n.key,i),a.range=n.range}else a=t.call(this,new Kt(IE),new On);return a.type=Ft.Type.MERGE_PAIR,bE(a)}return Ht(r,[{key:"addToJSMap",value:function(a,i){var o=rr(this.value.items),l;try{for(o.s();!(l=o.n()).done;){var s=l.value.source;if(!(s instanceof ma))throw new Error("Merge sources must be maps");var f=s.toJSON(null,a,Map),u=rr(f),h;try{for(u.s();!(h=u.n()).done;){var c=yu(h.value,2),v=c[0],d=c[1];i instanceof Map?i.has(v)||i.set(v,d):i instanceof Set?i.add(v):Object.prototype.hasOwnProperty.call(i,v)||(i[v]=d)}}catch(m){u.e(m)}finally{u.f()}}}catch(m){o.e(m)}finally{o.f()}return i}},{key:"toString",value:function(a,i){var o=this.value;if(o.items.length>1)return _a(Yr(r.prototype),"toString",this).call(this,a,i);this.value=o.items[0];var l=_a(Yr(r.prototype),"toString",this).call(this,a,i);return this.value=o,l}}]),r}(Ft),eu={defaultType:Oe.BLOCK_LITERAL,lineWidth:76},fi={trueStr:"true",falseStr:"false"},Ji={asBigInt:!1},Ds={nullStr:"null"},gi={defaultType:Oe.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function v_(e,t,r){var n=rr(t),a;try{for(n.s();!(a=n.n()).done;){var i=a.value,o=i.format,l=i.test,s=i.resolve;if(l){var f=e.match(l);if(f){var u=s.apply(null,f);return u instanceof Kt||(u=new Kt(u)),o&&(u.format=o),u}}}}catch(h){n.e(h)}finally{n.f()}return r&&(e=r(e)),new Kt(e)}var DE="flow",v1="block",Pc="quoted",db=function(t,r){for(var n=t[r+1];n===" "||n==="	";){do n=t[r+=1];while(n&&n!==`
`);n=t[r+1]}return r};function vh(e,t,r,n){var a=n.indentAtStart,i=n.lineWidth,o=i===void 0?80:i,l=n.minContentWidth,s=l===void 0?20:l,f=n.onFold,u=n.onOverflow;if(!o||o<0)return e;var h=Math.max(1+s,1+o-t.length);if(e.length<=h)return e;var c=[],v={},d=o-(typeof a=="number"?a:t.length),m=void 0,g=void 0,p=!1,y=-1;r===v1&&(y=db(e,y),y!==-1&&(d=y+h));for(var x;x=e[y+=1];){if(r===Pc&&x==="\\")switch(e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}if(x===`
`)r===v1&&(y=db(e,y)),d=y+h,m=void 0;else{if(x===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){var A=e[y+1];A&&A!==" "&&A!==`
`&&A!=="	"&&(m=y)}if(y>=d)if(m)c.push(m),d=m+h,m=void 0;else if(r===Pc){for(;g===" "||g==="	";)g=x,x=e[y+=1],p=!0;c.push(y-2),v[y-2]=!0,d=y-2+h,m=void 0}else p=!0}g=x}if(p&&u&&u(),c.length===0)return e;f&&f();for(var w=e.slice(0,c[0]),b=0;b<c.length;++b){var S=c[b],T=c[b+1]||e.length;r===Pc&&v[S]&&(w+="".concat(e[S],"\\")),w+=`
`.concat(t).concat(e.slice(S+1,T))}return w}var d_=function(t){var r=t.indentAtStart;return r?Object.assign({indentAtStart:r},gi.fold):gi.fold},dh=function(t){return/^(%|---|\.\.\.)/m.test(t)};function SU(e,t){var r=e.length;if(r<=t)return!1;for(var n=0,a=0;n<r;++n)if(e[n]===`
`){if(n-a>t)return!0;if(a=n+1,r-a<=t)return!1}return!0}function Ro(e,t){var r=t.implicitKey,n=gi.doubleQuoted,a=n.jsonEncoding,i=n.minMultiLineLength,o=JSON.stringify(e);if(a)return o;for(var l=t.indent||(dh(e)?"  ":""),s="",f=0,u=0,h=o[u];h;h=o[++u])if(h===" "&&o[u+1]==="\\"&&o[u+2]==="n"&&(s+=o.slice(f,u)+"\\ ",u+=1,f=u,h="\\"),h==="\\")switch(o[u+1]){case"u":{s+=o.slice(f,u);var c=o.substr(u+2,4);switch(c){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:c.substr(0,2)==="00"?s+="\\x"+c.substr(2):s+=o.substr(u,6)}u+=5,f=u+1}break;case"n":if(r||o[u+2]==='"'||o.length<i)u+=1;else{for(s+=o.slice(f,u)+`

`;o[u+2]==="\\"&&o[u+3]==="n"&&o[u+4]!=='"';)s+=`
`,u+=2;s+=l,o[u+2]===" "&&(s+="\\"),u+=1,f=u+1}break;default:u+=1}return s=f?s+o.slice(f):o,r?s:vh(s,l,Pc,d_(t))}function RE(e,t){if(t.implicitKey){if(/\n/.test(e))return Ro(e,t)}else if(/[ \t]\n|\n[ \t]/.test(e))return Ro(e,t);var r=t.indent||(dh(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
`.concat(r))+"'";return t.implicitKey?n:vh(n,r,DE,d_(t))}function Dc(e,t,r,n){var a=e.comment,i=e.type,o=e.value;if(/\n[\t ]+$/.test(o)||/^\s*$/.test(o))return Ro(o,t);var l=t.indent||(t.forceBlockIndent||dh(o)?"  ":""),s=l?"2":"1",f=i===Oe.BLOCK_FOLDED?!1:i===Oe.BLOCK_LITERAL?!0:!SU(o,gi.fold.lineWidth-l.length),u=f?"|":">";if(!o)return u+`
`;var h="",c="";if(o=o.replace(/[\n\t ]*$/,function(d){var m=d.indexOf(`
`);return m===-1?u+="-":(o===d||m!==d.length-1)&&(u+="+",n&&n()),c=d.replace(/\n$/,""),""}).replace(/^[\n ]*/,function(d){d.indexOf(" ")!==-1&&(u+=s);var m=d.match(/ +$/);return m?(h=d.slice(0,-m[0].length),m[0]):(h=d,"")}),c&&(c=c.replace(/\n+(?!\n|$)/g,"$&".concat(l))),h&&(h=h.replace(/\n+/g,"$&".concat(l))),a&&(u+=" #"+a.replace(/ ?[\r\n]+/g," "),r&&r()),!o)return"".concat(u).concat(s,`
`).concat(l).concat(c);if(f)return o=o.replace(/\n+/g,"$&".concat(l)),"".concat(u,`
`).concat(l).concat(h).concat(o).concat(c);o=o.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(l));var v=vh("".concat(h).concat(o).concat(c),l,v1,gi.fold);return"".concat(u,`
`).concat(l).concat(v)}function bU(e,t,r,n){var a=e.comment,i=e.type,o=e.value,l=t.actualString,s=t.implicitKey,f=t.indent,u=t.inFlow;if(s&&/[\n[\]{},]/.test(o)||u&&/[[\]{},]/.test(o))return Ro(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return s||u||o.indexOf(`
`)===-1?o.indexOf('"')!==-1&&o.indexOf("'")===-1?RE(o,t):Ro(o,t):Dc(e,t,r,n);if(!s&&!u&&i!==Oe.PLAIN&&o.indexOf(`
`)!==-1)return Dc(e,t,r,n);if(f===""&&dh(o))return t.forceBlockIndent=!0,Dc(e,t,r,n);var h=o.replace(/\n+/g,`$&
`.concat(f));if(l){var c=t.doc.schema.tags,v=v_(h,c,c.scalarFallback).value;if(typeof v!="string")return Ro(o,t)}var d=s?h:vh(h,f,DE,d_(t));return a&&!u&&(d.indexOf(`
`)!==-1||a.indexOf(`
`)!==-1)?(r&&r(),_U(d,f,a)):d}function g_(e,t,r,n){var a=gi.defaultType,i=t.implicitKey,o=t.inFlow,l=e,s=l.type,f=l.value;typeof f!="string"&&(f=String(f),e=Object.assign({},e,{value:f}));var u=function(v){switch(v){case Oe.BLOCK_FOLDED:case Oe.BLOCK_LITERAL:return Dc(e,t,r,n);case Oe.QUOTE_DOUBLE:return Ro(f,t);case Oe.QUOTE_SINGLE:return RE(f,t);case Oe.PLAIN:return bU(e,t,r,n);default:return null}};(s!==Oe.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(f)||(i||o)&&(s===Oe.BLOCK_FOLDED||s===Oe.BLOCK_LITERAL))&&(s=Oe.QUOTE_DOUBLE);var h=u(s);if(h===null&&(h=u(a),h===null))throw new Error("Unsupported default string type ".concat(a));return h}function ci(e){var t=e.format,r=e.minFractionDigits,n=e.tag,a=e.value;if(typeof a=="bigint")return String(a);if(!isFinite(a))return isNaN(a)?".nan":a<0?"-.inf":".inf";var i=JSON.stringify(a);if(!t&&r&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){var o=i.indexOf(".");o<0&&(o=i.length,i+=".");for(var l=r-(i.length-o-1);l-- >0;)i+="0"}return i}function EE(e,t){var r,n;switch(t.type){case Oe.FLOW_MAP:r="}",n="flow map";break;case Oe.FLOW_SEQ:r="]",n="flow sequence";break;default:e.push(new St(t,"Not a flow collection!?"));return}for(var a,i=t.items.length-1;i>=0;--i){var o=t.items[i];if(!o||o.type!==Oe.COMMENT){a=o;break}}if(a&&a.char!==r){var l="Expected ".concat(n," to end with ").concat(r),s;typeof a.offset=="number"?(s=new St(t,l),s.offset=a.offset+1):(s=new St(a,l),a.range&&a.range.end&&(s.offset=a.range.end-a.range.start)),e.push(s)}}function kE(e,t){var r=t.context.src[t.range.start-1];if(r!==`
`&&r!=="	"&&r!==" "){var n="Comments must be separated from other tokens by white space characters";e.push(new St(t,n))}}function OE(e,t){var r=String(t),n=r.substr(0,8)+"..."+r.substr(-8);return new St(e,'The "'.concat(n,'" key is too long'))}function BE(e,t){var r=rr(t),n;try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.afterKey,o=a.before,l=a.comment,s=e.items[o];s?(i&&s.value&&(s=s.value),l===void 0?(i||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+l:s.commentBefore=l):l!==void 0&&(e.comment?e.comment+=`
`+l:e.comment=l)}}catch(f){r.e(f)}finally{r.f()}}function _u(e,t){var r=t.strValue;return r?typeof r=="string"?r:(r.errors.forEach(function(n){n.source||(n.source=t),e.errors.push(n)}),r.str):""}function AU(e,t){var r=t.tag,n=r.handle,a=r.suffix,i=e.tagPrefixes.find(function(s){return s.handle===n});if(!i){var o=e.getDefaults().tagPrefixes;if(o&&(i=o.find(function(s){return s.handle===n})),!i)throw new St(t,"The ".concat(n," tag handle is non-default and was not declared."))}if(!a)throw new St(t,"The ".concat(n," tag has no suffix."));if(n==="!"&&(e.version||e.options.version)==="1.0"){if(a[0]==="^")return e.warnings.push(new Gs(t,"YAML 1.0 ^ tag expansion is not supported")),a;if(/[:/]/.test(a)){var l=a.match(/^([a-z0-9-]+)\/(.*)/i);return l?"tag:".concat(l[1],".yaml.org,2002:").concat(l[2]):"tag:".concat(a)}}return i.prefix+decodeURIComponent(a)}function TU(e,t){var r=t.tag,n=t.type,a=!1;if(r){var i=r.handle,o=r.suffix,l=r.verbatim;if(l){if(l!=="!"&&l!=="!!")return l;var s="Verbatim tags aren't resolved, so ".concat(l," is invalid.");e.errors.push(new St(t,s))}else if(i==="!"&&!o)a=!0;else try{return AU(e,t)}catch(f){e.errors.push(f)}}switch(n){case Oe.BLOCK_FOLDED:case Oe.BLOCK_LITERAL:case Oe.QUOTE_DOUBLE:case Oe.QUOTE_SINGLE:return qi.STR;case Oe.FLOW_MAP:case Oe.MAP:return qi.MAP;case Oe.FLOW_SEQ:case Oe.SEQ:return qi.SEQ;case Oe.PLAIN:return a?qi.STR:null;default:return null}}function gb(e,t,r){var n=e.schema.tags,a=[],i=rr(n),o;try{for(i.s();!(o=i.n()).done;){var l=o.value;if(l.tag===r)if(l.test)a.push(l);else{var s=l.resolve(e,t);return s instanceof $r?s:new Kt(s)}}}catch(u){i.e(u)}finally{i.f()}var f=_u(e,t);return typeof f=="string"&&a.length>0?v_(f,a,n.scalarFallback):null}function CU(e){var t=e.type;switch(t){case Oe.FLOW_MAP:case Oe.MAP:return qi.MAP;case Oe.FLOW_SEQ:case Oe.SEQ:return qi.SEQ;default:return qi.STR}}function MU(e,t,r){try{var n=gb(e,t,r);if(n)return r&&t.tag&&(n.tag=r),n}catch(s){return s.source||(s.source=t),e.errors.push(s),null}try{var a=CU(t);if(!a)throw new Error("The tag ".concat(r," is unavailable"));var i="The tag ".concat(r," is unavailable, falling back to ").concat(a);e.warnings.push(new Gs(t,i));var o=gb(e,t,a);return o.tag=r,o}catch(s){var l=new iu(t,s.message);return l.stack=s.stack,e.errors.push(l),null}}var LU=function(t){if(!t)return!1;var r=t.type;return r===Oe.MAP_KEY||r===Oe.MAP_VALUE||r===Oe.SEQ_ITEM};function IU(e,t){var r={before:[],after:[]},n=!1,a=!1,i=LU(t.context.parent)?t.context.parent.props.concat(t.props):t.props,o=rr(i),l;try{for(o.s();!(l=o.n()).done;){var s=l.value,f=s.start,u=s.end;switch(t.context.src[f]){case Cr.COMMENT:{if(!t.commentHasRequiredWhitespace(f)){var h="Comments must be separated from other tokens by white space characters";e.push(new St(t,h))}var c=t.header,v=t.valueRange,d=v&&(f>v.start||c&&f>c.start)?r.after:r.before;d.push(t.context.src.slice(f+1,u));break}case Cr.ANCHOR:if(n){var m="A node can have at most one anchor";e.push(new St(t,m))}n=!0;break;case Cr.TAG:if(a){var g="A node can have at most one tag";e.push(new St(t,g))}a=!0;break}}}catch(p){o.e(p)}finally{o.f()}return{comments:r,hasAnchor:n,hasTag:a}}function PU(e,t){var r=e.anchors,n=e.errors,a=e.schema;if(t.type===Oe.ALIAS){var i=t.rawValue,o=r.getNode(i);if(!o){var l="Aliased anchor not found: ".concat(i);return n.push(new iu(t,l)),null}var s=new di(o);return r._cstAliases.push(s),s}var f=TU(e,t);if(f)return MU(e,t,f);if(t.type!==Oe.PLAIN){var u="Failed to resolve ".concat(t.type," node here");return n.push(new jr(t,u)),null}try{var h=_u(e,t);return v_(h,a.tags,a.tags.scalarFallback)}catch(c){return c.source||(c.source=t),n.push(c),null}}function Xi(e,t){if(!t)return null;t.error&&e.errors.push(t.error);var r=IU(e.errors,t),n=r.comments,a=r.hasAnchor,i=r.hasTag;if(a){var o=e.anchors,l=t.anchor,s=o.getNode(l);s&&(o.map[o.newName(l)]=s),o.map[l]=t}if(t.type===Oe.ALIAS&&(a||i)){var f="An alias node must not specify any properties";e.errors.push(new St(t,f))}var u=PU(e,t);if(u){u.range=[t.range.start,t.range.end],e.options.keepCstNodes&&(u.cstNode=t),e.options.keepNodeTypes&&(u.type=t.type);var h=n.before.join(`
`);h&&(u.commentBefore=u.commentBefore?"".concat(u.commentBefore,`
`).concat(h):h);var c=n.after.join(`
`);c&&(u.comment=u.comment?"".concat(u.comment,`
`).concat(c):c)}return t.resolved=u}function NE(e,t){if(t.type!==Oe.MAP&&t.type!==Oe.FLOW_MAP){var r="A ".concat(t.type," node cannot be resolved as a mapping");return e.errors.push(new jr(t,r)),null}var n=t.type===Oe.FLOW_MAP?kU(e,t):EU(e,t),a=n.comments,i=n.items,o=new ma;o.items=i,BE(o,a);for(var l=!1,s=0;s<i.length;++s){var f=i[s].key;if(f instanceof $r&&(l=!0),e.schema.merge&&f&&f.value===IE){i[s]=new PE(i[s]);var u=i[s].value.items,h=null;u.some(function(g){if(g instanceof di){var p=g.source.type;return p===Oe.MAP||p===Oe.FLOW_MAP?!1:h="Merge nodes aliases can only point to maps"}return h="Merge nodes can only have Alias nodes as values"}),h&&e.errors.push(new St(t,h))}else for(var c=s+1;c<i.length;++c){var v=i[c].key;if(f===v||f&&v&&Object.prototype.hasOwnProperty.call(f,"value")&&f.value===v.value){var d='Map keys must be unique; "'.concat(f,'" is repeated');e.errors.push(new St(t,d));break}}}if(l&&!e.options.mapAsMap){var m="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";e.warnings.push(new Gs(t,m))}return t.resolved=o,o}var DU=function(t){var r=t.context,n=r.lineStart,a=r.node,i=r.src,o=t.props;if(o.length===0)return!1;var l=o[0].start;if(a&&l>a.valueRange.start||i[l]!==Cr.COMMENT)return!1;for(var s=n;s<l;++s)if(i[s]===`
`)return!1;return!0};function RU(e,t){if(DU(e)){var r=e.getPropValue(0,Cr.COMMENT,!0),n=!1,a=t.value.commentBefore;if(a&&a.startsWith(r))t.value.commentBefore=a.substr(r.length+1),n=!0;else{var i=t.value.comment;!e.node&&i&&i.startsWith(r)&&(t.value.comment=i.substr(r.length+1),n=!0)}n&&(t.comment=r)}}function EU(e,t){for(var r=[],n=[],a=void 0,i=null,o=0;o<t.items.length;++o){var l=t.items[o];switch(l.type){case Oe.BLANK_LINE:r.push({afterKey:!!a,before:n.length});break;case Oe.COMMENT:r.push({afterKey:!!a,before:n.length,comment:l.comment});break;case Oe.MAP_KEY:a!==void 0&&n.push(new Ft(a)),l.error&&e.errors.push(l.error),a=Xi(e,l.node),i=null;break;case Oe.MAP_VALUE:{if(a===void 0&&(a=null),l.error&&e.errors.push(l.error),!l.context.atLineStart&&l.node&&l.node.type===Oe.MAP&&!l.node.context.atLineStart){var s="Nested mappings are not allowed in compact mappings";e.errors.push(new St(l.node,s))}var f=l.node;if(!f&&l.props.length>0){f=new ME(Oe.PLAIN,[]),f.context={parent:l,src:l.context.src};var u=l.range.start+1;if(f.range={start:u,end:u},f.valueRange={start:u,end:u},typeof l.range.origStart=="number"){var h=l.range.origStart+1;f.range.origStart=f.range.origEnd=h,f.valueRange.origStart=f.valueRange.origEnd=h}}var c=new Ft(a,Xi(e,f));RU(l,c),n.push(c),a&&typeof i=="number"&&l.range.start>i+1024&&e.errors.push(OE(t,a)),a=void 0,i=null}break;default:a!==void 0&&n.push(new Ft(a)),a=Xi(e,l),i=l.range.start,l.error&&e.errors.push(l.error);e:for(var v=o+1;;++v){var d=t.items[v];switch(d&&d.type){case Oe.BLANK_LINE:case Oe.COMMENT:continue e;case Oe.MAP_VALUE:break e;default:{var m="Implicit map keys need to be followed by map values";e.errors.push(new St(l,m));break e}}}if(l.valueRangeContainsNewline){var g="Implicit map keys need to be on a single line";e.errors.push(new St(l,g))}}}return a!==void 0&&n.push(new Ft(a)),{comments:r,items:n}}function kU(e,t){for(var r=[],n=[],a=void 0,i=!1,o="{",l=0;l<t.items.length;++l){var s=t.items[l];if(typeof s.char=="string"){var f=s.char,u=s.offset;if(f==="?"&&a===void 0&&!i){i=!0,o=":";continue}if(f===":"){if(a===void 0&&(a=null),o===":"){o=",";continue}}else if(i&&(a===void 0&&f!==","&&(a=null),i=!1),a!==void 0&&(n.push(new Ft(a)),a=void 0,f===",")){o=":";continue}if(f==="}"){if(l===t.items.length-1)continue}else if(f===o){o=":";continue}var h="Flow map contains an unexpected ".concat(f),c=new jr(t,h);c.offset=u,e.errors.push(c)}else s.type===Oe.BLANK_LINE?r.push({afterKey:!!a,before:n.length}):s.type===Oe.COMMENT?(kE(e.errors,s),r.push({afterKey:!!a,before:n.length,comment:s.comment})):a===void 0?(o===","&&e.errors.push(new St(s,"Separator , missing in flow map")),a=Xi(e,s)):(o!==","&&e.errors.push(new St(s,"Indicator : missing in flow map entry")),n.push(new Ft(a,Xi(e,s))),a=void 0,i=!1)}return EE(e.errors,t),a!==void 0&&n.push(new Ft(a)),{comments:r,items:n}}function zE(e,t){if(t.type!==Oe.SEQ&&t.type!==Oe.FLOW_SEQ){var r="A ".concat(t.type," node cannot be resolved as a sequence");return e.errors.push(new jr(t,r)),null}var n=t.type===Oe.FLOW_SEQ?BU(e,t):OU(e,t),a=n.comments,i=n.items,o=new On;if(o.items=i,BE(o,a),!e.options.mapAsMap&&i.some(function(s){return s instanceof Ft&&s.key instanceof $r})){var l="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";e.warnings.push(new Gs(t,l))}return t.resolved=o,o}function OU(e,t){for(var r=[],n=[],a=0;a<t.items.length;++a){var i=t.items[a];switch(i.type){case Oe.BLANK_LINE:r.push({before:n.length});break;case Oe.COMMENT:r.push({comment:i.comment,before:n.length});break;case Oe.SEQ_ITEM:if(i.error&&e.errors.push(i.error),n.push(Xi(e,i.node)),i.hasProps){var o="Sequence items cannot have tags or anchors before the - indicator";e.errors.push(new St(i,o))}break;default:i.error&&e.errors.push(i.error),e.errors.push(new jr(i,"Unexpected ".concat(i.type," node in sequence")))}}return{comments:r,items:n}}function BU(e,t){for(var r=[],n=[],a=!1,i=void 0,o=null,l="[",s=null,f=0;f<t.items.length;++f){var u=t.items[f];if(typeof u.char=="string"){var h=u.char,c=u.offset;if(h!==":"&&(a||i!==void 0)&&(a&&i===void 0&&(i=l?n.pop():null),n.push(new Ft(i)),a=!1,i=void 0,o=null),h===l)l=null;else if(!l&&h==="?")a=!0;else if(l!=="["&&h===":"&&i===void 0){if(l===","){if(i=n.pop(),i instanceof Ft){var v="Chaining flow sequence pairs is invalid",d=new St(t,v);d.offset=c,e.errors.push(d)}if(!a&&typeof o=="number"){var m=u.range?u.range.start:u.offset;m>o+1024&&e.errors.push(OE(t,i));for(var g=s.context.src,p=o;p<m;++p)if(g[p]===`
`){var y="Implicit keys of flow sequence pairs need to be on a single line";e.errors.push(new St(s,y));break}}}else i=null;o=null,a=!1,l=null}else if(l==="["||h!=="]"||f<t.items.length-1){var x="Flow sequence contains an unexpected ".concat(h),A=new jr(t,x);A.offset=c,e.errors.push(A)}}else if(u.type===Oe.BLANK_LINE)r.push({before:n.length});else if(u.type===Oe.COMMENT)kE(e.errors,u),r.push({comment:u.comment,before:n.length});else{if(l){var w="Expected a ".concat(l," in flow sequence");e.errors.push(new St(u,w))}var b=Xi(e,u);i===void 0?(n.push(b),s=u):(n.push(new Ft(i,b)),i=void 0),o=u.range.start,l=","}}return EE(e.errors,t),i!==void 0&&n.push(new Ft(i)),{comments:r,items:n}}var NU={},VE={identify:function(t){return t instanceof Uint8Array},default:!1,tag:"tag:yaml.org,2002:binary",resolve:function(t,r){var n=_u(t,r);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){for(var a=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(a.length),o=0;o<a.length;++o)i[o]=a.charCodeAt(o);return i}else{var l="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new iu(r,l)),null}},options:eu,stringify:function(t,r,n,a){var i=t.comment,o=t.type,l=t.value,s;if(typeof Buffer=="function")s=l instanceof Buffer?l.toString("base64"):Buffer.from(l.buffer).toString("base64");else if(typeof btoa=="function"){for(var f="",u=0;u<l.length;++u)f+=String.fromCharCode(l[u]);s=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(o||(o=eu.defaultType),o===Oe.QUOTE_DOUBLE)l=s;else{for(var h=eu.lineWidth,c=Math.ceil(s.length/h),v=new Array(c),d=0,m=0;d<c;++d,m+=h)v[d]=s.substr(m,h);l=v.join(o===Oe.BLOCK_LITERAL?`
`:" ")}return g_({comment:i,type:o,value:l},r,n,a)}};function FE(e,t){for(var r=zE(e,t),n=0;n<r.items.length;++n){var a=r.items[n];if(!(a instanceof Ft)){if(a instanceof ma){if(a.items.length>1){var i="Each pair must have its own sequence indicator";throw new St(t,i)}var o=a.items[0]||new Ft;a.commentBefore&&(o.commentBefore=o.commentBefore?"".concat(a.commentBefore,`
`).concat(o.commentBefore):a.commentBefore),a.comment&&(o.comment=o.comment?"".concat(a.comment,`
`).concat(o.comment):a.comment),a=o}r.items[n]=a instanceof Ft?a:new Ft(a)}}return r}function HE(e,t,r){var n=new On(e);n.tag="tag:yaml.org,2002:pairs";var a=rr(t),i;try{for(a.s();!(i=a.n()).done;){var o=i.value,l=void 0,s=void 0;if(Array.isArray(o))if(o.length===2)l=o[0],s=o[1];else throw new TypeError("Expected [key, value] tuple: ".concat(o));else if(o&&o instanceof Object){var f=Object.keys(o);if(f.length===1)l=f[0],s=o[l];else throw new TypeError("Expected { key: value } tuple: ".concat(o))}else l=o;var u=e.createPair(l,s,r);n.items.push(u)}}catch(h){a.e(h)}finally{a.f()}return n}var qE={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:FE,createNode:HE},gh=function(e){ar(r,e);var t=nr(r);function r(){var n;return qt(this,r),n=t.call(this),Jr(Wa(n),"add",ma.prototype.add.bind(Wa(n))),Jr(Wa(n),"delete",ma.prototype.delete.bind(Wa(n))),Jr(Wa(n),"get",ma.prototype.get.bind(Wa(n))),Jr(Wa(n),"has",ma.prototype.has.bind(Wa(n))),Jr(Wa(n),"set",ma.prototype.set.bind(Wa(n))),n.tag=r.tag,n}return Ht(r,[{key:"toJSON",value:function(a,i){var o=new Map;i&&i.onCreate&&i.onCreate(o);var l=rr(this.items),s;try{for(l.s();!(s=l.n()).done;){var f=s.value,u=void 0,h=void 0;if(f instanceof Ft?(u=hn(f.key,"",i),h=hn(f.value,u,i)):u=hn(f,"",i),o.has(u))throw new Error("Ordered maps must not include duplicate keys");o.set(u,h)}}catch(c){l.e(c)}finally{l.f()}return o}}]),r}(On);Jr(gh,"tag","tag:yaml.org,2002:omap");function zU(e,t){var r=FE(e,t),n=[],a=rr(r.items),i;try{for(a.s();!(i=a.n()).done;){var o=i.value.key;if(o instanceof Kt)if(n.includes(o.value)){var l="Ordered maps must not include duplicate keys";throw new St(t,l)}else n.push(o.value)}}catch(s){a.e(s)}finally{a.f()}return Object.assign(new gh,r)}function VU(e,t,r){var n=HE(e,t,r),a=new gh;return a.items=n.items,a}var UE={identify:function(t){return t instanceof Map},nodeClass:gh,default:!1,tag:"tag:yaml.org,2002:omap",resolve:zU,createNode:VU},ph=function(e){ar(r,e);var t=nr(r);function r(){var n;return qt(this,r),n=t.call(this),n.tag=r.tag,n}return Ht(r,[{key:"add",value:function(a){var i=a instanceof Ft?a:new Ft(a),o=Lo(this.items,i.key);o||this.items.push(i)}},{key:"get",value:function(a,i){var o=Lo(this.items,a);return!i&&o instanceof Ft?o.key instanceof Kt?o.key.value:o.key:o}},{key:"set",value:function(a,i){if(typeof i!="boolean")throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(Xa(i)));var o=Lo(this.items,a);o&&!i?this.items.splice(this.items.indexOf(o),1):!o&&i&&this.items.push(new Ft(a))}},{key:"toJSON",value:function(a,i){return _a(Yr(r.prototype),"toJSON",this).call(this,a,i,Set)}},{key:"toString",value:function(a,i,o){if(!a)return JSON.stringify(this);if(this.hasAllNullValues())return _a(Yr(r.prototype),"toString",this).call(this,a,i,o);throw new Error("Set items must all have null values")}}]),r}(ma);Jr(ph,"tag","tag:yaml.org,2002:set");function FU(e,t){var r=NE(e,t);if(!r.hasAllNullValues())throw new St(t,"Set items must all have null values");return Object.assign(new ph,r)}function HU(e,t,r){var n=new ph,a=rr(t),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;n.items.push(e.createPair(o,null,r))}}catch(l){a.e(l)}finally{a.f()}return n}var GE={identify:function(t){return t instanceof Set},nodeClass:ph,default:!1,tag:"tag:yaml.org,2002:set",resolve:FU,createNode:HU},p_=function(t,r){var n=r.split(":").reduce(function(a,i){return a*60+Number(i)},0);return t==="-"?-n:n},WE=function(t){var r=t.value;if(isNaN(r)||!isFinite(r))return ci(r);var n="";r<0&&(n="-",r=Math.abs(r));var a=[r%60];return r<60?a.unshift(0):(r=Math.round((r-a[0])/60),a.unshift(r%60),r>=60&&(r=Math.round((r-a[0])/60),a.unshift(r))),n+a.map(function(i){return i<10?"0"+String(i):String(i)}).join(":").replace(/000000\d*$/,"")},$E={identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:function(t,r,n){return p_(r,n.replace(/_/g,""))},stringify:WE},YE={identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:function(t,r,n){return p_(r,n.replace(/_/g,""))},stringify:WE},ZE={identify:function(t){return t instanceof Date},default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:function(t,r,n,a,i,o,l,s,f){s&&(s=(s+"00").substr(1,3));var u=Date.UTC(r,n-1,a,i||0,o||0,l||0,s||0);if(f&&f!=="Z"){var h=p_(f[0],f.slice(1));Math.abs(h)<30&&(h*=60),u-=6e4*h}return new Date(u)},stringify:function(t){var r=t.value;return r.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")}};function KE(e){var t=typeof process<"u"&&NU||{};return e?typeof YAML_SILENCE_DEPRECATION_WARNINGS<"u"?!YAML_SILENCE_DEPRECATION_WARNINGS:!t.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS<"u"?!YAML_SILENCE_WARNINGS:!t.YAML_SILENCE_WARNINGS}function XE(e,t){if(KE(!1)){var r=typeof process<"u"&&process.emitWarning;r?r(e,t):console.warn(t?"".concat(t,": ").concat(e):e)}}var pb={};function qU(e,t){if(!pb[e]&&KE(!0)){pb[e]=!0;var r="The option '".concat(e,"' will be removed in a future release");r+=", use '".concat(t,"' instead."),XE(r,"DeprecationWarning")}}function UU(e,t,r){var n=new ma(e);if(t instanceof Map){var a=rr(t),i;try{for(a.s();!(i=a.n()).done;){var o=yu(i.value,2),l=o[0],s=o[1];n.items.push(e.createPair(l,s,r))}}catch(c){a.e(c)}finally{a.f()}}else if(t&&Xa(t)==="object")for(var f=0,u=Object.keys(t);f<u.length;f++){var h=u[f];n.items.push(e.createPair(h,t[h],r))}return typeof e.sortMapEntries=="function"&&n.items.sort(e.sortMapEntries),n}var su={createNode:UU,default:!0,nodeClass:ma,tag:"tag:yaml.org,2002:map",resolve:NE};function GU(e,t,r){var n=new On(e);if(t&&t[Symbol.iterator]){var a=rr(t),i;try{for(a.s();!(i=a.n()).done;){var o=i.value,l=e.createNode(o,r.wrapScalars,null,r);n.items.push(l)}}catch(s){a.e(s)}finally{a.f()}}return n}var mh={createNode:GU,default:!0,nodeClass:On,tag:"tag:yaml.org,2002:seq",resolve:zE},WU={identify:function(t){return typeof t=="string"},default:!0,tag:"tag:yaml.org,2002:str",resolve:_u,stringify:function(t,r,n,a){return r=Object.assign({actualString:!0},r),g_(t,r,n,a)},options:gi},m_=[su,mh,WU],yh=function(t){return typeof t=="bigint"||Number.isInteger(t)},y_=function(t,r,n){return Ji.asBigInt?BigInt(t):parseInt(r,n)};function QE(e,t,r){var n=e.value;return yh(n)&&n>=0?r+n.toString(t):ci(e)}var JE={identify:function(t){return t==null},createNode:function(t,r,n){return n.wrapScalars?new Kt(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:Ds,stringify:function(){return Ds.nullStr}},jE={identify:function(t){return typeof t=="boolean"},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:function(t){return t[0]==="t"||t[0]==="T"},options:fi,stringify:function(t){var r=t.value;return r?fi.trueStr:fi.falseStr}},ek={identify:function(t){return yh(t)&&t>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:function(t,r){return y_(t,r,8)},options:Ji,stringify:function(t){return QE(t,8,"0o")}},tk={identify:yh,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:function(t){return y_(t,t,10)},options:Ji,stringify:ci},rk={identify:function(t){return yh(t)&&t>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:function(t,r){return y_(t,r,16)},options:Ji,stringify:function(t){return QE(t,16,"0x")}},ak={identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(t,r){return r?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:ci},nk={identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:function(t){return parseFloat(t)},stringify:function(t){var r=t.value;return Number(r).toExponential()}},ik={identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve:function(t,r,n){var a=r||n,i=new Kt(parseFloat(t));return a&&a[a.length-1]==="0"&&(i.minFractionDigits=a.length),i},stringify:ci},$U=m_.concat([JE,jE,ek,tk,rk,ak,nk,ik]),mb=function(t){return typeof t=="bigint"||Number.isInteger(t)},Gf=function(t){var r=t.value;return JSON.stringify(r)},ok=[su,mh,{identify:function(t){return typeof t=="string"},default:!0,tag:"tag:yaml.org,2002:str",resolve:_u,stringify:Gf},{identify:function(t){return t==null},createNode:function(t,r,n){return n.wrapScalars?new Kt(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:function(){return null},stringify:Gf},{identify:function(t){return typeof t=="boolean"},default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:function(t){return t==="true"},stringify:Gf},{identify:mb,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:function(t){return Ji.asBigInt?BigInt(t):parseInt(t,10)},stringify:function(t){var r=t.value;return mb(r)?r.toString():JSON.stringify(r)}},{identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:function(t){return parseFloat(t)},stringify:Gf}];ok.scalarFallback=function(e){throw new SyntaxError("Unresolved plain scalar ".concat(JSON.stringify(e)))};var yb=function(t){var r=t.value;return r?fi.trueStr:fi.falseStr},Yl=function(t){return typeof t=="bigint"||Number.isInteger(t)};function Wf(e,t,r){var n=t.replace(/_/g,"");if(Ji.asBigInt){switch(r){case 2:n="0b".concat(n);break;case 8:n="0o".concat(n);break;case 16:n="0x".concat(n);break}var a=BigInt(n);return e==="-"?BigInt(-1)*a:a}var i=parseInt(n,r);return e==="-"?-1*i:i}function fd(e,t,r){var n=e.value;if(Yl(n)){var a=n.toString(t);return n<0?"-"+r+a.substr(1):r+a}return ci(e)}var YU=m_.concat([{identify:function(t){return t==null},createNode:function(t,r,n){return n.wrapScalars?new Kt(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:Ds,stringify:function(){return Ds.nullStr}},{identify:function(t){return typeof t=="boolean"},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:function(){return!0},options:fi,stringify:yb},{identify:function(t){return typeof t=="boolean"},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:function(){return!1},options:fi,stringify:yb},{identify:Yl,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:function(t,r,n){return Wf(r,n,2)},stringify:function(t){return fd(t,2,"0b")}},{identify:Yl,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:function(t,r,n){return Wf(r,n,8)},stringify:function(t){return fd(t,8,"0")}},{identify:Yl,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:function(t,r,n){return Wf(r,n,10)},stringify:ci},{identify:Yl,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:function(t,r,n){return Wf(r,n,16)},stringify:function(t){return fd(t,16,"0x")}},{identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(t,r){return r?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:ci},{identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:function(t){return parseFloat(t.replace(/_/g,""))},stringify:function(t){var r=t.value;return Number(r).toExponential()}},{identify:function(t){return typeof t=="number"},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve:function(t,r){var n=new Kt(parseFloat(t.replace(/_/g,"")));if(r){var a=r.replace(/_/g,"");a[a.length-1]==="0"&&(n.minFractionDigits=a.length)}return n},stringify:ci}],VE,UE,qE,GE,$E,YE,ZE),ZU={core:$U,failsafe:m_,json:ok,yaml11:YU},KU={binary:VE,bool:jE,float:ik,floatExp:nk,floatNaN:ak,floatTime:YE,int:tk,intHex:rk,intOct:ek,intTime:$E,map:su,null:JE,omap:UE,pairs:qE,seq:mh,set:GE,timestamp:ZE};function XU(e,t,r){if(t){var n=r.filter(function(i){return i.tag===t}),a=n.find(function(i){return!i.format})||n[0];if(!a)throw new Error("Tag ".concat(t," not found"));return a}return r.find(function(i){return(i.identify&&i.identify(e)||i.class&&e instanceof i.class)&&!i.format})}function QU(e,t,r){if(e instanceof Pa)return e;var n=r.defaultPrefix,a=r.onTagObj,i=r.prevObjects,o=r.schema,l=r.wrapScalars;t&&t.startsWith("!!")&&(t=n+t.slice(2));var s=XU(e,t,o.tags);if(!s){if(typeof e.toJSON=="function"&&(e=e.toJSON()),Xa(e)!=="object")return l?new Kt(e):e;s=e instanceof Map?su:e[Symbol.iterator]?mh:su}a&&(a(s),delete r.onTagObj);var f={};if(e&&Xa(e)==="object"&&i){var u=i.get(e);if(u){var h=new di(u);return r.aliasNodes.push(h),h}f.value=e,i.set(e,f)}return f.node=s.createNode?s.createNode(r.schema,e,r):l?new Kt(e):e,t&&f.node instanceof Pa&&(f.node.tag=t),f.node}function JU(e,t,r,n){var a=e[n.replace(/\W/g,"")];if(!a){var i=Object.keys(e).map(function(v){return JSON.stringify(v)}).join(", ");throw new Error('Unknown schema "'.concat(n,'"; use one of ').concat(i))}if(Array.isArray(r)){var o=rr(r),l;try{for(o.s();!(l=o.n()).done;){var s=l.value;a=a.concat(s)}}catch(v){o.e(v)}finally{o.f()}}else typeof r=="function"&&(a=r(a.slice()));for(var f=0;f<a.length;++f){var u=a[f];if(typeof u=="string"){var h=t[u];if(!h){var c=Object.keys(t).map(function(v){return JSON.stringify(v)}).join(", ");throw new Error('Unknown custom tag "'.concat(u,'"; use one of ').concat(c))}a[f]=h}}return a}var jU=function(t,r){return t.key<r.key?-1:t.key>r.key?1:0},lu=function(){function e(t){var r=t.customTags,n=t.merge,a=t.schema,i=t.sortMapEntries,o=t.tags;qt(this,e),this.merge=!!n,this.name=a,this.sortMapEntries=i===!0?jU:i||null,!r&&o&&qU("tags","customTags"),this.tags=JU(ZU,KU,r||o,a)}return Ht(e,[{key:"createNode",value:function(r,n,a,i){var o={defaultPrefix:e.defaultPrefix,schema:this,wrapScalars:n},l=i?Object.assign(i,o):o;return QU(r,a,l)}},{key:"createPair",value:function(r,n,a){a||(a={wrapScalars:!0});var i=this.createNode(r,a.wrapScalars,null,a),o=this.createNode(n,a.wrapScalars,null,a);return new Ft(i,o)}}]),e}();Jr(lu,"defaultPrefix",Ic);Jr(lu,"defaultTags",qi);var Wc={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},e8={get binary(){return eu},set binary(e){Object.assign(eu,e)},get bool(){return fi},set bool(e){Object.assign(fi,e)},get int(){return Ji},set int(e){Object.assign(Ji,e)},get null(){return Ds},set null(e){Object.assign(Ds,e)},get str(){return gi},set str(e){Object.assign(gi,e)}},sk={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:Ic},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},"1.1":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Ic}]},"1.2":{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Ic}]}};function _b(e,t){if((e.version||e.options.version)==="1.0"){var r=t.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(r)return"!"+r[1];var n=t.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return n?"!".concat(n[1],"/").concat(n[2]):"!".concat(t.replace(/^tag:/,""))}var a=e.tagPrefixes.find(function(l){return t.indexOf(l.prefix)===0});if(!a){var i=e.getDefaults().tagPrefixes;a=i&&i.find(function(l){return t.indexOf(l.prefix)===0})}if(!a)return t[0]==="!"?t:"!<".concat(t,">");var o=t.substr(a.prefix.length).replace(/[!,[\]{}]/g,function(l){return{"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"}[l]});return a.handle+o}function t8(e,t){if(t instanceof di)return di;if(t.tag){var r=e.filter(function(l){return l.tag===t.tag});if(r.length>0)return r.find(function(l){return l.format===t.format})||r[0]}var n,a;if(t instanceof Kt){a=t.value;var i=e.filter(function(l){return l.identify&&l.identify(a)||l.class&&a instanceof l.class});n=i.find(function(l){return l.format===t.format})||i.find(function(l){return!l.format})}else a=t,n=e.find(function(l){return l.nodeClass&&a instanceof l.nodeClass});if(!n){var o=a&&a.constructor?a.constructor.name:Xa(a);throw new Error("Tag not resolved for ".concat(o," value"))}return n}function r8(e,t,r){var n=r.anchors,a=r.doc,i=[],o=a.anchors.getName(e);return o&&(n[o]=e,i.push("&".concat(o))),e.tag?i.push(_b(a,e.tag)):t.default||i.push(_b(a,t.tag)),i.join(" ")}function $f(e,t,r,n){var a=t.doc,i=a.anchors,o=a.schema,l;if(!(e instanceof Pa)){var s={aliasNodes:[],onTagObj:function(g){return l=g},prevObjects:new Map};e=o.createNode(e,!0,null,s);var f=rr(s.aliasNodes),u;try{for(f.s();!(u=f.n()).done;){var h=u.value;h.source=h.source.node;var c=i.getName(h.source);c||(c=i.newName(),i.map[c]=h.source)}}catch(m){f.e(m)}finally{f.f()}}if(e instanceof Ft)return e.toString(t,r,n);l||(l=t8(o.tags,e));var v=r8(e,l,t);v.length>0&&(t.indentAtStart=(t.indentAtStart||0)+v.length+1);var d=typeof l.stringify=="function"?l.stringify(e,t,r,n):e instanceof Kt?g_(e,t,r,n):e.toString(t,r,n);return v?e instanceof Kt||d[0]==="{"||d[0]==="["?"".concat(v," ").concat(d):"".concat(v,`
`).concat(t.indent).concat(d):d}var a8=function(){Ht(e,null,[{key:"validAnchorNode",value:function(r){return r instanceof Kt||r instanceof On||r instanceof ma}}]);function e(t){qt(this,e),Jr(this,"map",{}),this.prefix=t}return Ht(e,[{key:"createAlias",value:function(r,n){return this.setAnchor(r,n),new di(r)}},{key:"createMergePair",value:function(){for(var r=this,n=new PE,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n.value.items=i.map(function(l){if(l instanceof di){if(l.source instanceof ma)return l}else if(l instanceof ma)return r.createAlias(l);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}},{key:"getName",value:function(r){var n=this.map;return Object.keys(n).find(function(a){return n[a]===r})}},{key:"getNames",value:function(){return Object.keys(this.map)}},{key:"getNode",value:function(r){return this.map[r]}},{key:"newName",value:function(r){r||(r=this.prefix);for(var n=Object.keys(this.map),a=1;;++a){var i="".concat(r).concat(a);if(!n.includes(i))return i}}},{key:"resolveNodes",value:function(){var r=this.map,n=this._cstAliases;Object.keys(r).forEach(function(a){r[a]=r[a].resolved}),n.forEach(function(a){a.source=a.source.resolved}),delete this._cstAliases}},{key:"setAnchor",value:function(r,n){if(r!=null&&!e.validAnchorNode(r))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");var a=this.map,i=r&&Object.keys(a).find(function(o){return a[o]===r});if(i)if(n)i!==n&&(delete a[i],a[n]=r);else return i;else{if(!n){if(!r)return null;n=this.newName()}a[n]=r}return n}}]),e}(),n8=function e(t,r){if(t&&Xa(t)==="object"){var n=t.tag;t instanceof $r?(n&&(r[n]=!0),t.items.forEach(function(a){return e(a,r)})):t instanceof Ft?(e(t.key,r),e(t.value,r)):t instanceof Kt&&n&&(r[n]=!0)}return r},i8=function(t){return Object.keys(n8(t,{}))};function o8(e,t){var r={before:[],after:[]},n=void 0,a=!1,i=rr(t),o;try{for(i.s();!(o=i.n()).done;){var l=o.value;if(l.valueRange){if(n!==void 0){var s="Document contains trailing content not separated by a ... or --- line";e.errors.push(new jr(l,s));break}var f=Xi(e,l);a&&(f.spaceBefore=!0,a=!1),n=f}else if(l.comment!==null){var u=n===void 0?r.before:r.after;u.push(l.comment)}else l.type===Oe.BLANK_LINE&&(a=!0,n===void 0&&r.before.length>0&&!e.commentBefore&&(e.commentBefore=r.before.join(`
`),r.before=[]))}}catch(v){i.e(v)}finally{i.f()}if(e.contents=n||null,!n)e.comment=r.before.concat(r.after).join(`
`)||null;else{var h=r.before.join(`
`);if(h){var c=n instanceof $r&&n.items[0]?n.items[0]:n;c.commentBefore=c.commentBefore?"".concat(h,`
`).concat(c.commentBefore):h}e.comment=r.after.join(`
`)||null}}function s8(e,t){var r=e.tagPrefixes,n=yu(t.parameters,2),a=n[0],i=n[1];if(!a||!i){var o="Insufficient parameters given for %TAG directive";throw new St(t,o)}if(r.some(function(s){return s.handle===a})){var l="The %TAG directive must only be given at most once per handle in the same document.";throw new St(t,l)}return{handle:a,prefix:i}}function l8(e,t){var r=yu(t.parameters,1),n=r[0];if(t.name==="YAML:1.0"&&(n="1.0"),!n){var a="Insufficient parameters given for %YAML directive";throw new St(t,a)}if(!sk[n]){var i=e.version||e.options.version,o="Document will be parsed as YAML ".concat(i," rather than YAML ").concat(n);e.warnings.push(new Gs(t,o))}return n}function u8(e,t,r){var n=[],a=!1,i=rr(t),o;try{for(i.s();!(o=i.n()).done;){var l=o.value,s=l.comment,f=l.name;switch(f){case"TAG":try{e.tagPrefixes.push(s8(e,l))}catch(v){e.errors.push(v)}a=!0;break;case"YAML":case"YAML:1.0":if(e.version){var u="The %YAML directive must only be given at most once per document.";e.errors.push(new St(l,u))}try{e.version=l8(e,l)}catch(v){e.errors.push(v)}a=!0;break;default:if(f){var h="YAML only supports %TAG and %YAML directives, and not %".concat(f);e.warnings.push(new Gs(l,h))}}s&&n.push(s)}}catch(v){i.e(v)}finally{i.f()}if(r&&!a&&(e.version||r.version||e.options.version)==="1.1"){var c=function(d){var m=d.handle,g=d.prefix;return{handle:m,prefix:g}};e.tagPrefixes=r.tagPrefixes.map(c),e.version=r.version}e.commentBefore=n.join(`
`)||null}function ns(e){if(e instanceof $r)return!0;throw new Error("Expected a YAML collection as document contents")}var __=function(){function e(t){qt(this,e),this.anchors=new a8(t.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=t,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}return Ht(e,[{key:"add",value:function(r){return ns(this.contents),this.contents.add(r)}},{key:"addIn",value:function(r,n){ns(this.contents),this.contents.addIn(r,n)}},{key:"delete",value:function(r){return ns(this.contents),this.contents.delete(r)}},{key:"deleteIn",value:function(r){return $l(r)?this.contents==null?!1:(this.contents=null,!0):(ns(this.contents),this.contents.deleteIn(r))}},{key:"getDefaults",value:function(){return e.defaults[this.version]||e.defaults[this.options.version]||{}}},{key:"get",value:function(r,n){return this.contents instanceof $r?this.contents.get(r,n):void 0}},{key:"getIn",value:function(r,n){return $l(r)?!n&&this.contents instanceof Kt?this.contents.value:this.contents:this.contents instanceof $r?this.contents.getIn(r,n):void 0}},{key:"has",value:function(r){return this.contents instanceof $r?this.contents.has(r):!1}},{key:"hasIn",value:function(r){return $l(r)?this.contents!==void 0:this.contents instanceof $r?this.contents.hasIn(r):!1}},{key:"set",value:function(r,n){ns(this.contents),this.contents.set(r,n)}},{key:"setIn",value:function(r,n){$l(r)?this.contents=n:(ns(this.contents),this.contents.setIn(r,n))}},{key:"setSchema",value:function(r,n){if(!(!r&&!n&&this.schema)){typeof r=="number"&&(r=r.toFixed(1)),r==="1.0"||r==="1.1"||r==="1.2"?(this.version?this.version=r:this.options.version=r,delete this.options.schema):r&&typeof r=="string"&&(this.options.schema=r),Array.isArray(n)&&(this.options.customTags=n);var a=Object.assign({},this.getDefaults(),this.options);this.schema=new lu(a)}}},{key:"parse",value:function(r,n){this.options.keepCstNodes&&(this.cstNode=r),this.options.keepNodeTypes&&(this.type="DOCUMENT");var a=r.directives,i=a===void 0?[]:a,o=r.contents,l=o===void 0?[]:o,s=r.directivesEndMarker,f=r.error,u=r.valueRange;if(f&&(f.source||(f.source=this),this.errors.push(f)),u8(this,i,n),s&&(this.directivesEndMarker=!0),this.range=u?[u.start,u.end]:null,this.setSchema(),this.anchors._cstAliases=[],o8(this,l),this.anchors.resolveNodes(),this.options.prettyErrors){var h=rr(this.errors),c;try{for(h.s();!(c=h.n()).done;){var v=c.value;v instanceof Ps&&v.makePretty()}}catch(p){h.e(p)}finally{h.f()}var d=rr(this.warnings),m;try{for(d.s();!(m=d.n()).done;){var g=m.value;g instanceof Ps&&g.makePretty()}}catch(p){d.e(p)}finally{d.f()}}return this}},{key:"listNonDefaultTags",value:function(){return i8(this.contents).filter(function(r){return r.indexOf(lu.defaultPrefix)!==0})}},{key:"setTagPrefix",value:function(r,n){if(r[0]!=="!"||r[r.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){var a=this.tagPrefixes.find(function(i){return i.handle===r});a?a.prefix=n:this.tagPrefixes.push({handle:r,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(function(i){return i.handle!==r})}},{key:"toJSON",value:function(r,n){var a=this,i=this.options,o=i.keepBlobsInJSON,l=i.mapAsMap,s=i.maxAliasCount,f=o&&(typeof r!="string"||!(this.contents instanceof Kt)),u={doc:this,indentStep:"  ",keep:f,mapAsMap:f&&!!l,maxAliasCount:s,stringify:$f},h=Object.keys(this.anchors.map);h.length>0&&(u.anchors=new Map(h.map(function(y){return[a.anchors.map[y],{alias:[],aliasCount:0,count:1}]})));var c=hn(this.contents,r,u);if(typeof n=="function"&&u.anchors){var v=rr(u.anchors.values()),d;try{for(v.s();!(d=v.n()).done;){var m=d.value,g=m.count,p=m.res;n(p,g)}}catch(y){v.e(y)}finally{v.f()}}return c}},{key:"toString",value:function(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");var r=this.options.indent;if(!Number.isInteger(r)||r<=0){var n=JSON.stringify(r);throw new Error('"indent" option must be a positive integer, not '.concat(n))}this.setSchema();var a=[],i=!1;if(this.version){var o="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?o="%YAML:1.0":this.version==="1.1"&&(o="%YAML 1.1")),a.push(o),i=!0}var l=this.listNonDefaultTags();this.tagPrefixes.forEach(function(v){var d=v.handle,m=v.prefix;l.some(function(g){return g.indexOf(m)===0})&&(a.push("%TAG ".concat(d," ").concat(m)),i=!0)}),(i||this.directivesEndMarker)&&a.push("---"),this.commentBefore&&((i||!this.directivesEndMarker)&&a.unshift(""),a.unshift(this.commentBefore.replace(/^/gm,"#")));var s={anchors:{},doc:this,indent:"",indentStep:" ".repeat(r),stringify:$f},f=!1,u=null;if(this.contents){this.contents instanceof Pa&&(this.contents.spaceBefore&&(i||this.directivesEndMarker)&&a.push(""),this.contents.commentBefore&&a.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,u=this.contents.comment);var h=u?null:function(){return f=!0},c=$f(this.contents,s,function(){return u=null},h);a.push(_s(c,"",u))}else this.contents!==void 0&&a.push($f(this.contents,s));return this.comment&&((!f||u)&&a[a.length-1]!==""&&a.push(""),a.push(this.comment.replace(/^/gm,"#"))),a.join(`
`)+`
`}}]),e}();Jr(__,"defaults",sk);function f8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2?arguments[2]:void 0;r===void 0&&typeof t=="string"&&(r=t,t=!0);var n=Object.assign({},__.defaults[Wc.version],Wc),a=new lu(n);return a.createNode(e,t,r)}var _h=function(e){ar(r,e);var t=nr(r);function r(n){return qt(this,r),t.call(this,Object.assign({},Wc,n))}return r}(__);function c8(e,t){var r=[],n,a=rr(h_(e)),i;try{for(a.s();!(i=a.n()).done;){var o=i.value,l=new _h(t);l.parse(o,n),r.push(l),n=l}}catch(s){a.e(s)}finally{a.f()}return r}function lk(e,t){var r=h_(e),n=new _h(t).parse(r[0]);if(r.length>1){var a="Source contains multiple documents; please use YAML.parseAllDocuments()";n.errors.unshift(new St(r[1],a))}return n}function h8(e,t){var r=lk(e,t);if(r.warnings.forEach(function(n){return XE(n)}),r.errors.length>0)throw r.errors[0];return r.toJSON()}function v8(e,t){var r=new _h(t);return r.contents=e,String(r)}var d8={createNode:f8,defaultOptions:Wc,Document:_h,parse:h8,parseAllDocuments:c8,parseCST:h_,parseDocument:lk,scalarOptions:e8,stringify:v8};const g8=Object.freeze(Object.defineProperty({__proto__:null,YAML:d8},Symbol.toStringTag,{value:"Module"})),p8=Nq(g8);var xb=p8.YAML,x_={exports:{}},bs=typeof Reflect=="object"?Reflect:null,wb=bs&&typeof bs.apply=="function"?bs.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Rc;bs&&typeof bs.ownKeys=="function"?Rc=bs.ownKeys:Object.getOwnPropertySymbols?Rc=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Rc=function(t){return Object.getOwnPropertyNames(t)};function m8(e){console&&console.warn&&console.warn(e)}var uk=Number.isNaN||function(t){return t!==t};function Jt(){Jt.init.call(this)}x_.exports=Jt;x_.exports.once=w8;Jt.EventEmitter=Jt;Jt.prototype._events=void 0;Jt.prototype._eventsCount=0;Jt.prototype._maxListeners=void 0;var Sb=10;function xh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Jt,"defaultMaxListeners",{enumerable:!0,get:function(){return Sb},set:function(e){if(typeof e!="number"||e<0||uk(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Sb=e}});Jt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Jt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||uk(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function fk(e){return e._maxListeners===void 0?Jt.defaultMaxListeners:e._maxListeners}Jt.prototype.getMaxListeners=function(){return fk(this)};Jt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=t==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var s=i[t];if(s===void 0)return!1;if(typeof s=="function")wb(s,this,r);else for(var f=s.length,u=gk(s,f),n=0;n<f;++n)wb(u[n],this,r);return!0};function ck(e,t,r,n){var a,i,o;if(xh(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),o===void 0)o=i[t]=r,++e._eventsCount;else if(typeof o=="function"?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),a=fk(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,m8(l)}return e}Jt.prototype.addListener=function(t,r){return ck(this,t,r,!1)};Jt.prototype.on=Jt.prototype.addListener;Jt.prototype.prependListener=function(t,r){return ck(this,t,r,!0)};function y8(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hk(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=y8.bind(n);return a.listener=r,n.wrapFn=a,a}Jt.prototype.once=function(t,r){return xh(r),this.on(t,hk(this,t,r)),this};Jt.prototype.prependOnceListener=function(t,r){return xh(r),this.prependListener(t,hk(this,t,r)),this};Jt.prototype.removeListener=function(t,r){var n,a,i,o,l;if(xh(r),a=this._events,a===void 0)return this;if(n=a[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){l=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():_8(n,i),n.length===1&&(a[t]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this};Jt.prototype.off=Jt.prototype.removeListener;Jt.prototype.removeAllListeners=function(t){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),o;for(a=0;a<i.length;++a)o=i[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(t,r[a]);return this};function vk(e,t,r){var n=e._events;if(n===void 0)return[];var a=n[t];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?x8(a):gk(a,a.length)}Jt.prototype.listeners=function(t){return vk(this,t,!0)};Jt.prototype.rawListeners=function(t){return vk(this,t,!1)};Jt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):dk.call(e,t)};Jt.prototype.listenerCount=dk;function dk(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Jt.prototype.eventNames=function(){return this._eventsCount>0?Rc(this._events):[]};function gk(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function _8(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function x8(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function w8(e,t){return new Promise(function(r,n){function a(){i!==void 0&&e.removeListener("error",i),r([].slice.call(arguments))}var i;t!=="error"&&(i=function(l){e.removeListener(t,a),n(l)},e.once("error",i)),e.once(t,a)})}var S8=x_.exports;const b8=e=>new Promise(t=>setTimeout(t,e));class A8 extends S8.EventEmitter{constructor(r){super();La(this,"worker");this.worker=r,this.worker.onmessage=n=>{const a=n.data||n;this.log(`< ${a}`),this.onMessage(a)}}log(r){this.emit("log",r)}postMessage(r){this.worker.postMessage(r),this.log(""),this.log(`> ${r}`)}terminate(){this.worker.terminate()}}const T8=100,bb=e=>e.match(/([a-h][1-8])([a-h][1-8])([qrbn])?/).slice(1);class d1 extends A8{constructor(r){super(r);La(this,"evalHandler");La(this,"bestMoveHandler");La(this,"infoHandler");La(this,"readyOKHandler");La(this,"cacheDict",{});La(this,"buzy",!1);La(this,"lastRequest");La(this,"lastResponse")}async waitReady(){let r=!1;for(;!r;)this.postMessage("isready"),r=await Promise.race([new Promise(n=>this.readyOKHandler=n),new Promise(n=>setTimeout(n,1e3))]);this.buzy=!1}newGame(){return this.postMessage("ucinewgame"),this.waitReady()}stop(){return this.postMessage("stop"),this.waitReady()}setOptions(r){Object.entries(r).forEach(([n,a])=>this.postMessage(`setoption name ${n} value ${a}`))}async evaluate(r){this.buzy=!0,this.postMessage("position fen "+r),this.postMessage("eval");const n=await new Promise(a=>this.evalHandler=a);return this.buzy=!1,n}async go(r,{depth:n=null,movetime:a=null}={}){this.buzy=!0,this.postMessage("position fen "+r);let i="";n&&(i+=` depth ${n}`),Number.isFinite(a)&&(i+=` movetime ${a}`),this.postMessage("go"+i);const o=[];this.infoHandler=s=>o[s.multipv-1]={move:s.pv&&s.pv[0],scoreCP:s.scoreCP,scoreMate:s.scoreMate,pv:s.pv,depth:s.depth,bmc:s.bmc};const l=await new Promise(s=>this.bestMoveHandler=s);return this.buzy=!1,{bestMove:l,pvs:o}}goPonder(r,n){this.buzy=!0,this.postMessage("position fen "+r);let a=[];this.infoHandler=i=>{i.multipv===1&&(a.length&&n(a),a=[]),a[i.multipv-1]={move:i.pv&&i.pv[0],scoreCP:i.scoreCP,scoreMate:i.scoreMate,pv:i.pv,depth:i.depth,bmc:i.bmc}},this.postMessage("go ponder")}postMessage(r){this.lastRequest=r,super.postMessage(r)}onMessage(r){if(this.lastResponse=r,/Total \|/.test(r)){const n=r.match(/([-\d.]+)/g),[a,i]=n.slice(n.length-2);this.cacheDict.totalMG=Number(a),this.cacheDict.totalEG=Number(i)}else if(/^Total evaluation: [-\d.]+/.test(r)){const[n,a]=r.match(/\s([-\d.]+)/);this.evalHandler&&this.evalHandler({total:Number(a),totalMG:this.cacheDict.totalMG,totalEG:this.cacheDict.totalEG})}else if(/^bestmove /.test(r)){const[n,a]=r.match(/bestmove\s(\w+)/)||[null,null];this.bestMoveHandler&&this.bestMoveHandler(a&&bb(a))}else if(/^info depth /.test(r)){const[n,a]=r.match(/depth\s(\d+)/),i=r.match(/[a-h][1-8][a-h][1-8][qrbn]?/g),[o,l]=r.match(/bmc\s([-\d.]+)/)||[null,null],[s,f]=r.match(/multipv\s([\d]+)/)||[null,null],[u,h=void 0]=r.match(/score cp\s([-\d]+)/)||[null],[c,v=void 0]=r.match(/score mate\s([-\d]+)/)||[null];if(this.infoHandler){const d=i&&i.map(bb);this.infoHandler({depth:Number(a),multipv:Number(f),scoreCP:Number(h),scoreMate:Number(v),pv:d,bmc:Number(l)})}}else r==="readyok"&&this.readyOKHandler&&this.readyOKHandler(!0)}}class C8 extends d1{constructor(r,{thinkerCount:n=3,multiPV:a=40}={}){super(r());La(this,"thinkers");La(this,"analyzingIndex",0);this.thinkers=Array(n).fill(null).map(()=>new d1(r())),this.thinkers.forEach(i=>i.setOptions({MultiPV:a}))}terminate(){this.worker.terminate(),this.thinkers.forEach(r=>r.terminate()),this.emit("log","- Analyzer terminated.")}async newGame(){await Promise.all(this.thinkers.map(r=>r.newGame()))}async getIdleThinker(){for(;;){for(let r=0;r<this.thinkers.length;++r)if(!this.thinkers[r].buzy)return this.emit("log",`< Thinker[${r}].`),this.thinkers[r];await b8(10)}}async analyze(r){++this.analyzingIndex;const n=this.analyzingIndex;let a=null;const i=await this.getIdleThinker();for(i.goPonder(r,o=>{a&&a(o)}),this.emit("log","> Analyzer pondering.");;){const o=await new Promise(u=>a=u);if(this.analyzingIndex!==n)break;const l=o[0].pv.slice(0,2);this.emit("log",`< a: depth ${o[0].depth} score ${Number.isFinite(o[0].scoreCP)?o[0].scoreCP:"m"+o[0].scoreMate} best ${l.map(u=>u.join("")).join(" ")}`);const s=o.map(u=>{const h=Number.isFinite(u.scoreCP)?u.scoreCP*.01:T8*Math.sign(u.scoreMate)-u.scoreMate;return{move:u.move,value:h,pv:u.pv,bmc:u.bmc}}),f=o[0];this.emit("analyzation",{fen:r,branches:s,best:f})}await i.stop()}async evaluateFinite(r,n){return(await this.go(r,{depth:n})).pvs[0]}async analyzeStop(){++this.analyzingIndex}}class M8 extends d1{constructor(r){super(r);La(this,"movetime",null)}async think(r){const n=await super.go(r,{movetime:this.movetime});return n&&n.bestMove}}class L8{terminate(){}on(){}think(t){const n=new Hi.Chess(t).moves({verbose:!0});if(n.length){const a=n[Math.floor(n.length*Math.random())];return Promise.resolve([a.from,a.to,a.promotion])}return null}}const Ab={Stockfish(){return new C8(()=>new Worker("chess/engines/stockfish.js"),{multiPV:24})}},cd={Stockfish(){return new M8(new Worker("chess/engines/stockfish.js"))},Random(){return new L8}},I8=" 1/2-1/2",$c=`

`,pk=e=>{const t=e.moves({verbose:!0});return t.forEach(r=>r.key=`${r.from}${r.to}${r.promotion||""}`),t.sort((r,n)=>r>n?1:-1),t},P8=e=>{let t=0,r=0;const n=[];return e.forEach(a=>{for(t|=a.index<<r,r+=a.bits;r>=8;)n.push(t&255),r-=8,t>>=8}),t&&n.push(t),n},D8=(e,t)=>{let r=0,n=0;for(;t.length||r;){const a=pk(e),i=Math.ceil(Math.log2(a.length));for(;i>n;){const l=t.shift();r|=l<<n,n+=8}const o=r&(1<<i)-1;if(n-=i,r>>=i,console.assert(o<a.length,e.history(),a,o,t),o>=a.length)throw new Error("invalid move codes");e.move(a[o])}},R8=e=>{const t=new Hi.Chess;t.load_pgn(e);const r=t.history().length,n=[];for(let l=0;l<r;++l){const s=t.undo(),f=pk(t),u=f.findIndex(c=>c.san===s.san),h=Math.ceil(Math.log2(f.length));n.unshift({index:u,bits:h})}const a=P8(n),i=btoa(a.map(l=>String.fromCharCode(l)).join("")),o=e.split($c);return o.length>1?[o[0],i].join($c):i},E8=e=>{const t=new Hi.Chess;let r=e;const n=e.split($c);if(n.length>1){const o=n[0]+$c+I8;t.load_pgn(o),r=n[1]}const a=atob(r).split("").map(o=>o.charCodeAt(0));return D8(t,a),t.pgn()},k8={name:"bool-store-input",components:{StoreInput:pE},props:{value:Boolean,localKey:String,sessionKey:String},computed:{numberValue:{get(){return this.value?1:0},set(e){this.$emit("input",e!==0)}},boolValue:{get(){return this.value},set(e){this.$emit("input",e)}}}};function O8(e,t,r,n,a,i){const o=ms("StoreInput");return Dt(),Et("span",null,[Rr(ga(o,{type:"number",modelValue:i.numberValue,"onUpdate:modelValue":t[0]||(t[0]=l=>i.numberValue=l),localKey:r.localKey,sessionKey:r.sessionKey},null,8,["modelValue","localKey","sessionKey"]),[[Ua,!1]]),Rr(Ke("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=l=>i.boolValue=l)},null,512),[[Dq,i.boolValue]])])}const B8=hh(k8,[["render",O8]]);var mk={},Ge={},pi={},N8=2311;function z8(){return N8++}var yk=z8,Zl={};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?Zl={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?Zl={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?Zl={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:Zl=F8(navigator.userAgent);var V8=Zl;function F8(e){var t={},r={},n=e.match(/Firefox\/([\d.]+)/),a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(e);return n&&(r.firefox=!0,r.version=n[1]),a&&(r.ie=!0,r.version=a[1]),i&&(r.edge=!0,r.version=i[1]),o&&(r.weChat=!0),{browser:r,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11),domSupported:typeof document<"u"}}var Sr=V8,ne={},_k={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},xk={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},xu=Object.prototype.toString,wu=Array.prototype,H8=wu.forEach,q8=wu.filter,uu=wu.slice,U8=wu.map,G8=wu.reduce,w_={};function W8(e,t){e==="createCanvas"&&(Ec=null),w_[e]=t}function As(e){if(e==null||typeof e!="object")return e;var t=e,r=xu.call(e);if(r==="[object Array]"){if(!Ts(e)){t=[];for(var n=0,a=e.length;n<a;n++)t[n]=As(e[n])}}else if(xk[r]){if(!Ts(e)){var i=e.constructor;if(e.constructor.from)t=i.from(e);else{t=new i(e.length);for(var n=0,a=e.length;n<a;n++)t[n]=As(e[n])}}}else if(!_k[r]&&!Ts(e)&&!Zc(e)){t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=As(e[o]))}return t}function S_(e,t,r){if(!Kl(t)||!Kl(e))return r?As(t):e;for(var n in t)if(t.hasOwnProperty(n)){var a=e[n],i=t[n];Kl(i)&&Kl(a)&&!Yc(i)&&!Yc(a)&&!Zc(i)&&!Zc(a)&&!g1(i)&&!g1(a)&&!Ts(i)&&!Ts(a)?S_(a,i,r):(r||!(n in e))&&(e[n]=As(t[n]))}return e}function $8(e,t){for(var r=e[0],n=1,a=e.length;n<a;n++)r=S_(r,e[n],t);return r}function Y8(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function wk(e,t,r){for(var n in t)t.hasOwnProperty(n)&&(r?t[n]!=null:e[n]==null)&&(e[n]=t[n]);return e}var Sk=function(){return w_.createCanvas()};w_.createCanvas=function(){return document.createElement("canvas")};var Ec;function Z8(){return Ec||(Ec=Sk().getContext("2d")),Ec}function K8(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function X8(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var a in r)r.hasOwnProperty(a)&&(e.prototype[a]=r[a]);e.prototype.constructor=e,e.superClass=t}function Q8(e,t,r){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,wk(e,t,r)}function J8(e){if(e)return typeof e=="string"?!1:typeof e.length=="number"}function bk(e,t,r){if(e&&t)if(e.forEach&&e.forEach===H8)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,a=e.length;n<a;n++)t.call(r,e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(r,e[i],i,e)}function j8(e,t,r){if(e&&t){if(e.map&&e.map===U8)return e.map(t,r);for(var n=[],a=0,i=e.length;a<i;a++)n.push(t.call(r,e[a],a,e));return n}}function eG(e,t,r,n){if(e&&t){if(e.reduce&&e.reduce===G8)return e.reduce(t,r,n);for(var a=0,i=e.length;a<i;a++)r=t.call(n,r,e[a],a,e);return r}}function tG(e,t,r){if(e&&t){if(e.filter&&e.filter===q8)return e.filter(t,r);for(var n=[],a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e)&&n.push(e[a]);return n}}function rG(e,t,r){if(e&&t){for(var n=0,a=e.length;n<a;n++)if(t.call(r,e[n],n,e))return e[n]}}function Ak(e,t){var r=uu.call(arguments,2);return function(){return e.apply(t,r.concat(uu.call(arguments)))}}function aG(e){var t=uu.call(arguments,1);return function(){return e.apply(this,t.concat(uu.call(arguments)))}}function Yc(e){return xu.call(e)==="[object Array]"}function nG(e){return typeof e=="function"}function iG(e){return xu.call(e)==="[object String]"}function Kl(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function g1(e){return!!_k[xu.call(e)]}function oG(e){return!!xk[xu.call(e)]}function Zc(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function sG(e){return e!==e}function lG(e){for(var t=0,r=arguments.length;t<r;t++)if(arguments[t]!=null)return arguments[t]}function uG(e,t){return e??t}function fG(e,t,r){return e??t??r}function cG(){return Function.call.apply(uu,arguments)}function hG(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function vG(e,t){if(!e)throw new Error(t)}function dG(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Tk="__ec_primitive__";function gG(e){e[Tk]=!0}function Ts(e){return e[Tk]}function Kc(e){var t=Yc(e);this.data={};var r=this;e instanceof Kc?e.each(n):e&&bk(e,n);function n(a,i){t?r.set(a,i):r.set(i,a)}}Kc.prototype={constructor:Kc,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){t!==void 0&&(e=Ak(e,t));for(var r in this.data)this.data.hasOwnProperty(r)&&e(this.data[r],r)},removeKey:function(e){delete this.data[e]}};function pG(e){return new Kc(e)}function mG(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];var a=e.length;for(n=0;n<t.length;n++)r[n+a]=t[n];return r}function yG(){}ne.$override=W8;ne.clone=As;ne.merge=S_;ne.mergeAll=$8;ne.extend=Y8;ne.defaults=wk;ne.createCanvas=Sk;ne.getContext=Z8;ne.indexOf=K8;ne.inherits=X8;ne.mixin=Q8;ne.isArrayLike=J8;ne.each=bk;ne.map=j8;ne.reduce=eG;ne.filter=tG;ne.find=rG;ne.bind=Ak;ne.curry=aG;ne.isArray=Yc;ne.isFunction=nG;ne.isString=iG;ne.isObject=Kl;ne.isBuiltInObject=g1;ne.isTypedArray=oG;ne.isDom=Zc;ne.eqNaN=sG;ne.retrieve=lG;ne.retrieve2=uG;ne.retrieve3=fG;ne.slice=cG;ne.normalizeCssArray=hG;ne.assert=vG;ne.trim=dG;ne.setAsPrimitive=gG;ne.isPrimitive=Ts;ne.createHashMap=pG;ne.concatArray=mG;ne.noop=yG;var tr={},Tb;function sr(){if(Tb)return tr;Tb=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(M,I){var P=new e(2);return M==null&&(M=0),I==null&&(I=0),P[0]=M,P[1]=I,P}function r(M,I){return M[0]=I[0],M[1]=I[1],M}function n(M){var I=new e(2);return I[0]=M[0],I[1]=M[1],I}function a(M,I,P){return M[0]=I,M[1]=P,M}function i(M,I,P){return M[0]=I[0]+P[0],M[1]=I[1]+P[1],M}function o(M,I,P,D){return M[0]=I[0]+P[0]*D,M[1]=I[1]+P[1]*D,M}function l(M,I,P){return M[0]=I[0]-P[0],M[1]=I[1]-P[1],M}function s(M){return Math.sqrt(u(M))}var f=s;function u(M){return M[0]*M[0]+M[1]*M[1]}var h=u;function c(M,I,P){return M[0]=I[0]*P[0],M[1]=I[1]*P[1],M}function v(M,I,P){return M[0]=I[0]/P[0],M[1]=I[1]/P[1],M}function d(M,I){return M[0]*I[0]+M[1]*I[1]}function m(M,I,P){return M[0]=I[0]*P,M[1]=I[1]*P,M}function g(M,I){var P=s(I);return P===0?(M[0]=0,M[1]=0):(M[0]=I[0]/P,M[1]=I[1]/P),M}function p(M,I){return Math.sqrt((M[0]-I[0])*(M[0]-I[0])+(M[1]-I[1])*(M[1]-I[1]))}var y=p;function x(M,I){return(M[0]-I[0])*(M[0]-I[0])+(M[1]-I[1])*(M[1]-I[1])}var A=x;function w(M,I){return M[0]=-I[0],M[1]=-I[1],M}function b(M,I,P,D){return M[0]=I[0]+D*(P[0]-I[0]),M[1]=I[1]+D*(P[1]-I[1]),M}function S(M,I,P){var D=I[0],k=I[1];return M[0]=P[0]*D+P[2]*k+P[4],M[1]=P[1]*D+P[3]*k+P[5],M}function T(M,I,P){return M[0]=Math.min(I[0],P[0]),M[1]=Math.min(I[1],P[1]),M}function C(M,I,P){return M[0]=Math.max(I[0],P[0]),M[1]=Math.max(I[1],P[1]),M}return tr.create=t,tr.copy=r,tr.clone=n,tr.set=a,tr.add=i,tr.scaleAndAdd=o,tr.sub=l,tr.len=s,tr.length=f,tr.lenSquare=u,tr.lengthSquare=h,tr.mul=c,tr.div=v,tr.dot=d,tr.scale=m,tr.normalize=g,tr.distance=p,tr.dist=y,tr.distanceSquare=x,tr.distSquare=A,tr.negate=w,tr.lerp=b,tr.applyTransform=S,tr.min=T,tr.max=C,tr}function p1(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}p1.prototype={constructor:p1,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(is(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,n=e.offsetY,a=r-this._x,i=n-this._y;this._x=r,this._y=n,t.drift(a,i,e),this.dispatchToElement(is(t,e),"drag",e.event);var o=this.findHover(r,n,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.dispatchToElement(is(l,e),"dragleave",e.event),o&&o!==l&&this.dispatchToElement(is(o,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(is(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(is(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};function is(e,t){return{target:e,topTarget:t&&t.topTarget}}var _G=p1,xG=_G,Cb=Array.prototype.slice,m1=function(e){this._$handlers={},this._$eventProcessor=e};m1.prototype={constructor:m1,one:function(e,t,r,n){return Mb(this,e,t,r,n,!0)},on:function(e,t,r,n){return Mb(this,e,t,r,n,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var r=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var n=[],a=0,i=r[e].length;a<i;a++)r[e][a].h!==t&&n.push(r[e][a]);r[e]=n}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},trigger:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var n=arguments,a=n.length;a>3&&(n=Cb.call(n,1));for(var i=t.length,o=0;o<i;){var l=t[o];if(r&&r.filter&&l.query!=null&&!r.filter(e,l.query)){o++;continue}switch(a){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,n[1]);break;case 3:l.h.call(l.ctx,n[1],n[2]);break;default:l.h.apply(l.ctx,n);break}l.one?(t.splice(o,1),i--):o++}}return r&&r.afterTrigger&&r.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var n=arguments,a=n.length;a>4&&(n=Cb.call(n,1,n.length-1));for(var i=n[n.length-1],o=t.length,l=0;l<o;){var s=t[l];if(r&&r.filter&&s.query!=null&&!r.filter(e,s.query)){l++;continue}switch(a){case 1:s.h.call(i);break;case 2:s.h.call(i,n[1]);break;case 3:s.h.call(i,n[1],n[2]);break;default:s.h.apply(i,n);break}s.one?(t.splice(l,1),o--):l++}}return r&&r.afterTrigger&&r.afterTrigger(e),this}};function wG(e,t){var r=e._$eventProcessor;return t!=null&&r&&r.normalizeQuery&&(t=r.normalizeQuery(t)),t}function Mb(e,t,r,n,a,i){var o=e._$handlers;if(typeof r=="function"&&(a=n,n=r,r=null),!n||!t)return e;r=wG(e,r),o[t]||(o[t]=[]);for(var l=0;l<o[t].length;l++)if(o[t][l].h===n)return e;var s={h:n,one:i,query:r,ctx:a||e,callAtLast:n.zrEventfulCallAtLast},f=o[t].length-1,u=o[t][f];return u&&u.callAtLast?o[t].splice(f,0,s):o[t].push(s),e}var SG=m1,Oo=SG,kr={},Su={},Ck={},bG=Math.log(2);function y1(e,t,r,n,a,i){var o=n+"-"+a,l=e.length;if(i.hasOwnProperty(o))return i[o];if(t===1){var s=Math.round(Math.log((1<<l)-1&~a)/bG);return e[r][s]}for(var f=n|1<<r,u=r+1;n&1<<u;)u++;for(var h=0,c=0,v=0;c<l;c++){var d=1<<c;d&a||(h+=(v%2?-1:1)*e[r][c]*y1(e,t-1,u,f,a|d,i),v++)}return i[o]=h,h}function AG(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},a=y1(r,8,0,0,0,n);if(a!==0){for(var i=[],o=0;o<8;o++)for(var l=0;l<8;l++)i[l]==null&&(i[l]=0),i[l]+=((o+l)%2?-1:1)*y1(r,7,o===0?1:0,1<<o,1<<l,n)/a*t[o];return function(s,f,u){var h=f*i[6]+u*i[7]+1;s[0]=(f*i[0]+u*i[1]+i[2])/h,s[1]=(f*i[3]+u*i[4]+i[5])/h}}}Ck.buildTransformer=AG;var TG=Sr,CG=Ck,Lb=CG.buildTransformer,Ib="___zrEVENTSAVED",hd=[];function MG(e,t,r,n,a){return _1(hd,t,n,a,!0)&&_1(e,r,hd[0],hd[1])}function _1(e,t,r,n,a){if(t.getBoundingClientRect&&TG.domSupported&&!Mk(t)){var i=t[Ib]||(t[Ib]={}),o=LG(t,i),l=IG(o,i,a);if(l)return l(e,r,n),!0}return!1}function LG(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],a=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),l=o.style,s=i%2,f=(i>>1)%2;l.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[s]+":0",a[f]+":0",n[1-s]+":auto",a[1-f]+":auto",""].join("!important;"),e.appendChild(o),r.push(o)}return r}function IG(e,t,r){for(var n=r?"invTrans":"trans",a=t[n],i=t.srcCoords,o=!0,l=[],s=[],f=0;f<4;f++){var u=e[f].getBoundingClientRect(),h=2*f,c=u.left,v=u.top;l.push(c,v),o=o&&i&&c===i[h]&&v===i[h+1],s.push(e[f].offsetLeft,e[f].offsetTop)}return o&&a?a:(t.srcCoords=l,t[n]=r?Lb(s,l):Lb(l,s))}function Mk(e){return e.nodeName.toUpperCase()==="CANVAS"}Su.transformLocalCoord=MG;Su.transformCoordWithViewport=_1;Su.isCanvasEl=Mk;var PG=Oo;kr.Dispatcher=PG;var x1=Sr,Lk=Su,DG=Lk.isCanvasEl,RG=Lk.transformCoordWithViewport,b_=typeof window<"u"&&!!window.addEventListener,EG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vd=[];function w1(e,t,r,n){return r=r||{},n||!x1.canvasSupported?Pb(e,t,r):x1.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):Pb(e,t,r),r}function Pb(e,t,r){if(x1.domSupported&&e.getBoundingClientRect){var n=t.clientX,a=t.clientY;if(DG(e)){var i=e.getBoundingClientRect();r.zrX=n-i.left,r.zrY=a-i.top;return}else if(RG(vd,e,n,a)){r.zrX=vd[0],r.zrY=vd[1];return}}r.zrX=r.zrY=0}function Ik(e){return e||window.event}function kG(e,t,r){if(t=Ik(t),t.zrX!=null)return t;var n=t.type,a=n&&n.indexOf("touch")>=0;if(!a)w1(e,t,t,r),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;else{var i=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];i&&w1(e,i,t,r)}var o=t.button;return t.which==null&&o!==void 0&&EG.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function OG(e,t,r,n){b_?e.addEventListener(t,r,n):e.attachEvent("on"+t,r)}function BG(e,t,r,n){b_?e.removeEventListener(t,r,n):e.detachEvent("on"+t,r)}var NG=b_?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function zG(e){return e.which===2||e.which===3}function VG(e){return e.which>1}kr.clientToLocal=w1;kr.getNativeEvent=Ik;kr.normalizeEvent=kG;kr.addEventListener=OG;kr.removeEventListener=BG;kr.stop=NG;kr.isMiddleOrRightButtonOnMouseUpDown=zG;kr.notLeftMouse=VG;var FG=kr,S1=function(){this._track=[]};S1.prototype={constructor:S1,recognize:function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,r){var n=e.touches;if(n){for(var a={points:[],touches:[],target:t,event:e},i=0,o=n.length;i<o;i++){var l=n[i],s=FG.clientToLocal(r,l,{});a.points.push([s.zrX,s.zrY]),a.touches.push(l)}this._track.push(a)}},_recognize:function(e){for(var t in dd)if(dd.hasOwnProperty(t)){var r=dd[t](this._track,e);if(r)return r}}};function Db(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function HG(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var dd={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,a=(e[r-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var i=Db(n)/Db(a);!isFinite(i)&&(i=1),t.pinchScale=i;var o=HG(n);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}},qG=S1,UG=qG,wh=ne,GG=sr(),Pk=xG,Dk=Oo,WG=kr,$G=UG,Rk="silent";function YG(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:ZG}}function ZG(){WG.stop(this.event)}function Ek(){}Ek.prototype.dispose=function(){};var KG=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Rs=function(e,t,r,n){Dk.call(this),this.storage=e,this.painter=t,this.painterRoot=n,r=r||new Ek,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,Pk.call(this),this.setHandlerProxy(r)};Rs.prototype={constructor:Rs,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(wh.each(KG,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,r=e.zrY,n=kk(this,t,r),a=this._hovered,i=a.target;i&&!i.__zr&&(a=this.findHover(a.x,a.y),i=a.target);var o=this._hovered=n?{x:t,y:r}:this.findHover(t,r),l=o.target,s=this.proxy;s.setCursor&&s.setCursor(l?l.cursor:"default"),i&&l!==i&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(o,"mousemove",e),l&&l!==i&&this.dispatchToElement(o,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,r=e.zrIsToLocalDOM;t!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),t!=="no_globalout"&&!r&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var r=this[e];r&&r.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,r){e=e||{};var n=e.target;if(!(n&&n.silent)){for(var a="on"+t,i=YG(t,e,r);n&&(n[a]&&(i.cancelBubble=n[a].call(n,i)),n.trigger(t,i),n=n.parent,!i.cancelBubble););i.cancelBubble||(this.trigger(t,i),this.painter&&this.painter.eachOtherLayer(function(o){typeof o[a]=="function"&&o[a].call(o,i),o.trigger&&o.trigger(t,i)}))}},findHover:function(e,t,r){for(var n=this.storage.getDisplayList(),a={x:e,y:t},i=n.length-1;i>=0;i--){var o;if(n[i]!==r&&!n[i].ignore&&(o=XG(n[i],e,t))&&(!a.topTarget&&(a.topTarget=n[i]),o!==Rk)){a.target=n[i];break}}return a},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new $G);var r=this._gestureMgr;t==="start"&&r.clear();var n=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(t==="end"&&r.clear(),n){var a=n.type;e.gestureEvent=a,this.dispatchToElement({target:n.target},a,n.event)}}};wh.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Rs.prototype[e]=function(t){var r=t.zrX,n=t.zrY,a=kk(this,r,n),i,o;if((e!=="mouseup"||!a)&&(i=this.findHover(r,n),o=i.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||GG.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});function XG(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,a;n;){if(n.clipPath&&!n.clipPath.contain(t,r))return!1;n.silent&&(a=!0),n=n.parent}return a?Rk:!0}return!1}function kk(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}wh.mixin(Rs,Dk);wh.mixin(Rs,Pk);var QG=Rs,JG=QG,on={},Rb;function la(){if(Rb)return on;Rb=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(){var u=new e(6);return r(u),u}function r(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u}function n(u,h){return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u}function a(u,h,c){var v=h[0]*c[0]+h[2]*c[1],d=h[1]*c[0]+h[3]*c[1],m=h[0]*c[2]+h[2]*c[3],g=h[1]*c[2]+h[3]*c[3],p=h[0]*c[4]+h[2]*c[5]+h[4],y=h[1]*c[4]+h[3]*c[5]+h[5];return u[0]=v,u[1]=d,u[2]=m,u[3]=g,u[4]=p,u[5]=y,u}function i(u,h,c){return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4]+c[0],u[5]=h[5]+c[1],u}function o(u,h,c){var v=h[0],d=h[2],m=h[4],g=h[1],p=h[3],y=h[5],x=Math.sin(c),A=Math.cos(c);return u[0]=v*A+g*x,u[1]=-v*x+g*A,u[2]=d*A+p*x,u[3]=-d*x+A*p,u[4]=A*m+x*y,u[5]=A*y-x*m,u}function l(u,h,c){var v=c[0],d=c[1];return u[0]=h[0]*v,u[1]=h[1]*d,u[2]=h[2]*v,u[3]=h[3]*d,u[4]=h[4]*v,u[5]=h[5]*d,u}function s(u,h){var c=h[0],v=h[2],d=h[4],m=h[1],g=h[3],p=h[5],y=c*g-m*v;return y?(y=1/y,u[0]=g*y,u[1]=-m*y,u[2]=-v*y,u[3]=c*y,u[4]=(v*p-g*d)*y,u[5]=(m*d-c*p)*y,u):null}function f(u){var h=t();return n(h,u),h}return on.create=t,on.identity=r,on.copy=n,on.mul=a,on.translate=i,on.rotate=o,on.scale=l,on.invert=s,on.clone=f,on}var cn=la(),Ok=sr(),b1=cn.identity,Eb=5e-5;function Mo(e){return e>Eb||e<-Eb}var Sh=function(e){e=e||{},e.position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},dn=Sh.prototype;dn.transform=null;dn.needLocalTransform=function(){return Mo(this.rotation)||Mo(this.position[0])||Mo(this.position[1])||Mo(this.scale[0]-1)||Mo(this.scale[1]-1)};var _o=[];dn.updateTransform=function(){var e=this.parent,t=e&&e.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&b1(n);return}n=n||cn.create(),r?this.getLocalTransform(n):b1(n),t&&(r?cn.mul(n,e.transform,n):cn.copy(n,e.transform)),this.transform=n;var a=this.globalScaleRatio;if(a!=null&&a!==1){this.getGlobalScale(_o);var i=_o[0]<0?-1:1,o=_o[1]<0?-1:1,l=((_o[0]-i)*a+i)/_o[0]||0,s=((_o[1]-o)*a+o)/_o[1]||0;n[0]*=l,n[1]*=l,n[2]*=s,n[3]*=s}this.invTransform=this.invTransform||cn.create(),cn.invert(this.invTransform,n)};dn.getLocalTransform=function(e){return Sh.getLocalTransform(this,e)};dn.setTransform=function(e){var t=this.transform,r=e.dpr||1;t?e.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):e.setTransform(r,0,0,r,0,0)};dn.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var os=[],gd=cn.create();dn.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],n=this.position,a=this.scale;Mo(t-1)&&(t=Math.sqrt(t)),Mo(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(t=-t),e[3]<0&&(r=-r),n[0]=e[4],n[1]=e[5],a[0]=t,a[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/t)}};dn.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(cn.mul(os,e.invTransform,t),t=os);var r=this.origin;r&&(r[0]||r[1])&&(gd[4]=r[0],gd[5]=r[1],cn.mul(os,t,gd),os[4]-=r[0],os[5]-=r[1],t=os),this.setLocalTransform(t)}};dn.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)};dn.transformCoordToLocal=function(e,t){var r=[e,t],n=this.invTransform;return n&&Ok.applyTransform(r,r,n),r};dn.transformCoordToGlobal=function(e,t){var r=[e,t],n=this.transform;return n&&Ok.applyTransform(r,r,n),r};Sh.getLocalTransform=function(e,t){t=t||[],b1(t);var r=e.origin,n=e.scale||[1,1],a=e.rotation||0,i=e.position||[0,0];return r&&(t[4]-=r[0],t[5]-=r[1]),cn.scale(t,t,n),a&&cn.rotate(t,t,a),r&&(t[4]+=r[0],t[5]+=r[1]),t[4]+=i[0],t[5]+=i[1],t};var jG=Sh,bh=jG,kc={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-kc.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?kc.bounceIn(e*2)*.5:kc.bounceOut(e*2-1)*.5+.5}},e6=kc,t6=e6,r6=t6;function A1(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop==null?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}A1.prototype={constructor:A1,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}var r=(e-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var n=this.easing,a=typeof n=="string"?r6[n]:n,i=typeof a=="function"?a(r):r;return this.fire("frame",i),r===1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var a6=A1,n6=a6,Mr={},Bk=function(){this.head=null,this.tail=null,this._len=0},bu=Bk.prototype;bu.insert=function(e){var t=new Nk(e);return this.insertEntry(t),t};bu.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++};bu.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--};bu.len=function(){return this._len};bu.clear=function(){this.head=this.tail=null,this._len=0};var Nk=function(e){this.value=e,this.next,this.prev},zk=function(e){this._list=new Bk,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},A_=zk.prototype;A_.put=function(e,t){var r=this._list,n=this._map,a=null;if(n[e]==null){var i=r.len(),o=this._lastRemovedEntry;if(i>=this._maxSize&&i>0){var l=r.head;r.remove(l),delete n[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new Nk(t),o.key=e,r.insertEntry(o),n[e]=o}return a};A_.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value};A_.clear=function(){this._list.clear(),this._map={}};var i6=zk,Vk=i6,o6=Vk,kb={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function vn(e){return e=Math.round(e),e<0?0:e>255?255:e}function s6(e){return e=Math.round(e),e<0?0:e>360?360:e}function fu(e){return e<0?0:e>1?1:e}function pd(e){return e.length&&e.charAt(e.length-1)==="%"?vn(parseFloat(e)/100*255):vn(parseInt(e,10))}function Es(e){return e.length&&e.charAt(e.length-1)==="%"?fu(parseFloat(e)/100):fu(parseFloat(e))}function md(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Ui(e,t,r){return e+(t-e)*r}function un(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function T1(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var Fk=new o6(20),Yf=null;function ss(e,t){Yf&&T1(Yf,t),Yf=Fk.put(e,Yf||t.slice())}function ko(e,t){if(e){t=t||[];var r=Fk.get(e);if(r)return T1(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in kb)return T1(t,kb[n]),ss(e,t),t;if(n.charAt(0)==="#"){if(n.length===4){var a=parseInt(n.substr(1),16);if(!(a>=0&&a<=4095)){un(t,0,0,0,1);return}return un(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,1),ss(e,t),t}else if(n.length===7){var a=parseInt(n.substr(1),16);if(!(a>=0&&a<=16777215)){un(t,0,0,0,1);return}return un(t,(a&16711680)>>16,(a&65280)>>8,a&255,1),ss(e,t),t}return}var i=n.indexOf("("),o=n.indexOf(")");if(i!==-1&&o+1===n.length){var l=n.substr(0,i),s=n.substr(i+1,o-(i+1)).split(","),f=1;switch(l){case"rgba":if(s.length!==4){un(t,0,0,0,1);return}f=Es(s.pop());case"rgb":if(s.length!==3){un(t,0,0,0,1);return}return un(t,pd(s[0]),pd(s[1]),pd(s[2]),f),ss(e,t),t;case"hsla":if(s.length!==4){un(t,0,0,0,1);return}return s[3]=Es(s[3]),C1(s,t),ss(e,t),t;case"hsl":if(s.length!==3){un(t,0,0,0,1);return}return C1(s,t),ss(e,t),t;default:return}}un(t,0,0,0,1)}}function C1(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=Es(e[1]),a=Es(e[2]),i=a<=.5?a*(n+1):a+n-a*n,o=a*2-i;return t=t||[],un(t,vn(md(o,i,r+1/3)*255),vn(md(o,i,r)*255),vn(md(o,i,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function l6(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=i-a,l=(i+a)/2,s,f;if(o===0)s=0,f=0;else{l<.5?f=o/(i+a):f=o/(2-i-a);var u=((i-t)/6+o/2)/o,h=((i-r)/6+o/2)/o,c=((i-n)/6+o/2)/o;t===i?s=c-h:r===i?s=1/3+u-c:n===i&&(s=2/3+h-u),s<0&&(s+=1),s>1&&(s-=1)}var v=[s*360,f,l];return e[3]!=null&&v.push(e[3]),v}}function u6(e,t){var r=ko(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:e[n]<0&&(r[n]=0);return Au(r,r.length===4?"rgba":"rgb")}}function f6(e){var t=ko(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Hk(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),a=Math.floor(n),i=Math.ceil(n),o=t[a],l=t[i],s=n-a;return r[0]=vn(Ui(o[0],l[0],s)),r[1]=vn(Ui(o[1],l[1],s)),r[2]=vn(Ui(o[2],l[2],s)),r[3]=fu(Ui(o[3],l[3],s)),r}}var c6=Hk;function qk(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),a=Math.floor(n),i=Math.ceil(n),o=ko(t[a]),l=ko(t[i]),s=n-a,f=Au([vn(Ui(o[0],l[0],s)),vn(Ui(o[1],l[1],s)),vn(Ui(o[2],l[2],s)),fu(Ui(o[3],l[3],s))],"rgba");return r?{color:f,leftIndex:a,rightIndex:i,value:n}:f}}var h6=qk;function v6(e,t,r,n){if(e=ko(e),e)return e=l6(e),t!=null&&(e[0]=s6(t)),r!=null&&(e[1]=Es(r)),n!=null&&(e[2]=Es(n)),Au(C1(e),"rgba")}function d6(e,t){if(e=ko(e),e&&t!=null)return e[3]=fu(t),Au(e,"rgba")}function Au(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}Mr.parse=ko;Mr.lift=u6;Mr.toHex=f6;Mr.fastLerp=Hk;Mr.fastMapToColor=c6;Mr.lerp=qk;Mr.mapToColor=h6;Mr.modifyHSL=v6;Mr.modifyAlpha=d6;Mr.stringify=Au;var g6=n6,p6=Mr,m6=ne,Xc=m6.isArrayLike,M1=Array.prototype.slice;function y6(e,t){return e[t]}function _6(e,t,r){e[t]=r}function L1(e,t,r){return(t-e)*r+e}function Ob(e,t,r){return r>.5?t:e}function Bb(e,t,r,n,a){var i=e.length;if(a===1)for(var o=0;o<i;o++)n[o]=L1(e[o],t[o],r);else for(var l=i&&e[0].length,o=0;o<i;o++)for(var s=0;s<l;s++)n[o][s]=L1(e[o][s],t[o][s],r)}function Nb(e,t,r){var n=e.length,a=t.length;if(n!==a){var i=n>a;if(i)e.length=a;else for(var o=n;o<a;o++)e.push(r===1?t[o]:M1.call(t[o]))}for(var l=e[0]&&e[0].length,o=0;o<e.length;o++)if(r===1)isNaN(e[o])&&(e[o]=t[o]);else for(var s=0;s<l;s++)isNaN(e[o][s])&&(e[o][s]=t[o][s])}function x6(e,t,r){if(e===t)return!0;var n=e.length;if(n!==t.length)return!1;if(r===1){for(var a=0;a<n;a++)if(e[a]!==t[a])return!1}else for(var i=e[0].length,a=0;a<n;a++)for(var o=0;o<i;o++)if(e[a][o]!==t[a][o])return!1;return!0}function zb(e,t,r,n,a,i,o,l,s){var f=e.length;if(s===1)for(var u=0;u<f;u++)l[u]=I1(e[u],t[u],r[u],n[u],a,i,o);else for(var h=e[0].length,u=0;u<f;u++)for(var c=0;c<h;c++)l[u][c]=I1(e[u][c],t[u][c],r[u][c],n[u][c],a,i,o)}function I1(e,t,r,n,a,i,o){var l=(r-e)*.5,s=(n-t)*.5;return(2*(t-r)+l+s)*o+(-3*(t-r)-2*l-s)*i+l*a+t}function w6(e){if(Xc(e)){var t=e.length;if(Xc(e[0])){for(var r=[],n=0;n<t;n++)r.push(M1.call(e[n]));return r}return M1.call(e)}return e}function Vb(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function S6(e){var t=e[e.length-1].value;return Xc(t&&t[0])?2:1}function b6(e,t,r,n,a,i){var o=e._getter,l=e._setter,s=t==="spline",f=n.length;if(f){var u=n[0].value,h=Xc(u),c=!1,v=!1,d=h?S6(n):0,m;n.sort(function(Y,q){return Y.time-q.time}),m=n[f-1].time;for(var g=[],p=[],y=n[0].value,x=!0,A=0;A<f;A++){g.push(n[A].time/m);var w=n[A].value;if(h&&x6(w,y,d)||!h&&w===y||(x=!1),y=w,typeof w=="string"){var b=p6.parse(w);b?(w=b,c=!0):v=!0}p.push(w)}if(!(!i&&x)){for(var S=p[f-1],A=0;A<f-1;A++)h?Nb(p[A],S,d):isNaN(p[A])&&!isNaN(S)&&!v&&!c&&(p[A]=S);h&&Nb(o(e._target,a),S,d);var T=0,C=0,M,I,P,D,k,R;if(c)var B=[0,0,0,0];var V=function(Y,q){var E;if(q<0)E=0;else if(q<C){for(M=Math.min(T+1,f-1),E=M;E>=0&&!(g[E]<=q);E--);E=Math.min(E,f-2)}else{for(E=T;E<f&&!(g[E]>q);E++);E=Math.min(E-1,f-2)}T=E,C=q;var z=g[E+1]-g[E];if(z!==0)if(I=(q-g[E])/z,s)if(D=p[E],P=p[E===0?E:E-1],k=p[E>f-2?f-1:E+1],R=p[E>f-3?f-1:E+2],h)zb(P,D,k,R,I,I*I,I*I*I,o(Y,a),d);else{var N;if(c)N=zb(P,D,k,R,I,I*I,I*I*I,B,1),N=Vb(B);else{if(v)return Ob(D,k,I);N=I1(P,D,k,R,I,I*I,I*I*I)}l(Y,a,N)}else if(h)Bb(p[E],p[E+1],I,o(Y,a),d);else{var N;if(c)Bb(p[E],p[E+1],I,B,1),N=Vb(B);else{if(v)return Ob(p[E],p[E+1],I);N=L1(p[E],p[E+1],I)}l(Y,a,N)}},F=new g6({target:e._target,life:m,loop:e._loop,delay:e._delay,onframe:V,ondestroy:r});return t&&t!=="spline"&&(F.easing=t),F}}}var Uk=function(e,t,r,n){this._tracks={},this._target=e,this._loop=t||!1,this._getter=r||y6,this._setter=n||_6,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Uk.prototype={when:function(e,t){var r=this._tracks;for(var n in t)if(t.hasOwnProperty(n)){if(!r[n]){r[n]=[];var a=this._getter(this._target,n);if(a==null)continue;e!==0&&r[n].push({time:0,value:w6(a)})}r[n].push({time:e,value:t[n]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,r=0;r<t;r++)e[r].call(this)},start:function(e,t){var r=this,n=0,a=function(){n--,n||r._doneCallback()},i;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var l=b6(this,e,a,this._tracks[o],o,t);l&&(this._clipList.push(l),n++,this.animation&&this.animation.addClip(l),i=l)}if(i){var s=i.onframe;i.onframe=function(f,u){s(f,u);for(var h=0;h<r._onframeList.length;h++)r._onframeList[h](f,u)}}return n||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,r=this.animation,n=0;n<t.length;n++){var a=t[n];e&&a.onframe(this._target,1),r&&r.removeClip(a)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var A6=Uk,Gk=A6,Ws={},Wk=1;typeof window<"u"&&(Wk=Math.max(window.devicePixelRatio||1,1));var T6=0,C6=Wk;Ws.debugMode=T6;Ws.devicePixelRatio=C6;var M6=Ws,L6=M6.debugMode,$k=function(){};L6===1&&($k=console.error);var I6=$k,Tu=I6,P6=Gk,D6=Tu,Cu=ne,R6=Cu.isString,yd=Cu.isFunction,E6=Cu.isObject,k6=Cu.isArrayLike,O6=Cu.indexOf,P1=function(){this.animators=[]};P1.prototype={constructor:P1,animate:function(e,t){var r,n=!1,a=this,i=this.__zr;if(e){var o=e.split("."),l=a;n=o[0]==="shape";for(var s=0,f=o.length;s<f;s++)l&&(l=l[o[s]]);l&&(r=l)}else r=a;if(!r){D6('Property "'+e+'" is not existed in element '+a.id);return}var u=a.animators,h=new P6(r,t);return h.during(function(c){a.dirty(n)}).done(function(){u.splice(O6(u,h),1)}),u.push(h),i&&i.animation.addAnimator(h),h},stopAnimation:function(e){for(var t=this.animators,r=t.length,n=0;n<r;n++)t[n].stop(e);return t.length=0,this},animateTo:function(e,t,r,n,a,i){Fb(this,e,t,r,n,a,i)},animateFrom:function(e,t,r,n,a,i){Fb(this,e,t,r,n,a,i,!0)}};function Fb(e,t,r,n,a,i,o,l){R6(n)?(i=a,a=n,n=0):yd(a)?(i=a,a="linear",n=0):yd(n)?(i=n,n=0):yd(r)?(i=r,r=500):r||(r=500),e.stopAnimation(),Yk(e,"",e,t,r,n,l);var s=e.animators.slice(),f=s.length;function u(){f--,f||i&&i()}f||i&&i();for(var h=0;h<s.length;h++)s[h].done(u).start(a,o)}function Yk(e,t,r,n,a,i,o){var l={},s=0;for(var f in n)n.hasOwnProperty(f)&&(r[f]!=null?E6(n[f])&&!k6(n[f])?Yk(e,t?t+"."+f:f,r[f],n[f],a,i,o):(o?(l[f]=r[f],Hb(e,t,f,n[f])):l[f]=n[f],s++):n[f]!=null&&!o&&Hb(e,t,f,n[f]));s>0&&e.animate(t,!1).when(a??500,l).delay(i||0)}function Hb(e,t,r,n){if(!t)e.attr(r,n);else{var a={};a[t]={},a[t][r]=n,e.attr(a)}}var B6=P1,N6=B6,z6=yk,Zk=Oo,Kk=bh,Xk=N6,Ah=ne,Mu=function(e){Kk.call(this,e),Zk.call(this,e),Xk.call(this,e),this.id=e.id||z6()};Mu.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var r=this[e];r||(r=this[e]=[]),r[0]=t[0],r[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Ah.isObject(e))for(var r in e)e.hasOwnProperty(r)&&this.attrKV(r,e[r]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};Ah.mixin(Mu,Xk);Ah.mixin(Mu,Kk);Ah.mixin(Mu,Zk);var V6=Mu,Qk=V6,F6=sr(),Zf=la(),Kf=F6.applyTransform,Xf=Math.min,Qf=Math.max;function Vi(e,t,r,n){r<0&&(e=e+r,r=-r),n<0&&(t=t+n,n=-n),this.x=e,this.y=t,this.width=r,this.height=n}Vi.prototype={constructor:Vi,union:function(e){var t=Xf(e.x,this.x),r=Xf(e.y,this.y);this.width=Qf(e.x+e.width,this.x+this.width)-t,this.height=Qf(e.y+e.height,this.y+this.height)-r,this.x=t,this.y=r},applyTransform:function(){var e=[],t=[],r=[],n=[];return function(a){if(a){e[0]=r[0]=this.x,e[1]=n[1]=this.y,t[0]=n[0]=this.x+this.width,t[1]=r[1]=this.y+this.height,Kf(e,e,a),Kf(t,t,a),Kf(r,r,a),Kf(n,n,a),this.x=Xf(e[0],t[0],r[0],n[0]),this.y=Xf(e[1],t[1],r[1],n[1]);var i=Qf(e[0],t[0],r[0],n[0]),o=Qf(e[1],t[1],r[1],n[1]);this.width=i-this.x,this.height=o-this.y}}}(),calculateTransform:function(e){var t=this,r=e.width/t.width,n=e.height/t.height,a=Zf.create();return Zf.translate(a,a,[-t.x,-t.y]),Zf.scale(a,a,[r,n]),Zf.translate(a,a,[e.x,e.y]),a},intersect:function(e){if(!e)return!1;e instanceof Vi||(e=Vi.create(e));var t=this,r=t.x,n=t.x+t.width,a=t.y,i=t.y+t.height,o=e.x,l=e.x+e.width,s=e.y,f=e.y+e.height;return!(n<o||l<r||i<s||f<a)},contain:function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},clone:function(){return new Vi(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};Vi.create=function(e){return new Vi(e.x,e.y,e.width,e.height)};var H6=Vi,fr=H6,Jk=ne,jk=Qk,q6=fr,ii=function(e){e=e||{},jk.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};ii.prototype={constructor:ii,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var r=this._children,n=r.indexOf(t);n>=0&&(r.splice(n,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,r=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof ii&&e.addChildrenToStorage(t)),r&&r.refresh()},remove:function(e){var t=this.__zr,r=this.__storage,n=this._children,a=Jk.indexOf(n,e);return a<0?this:(n.splice(a,1),e.parent=null,r&&(r.delFromStorage(e),e instanceof ii&&e.delChildrenFromStorage(r)),t&&t.refresh(),this)},removeAll:function(){var e=this._children,t=this.__storage,r,n;for(n=0;n<e.length;n++)r=e[n],t&&(t.delFromStorage(r),r instanceof ii&&r.delChildrenFromStorage(t)),r.parent=null;return e.length=0,this},eachChild:function(e,t){for(var r=this._children,n=0;n<r.length;n++){var a=r[n];e.call(t,a,n)}return this},traverse:function(e,t){for(var r=0;r<this._children.length;r++){var n=this._children[r];e.call(t,n),n.type==="group"&&n.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.addToStorage(r),r instanceof ii&&r.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.delFromStorage(r),r instanceof ii&&r.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,r=new q6(0,0,0,0),n=e||this._children,a=[],i=0;i<n.length;i++){var o=n[i];if(!(o.ignore||o.invisible)){var l=o.getBoundingRect(),s=o.getLocalTransform(a);s?(r.copy(l),r.applyTransform(s),t=t||r.clone(),t.union(r)):(t=t||l.clone(),t.union(l))}}return t||r}};Jk.inherits(ii,jk);var U6=ii,Bo=U6,eO=32,Ll=7;function G6(e){for(var t=0;e>=eO;)t|=e&1,e>>=1;return e+t}function qb(e,t,r,n){var a=t+1;if(a===r)return 1;if(n(e[a++],e[t])<0){for(;a<r&&n(e[a],e[a-1])<0;)a++;W6(e,t,a)}else for(;a<r&&n(e[a],e[a-1])>=0;)a++;return a-t}function W6(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function Ub(e,t,r,n,a){for(n===t&&n++;n<r;n++){for(var i=e[n],o=t,l=n,s;o<l;)s=o+l>>>1,a(i,e[s])<0?l=s:o=s+1;var f=n-o;switch(f){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;f>0;)e[o+f]=e[o+f-1],f--}e[o]=i}}function _d(e,t,r,n,a,i){var o=0,l=0,s=1;if(i(e,t[r+a])>0){for(l=n-a;s<l&&i(e,t[r+a+s])>0;)o=s,s=(s<<1)+1,s<=0&&(s=l);s>l&&(s=l),o+=a,s+=a}else{for(l=a+1;s<l&&i(e,t[r+a-s])<=0;)o=s,s=(s<<1)+1,s<=0&&(s=l);s>l&&(s=l);var f=o;o=a-s,s=a-f}for(o++;o<s;){var u=o+(s-o>>>1);i(e,t[r+u])>0?o=u+1:s=u}return s}function xd(e,t,r,n,a,i){var o=0,l=0,s=1;if(i(e,t[r+a])<0){for(l=a+1;s<l&&i(e,t[r+a-s])<0;)o=s,s=(s<<1)+1,s<=0&&(s=l);s>l&&(s=l);var f=o;o=a-s,s=a-f}else{for(l=n-a;s<l&&i(e,t[r+a+s])>=0;)o=s,s=(s<<1)+1,s<=0&&(s=l);s>l&&(s=l),o+=a,s+=a}for(o++;o<s;){var u=o+(s-o>>>1);i(e,t[r+u])<0?s=u:o=u+1}return s}function $6(e,t){var r=Ll,n,a,i=0;e.length;var o=[];n=[],a=[];function l(v,d){n[i]=v,a[i]=d,i+=1}function s(){for(;i>1;){var v=i-2;if(v>=1&&a[v-1]<=a[v]+a[v+1]||v>=2&&a[v-2]<=a[v]+a[v-1])a[v-1]<a[v+1]&&v--;else if(a[v]>a[v+1])break;u(v)}}function f(){for(;i>1;){var v=i-2;v>0&&a[v-1]<a[v+1]&&v--,u(v)}}function u(v){var d=n[v],m=a[v],g=n[v+1],p=a[v+1];a[v]=m+p,v===i-3&&(n[v+1]=n[v+2],a[v+1]=a[v+2]),i--;var y=xd(e[g],e,d,m,0,t);d+=y,m-=y,m!==0&&(p=_d(e[d+m-1],e,g,p,p-1,t),p!==0&&(m<=p?h(d,m,g,p):c(d,m,g,p)))}function h(v,d,m,g){var p=0;for(p=0;p<d;p++)o[p]=e[v+p];var y=0,x=m,A=v;if(e[A++]=e[x++],--g===0){for(p=0;p<d;p++)e[A+p]=o[y+p];return}if(d===1){for(p=0;p<g;p++)e[A+p]=e[x+p];e[A+g]=o[y];return}for(var w=r,b,S,T;;){b=0,S=0,T=!1;do if(t(e[x],o[y])<0){if(e[A++]=e[x++],S++,b=0,--g===0){T=!0;break}}else if(e[A++]=o[y++],b++,S=0,--d===1){T=!0;break}while((b|S)<w);if(T)break;do{if(b=xd(e[x],o,y,d,0,t),b!==0){for(p=0;p<b;p++)e[A+p]=o[y+p];if(A+=b,y+=b,d-=b,d<=1){T=!0;break}}if(e[A++]=e[x++],--g===0){T=!0;break}if(S=_d(o[y],e,x,g,0,t),S!==0){for(p=0;p<S;p++)e[A+p]=e[x+p];if(A+=S,x+=S,g-=S,g===0){T=!0;break}}if(e[A++]=o[y++],--d===1){T=!0;break}w--}while(b>=Ll||S>=Ll);if(T)break;w<0&&(w=0),w+=2}if(r=w,r<1&&(r=1),d===1){for(p=0;p<g;p++)e[A+p]=e[x+p];e[A+g]=o[y]}else{if(d===0)throw new Error;for(p=0;p<d;p++)e[A+p]=o[y+p]}}function c(v,d,m,g){var p=0;for(p=0;p<g;p++)o[p]=e[m+p];var y=v+d-1,x=g-1,A=m+g-1,w=0,b=0;if(e[A--]=e[y--],--d===0){for(w=A-(g-1),p=0;p<g;p++)e[w+p]=o[p];return}if(g===1){for(A-=d,y-=d,b=A+1,w=y+1,p=d-1;p>=0;p--)e[b+p]=e[w+p];e[A]=o[x];return}for(var S=r;;){var T=0,C=0,M=!1;do if(t(o[x],e[y])<0){if(e[A--]=e[y--],T++,C=0,--d===0){M=!0;break}}else if(e[A--]=o[x--],C++,T=0,--g===1){M=!0;break}while((T|C)<S);if(M)break;do{if(T=d-xd(o[x],e,v,d,d-1,t),T!==0){for(A-=T,y-=T,d-=T,b=A+1,w=y+1,p=T-1;p>=0;p--)e[b+p]=e[w+p];if(d===0){M=!0;break}}if(e[A--]=o[x--],--g===1){M=!0;break}if(C=g-_d(e[y],o,0,g,g-1,t),C!==0){for(A-=C,x-=C,g-=C,b=A+1,w=x+1,p=0;p<C;p++)e[b+p]=o[w+p];if(g<=1){M=!0;break}}if(e[A--]=e[y--],--d===0){M=!0;break}S--}while(T>=Ll||C>=Ll);if(M)break;S<0&&(S=0),S+=2}if(r=S,r<1&&(r=1),g===1){for(A-=d,y-=d,b=A+1,w=y+1,p=d-1;p>=0;p--)e[b+p]=e[w+p];e[A]=o[x]}else{if(g===0)throw new Error;for(w=A-(g-1),p=0;p<g;p++)e[w+p]=o[p]}}this.mergeRuns=s,this.forceMergeRuns=f,this.pushRun=l}function Y6(e,t,r,n){r||(r=0),n||(n=e.length);var a=n-r;if(!(a<2)){var i=0;if(a<eO){i=qb(e,r,n,t),Ub(e,r,n,r+i,t);return}var o=new $6(e,t),l=G6(a);do{if(i=qb(e,r,n,t),i<l){var s=a;s>l&&(s=l),Ub(e,r,r+s,r+i,t),i=s}o.pushRun(r,i),o.mergeRuns(),a-=i,r+=i}while(a!==0);o.forceMergeRuns()}}var T_=Y6,Z6=ne,K6=Sr,wd=Bo,X6=T_;function Gb(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var D1=function(){this._roots=[],this._displayList=[],this._displayListLen=0};D1.prototype={constructor:D1,traverse:function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,n=0,a=t.length;n<a;n++)this._updateAndAddDisplayable(t[n],null,e);r.length=this._displayListLen,K6.canvasSupported&&X6(r,Gb)},_updateAndAddDisplayable:function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var n=e.clipPath;if(n){t?t=t.slice():t=[];for(var a=n,i=e;a;)a.parent=i,a.updateTransform(),t.push(a),i=a,a=a.clipPath}if(e.isGroup){for(var o=e._children,l=0;l<o.length;l++){var s=o[l];e.__dirty&&(s.__dirty=!0),this._updateAndAddDisplayable(s,t,r)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof wd&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(var t=0;t<this._roots.length;t++){var r=this._roots[t];r instanceof wd&&r.delChildrenFromStorage(this)}this._roots=[],this._displayList=[],this._displayListLen=0;return}if(e instanceof Array){for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);return}var a=Z6.indexOf(this._roots,e);a>=0&&(this.delFromStorage(e),this._roots.splice(a,1),e instanceof wd&&e.delChildrenFromStorage(this))},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Gb};var Q6=D1,J6=Q6,j6={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function eW(e,t,r){return j6.hasOwnProperty(t)?r*=e.dpr:r}var tO=eW,$s={},tW={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},rW=9;$s.ContextCachedBy=tW;$s.WILL_BE_RESTORED=rW;var aW=tO,nW=$s,Wb=nW.ContextCachedBy,Qc=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],cu=function(e){this.extendFrom(e,!1)};function iW(e,t,r){var n=t.x==null?0:t.x,a=t.x2==null?1:t.x2,i=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,a=a*r.width+r.x,i=i*r.height+r.y,o=o*r.height+r.y),n=isNaN(n)?0:n,a=isNaN(a)?1:a,i=isNaN(i)?0:i,o=isNaN(o)?0:o;var l=e.createLinearGradient(n,i,a,o);return l}function oW(e,t,r){var n=r.width,a=r.height,i=Math.min(n,a),o=t.x==null?.5:t.x,l=t.y==null?.5:t.y,s=t.r==null?.5:t.r;t.global||(o=o*n+r.x,l=l*a+r.y,s=s*i);var f=e.createRadialGradient(o,l,0,o,l,s);return f}cu.prototype={constructor:cu,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,r){var n=this,a=r&&r.style,i=!a||e.__attrCachedBy!==Wb.STYLE_BIND;e.__attrCachedBy=Wb.STYLE_BIND;for(var o=0;o<Qc.length;o++){var l=Qc[o],s=l[0];(i||n[s]!==a[s])&&(e[s]=aW(e,s,n[s]||l[1]))}if((i||n.fill!==a.fill)&&(e.fillStyle=n.fill),(i||n.stroke!==a.stroke)&&(e.strokeStyle=n.stroke),(i||n.opacity!==a.opacity)&&(e.globalAlpha=n.opacity==null?1:n.opacity),(i||n.blend!==a.blend)&&(e.globalCompositeOperation=n.blend||"source-over"),this.hasStroke()){var f=n.lineWidth;e.lineWidth=f/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(t===!0||(t===!1?!this.hasOwnProperty(r):e[r]!=null))&&(this[r]=e[r])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,r){for(var n=t.type==="radial"?oW:iW,a=n(e,t,r),i=t.colorStops,o=0;o<i.length;o++)a.addColorStop(i[o].offset,i[o].color);return a}};var R1=cu.prototype;for(var Sd=0;Sd<Qc.length;Sd++){var bd=Qc[Sd];bd[0]in R1||(R1[bd[0]]=bd[1])}cu.getGradient=R1.getGradient;var sW=cu,C_=sW,rO=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};rO.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var lW=rO,aO=lW,nO=ne,uW=Ws,fW=uW.devicePixelRatio,cW=C_,hW=aO;function vW(){return!1}function iO(e,t,r){var n=nO.createCanvas(),a=t.getWidth(),i=t.getHeight(),o=n.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=a+"px",o.height=i+"px",n.setAttribute("data-zr-dom-id",e)),n.width=a*r,n.height=i*r,n}var E1=function(e,t,r){var n;r=r||fW,typeof e=="string"?n=iO(e,t,r):nO.isObject(e)&&(n=e,e=n.id),this.id=e,this.dom=n;var a=n.style;a&&(n.onselectstart=vW,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};E1.prototype={constructor:E1,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=iO("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},resize:function(e,t){var r=this.dpr,n=this.dom,a=n.style,i=this.domBack;a&&(a.width=e+"px",a.height=t+"px"),n.width=e*r,n.height=t*r,i&&(i.width=e*r,i.height=t*r,r!==1&&this.ctxBack.scale(r,r))},clear:function(e,o){var r=this.dom,n=this.ctx,a=r.width,i=r.height,o=o||this.clearColor,l=this.motionBlur&&!e,s=this.lastFrameAlpha,f=this.dpr;if(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/f,i/f)),n.clearRect(0,0,a,i),o&&o!=="transparent"){var u;o.colorStops?(u=o.__canvasGradient||cW.getGradient(n,o,{x:0,y:0,width:a,height:i}),o.__canvasGradient=u):o.image&&(u=hW.prototype.getCanvasPattern.call(o,n)),n.save(),n.fillStyle=u||o,n.fillRect(0,0,a,i),n.restore()}if(l){var h=this.domBack;n.save(),n.globalAlpha=s,n.drawImage(h,0,0,a,i),n.restore()}}};var dW=E1,gW=dW,pW=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},oO=pW,gn={},ir={},Ys={},mW=Vk,k1=new mW(50);function yW(e){if(typeof e=="string"){var t=k1.get(e);return t&&t.image}else return e}function _W(e,t,r,n,a){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var i=k1.get(e),o={hostEl:r,cb:n,cbPayload:a};return i?(t=i.image,!sO(t)&&i.pending.push(o)):(t=new Image,t.onload=t.onerror=xW,k1.put(e,t.__cachedImgObj={image:t,pending:[o]}),t.src=t.__zrImageSrc=e),t}else return e;else return t}function xW(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function sO(e){return e&&e.width&&e.height}Ys.findExistImage=yW;Ys.createOrUpdateImage=_W;Ys.isImageReady=sO;var lO=fr,$b=Ys,Lu=ne,wW=Lu.getContext,SW=Lu.extend,Gi=Lu.retrieve2,bW=Lu.retrieve3,AW=Lu.trim,Jf={},Ad=0,TW=5e3,Td=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,M_="12px sans-serif",L_={};function CW(e,t){L_[e]=t}function Bn(e,t){t=t||M_;var r=e+":"+t;if(Jf[r])return Jf[r];for(var n=(e+"").split(`
`),a=0,i=0,o=n.length;i<o;i++)a=Math.max(vO(n[i],t).width,a);return Ad>TW&&(Ad=0,Jf={}),Ad++,Jf[r]=a,a}function MW(e,t,r,n,a,i,o,l){return o?IW(e,t,r,n,a,i,o,l):LW(e,t,r,n,a,i,l)}function LW(e,t,r,n,a,i,o){var l=dO(e,t,a,i,o),s=Bn(e,t);a&&(s+=a[1]+a[3]);var f=l.outerHeight,u=I_(0,s,r),h=P_(0,f,n),c=new lO(u,h,s,f);return c.lineHeight=l.lineHeight,c}function IW(e,t,r,n,a,i,o,l){var s=gO(e,{rich:o,truncate:l,font:t,textAlign:r,textPadding:a,textLineHeight:i}),f=s.outerWidth,u=s.outerHeight,h=I_(0,f,r),c=P_(0,u,n);return new lO(h,c,f,u)}function I_(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function P_(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function uO(e,t,r){var n=t.textPosition,a=t.textDistance,i=r.x,o=r.y;a=a||0;var l=r.height,s=r.width,f=l/2,u="left",h="top";switch(n){case"left":i-=a,o+=f,u="right",h="middle";break;case"right":i+=a+s,o+=f,h="middle";break;case"top":i+=s/2,o-=a,u="center",h="bottom";break;case"bottom":i+=s/2,o+=l+a,u="center";break;case"inside":i+=s/2,o+=f,u="center",h="middle";break;case"insideLeft":i+=a,o+=f,h="middle";break;case"insideRight":i+=s-a,o+=f,u="right",h="middle";break;case"insideTop":i+=s/2,o+=a,u="center";break;case"insideBottom":i+=s/2,o+=l-a,u="center",h="bottom";break;case"insideTopLeft":i+=a,o+=a;break;case"insideTopRight":i+=s-a,o+=a,u="right";break;case"insideBottomLeft":i+=a,o+=l-a,h="bottom";break;case"insideBottomRight":i+=s-a,o+=l-a,u="right",h="bottom";break}return e=e||{},e.x=i,e.y=o,e.textAlign=u,e.textVerticalAlign=h,e}function PW(e,t,r){var n={textPosition:e,textDistance:r};return uO({},n,t)}function fO(e,t,r,n,a){if(!t)return"";var i=(e+"").split(`
`);a=cO(t,r,n,a);for(var o=0,l=i.length;o<l;o++)i[o]=hO(i[o],a);return i.join(`
`)}function cO(e,t,a,n){n=SW({},n),n.font=t;var a=Gi(a,"...");n.maxIterations=Gi(n.maxIterations,2);var i=n.minChar=Gi(n.minChar,0);n.cnCharWidth=Bn("国",t);var o=n.ascCharWidth=Bn("a",t);n.placeholder=Gi(n.placeholder,"");for(var l=e=Math.max(0,e-1),s=0;s<i&&l>=o;s++)l-=o;var f=Bn(a,t);return f>l&&(a="",f=0),l=e-f,n.ellipsis=a,n.ellipsisWidth=f,n.contentWidth=l,n.containerWidth=e,n}function hO(e,t){var r=t.containerWidth,n=t.font,a=t.contentWidth;if(!r)return"";var i=Bn(e,n);if(i<=r)return e;for(var o=0;;o++){if(i<=a||o>=t.maxIterations){e+=t.ellipsis;break}var l=o===0?DW(e,a,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(e.length*a/i):0;e=e.substr(0,l),i=Bn(e,n)}return e===""&&(e=t.placeholder),e}function DW(e,t,r,n){for(var a=0,i=0,o=e.length;i<o&&a<t;i++){var l=e.charCodeAt(i);a+=0<=l&&l<=127?r:n}return i}function D_(e){return Bn("国",e)}function vO(e,t){return L_.measureText(e,t)}L_.measureText=function(e,t){var r=wW();return r.font=t||M_,r.measureText(e)};function dO(e,t,r,n,a){e!=null&&(e+="");var i=Gi(n,D_(t)),o=e?e.split(`
`):[],l=o.length*i,s=l,f=!0;if(r&&(s+=r[0]+r[2]),e&&a){f=!1;var u=a.outerHeight,h=a.outerWidth;if(u!=null&&s>u)e="",o=[];else if(h!=null)for(var c=cO(h-(r?r[1]+r[3]:0),t,a.ellipsis,{minChar:a.minChar,placeholder:a.placeholder}),v=0,d=o.length;v<d;v++)o[v]=hO(o[v],c)}return{lines:o,height:l,outerHeight:s,lineHeight:i,canCacheByTextString:f}}function gO(e,t){var r={lines:[],width:0,height:0};if(e!=null&&(e+=""),!e)return r;for(var n=Td.lastIndex=0,a;(a=Td.exec(e))!=null;){var i=a.index;i>n&&Cd(r,e.substring(n,i)),Cd(r,a[2],a[1]),n=Td.lastIndex}n<e.length&&Cd(r,e.substring(n,e.length));var o=r.lines,l=0,s=0,f=[],u=t.textPadding,h=t.truncate,c=h&&h.outerWidth,v=h&&h.outerHeight;u&&(c!=null&&(c-=u[1]+u[3]),v!=null&&(v-=u[0]+u[2]));for(var d=0;d<o.length;d++){for(var m=o[d],g=0,p=0,y=0;y<m.tokens.length;y++){var x=m.tokens[y],A=x.styleName&&t.rich[x.styleName]||{},w=x.textPadding=A.textPadding,b=x.font=A.font||t.font,S=x.textHeight=Gi(A.textHeight,D_(b));if(w&&(S+=w[0]+w[2]),x.height=S,x.lineHeight=bW(A.textLineHeight,t.textLineHeight,S),x.textAlign=A&&A.textAlign||t.textAlign,x.textVerticalAlign=A&&A.textVerticalAlign||"middle",v!=null&&l+x.lineHeight>v)return{lines:[],width:0,height:0};x.textWidth=Bn(x.text,b);var T=A.textWidth,C=T==null||T==="auto";if(typeof T=="string"&&T.charAt(T.length-1)==="%")x.percentWidth=T,f.push(x),T=0;else{if(C){T=x.textWidth;var M=A.textBackgroundColor,I=M&&M.image;I&&(I=$b.findExistImage(I),$b.isImageReady(I)&&(T=Math.max(T,I.width*S/I.height)))}var P=w?w[1]+w[3]:0;T+=P;var D=c!=null?c-p:null;D!=null&&D<T&&(!C||D<P?(x.text="",x.textWidth=T=0):(x.text=fO(x.text,D-P,b,h.ellipsis,{minChar:h.minChar}),x.textWidth=Bn(x.text,b),T=x.textWidth+P))}p+=x.width=T,A&&(g=Math.max(g,x.lineHeight))}m.width=p,m.lineHeight=g,l+=g,s=Math.max(s,p)}r.outerWidth=r.width=Gi(t.textWidth,s),r.outerHeight=r.height=Gi(t.textHeight,l),u&&(r.outerWidth+=u[1]+u[3],r.outerHeight+=u[0]+u[2]);for(var d=0;d<f.length;d++){var x=f[d],k=x.percentWidth;x.width=parseInt(k,10)/100*s}return r}function Cd(e,t,r){for(var n=t==="",a=t.split(`
`),i=e.lines,o=0;o<a.length;o++){var l=a[o],s={styleName:r,text:l,isLineHolder:!l&&!n};if(o)i.push({tokens:[s]});else{var f=(i[i.length-1]||(i[0]={tokens:[]})).tokens,u=f.length;u===1&&f[0].isLineHolder?f[0]=s:(l||!u||n)&&f.push(s)}}}function RW(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&AW(t)||e.textFont||e.font}ir.DEFAULT_FONT=M_;ir.$override=CW;ir.getWidth=Bn;ir.getBoundingRect=MW;ir.adjustTextX=I_;ir.adjustTextY=P_;ir.calculateTextPosition=uO;ir.adjustTextPositionOnRect=PW;ir.truncateText=fO;ir.getLineHeight=D_;ir.measureText=vO;ir.parsePlainText=dO;ir.parseRichText=gO;ir.makeFont=RW;var R_={};function EW(e,t){var r=t.x,n=t.y,a=t.width,i=t.height,o=t.r,l,s,f,u;a<0&&(r=r+a,a=-a),i<0&&(n=n+i,i=-i),typeof o=="number"?l=s=f=u=o:o instanceof Array?o.length===1?l=s=f=u=o[0]:o.length===2?(l=f=o[0],s=u=o[1]):o.length===3?(l=o[0],s=u=o[1],f=o[2]):(l=o[0],s=o[1],f=o[2],u=o[3]):l=s=f=u=0;var h;l+s>a&&(h=l+s,l*=a/h,s*=a/h),f+u>a&&(h=f+u,f*=a/h,u*=a/h),s+f>i&&(h=s+f,s*=i/h,f*=i/h),l+u>i&&(h=l+u,l*=i/h,u*=i/h),e.moveTo(r+l,n),e.lineTo(r+a-s,n),s!==0&&e.arc(r+a-s,n+s,s,-Math.PI/2,0),e.lineTo(r+a,n+i-f),f!==0&&e.arc(r+a-f,n+i-f,f,0,Math.PI/2),e.lineTo(r+u,n+i),u!==0&&e.arc(r+u,n+i-u,u,Math.PI/2,Math.PI),e.lineTo(r,n+l),l!==0&&e.arc(r+l,n+l,l,Math.PI,Math.PI*1.5)}R_.buildPath=EW;var Zs=ne,kW=Zs.retrieve2,Md=Zs.retrieve3,OW=Zs.each,BW=Zs.normalizeCssArray,NW=Zs.isString,zW=Zs.isObject,En=ir,VW=R_,Yb=Ys,pO=tO,mO=$s,Xl=mO.ContextCachedBy,yO=mO.WILL_BE_RESTORED,O1=En.DEFAULT_FONT,FW={left:1,right:1,center:1},HW={top:1,bottom:1,middle:1},Zb=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Kb={},_O={};function qW(e){return Xb(e),OW(e.rich,Xb),e}function Xb(e){if(e){e.font=En.makeFont(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||FW[t]?t:"left";var r=e.textVerticalAlign||e.textBaseline;r==="center"&&(r="middle"),e.textVerticalAlign=r==null||HW[r]?r:"top";var n=e.textPadding;n&&(e.textPadding=BW(e.textPadding))}}function UW(e,t,r,n,a,i){n.rich?WW(e,t,r,n,a,i):GW(e,t,r,n,a,i)}function GW(e,t,r,n,a,i){var o=E_(n),l,s=!1,f=t.__attrCachedBy===Xl.PLAIN_TEXT;i!==yO?(i&&(l=i.style,s=!o&&f&&l),t.__attrCachedBy=o?Xl.NONE:Xl.PLAIN_TEXT):f&&(t.__attrCachedBy=Xl.NONE);var u=n.font||O1;(!s||u!==(l.font||O1))&&(t.font=u);var h=e.__computedFont;e.__styleFont!==u&&(e.__styleFont=u,h=e.__computedFont=t.font);var c=n.textPadding,v=n.textLineHeight,d=e.__textCotentBlock;(!d||e.__dirtyText)&&(d=e.__textCotentBlock=En.parsePlainText(r,h,c,v,n.truncate));var m=d.outerHeight,g=d.lines,p=d.lineHeight,y=O_(_O,e,n,a),x=y.baseX,A=y.baseY,w=y.textAlign||"left",b=y.textVerticalAlign;xO(t,n,a,x,A);var S=En.adjustTextY(A,m,b),T=x,C=S;if(o||c){var M=En.getWidth(r,h),I=M;c&&(I+=c[1]+c[3]);var P=En.adjustTextX(x,I,w);o&&k_(e,t,n,P,S,I,m),c&&(T=wO(x,w,c),C+=c[0])}t.textAlign=w,t.textBaseline="middle",t.globalAlpha=n.opacity||1;for(var D=0;D<Zb.length;D++){var k=Zb[D],R=k[0],B=k[1],V=n[R];(!s||V!==l[R])&&(t[B]=pO(t,B,V||k[2]))}C+=p/2;var F=n.textStrokeWidth,Y=s?l.textStrokeWidth:null,q=!s||F!==Y,E=!s||q||n.textStroke!==l.textStroke,z=B_(n.textStroke,F),N=N_(n.textFill);if(z&&(q&&(t.lineWidth=F),E&&(t.strokeStyle=z)),N&&(!s||n.textFill!==l.textFill)&&(t.fillStyle=N),g.length===1)z&&t.strokeText(g[0],T,C),N&&t.fillText(g[0],T,C);else for(var D=0;D<g.length;D++)z&&t.strokeText(g[D],T,C),N&&t.fillText(g[D],T,C),C+=p}function WW(e,t,r,n,a,i){i!==yO&&(t.__attrCachedBy=Xl.NONE);var o=e.__textCotentBlock;(!o||e.__dirtyText)&&(o=e.__textCotentBlock=En.parseRichText(r,n)),$W(e,t,o,n,a)}function $W(e,t,r,n,a){var i=r.width,o=r.outerWidth,l=r.outerHeight,s=n.textPadding,f=O_(_O,e,n,a),u=f.baseX,h=f.baseY,c=f.textAlign,v=f.textVerticalAlign;xO(t,n,a,u,h);var d=En.adjustTextX(u,o,c),m=En.adjustTextY(h,l,v),g=d,p=m;s&&(g+=s[3],p+=s[0]);var y=g+i;E_(n)&&k_(e,t,n,d,m,o,l);for(var x=0;x<r.lines.length;x++){for(var A=r.lines[x],w=A.tokens,b=w.length,S=A.lineHeight,T=A.width,C=0,M=g,I=y,P=b-1,D;C<b&&(D=w[C],!D.textAlign||D.textAlign==="left");)Ld(e,t,D,n,S,p,M,"left"),T-=D.width,M+=D.width,C++;for(;P>=0&&(D=w[P],D.textAlign==="right");)Ld(e,t,D,n,S,p,I,"right"),T-=D.width,I-=D.width,P--;for(M+=(i-(M-g)-(y-I)-T)/2;C<=P;)D=w[C],Ld(e,t,D,n,S,p,M+D.width/2,"center"),M+=D.width,C++;p+=S}}function xO(e,t,r,n,a){if(r&&t.textRotation){var i=t.textOrigin;i==="center"?(n=r.width/2+r.x,a=r.height/2+r.y):i&&(n=i[0]+r.x,a=i[1]+r.y),e.translate(n,a),e.rotate(-t.textRotation),e.translate(-n,-a)}}function Ld(e,t,r,n,a,i,o,l){var s=n.rich[r.styleName]||{};s.text=r.text;var f=r.textVerticalAlign,u=i+a/2;f==="top"?u=i+r.height/2:f==="bottom"&&(u=i+a-r.height/2),!r.isLineHolder&&E_(s)&&k_(e,t,s,l==="right"?o-r.width:l==="center"?o-r.width/2:o,u-r.height/2,r.width,r.height);var h=r.textPadding;h&&(o=wO(o,l,h),u-=r.height/2-h[2]-r.textHeight/2),Wr(t,"shadowBlur",Md(s.textShadowBlur,n.textShadowBlur,0)),Wr(t,"shadowColor",s.textShadowColor||n.textShadowColor||"transparent"),Wr(t,"shadowOffsetX",Md(s.textShadowOffsetX,n.textShadowOffsetX,0)),Wr(t,"shadowOffsetY",Md(s.textShadowOffsetY,n.textShadowOffsetY,0)),Wr(t,"textAlign",l),Wr(t,"textBaseline","middle"),Wr(t,"font",r.font||O1);var c=B_(s.textStroke||n.textStroke,d),v=N_(s.textFill||n.textFill),d=kW(s.textStrokeWidth,n.textStrokeWidth);c&&(Wr(t,"lineWidth",d),Wr(t,"strokeStyle",c),t.strokeText(r.text,o,u)),v&&(Wr(t,"fillStyle",v),t.fillText(r.text,o,u))}function E_(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function k_(e,t,r,n,a,i,o){var l=r.textBackgroundColor,s=r.textBorderWidth,f=r.textBorderColor,u=NW(l);if(Wr(t,"shadowBlur",r.textBoxShadowBlur||0),Wr(t,"shadowColor",r.textBoxShadowColor||"transparent"),Wr(t,"shadowOffsetX",r.textBoxShadowOffsetX||0),Wr(t,"shadowOffsetY",r.textBoxShadowOffsetY||0),u||s&&f){t.beginPath();var h=r.textBorderRadius;h?VW.buildPath(t,{x:n,y:a,width:i,height:o,r:h}):t.rect(n,a,i,o),t.closePath()}if(u)if(Wr(t,"fillStyle",l),r.fillOpacity!=null){var c=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,t.fill(),t.globalAlpha=c}else t.fill();else if(zW(l)){var v=l.image;v=Yb.createOrUpdateImage(v,null,e,YW,l),v&&Yb.isImageReady(v)&&t.drawImage(v,n,a,i,o)}if(s&&f)if(Wr(t,"lineWidth",s),Wr(t,"strokeStyle",f),r.strokeOpacity!=null){var c=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,t.stroke(),t.globalAlpha=c}else t.stroke()}function YW(e,t){t.image=e}function O_(e,t,r,n){var a=r.x||0,i=r.y||0,o=r.textAlign,l=r.textVerticalAlign;if(n){var s=r.textPosition;if(s instanceof Array)a=n.x+B1(s[0],n.width),i=n.y+B1(s[1],n.height);else{var f=t&&t.calculateTextPosition?t.calculateTextPosition(Kb,r,n):En.calculateTextPosition(Kb,r,n);a=f.x,i=f.y,o=o||f.textAlign,l=l||f.textVerticalAlign}var u=r.textOffset;u&&(a+=u[0],i+=u[1])}return e=e||{},e.baseX=a,e.baseY=i,e.textAlign=o,e.textVerticalAlign=l,e}function Wr(e,t,r){return e[t]=pO(e,t,r),e[t]}function B_(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function N_(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function B1(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function wO(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function ZW(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}gn.normalizeTextStyle=qW;gn.renderText=UW;gn.getBoxPosition=O_;gn.getStroke=B_;gn.getFill=N_;gn.parsePercent=B1;gn.needDrawText=ZW;var Id,Qb;function SO(){if(Qb)return Id;Qb=1;var e=gn,t=fr,r=$s,n=r.WILL_BE_RESTORED,a=new t,i=function(){};i.prototype={constructor:i,drawRectText:function(l,s){var f=this.style;s=f.textRect||s,this.__dirty&&e.normalizeTextStyle(f,!0);var u=f.text;if(u!=null&&(u+=""),!!e.needDrawText(u,f)){l.save();var h=this.transform;f.transformText?this.setTransform(l):h&&(a.copy(s),a.applyTransform(h),s=a),e.renderText(this,l,u,f,s,n),l.restore()}}};var o=i;return Id=o,Id}var bO=ne,AO=C_,z_=Qk,KW=SO();function hu(e){e=e||{},z_.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new AO(e.style),this._rect=null,this.__clipPaths=null}hu.prototype={constructor:hu,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var r=this.transformCoordToLocal(e,t),n=this.getBoundingRect();return n.contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?z_.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new AO(e),this.dirty(!1),this},calculateTextPosition:null};bO.inherits(hu,z_);bO.mixin(hu,KW);var XW=hu,Iu=XW,TO=Iu,QW=fr,JW=ne,Jb=Ys;function Jc(e){TO.call(this,e)}Jc.prototype={constructor:Jc,type:"image",brush:function(e,t){var r=this.style,n=r.image;r.bind(e,this,t);var a=this._image=Jb.createOrUpdateImage(n,this._image,this,this.onload);if(!(!a||!Jb.isImageReady(a))){var i=r.x||0,o=r.y||0,l=r.width,s=r.height,f=a.width/a.height;if(l==null&&s!=null?l=s*f:s==null&&l!=null?s=l/f:l==null&&s==null&&(l=a.width,s=a.height),this.setTransform(e),r.sWidth&&r.sHeight){var u=r.sx||0,h=r.sy||0;e.drawImage(a,u,h,r.sWidth,r.sHeight,i,o,l,s)}else if(r.sx&&r.sy){var u=r.sx,h=r.sy,c=l-u,v=s-h;e.drawImage(a,u,h,c,v,i,o,l,s)}else e.drawImage(a,i,o,l,s);r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new QW(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}};JW.inherits(Jc,TO);var jW=Jc,Ks=jW,e$=Ws,t$=e$.devicePixelRatio,ri=ne,Pd=Tu,CO=fr,r$=T_,N1=gW,a$=oO,n$=Ks,i$=Sr,jb=1e5,Io=314159,jf=.01,o$=.001;function ec(e){return parseInt(e,10)}function s$(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}var Dd=new CO(0,0,0,0),Rd=new CO(0,0,0,0);function l$(e,t,r){return Dd.copy(e.getBoundingRect()),e.transform&&Dd.applyTransform(e.transform),Rd.width=t,Rd.height=r,!Dd.intersect(Rd)}function u$(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function f$(e,t){for(var r=0;r<e.length;r++){var n=e[r];n.setTransform(t),t.beginPath(),n.buildPath(t,n.shape),t.clip(),n.restoreTransform(t)}}function c$(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var z1=function(e,t,r){this.type="canvas";var n=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=ri.extend({},r||{}),this.dpr=r.devicePixelRatio||t$,this._singleCanvas=n,this.root=e;var a=e.style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var i=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){var s=e.width,f=e.height;r.width!=null&&(s=r.width),r.height!=null&&(f=r.height),this.dpr=r.devicePixelRatio||1,e.width=s*this.dpr,e.height=f*this.dpr,this._width=s,this._height=f;var u=new N1(e,this,this.dpr);u.__builtin__=!0,u.initContext(),o[Io]=u,u.zlevel=Io,i.push(Io),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var l=this._domRoot=c$(this._width,this._height);e.appendChild(l)}this._hoverlayer=null,this._hoverElements=[]};z1.prototype={constructor:z1,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var n=0;n<r.length;n++){var a=r[n],i=this._layers[a];if(!i.__builtin__&&i.refresh){var o=n===0?this._backgroundColor:null;i.refresh(o)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return r.__from=e,e.__hoverMir=r,t&&r.setStyle(t),this._hoverElements.push(r),r}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,n=ri.indexOf(r,t);n>=0&&r.splice(n,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var n=t[r].__from;n&&(n.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){r$(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(jb));var n={};r.ctx.save();for(var a=0;a<t;){var i=e[a],o=i.__from;if(!(o&&o.__zr)){e.splice(a,1),o.__hoverMir=null,t--;continue}a++,o.invisible||(i.transform=o.transform,i.invTransform=o.invTransform,i.__clipPaths=o.__clipPaths,this._doPaintEl(i,r,!0,n))}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(jb)},_paintList:function(e,t,r){if(this._redrawId===r){t=t||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var a=this;a$(function(){a._paintList(e,t,r)})}}},_compositeManually:function(){var e=this.getLayer(Io).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(n){n.virtual&&e.drawImage(n.dom,0,0,t,r)})},_doPaintList:function(e,t){for(var r=[],n=0;n<this._zlevelList.length;n++){var a=this._zlevelList[n],i=this._layers[a];i.__builtin__&&i!==this._hoverlayer&&(i.__dirty||t)&&r.push(i)}for(var o=!0,l=0;l<r.length;l++){var i=r[l],s=i.ctx,f={};s.save();var u=t?i.__startIndex:i.__drawIndex,h=!t&&i.incremental&&Date.now,c=h&&Date.now(),v=i.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(i.__startIndex===i.__endIndex)i.clear(!1,v);else if(u===i.__startIndex){var d=e[u];(!d.incremental||!d.notClear||t)&&i.clear(!1,v)}u===-1&&(console.error("For some unknown reason. drawIndex is -1"),u=i.__startIndex);for(var m=u;m<i.__endIndex;m++){var g=e[m];if(this._doPaintEl(g,i,t,f),g.__dirty=g.__dirtyText=!1,h){var p=Date.now()-c;if(p>15)break}}i.__drawIndex=m,i.__drawIndex<i.__endIndex&&(o=!1),f.prevElClipPaths&&s.restore(),s.restore()}return i$.wxa&&ri.each(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),o},_doPaintEl:function(e,t,r,n){var a=t.ctx,i=e.transform;if((t.__dirty||r)&&!e.invisible&&e.style.opacity!==0&&!(i&&!i[0]&&!i[3])&&!(e.culling&&l$(e,this._width,this._height))){var o=e.__clipPaths,l=n.prevElClipPaths;(!l||u$(o,l))&&(l&&(a.restore(),n.prevElClipPaths=null,n.prevEl=null),o&&(a.save(),f$(o,a),n.prevElClipPaths=o)),e.beforeBrush&&e.beforeBrush(a),e.brush(a,n.prevEl||null),n.prevEl=e,e.afterBrush&&e.afterBrush(a)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Io);var r=this._layers[e];return r||(r=new N1("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?ri.merge(r,this._layerConfig[e],!0):this._layerConfig[e-jf]&&ri.merge(r,this._layerConfig[e-jf],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},insertLayer:function(e,t){var r=this._layers,n=this._zlevelList,a=n.length,i=null,o=-1,l=this._domRoot;if(r[e]){Pd("ZLevel "+e+" has been used already");return}if(!s$(t)){Pd("Layer of zlevel "+e+" is not valid");return}if(a>0&&e>n[0]){for(o=0;o<a-1&&!(n[o]<e&&n[o+1]>e);o++);i=r[n[o]]}if(n.splice(o+1,0,e),r[e]=t,!t.virtual)if(i){var s=i.dom;s.nextSibling?l.insertBefore(t.dom,s.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom)},eachLayer:function(e,t){var r=this._zlevelList,n,a;for(a=0;a<r.length;a++)n=r[a],e.call(t,this._layers[n],n)},eachBuiltinLayer:function(e,t){var r=this._zlevelList,n,a,i;for(i=0;i<r.length;i++)a=r[i],n=this._layers[a],n.__builtin__&&e.call(t,n,a)},eachOtherLayer:function(e,t){var r=this._zlevelList,n,a,i;for(i=0;i<r.length;i++)a=r[i],n=this._layers[a],n.__builtin__||e.call(t,n,a)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){this.eachBuiltinLayer(function(f,u){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var n=e[r];if(n.zlevel!==e[r-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}for(var a=null,i=0,o,r=0;r<e.length;r++){var n=e[r],l=n.zlevel,s;o!==l&&(o=l,i=0),n.incremental?(s=this.getLayer(l+o$,this._needsManuallyCompositing),s.incremental=!0,i=1):s=this.getLayer(l+(i>0?jf:0),this._needsManuallyCompositing),s.__builtin__||Pd("ZLevel "+l+" has been used by unkown layer "+s.id),s!==a&&(s.__used=!0,s.__startIndex!==r&&(s.__dirty=!0),s.__startIndex=r,s.incremental?s.__drawIndex=-1:s.__drawIndex=r,t(r),a=s),n.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(f,u){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?ri.merge(r[e],t,!0):r[e]=t;for(var n=0;n<this._zlevelList.length;n++){var a=this._zlevelList[n];if(a===e||a===e+jf){var i=this._layers[a];ri.merge(i,r[e],!0)}}}},delLayer:function(e){var t=this._layers,r=this._zlevelList,n=t[e];n&&(n.dom.parentNode.removeChild(n.dom),delete t[e],r.splice(ri.indexOf(r,e),1))},resize:function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var n=this._opts;if(e!=null&&(n.width=e),t!=null&&(n.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);ri.each(this._progressiveLayers,function(i){i.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Io).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Io].dom;var t=new N1("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,n=t.dom.height,a=t.ctx;this.eachLayer(function(f){f.__builtin__?a.drawImage(f.dom,0,0,r,n):f.renderToCanvas&&(t.ctx.save(),f.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var i={},o=this.storage.getDisplayList(!0),l=0;l<o.length;l++){var s=o[l];this._doPaintEl(s,t,!0,i)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],n=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],i=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var o=this.root,l=document.defaultView.getComputedStyle(o);return(o[n]||ec(l[r])||ec(o.style[r]))-(ec(l[a])||0)-(ec(l[i])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),n=r.getContext("2d"),a=e.getBoundingRect(),i=e.style,o=i.shadowBlur*t,l=i.shadowOffsetX*t,s=i.shadowOffsetY*t,f=i.hasStroke()?i.lineWidth:0,u=Math.max(f/2,-l+o),h=Math.max(f/2,l+o),c=Math.max(f/2,-s+o),v=Math.max(f/2,s+o),d=a.width+u+h,m=a.height+c+v;r.width=d*t,r.height=m*t,n.scale(t,t),n.clearRect(0,0,d,m),n.dpr=t;var g={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[u-a.x,c-a.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(n);var p=n$,y=new p({style:{x:0,y:0,image:r}});return g.position!=null&&(y.position=e.position=g.position),g.rotation!=null&&(y.rotation=e.rotation=g.rotation),g.scale!=null&&(y.scale=e.scale=g.scale),y}};var h$=z1,v$=h$,MO=ne,d$=kr,LO=d$.Dispatcher,eA=oO,g$=Gk,jc=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,LO.call(this)};jc.prototype={constructor:jc,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),r=0;r<t.length;r++)this.addClip(t[r])},removeClip:function(e){var t=MO.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),r=0;r<t.length;r++)this.removeClip(t[r]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,r=this._clips,n=r.length,a=[],i=[],o=0;o<n;o++){var l=r[o],s=l.step(e,t);s&&(a.push(s),i.push(l))}for(var o=0;o<n;)r[o]._needsRemove?(r[o]=r[n-1],r.pop(),n--):o++;n=a.length;for(var o=0;o<n;o++)i[o].fire(a[o]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0;function t(){e._running&&(eA(t),!e._paused&&e._update())}eA(t)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var r=new g$(e,t.loop,t.getter,t.setter);return this.addAnimator(r),r}};MO.mixin(jc,LO);var p$=jc,m$=p$,Th=kr,y$=Th.addEventListener,_$=Th.removeEventListener,oi=Th.normalizeEvent,IO=Th.getNativeEvent,hi=ne,PO=Oo,ks=Sr,x$=300,V_=ks.domSupported,Ed=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=hi.map(e,function(a){var i=a.replace("mouse","pointer");return r.hasOwnProperty(i)?i:a});return{mouse:e,touch:t,pointer:n}}(),tA={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function DO(e){return e==="mousewheel"&&ks.browser.firefox?"DOMMouseScroll":e}function V1(e){var t=e.pointerType;return t==="pen"||t==="touch"}function w$(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function kd(e){e&&(e.zrByTouch=!0)}function S$(e,t){return oi(e.dom,new EO(e,t),!0)}function RO(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}function EO(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Od=EO.prototype;Od.stopPropagation=Od.stopImmediatePropagation=Od.preventDefault=hi.noop;var fn={mousedown:function(e){e=oi(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=oi(this.dom,e);var t=this._mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&q1(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=oi(this.dom,e),q1(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=oi(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=RO(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=oi(this.dom,e),kd(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),fn.mousemove.call(this,e),fn.mousedown.call(this,e)},touchmove:function(e){e=oi(this.dom,e),kd(e),this.handler.processGesture(e,"change"),fn.mousemove.call(this,e)},touchend:function(e){e=oi(this.dom,e),kd(e),this.handler.processGesture(e,"end"),fn.mouseup.call(this,e),+new Date-this._lastTouchMoment<x$&&fn.click.call(this,e)},pointerdown:function(e){fn.mousedown.call(this,e)},pointermove:function(e){V1(e)||fn.mousemove.call(this,e)},pointerup:function(e){fn.mouseup.call(this,e)},pointerout:function(e){V1(e)||fn.mouseout.call(this,e)}};hi.each(["click","mousewheel","dblclick","contextmenu"],function(e){fn[e]=function(t){t=oi(this.dom,t),this.trigger(e,t)}});var F1={pointermove:function(e){V1(e)||F1.mousemove.call(this,e)},pointerup:function(e){F1.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;q1(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function b$(e,t){var r=t.domHandlers;ks.pointerEventsSupported?hi.each(Ed.pointer,function(n){Oc(t,n,function(a){r[n].call(e,a)})}):(ks.touchEventsSupported&&hi.each(Ed.touch,function(n){Oc(t,n,function(a){r[n].call(e,a),w$(t)})}),hi.each(Ed.mouse,function(n){Oc(t,n,function(a){a=IO(a),t.touching||r[n].call(e,a)})}))}function A$(e,t){ks.pointerEventsSupported?hi.each(tA.pointer,r):ks.touchEventsSupported||hi.each(tA.mouse,r);function r(n){function a(i){i=IO(i),RO(e,i.target)||(i=S$(e,i),t.domHandlers[n].call(e,i))}Oc(t,n,a,{capture:!0})}}function Oc(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,y$(e.domTarget,DO(t),r,n)}function H1(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&_$(e.domTarget,DO(r),t[r],e.listenerOpts[r]);e.mounted={}}function q1(e,t){if(e._mayPointerCapture=null,V_&&e._pointerCapturing^t){e._pointerCapturing=t;var r=e._globalHandlerScope;t?A$(e,r):H1(r)}}function rA(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function F_(e,t){PO.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new rA(e,fn),V_&&(this._globalHandlerScope=new rA(document,F1)),this._pointerCapturing=!1,this._mayPointerCapture=null,b$(this,this._localHandlerScope)}var kO=F_.prototype;kO.dispose=function(){H1(this._localHandlerScope),V_&&H1(this._globalHandlerScope)};kO.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};hi.mixin(F_,PO);var T$=F_,C$=T$,M$=yk,U1=Sr,L$=ne,I$=JG,P$=J6,D$=v$,R$=m$,E$=C$;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var k$=!U1.canvasSupported,Bc={canvas:D$},Po={},O$="4.3.2";function B$(e,t){var r=new G1(M$(),e,t);return Po[r.id]=r,r}function N$(e){if(e)e.dispose();else{for(var t in Po)Po.hasOwnProperty(t)&&Po[t].dispose();Po={}}return this}function z$(e){return Po[e]}function V$(e,t){Bc[e]=t}function F$(e){delete Po[e]}var G1=function(e,t,r){r=r||{},this.dom=t,this.id=e;var n=this,a=new P$,i=r.renderer;if(k$){if(!Bc.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");i="vml"}else(!i||!Bc[i])&&(i="canvas");var o=new Bc[i](t,a,r,e);this.storage=a,this.painter=o;var l=!U1.node&&!U1.worker?new E$(o.getViewportRoot(),o.root):null;this.handler=new I$(a,o,l,o.root),this.animation=new R$({stage:{update:L$.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var s=a.delFromStorage,f=a.addToStorage;a.delFromStorage=function(u){s.call(a,u),u&&u.removeSelfFromZr(n)},a.addToStorage=function(u){f.call(a,u),u.addSelfToZr(n)}};G1.prototype={constructor:G1,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var r=this.painter.addHover(e,t);return this.refreshHover(),r}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,r){this.handler.on(e,t,r)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,F$(this.id)}};pi.version=O$;pi.init=B$;pi.dispose=N$;pi.getInstance=z$;pi.registerPainter=V$;var lt={},ya=ne,H$=Sr,Cs=ya.each,Os=ya.isObject,q$=ya.isArray,OO="series\0";function BO(e){return e instanceof Array?e:e==null?[]:[e]}function U$(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,a=r.length;n<a;n++){var i=r[n];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var G$=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function W$(e){return Os(e)&&!q$(e)&&!(e instanceof Date)?e.value:e}function $$(e){return Os(e)&&!(e instanceof Array)}function Y$(e,t){t=(t||[]).slice();var r=ya.map(e||[],function(n,a){return{exist:n}});return Cs(t,function(n,a){if(Os(n)){for(var i=0;i<r.length;i++)if(!r[i].option&&n.id!=null&&r[i].exist.id===n.id+""){r[i].option=n,t[a]=null;return}for(var i=0;i<r.length;i++){var o=r[i].exist;if(!r[i].option&&(o.id==null||n.id==null)&&n.name!=null&&!Nc(n)&&!Nc(o)&&o.name===n.name+""){r[i].option=n,t[a]=null;return}}}}),Cs(t,function(n,a){if(Os(n)){for(var i=0;i<r.length;i++){var o=r[i].exist;if(!r[i].option&&!Nc(o)&&n.id==null){r[i].option=n;break}}i>=r.length&&r.push({option:n})}}),r}function Z$(e){var t=ya.createHashMap();Cs(e,function(r,n){var a=r.exist;a&&t.set(a.id,r)}),Cs(e,function(r,n){var a=r.option;ya.assert(!a||a.id==null||!t.get(a.id)||t.get(a.id)===r,"id duplicates: "+(a&&a.id)),a&&a.id!=null&&t.set(a.id,r),!r.keyInfo&&(r.keyInfo={})}),Cs(e,function(r,n){var a=r.exist,i=r.option,o=r.keyInfo;if(Os(i)){if(o.name=i.name!=null?i.name+"":a?a.name:OO+n,a)o.id=a.id;else if(i.id!=null)o.id=i.id+"";else{var l=0;do o.id="\0"+o.name+"\0"+l++;while(t.get(o.id))}t.set(o.id,r)}})}function K$(e){var t=e.name;return!!(t&&t.indexOf(OO))}function Nc(e){return Os(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function X$(e,t){var r={},n={};return a(e||[],r),a(t||[],n,r),[i(r),i(n)];function a(o,l,s){for(var f=0,u=o.length;f<u;f++)for(var h=o[f].seriesId,c=BO(o[f].dataIndex),v=s&&s[h],d=0,m=c.length;d<m;d++){var g=c[d];v&&v[g]?v[g]=null:(l[h]||(l[h]={}))[g]=1}}function i(o,l){var s=[];for(var f in o)if(o.hasOwnProperty(f)&&o[f]!=null)if(l)s.push(+f);else{var u=i(o[f],!0);u.length&&s.push({seriesId:f,dataIndex:u})}return s}}function Q$(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return ya.isArray(t.dataIndex)?ya.map(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return ya.isArray(t.name)?ya.map(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function J$(){var e="__\0ec_inner_"+j$+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var j$=0;function e7(e,t,r){if(ya.isString(t)){var n={};n[t+"Index"]=0,t=n}var a=r&&r.defaultMainType;a&&!Bd(t,a+"Index")&&!Bd(t,a+"Id")&&!Bd(t,a+"Name")&&(t[a+"Index"]=0);var i={};return Cs(t,function(s,l){var s=t[l];if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var f=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=f[1],h=(f[2]||"").toLowerCase();if(!(!u||!h||s==null||h==="index"&&s==="none"||r&&r.includeMainTypes&&ya.indexOf(r.includeMainTypes,u)<0)){var c={mainType:u};(h!=="index"||s!=="all")&&(c[h]=s);var v=e.queryComponents(c);i[u+"Models"]=v,i[u+"Model"]=v[0]}}),i}function Bd(e,t){return e&&e.hasOwnProperty(t)}function t7(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function r7(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function a7(e){return e==="auto"?H$.domSupported?"html":"richText":e||"html"}function n7(e,t){var r=ya.createHashMap(),n=[];return ya.each(e,function(a){var i=t(a);(r.get(i)||(n.push(i),r.set(i,[]))).push(a)}),{keys:n,buckets:r}}lt.normalizeToArray=BO;lt.defaultEmphasis=U$;lt.TEXT_STYLE_OPTIONS=G$;lt.getDataItemValue=W$;lt.isDataItemOption=$$;lt.mappingToExists=Y$;lt.makeIdAndName=Z$;lt.isNameSpecified=K$;lt.isIdInner=Nc;lt.compressBatches=X$;lt.queryDataIndex=Q$;lt.makeInner=J$;lt.parseFinder=e7;lt.setAttribute=t7;lt.getAttribute=r7;lt.getTooltipRenderMode=a7;lt.groupData=n7;var xa={},Bs=ne,i7=".",xo="___EC__COMPONENT__CONTAINER___";function ys(e){var t={main:"",sub:""};return e&&(e=e.split(i7),t.main=e[0]||"",t.sub=e[1]||""),t}function o7(e){Bs.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function s7(e,t){e.$constructor=e,e.extend=function(r){var n=this,a=function(){r.$constructor?r.$constructor.apply(this,arguments):n.apply(this,arguments)};return Bs.extend(a.prototype,r),a.extend=this.extend,a.superCall=f7,a.superApply=c7,Bs.inherits(a,this),a.superClass=n,a}}var l7=0;function u7(e){var t=["__\0is_clz",l7++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function f7(e,t){var r=Bs.slice(arguments,2);return this.superClass.prototype[t].apply(e,r)}function c7(e,t,r){return this.superClass.prototype[t].apply(e,r)}function h7(e,t){t=t||{};var r={};e.registerClass=function(i,o){if(o){if(o7(o),o=ys(o),!o.sub)r[o.main]=i;else if(o.sub!==xo){var l=n(o);l[o.sub]=i}}return i},e.getClass=function(i,o,l){var s=r[i];if(s&&s[xo]&&(s=o?s[o]:null),l&&!s)throw new Error(o?"Component "+i+"."+(o||"")+" not exists. Load it first.":i+".type should be specified.");return s},e.getClassesByMainType=function(i){i=ys(i);var o=[],l=r[i.main];return l&&l[xo]?Bs.each(l,function(s,f){f!==xo&&o.push(s)}):o.push(l),o},e.hasClass=function(i){return i=ys(i),!!r[i.main]},e.getAllClassMainTypes=function(){var i=[];return Bs.each(r,function(o,l){i.push(l)}),i},e.hasSubTypes=function(i){i=ys(i);var o=r[i.main];return o&&o[xo]},e.parseClassType=ys;function n(i){var o=r[i.main];return(!o||!o[xo])&&(o=r[i.main]={},o[xo]=!0),o}if(t.registerWhenExtend){var a=e.extend;a&&(e.extend=function(i){var o=a.call(this,i);return e.registerClass(o,i.type)})}return e}function v7(e,t){}xa.parseClassType=ys;xa.enableClassExtend=s7;xa.enableClassCheck=u7;xa.enableClassManagement=h7;xa.setReadOnly=v7;var Nd,aA;function Xs(){if(aA)return Nd;aA=1;var e=ne;function t(r){for(var n=0;n<r.length;n++)r[n][1]||(r[n][1]=r[n][0]);return function(a,i,o){for(var l={},s=0;s<r.length;s++){var f=r[s][1];if(!(i&&e.indexOf(i,f)>=0||o&&e.indexOf(o,f)<0)){var u=a.getShallow(f);u!=null&&(l[r[s][0]]=u)}}return l}}return Nd=t,Nd}var zd,nA;function d7(){if(nA)return zd;nA=1;var e=Xs(),t=e([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getLineStyle:function(n){var a=t(this,n);return a.lineDash=this.getLineDash(a.lineWidth),a},getLineDash:function(n){n==null&&(n=1);var a=this.get("type"),i=Math.max(n,2),o=n*4;return a==="solid"||a==null?!1:a==="dashed"?[o,o]:[i,i]}};return zd=r,zd}var Vd,iA;function g7(){if(iA)return Vd;iA=1;var e=Xs(),t=e([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(n,a){return t(this,n,a)}};return Vd=r,Vd}var ke={},Pu={},Lr={},NO=sr(),H_=NO.create,Ms=NO.distSquare,tc=Math.pow,Qi=Math.sqrt,eh=1e-8,zO=1e-4,oA=Qi(3),rc=1/3,Pn=H_(),Ka=H_(),Ls=H_();function Wi(e){return e>-eh&&e<eh}function VO(e){return e>eh||e<-eh}function ai(e,t,r,n,a){var i=1-a;return i*i*(i*e+3*a*t)+a*a*(a*n+3*i*r)}function p7(e,t,r,n,a){var i=1-a;return 3*(((t-e)*i+2*(r-t)*a)*i+(n-r)*a*a)}function m7(e,t,r,n,a,i){var o=n+3*(t-r)-e,l=3*(r-t*2+e),s=3*(t-e),f=e-a,u=l*l-3*o*s,h=l*s-9*o*f,c=s*s-3*l*f,v=0;if(Wi(u)&&Wi(h))if(Wi(l))i[0]=0;else{var d=-s/l;d>=0&&d<=1&&(i[v++]=d)}else{var m=h*h-4*u*c;if(Wi(m)){var g=h/u,d=-l/o+g,p=-g/2;d>=0&&d<=1&&(i[v++]=d),p>=0&&p<=1&&(i[v++]=p)}else if(m>0){var y=Qi(m),x=u*l+1.5*o*(-h+y),A=u*l+1.5*o*(-h-y);x<0?x=-tc(-x,rc):x=tc(x,rc),A<0?A=-tc(-A,rc):A=tc(A,rc);var d=(-l-(x+A))/(3*o);d>=0&&d<=1&&(i[v++]=d)}else{var w=(2*u*l-3*o*h)/(2*Qi(u*u*u)),b=Math.acos(w)/3,S=Qi(u),T=Math.cos(b),d=(-l-2*S*T)/(3*o),p=(-l+S*(T+oA*Math.sin(b)))/(3*o),C=(-l+S*(T-oA*Math.sin(b)))/(3*o);d>=0&&d<=1&&(i[v++]=d),p>=0&&p<=1&&(i[v++]=p),C>=0&&C<=1&&(i[v++]=C)}}return v}function y7(e,t,r,n,a){var i=6*r-12*t+6*e,o=9*t+3*n-3*e-9*r,l=3*t-3*e,s=0;if(Wi(o)){if(VO(i)){var f=-l/i;f>=0&&f<=1&&(a[s++]=f)}}else{var u=i*i-4*o*l;if(Wi(u))a[0]=-i/(2*o);else if(u>0){var h=Qi(u),f=(-i+h)/(2*o),c=(-i-h)/(2*o);f>=0&&f<=1&&(a[s++]=f),c>=0&&c<=1&&(a[s++]=c)}}return s}function _7(e,t,r,n,a,i){var o=(t-e)*a+e,l=(r-t)*a+t,s=(n-r)*a+r,f=(l-o)*a+o,u=(s-l)*a+l,h=(u-f)*a+f;i[0]=e,i[1]=o,i[2]=f,i[3]=h,i[4]=h,i[5]=u,i[6]=s,i[7]=n}function x7(e,t,r,n,a,i,o,l,s,f,u){var h,c=.005,v=1/0,d,m,g,p;Pn[0]=s,Pn[1]=f;for(var y=0;y<1;y+=.05)Ka[0]=ai(e,r,a,o,y),Ka[1]=ai(t,n,i,l,y),g=Ms(Pn,Ka),g<v&&(h=y,v=g);v=1/0;for(var x=0;x<32&&!(c<zO);x++)d=h-c,m=h+c,Ka[0]=ai(e,r,a,o,d),Ka[1]=ai(t,n,i,l,d),g=Ms(Ka,Pn),d>=0&&g<v?(h=d,v=g):(Ls[0]=ai(e,r,a,o,m),Ls[1]=ai(t,n,i,l,m),p=Ms(Ls,Pn),m<=1&&p<v?(h=m,v=p):c*=.5);return u&&(u[0]=ai(e,r,a,o,h),u[1]=ai(t,n,i,l,h)),Qi(v)}function ni(e,t,r,n){var a=1-n;return a*(a*e+2*n*t)+n*n*r}function w7(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function S7(e,t,r,n,a){var i=e-2*t+r,o=2*(t-e),l=e-n,s=0;if(Wi(i)){if(VO(o)){var f=-l/o;f>=0&&f<=1&&(a[s++]=f)}}else{var u=o*o-4*i*l;if(Wi(u)){var f=-o/(2*i);f>=0&&f<=1&&(a[s++]=f)}else if(u>0){var h=Qi(u),f=(-o+h)/(2*i),c=(-o-h)/(2*i);f>=0&&f<=1&&(a[s++]=f),c>=0&&c<=1&&(a[s++]=c)}}return s}function b7(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function A7(e,t,r,n,a){var i=(t-e)*n+e,o=(r-t)*n+t,l=(o-i)*n+i;a[0]=e,a[1]=i,a[2]=l,a[3]=l,a[4]=o,a[5]=r}function T7(e,t,r,n,a,i,o,l,s){var f,u=.005,h=1/0;Pn[0]=o,Pn[1]=l;for(var c=0;c<1;c+=.05){Ka[0]=ni(e,r,a,c),Ka[1]=ni(t,n,i,c);var v=Ms(Pn,Ka);v<h&&(f=c,h=v)}h=1/0;for(var d=0;d<32&&!(u<zO);d++){var m=f-u,g=f+u;Ka[0]=ni(e,r,a,m),Ka[1]=ni(t,n,i,m);var v=Ms(Ka,Pn);if(m>=0&&v<h)f=m,h=v;else{Ls[0]=ni(e,r,a,g),Ls[1]=ni(t,n,i,g);var p=Ms(Ls,Pn);g<=1&&p<h?(f=g,h=p):u*=.5}}return s&&(s[0]=ni(e,r,a,f),s[1]=ni(t,n,i,f)),Qi(h)}Lr.cubicAt=ai;Lr.cubicDerivativeAt=p7;Lr.cubicRootAt=m7;Lr.cubicExtrema=y7;Lr.cubicSubdivide=_7;Lr.cubicProjectPoint=x7;Lr.quadraticAt=ni;Lr.quadraticDerivativeAt=w7;Lr.quadraticRootAt=S7;Lr.quadraticExtremum=b7;Lr.quadraticSubdivide=A7;Lr.quadraticProjectPoint=T7;var wo={},sA;function Du(){if(sA)return wo;sA=1;var e=sr(),t=Lr,r=Math.min,n=Math.max,a=Math.sin,i=Math.cos,o=Math.PI*2,l=e.create(),s=e.create(),f=e.create();function u(p,y,x){if(p.length!==0){var A=p[0],w=A[0],b=A[0],S=A[1],T=A[1],C;for(C=1;C<p.length;C++)A=p[C],w=r(w,A[0]),b=n(b,A[0]),S=r(S,A[1]),T=n(T,A[1]);y[0]=w,y[1]=S,x[0]=b,x[1]=T}}function h(p,y,x,A,w,b){w[0]=r(p,x),w[1]=r(y,A),b[0]=n(p,x),b[1]=n(y,A)}var c=[],v=[];function d(p,y,x,A,w,b,S,T,C,M){var I=t.cubicExtrema,P=t.cubicAt,D,k=I(p,x,w,S,c);for(C[0]=1/0,C[1]=1/0,M[0]=-1/0,M[1]=-1/0,D=0;D<k;D++){var R=P(p,x,w,S,c[D]);C[0]=r(R,C[0]),M[0]=n(R,M[0])}for(k=I(y,A,b,T,v),D=0;D<k;D++){var B=P(y,A,b,T,v[D]);C[1]=r(B,C[1]),M[1]=n(B,M[1])}C[0]=r(p,C[0]),M[0]=n(p,M[0]),C[0]=r(S,C[0]),M[0]=n(S,M[0]),C[1]=r(y,C[1]),M[1]=n(y,M[1]),C[1]=r(T,C[1]),M[1]=n(T,M[1])}function m(p,y,x,A,w,b,S,T){var C=t.quadraticExtremum,M=t.quadraticAt,I=n(r(C(p,x,w),1),0),P=n(r(C(y,A,b),1),0),D=M(p,x,w,I),k=M(y,A,b,P);S[0]=r(p,w,D),S[1]=r(y,b,k),T[0]=n(p,w,D),T[1]=n(y,b,k)}function g(p,y,x,A,w,b,S,T,C){var M=e.min,I=e.max,P=Math.abs(w-b);if(P%o<1e-4&&P>1e-4){T[0]=p-x,T[1]=y-A,C[0]=p+x,C[1]=y+A;return}if(l[0]=i(w)*x+p,l[1]=a(w)*A+y,s[0]=i(b)*x+p,s[1]=a(b)*A+y,M(T,l,s),I(C,l,s),w=w%o,w<0&&(w=w+o),b=b%o,b<0&&(b=b+o),w>b&&!S?b+=o:w<b&&S&&(w+=o),S){var D=b;b=w,w=D}for(var k=0;k<b;k+=Math.PI/2)k>w&&(f[0]=i(k)*x+p,f[1]=a(k)*A+y,M(T,f,T),I(C,f,C))}return wo.fromPoints=u,wo.fromLine=h,wo.fromCubic=d,wo.fromQuadratic=m,wo.fromArc=g,wo}var Fd,lA;function Qs(){if(lA)return Fd;lA=1;var e=Lr,t=sr(),r=Du(),n=fr,a=Ws,i=a.devicePixelRatio,o={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},l=[],s=[],f=[],u=[],h=Math.min,c=Math.max,v=Math.cos,d=Math.sin,m=Math.sqrt,g=Math.abs,p=typeof Float32Array<"u",y=function(A){this._saveData=!A,this._saveData&&(this.data=[]),this._ctx=null};y.prototype={constructor:y,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(A,w,b){b=b||0,this._ux=g(b/i/A)||0,this._uy=g(b/i/w)||0},getContext:function(){return this._ctx},beginPath:function(A){return this._ctx=A,A&&A.beginPath(),A&&(this.dpr=A.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(A,w){return this.addData(o.M,A,w),this._ctx&&this._ctx.moveTo(A,w),this._x0=A,this._y0=w,this._xi=A,this._yi=w,this},lineTo:function(A,w){var b=g(A-this._xi)>this._ux||g(w-this._yi)>this._uy||this._len<5;return this.addData(o.L,A,w),this._ctx&&b&&(this._needsDash()?this._dashedLineTo(A,w):this._ctx.lineTo(A,w)),b&&(this._xi=A,this._yi=w),this},bezierCurveTo:function(A,w,b,S,T,C){return this.addData(o.C,A,w,b,S,T,C),this._ctx&&(this._needsDash()?this._dashedBezierTo(A,w,b,S,T,C):this._ctx.bezierCurveTo(A,w,b,S,T,C)),this._xi=T,this._yi=C,this},quadraticCurveTo:function(A,w,b,S){return this.addData(o.Q,A,w,b,S),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(A,w,b,S):this._ctx.quadraticCurveTo(A,w,b,S)),this._xi=b,this._yi=S,this},arc:function(A,w,b,S,T,C){return this.addData(o.A,A,w,b,b,S,T-S,0,C?0:1),this._ctx&&this._ctx.arc(A,w,b,S,T,C),this._xi=v(T)*b+A,this._yi=d(T)*b+w,this},arcTo:function(A,w,b,S,T){return this._ctx&&this._ctx.arcTo(A,w,b,S,T),this},rect:function(A,w,b,S){return this._ctx&&this._ctx.rect(A,w,b,S),this.addData(o.R,A,w,b,S),this},closePath:function(){this.addData(o.Z);var A=this._ctx,w=this._x0,b=this._y0;return A&&(this._needsDash()&&this._dashedLineTo(w,b),A.closePath()),this._xi=w,this._yi=b,this},fill:function(A){A&&A.fill(),this.toStatic()},stroke:function(A){A&&A.stroke(),this.toStatic()},setLineDash:function(A){if(A instanceof Array){this._lineDash=A,this._dashIdx=0;for(var w=0,b=0;b<A.length;b++)w+=A[b];this._dashSum=w}return this},setLineDashOffset:function(A){return this._dashOffset=A,this},len:function(){return this._len},setData:function(A){var w=A.length;!(this.data&&this.data.length===w)&&p&&(this.data=new Float32Array(w));for(var b=0;b<w;b++)this.data[b]=A[b];this._len=w},appendPath:function(A){A instanceof Array||(A=[A]);for(var w=A.length,b=0,S=this._len,T=0;T<w;T++)b+=A[T].len();p&&this.data instanceof Float32Array&&(this.data=new Float32Array(S+b));for(var T=0;T<w;T++)for(var C=A[T].data,M=0;M<C.length;M++)this.data[S++]=C[M];this._len=S},addData:function(A){if(this._saveData){var w=this.data;this._len+arguments.length>w.length&&(this._expandData(),w=this.data);for(var b=0;b<arguments.length;b++)w[this._len++]=arguments[b];this._prevCmd=A}},_expandData:function(){if(!(this.data instanceof Array)){for(var A=[],w=0;w<this._len;w++)A[w]=this.data[w];this.data=A}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(A,w){var b=this._dashSum,S=this._dashOffset,T=this._lineDash,C=this._ctx,M=this._xi,I=this._yi,P=A-M,D=w-I,k=m(P*P+D*D),R=M,B=I,V,F=T.length,Y;for(P/=k,D/=k,S<0&&(S=b+S),S%=b,R-=S*P,B-=S*D;P>0&&R<=A||P<0&&R>=A||P===0&&(D>0&&B<=w||D<0&&B>=w);)Y=this._dashIdx,V=T[Y],R+=P*V,B+=D*V,this._dashIdx=(Y+1)%F,!(P>0&&R<M||P<0&&R>M||D>0&&B<I||D<0&&B>I)&&C[Y%2?"moveTo":"lineTo"](P>=0?h(R,A):c(R,A),D>=0?h(B,w):c(B,w));P=R-A,D=B-w,this._dashOffset=-m(P*P+D*D)},_dashedBezierTo:function(A,w,b,S,T,C){var M=this._dashSum,I=this._dashOffset,P=this._lineDash,D=this._ctx,k=this._xi,R=this._yi,B,V,F,Y=e.cubicAt,q=0,E=this._dashIdx,z=P.length,N,H,W=0;for(I<0&&(I=M+I),I%=M,B=0;B<1;B+=.1)V=Y(k,A,b,T,B+.1)-Y(k,A,b,T,B),F=Y(R,w,S,C,B+.1)-Y(R,w,S,C,B),q+=m(V*V+F*F);for(;E<z&&(W+=P[E],!(W>I));E++);for(B=(W-I)/q;B<=1;)N=Y(k,A,b,T,B),H=Y(R,w,S,C,B),E%2?D.moveTo(N,H):D.lineTo(N,H),B+=P[E]/q,E=(E+1)%z;E%2!==0&&D.lineTo(T,C),V=T-N,F=C-H,this._dashOffset=-m(V*V+F*F)},_dashedQuadraticTo:function(A,w,b,S){var T=b,C=S;b=(b+2*A)/3,S=(S+2*w)/3,A=(this._xi+2*A)/3,w=(this._yi+2*w)/3,this._dashedBezierTo(A,w,b,S,T,C)},toStatic:function(){var A=this.data;A instanceof Array&&(A.length=this._len,p&&(this.data=new Float32Array(A)))},getBoundingRect:function(){l[0]=l[1]=f[0]=f[1]=Number.MAX_VALUE,s[0]=s[1]=u[0]=u[1]=-Number.MAX_VALUE;for(var A=this.data,w=0,b=0,S=0,T=0,C=0;C<A.length;){var M=A[C++];switch(C===1&&(w=A[C],b=A[C+1],S=w,T=b),M){case o.M:S=A[C++],T=A[C++],w=S,b=T,f[0]=S,f[1]=T,u[0]=S,u[1]=T;break;case o.L:r.fromLine(w,b,A[C],A[C+1],f,u),w=A[C++],b=A[C++];break;case o.C:r.fromCubic(w,b,A[C++],A[C++],A[C++],A[C++],A[C],A[C+1],f,u),w=A[C++],b=A[C++];break;case o.Q:r.fromQuadratic(w,b,A[C++],A[C++],A[C],A[C+1],f,u),w=A[C++],b=A[C++];break;case o.A:var I=A[C++],P=A[C++],D=A[C++],k=A[C++],R=A[C++],B=A[C++]+R;C+=1;var V=1-A[C++];C===1&&(S=v(R)*D+I,T=d(R)*k+P),r.fromArc(I,P,D,k,R,B,V,f,u),w=v(B)*D+I,b=d(B)*k+P;break;case o.R:S=w=A[C++],T=b=A[C++];var F=A[C++],Y=A[C++];r.fromLine(S,T,S+F,T+Y,f,u);break;case o.Z:w=S,b=T;break}t.min(l,l,f),t.max(s,s,u)}return C===0&&(l[0]=l[1]=s[0]=s[1]=0),new n(l[0],l[1],s[0]-l[0],s[1]-l[1])},rebuildPath:function(A){for(var w=this.data,b,S,T,C,M,I,P=this._ux,D=this._uy,k=this._len,R=0;R<k;){var B=w[R++];switch(R===1&&(T=w[R],C=w[R+1],b=T,S=C),B){case o.M:b=T=w[R++],S=C=w[R++],A.moveTo(T,C);break;case o.L:M=w[R++],I=w[R++],(g(M-T)>P||g(I-C)>D||R===k-1)&&(A.lineTo(M,I),T=M,C=I);break;case o.C:A.bezierCurveTo(w[R++],w[R++],w[R++],w[R++],w[R++],w[R++]),T=w[R-2],C=w[R-1];break;case o.Q:A.quadraticCurveTo(w[R++],w[R++],w[R++],w[R++]),T=w[R-2],C=w[R-1];break;case o.A:var V=w[R++],F=w[R++],Y=w[R++],q=w[R++],E=w[R++],z=w[R++],N=w[R++],H=w[R++],W=Y>q?Y:q,U=Y>q?1:Y/q,K=Y>q?q/Y:1,Q=Math.abs(Y-q)>.001,j=E+z;Q?(A.translate(V,F),A.rotate(N),A.scale(U,K),A.arc(0,0,W,E,j,1-H),A.scale(1/U,1/K),A.rotate(-N),A.translate(-V,-F)):A.arc(V,F,W,E,j,1-H),R===1&&(b=v(E)*Y+V,S=d(E)*q+F),T=v(j)*Y+V,C=d(j)*q+F;break;case o.R:b=T=w[R],S=C=w[R+1],A.rect(w[R++],w[R++],w[R++],w[R++]);break;case o.Z:A.closePath(),T=b,C=S}}}},y.CMD=o;var x=y;return Fd=x,Fd}var q_={},Hd={},uA;function FO(){if(uA)return Hd;uA=1;function e(t,r,n,a,i,o,l){if(i===0)return!1;var s=i,f=0,u=t;if(l>r+s&&l>a+s||l<r-s&&l<a-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t!==n)f=(r-a)/(t-n),u=(t*a-n*r)/(t-n);else return Math.abs(o-t)<=s/2;var h=f*o-l+u,c=h*h/(f*f+1);return c<=s/2*s/2}return Hd.containStroke=e,Hd}var HO={},C7=Lr;function M7(e,t,r,n,a,i,o,l,s,f,u){if(s===0)return!1;var h=s;if(u>t+h&&u>n+h&&u>i+h&&u>l+h||u<t-h&&u<n-h&&u<i-h&&u<l-h||f>e+h&&f>r+h&&f>a+h&&f>o+h||f<e-h&&f<r-h&&f<a-h&&f<o-h)return!1;var c=C7.cubicProjectPoint(e,t,r,n,a,i,o,l,f,u,null);return c<=h/2}HO.containStroke=M7;var qd={},fA;function qO(){if(fA)return qd;fA=1;var e=Lr,t=e.quadraticProjectPoint;function r(n,a,i,o,l,s,f,u,h){if(f===0)return!1;var c=f;if(h>a+c&&h>o+c&&h>s+c||h<a-c&&h<o-c&&h<s-c||u>n+c&&u>i+c&&u>l+c||u<n-c&&u<i-c&&u<l-c)return!1;var v=t(n,a,i,o,l,s,u,h,null);return v<=c/2}return qd.containStroke=r,qd}var UO={},U_={},cA=Math.PI*2;function L7(e){return e%=cA,e<0&&(e+=cA),e}U_.normalizeRadian=L7;var I7=U_,ac=I7.normalizeRadian,Il=Math.PI*2;function P7(e,t,r,n,a,i,o,l,s){if(o===0)return!1;var f=o;l-=e,s-=t;var u=Math.sqrt(l*l+s*s);if(u-f>r||u+f<r)return!1;if(Math.abs(n-a)%Il<1e-4)return!0;if(i){var h=n;n=ac(a),a=ac(h)}else n=ac(n),a=ac(a);n>a&&(a+=Il);var c=Math.atan2(s,l);return c<0&&(c+=Il),c>=n&&c<=a||c+Il>=n&&c+Il<=a}UO.containStroke=P7;function D7(e,t,r,n,a,i){if(i>t&&i>n||i<t&&i<n||n===t)return 0;var o=n<t?1:-1,l=(i-t)/(n-t);(l===1||l===0)&&(o=n<t?.5:-.5);var s=l*(r-e)+e;return s===a?1/0:s>a?o:0}var GO=D7,R7=Qs(),ls=FO(),E7=HO,k7=qO(),O7=UO,B7=U_,nc=B7.normalizeRadian,Dn=Lr,So=GO,ki=R7.CMD,us=Math.PI*2,N7=1e-4;function z7(e,t){return Math.abs(e-t)<N7}var oa=[-1,-1,-1],Za=[-1,-1];function V7(){var e=Za[0];Za[0]=Za[1],Za[1]=e}function F7(e,t,r,n,a,i,o,l,s,f){if(f>t&&f>n&&f>i&&f>l||f<t&&f<n&&f<i&&f<l)return 0;var u=Dn.cubicRootAt(t,n,i,l,f,oa);if(u===0)return 0;for(var h=0,c=-1,v,d,m=0;m<u;m++){var g=oa[m],p=g===0||g===1?.5:1,y=Dn.cubicAt(e,r,a,o,g);y<s||(c<0&&(c=Dn.cubicExtrema(t,n,i,l,Za),Za[1]<Za[0]&&c>1&&V7(),v=Dn.cubicAt(t,n,i,l,Za[0]),c>1&&(d=Dn.cubicAt(t,n,i,l,Za[1]))),c===2?g<Za[0]?h+=v<t?p:-p:g<Za[1]?h+=d<v?p:-p:h+=l<d?p:-p:g<Za[0]?h+=v<t?p:-p:h+=l<v?p:-p)}return h}function H7(e,t,r,n,a,i,o,l){if(l>t&&l>n&&l>i||l<t&&l<n&&l<i)return 0;var s=Dn.quadraticRootAt(t,n,i,l,oa);if(s===0)return 0;var f=Dn.quadraticExtremum(t,n,i);if(f>=0&&f<=1){for(var u=0,h=Dn.quadraticAt(t,n,i,f),c=0;c<s;c++){var v=oa[c]===0||oa[c]===1?.5:1,d=Dn.quadraticAt(e,r,a,oa[c]);d<o||(oa[c]<f?u+=h<t?v:-v:u+=i<h?v:-v)}return u}else{var v=oa[0]===0||oa[0]===1?.5:1,d=Dn.quadraticAt(e,r,a,oa[0]);return d<o?0:i<t?v:-v}}function q7(e,t,r,n,a,i,o,l){if(l-=t,l>r||l<-r)return 0;var s=Math.sqrt(r*r-l*l);oa[0]=-s,oa[1]=s;var f=Math.abs(n-a);if(f<1e-4)return 0;if(f%us<1e-4){n=0,a=us;var u=i?1:-1;return o>=oa[0]+e&&o<=oa[1]+e?u:0}if(i){var s=n;n=nc(a),a=nc(s)}else n=nc(n),a=nc(a);n>a&&(a+=us);for(var h=0,c=0;c<2;c++){var v=oa[c];if(v+e>o){var d=Math.atan2(l,v),u=i?1:-1;d<0&&(d=us+d),(d>=n&&d<=a||d+us>=n&&d+us<=a)&&(d>Math.PI/2&&d<Math.PI*1.5&&(u=-u),h+=u)}}return h}function WO(e,t,r,n,a){for(var i=0,o=0,l=0,s=0,f=0,u=0;u<e.length;){var h=e[u++];switch(h===ki.M&&u>1&&(r||(i+=So(o,l,s,f,n,a))),u===1&&(o=e[u],l=e[u+1],s=o,f=l),h){case ki.M:s=e[u++],f=e[u++],o=s,l=f;break;case ki.L:if(r){if(ls.containStroke(o,l,e[u],e[u+1],t,n,a))return!0}else i+=So(o,l,e[u],e[u+1],n,a)||0;o=e[u++],l=e[u++];break;case ki.C:if(r){if(E7.containStroke(o,l,e[u++],e[u++],e[u++],e[u++],e[u],e[u+1],t,n,a))return!0}else i+=F7(o,l,e[u++],e[u++],e[u++],e[u++],e[u],e[u+1],n,a)||0;o=e[u++],l=e[u++];break;case ki.Q:if(r){if(k7.containStroke(o,l,e[u++],e[u++],e[u],e[u+1],t,n,a))return!0}else i+=H7(o,l,e[u++],e[u++],e[u],e[u+1],n,a)||0;o=e[u++],l=e[u++];break;case ki.A:var c=e[u++],v=e[u++],d=e[u++],m=e[u++],g=e[u++],p=e[u++];u+=1;var y=1-e[u++],b=Math.cos(g)*d+c,S=Math.sin(g)*m+v;u>1?i+=So(o,l,b,S,n,a):(s=b,f=S);var x=(n-c)*m/d+c;if(r){if(O7.containStroke(c,v,m,g,g+p,y,t,x,a))return!0}else i+=q7(c,v,m,g,g+p,y,x,a);o=Math.cos(g+p)*d+c,l=Math.sin(g+p)*m+v;break;case ki.R:s=o=e[u++],f=l=e[u++];var A=e[u++],w=e[u++],b=s+A,S=f+w;if(r){if(ls.containStroke(s,f,b,f,t,n,a)||ls.containStroke(b,f,b,S,t,n,a)||ls.containStroke(b,S,s,S,t,n,a)||ls.containStroke(s,S,s,f,t,n,a))return!0}else i+=So(b,f,b,S,n,a),i+=So(s,S,s,f,n,a);break;case ki.Z:if(r){if(ls.containStroke(o,l,s,f,t,n,a))return!0}else i+=So(o,l,s,f,n,a);o=s,l=f;break}}return!r&&!z7(l,f)&&(i+=So(o,l,s,f,n,a)||0),i!==0}function U7(e,t,r){return WO(e,0,!1,t,r)}function G7(e,t,r,n){return WO(e,t,!0,r,n)}q_.contain=U7;q_.containStroke=G7;var G_=Iu,W_=ne,W1=Qs(),hA=q_,W7=aO,vA=W7.prototype.getCanvasPattern,Ud=Math.abs,$7=new W1(!0);function Eo(e){G_.call(this,e),this.path=null}Eo.prototype={constructor:Eo,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var r=this.style,n=this.path||$7,a=r.hasStroke(),i=r.hasFill(),o=r.fill,l=r.stroke,s=i&&!!o.colorStops,f=a&&!!l.colorStops,u=i&&!!o.image,h=a&&!!l.image;if(r.bind(e,this,t),this.setTransform(e),this.__dirty){var c;s&&(c=c||this.getBoundingRect(),this._fillGradient=r.getGradient(e,o,c)),f&&(c=c||this.getBoundingRect(),this._strokeGradient=r.getGradient(e,l,c))}s?e.fillStyle=this._fillGradient:u&&(e.fillStyle=vA.call(o,e)),f?e.strokeStyle=this._strokeGradient:h&&(e.strokeStyle=vA.call(l,e));var v=r.lineDash,d=r.lineDashOffset,m=!!e.setLineDash,g=this.getGlobalScale();if(n.setScale(g[0],g[1],this.segmentIgnoreThreshold),this.__dirtyPath||v&&!m&&a?(n.beginPath(e),v&&!m&&(n.setLineDash(v),n.setLineDashOffset(d)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),i)if(r.fillOpacity!=null){var p=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,n.fill(e),e.globalAlpha=p}else n.fill(e);if(v&&m&&(e.setLineDash(v),e.lineDashOffset=d),a)if(r.strokeOpacity!=null){var p=e.globalAlpha;e.globalAlpha=r.strokeOpacity*r.opacity,n.stroke(e),e.globalAlpha=p}else n.stroke(e);v&&m&&e.setLineDash([]),r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,r){},createPathProxy:function(){this.path=new W1},getBoundingRect:function(){var e=this._rect,t=this.style,r=!e;if(r){var n=this.path;n||(n=this.path=new W1),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),e=n.getBoundingRect()}if(this._rect=e,t.hasStroke()){var a=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){a.copy(e);var i=t.lineWidth,o=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(i=Math.max(i,this.strokeContainThreshold||4)),o>1e-10&&(a.width+=i/o,a.height+=i/o,a.x-=i/o/2,a.y-=i/o/2)}return a}return e},contain:function(e,t){var r=this.transformCoordToLocal(e,t),n=this.getBoundingRect(),a=this.style;if(e=r[0],t=r[1],n.contain(e,t)){var i=this.path.data;if(a.hasStroke()){var o=a.lineWidth,l=a.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(a.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),hA.containStroke(i,o/l,e,t)))return!0}if(a.hasFill())return hA.contain(i,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):G_.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var r=this.shape;if(r){if(W_.isObject(e))for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);else r[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&Ud(e[0]-1)>1e-10&&Ud(e[3]-1)>1e-10?Math.sqrt(Ud(e[0]*e[3]-e[2]*e[1])):1}};Eo.extend=function(e){var t=function(n){Eo.call(this,n),e.style&&this.style.extendFrom(e.style,!1);var a=e.shape;if(a){this.shape=this.shape||{};var i=this.shape;for(var o in a)!i.hasOwnProperty(o)&&a.hasOwnProperty(o)&&(i[o]=a[o])}e.init&&e.init.call(this,n)};W_.inherits(t,Eo);for(var r in e)r!=="style"&&r!=="shape"&&(t.prototype[r]=e[r]);return t};W_.inherits(Eo,G_);var Y7=Eo,yr=Y7,Z7=Qs(),K7=sr(),Gd=K7.applyTransform,fs=Z7.CMD,X7=[[],[],[]],dA=Math.sqrt,Q7=Math.atan2;function J7(e,t){var r=e.data,n,a,i,o,l,s,f=fs.M,u=fs.C,h=fs.L,c=fs.R,v=fs.A,d=fs.Q;for(i=0,o=0;i<r.length;){switch(n=r[i++],o=i,a=0,n){case f:a=1;break;case h:a=1;break;case u:a=3;break;case d:a=2;break;case v:var m=t[4],g=t[5],p=dA(t[0]*t[0]+t[1]*t[1]),y=dA(t[2]*t[2]+t[3]*t[3]),x=Q7(-t[1]/y,t[0]/p);r[i]*=p,r[i++]+=m,r[i]*=y,r[i++]+=g,r[i++]*=p,r[i++]*=y,r[i++]+=x,r[i++]+=x,i+=2,o=i;break;case c:s[0]=r[i++],s[1]=r[i++],Gd(s,s,t),r[o++]=s[0],r[o++]=s[1],s[0]+=r[i++],s[1]+=r[i++],Gd(s,s,t),r[o++]=s[0],r[o++]=s[1]}for(l=0;l<a;l++){var s=X7[l];s[0]=r[i++],s[1]=r[i++],Gd(s,s,t),r[o++]=s[0],r[o++]=s[1]}}}var j7=J7,$_=yr,Wd=Qs(),e9=j7,$d=Math.sqrt,ic=Math.sin,oc=Math.cos,sc=Math.PI,gA=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},$1=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(gA(e)*gA(t))},pA=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos($1(e,t))};function mA(e,t,r,n,a,i,o,l,s,f,u){var h=s*(sc/180),c=oc(h)*(e-r)/2+ic(h)*(t-n)/2,v=-1*ic(h)*(e-r)/2+oc(h)*(t-n)/2,d=c*c/(o*o)+v*v/(l*l);d>1&&(o*=$d(d),l*=$d(d));var m=(a===i?-1:1)*$d((o*o*(l*l)-o*o*(v*v)-l*l*(c*c))/(o*o*(v*v)+l*l*(c*c)))||0,g=m*o*v/l,p=m*-l*c/o,y=(e+r)/2+oc(h)*g-ic(h)*p,x=(t+n)/2+ic(h)*g+oc(h)*p,A=pA([1,0],[(c-g)/o,(v-p)/l]),w=[(c-g)/o,(v-p)/l],b=[(-1*c-g)/o,(-1*v-p)/l],S=pA(w,b);$1(w,b)<=-1&&(S=sc),$1(w,b)>=1&&(S=0),i===0&&S>0&&(S=S-2*sc),i===1&&S<0&&(S=S+2*sc),u.addData(f,y,x,o,l,A,S,h,i)}var t9=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,r9=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function a9(e){if(!e)return new Wd;for(var t=0,r=0,n=t,a=r,i,o=new Wd,l=Wd.CMD,s=e.match(t9),f=0;f<s.length;f++){for(var u=s[f],h=u.charAt(0),c,v=u.match(r9)||[],d=v.length,m=0;m<d;m++)v[m]=parseFloat(v[m]);for(var g=0;g<d;){var p,y,x,A,w,b,S,T=t,C=r;switch(h){case"l":t+=v[g++],r+=v[g++],c=l.L,o.addData(c,t,r);break;case"L":t=v[g++],r=v[g++],c=l.L,o.addData(c,t,r);break;case"m":t+=v[g++],r+=v[g++],c=l.M,o.addData(c,t,r),n=t,a=r,h="l";break;case"M":t=v[g++],r=v[g++],c=l.M,o.addData(c,t,r),n=t,a=r,h="L";break;case"h":t+=v[g++],c=l.L,o.addData(c,t,r);break;case"H":t=v[g++],c=l.L,o.addData(c,t,r);break;case"v":r+=v[g++],c=l.L,o.addData(c,t,r);break;case"V":r=v[g++],c=l.L,o.addData(c,t,r);break;case"C":c=l.C,o.addData(c,v[g++],v[g++],v[g++],v[g++],v[g++],v[g++]),t=v[g-2],r=v[g-1];break;case"c":c=l.C,o.addData(c,v[g++]+t,v[g++]+r,v[g++]+t,v[g++]+r,v[g++]+t,v[g++]+r),t+=v[g-2],r+=v[g-1];break;case"S":p=t,y=r;var M=o.len(),I=o.data;i===l.C&&(p+=t-I[M-4],y+=r-I[M-3]),c=l.C,T=v[g++],C=v[g++],t=v[g++],r=v[g++],o.addData(c,p,y,T,C,t,r);break;case"s":p=t,y=r;var M=o.len(),I=o.data;i===l.C&&(p+=t-I[M-4],y+=r-I[M-3]),c=l.C,T=t+v[g++],C=r+v[g++],t+=v[g++],r+=v[g++],o.addData(c,p,y,T,C,t,r);break;case"Q":T=v[g++],C=v[g++],t=v[g++],r=v[g++],c=l.Q,o.addData(c,T,C,t,r);break;case"q":T=v[g++]+t,C=v[g++]+r,t+=v[g++],r+=v[g++],c=l.Q,o.addData(c,T,C,t,r);break;case"T":p=t,y=r;var M=o.len(),I=o.data;i===l.Q&&(p+=t-I[M-4],y+=r-I[M-3]),t=v[g++],r=v[g++],c=l.Q,o.addData(c,p,y,t,r);break;case"t":p=t,y=r;var M=o.len(),I=o.data;i===l.Q&&(p+=t-I[M-4],y+=r-I[M-3]),t+=v[g++],r+=v[g++],c=l.Q,o.addData(c,p,y,t,r);break;case"A":x=v[g++],A=v[g++],w=v[g++],b=v[g++],S=v[g++],T=t,C=r,t=v[g++],r=v[g++],c=l.A,mA(T,C,t,r,b,S,x,A,w,c,o);break;case"a":x=v[g++],A=v[g++],w=v[g++],b=v[g++],S=v[g++],T=t,C=r,t+=v[g++],r+=v[g++],c=l.A,mA(T,C,t,r,b,S,x,A,w,c,o);break}}(h==="z"||h==="Z")&&(c=l.Z,o.addData(c),t=n,r=a),i=c}return o.toStatic(),o}function $O(e,t){var r=a9(e);return t=t||{},t.buildPath=function(n){if(n.setData){n.setData(r.data);var a=n.getContext();a&&n.rebuildPath(a)}else{var a=n;r.rebuildPath(a)}},t.applyTransform=function(n){e9(r,n),this.dirty(!0)},t}function n9(e,t){return new $_($O(e,t))}function i9(e,t){return $_.extend($O(e,t))}function o9(e,t){for(var r=[],n=e.length,a=0;a<n;a++){var i=e[a];i.path||i.createPathProxy(),i.__dirtyPath&&i.buildPath(i.path,i.shape,!0),r.push(i.path)}var o=new $_(t);return o.createPathProxy(),o.buildPath=function(l){l.appendPath(r);var s=l.getContext();s&&l.rebuildPath(s)},o}Pu.createFromString=n9;Pu.extendFromString=i9;Pu.mergePath=o9;var YO=Iu,s9=ne,l9=ir,Pl=gn,u9=$s,f9=u9.ContextCachedBy,th=function(e){YO.call(this,e)};th.prototype={constructor:th,type:"text",brush:function(e,t){var r=this.style;this.__dirty&&Pl.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var n=r.text;if(n!=null&&(n+=""),!Pl.needDrawText(n,r)){e.__attrCachedBy=f9.NONE;return}this.setTransform(e),Pl.renderText(this,e,n,r,null,t),this.restoreTransform(e)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Pl.normalizeTextStyle(e,!0),!this._rect){e.text;var t=l9.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,Pl.getStroke(e.textStroke,e.textStrokeWidth)){var r=e.textStrokeWidth;t.x-=r/2,t.y-=r/2,t.width+=r,t.height+=r}this._rect=t}return this._rect}};s9.inherits(th,YO);var c9=th,No=c9,h9=yr,v9=h9.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,r){r&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),ZO=v9,yA=Sr,Oi=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function d9(e){return yA.browser.ie&&yA.browser.version>=11?function(){var t=this.__clipPaths,r=this.style,n;if(t)for(var a=0;a<t.length;a++){var i=t[a],o=i&&i.shape,l=i&&i.type;if(o&&(l==="sector"&&o.startAngle===o.endAngle||l==="rect"&&(!o.width||!o.height))){for(var s=0;s<Oi.length;s++)Oi[s][2]=r[Oi[s][0]],r[Oi[s][0]]=Oi[s][1];n=!0;break}}if(e.apply(this,arguments),n)for(var s=0;s<Oi.length;s++)r[Oi[s][0]]=Oi[s][2]}:e}var KO=d9,_A=yr,g9=KO,p9=_A.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:g9(_A.prototype.brush),buildPath:function(e,t){var r=t.cx,n=t.cy,a=Math.max(t.r0||0,0),i=Math.max(t.r,0),o=t.startAngle,l=t.endAngle,s=t.clockwise,f=Math.cos(o),u=Math.sin(o);e.moveTo(f*a+r,u*a+n),e.lineTo(f*i+r,u*i+n),e.arc(r,n,i,o,l,!s),e.lineTo(Math.cos(l)*a+r,Math.sin(l)*a+n),a!==0&&e.arc(r,n,a,l,o,s),e.closePath()}}),m9=p9,y9=yr,_9=y9.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var r=t.cx,n=t.cy,a=Math.PI*2;e.moveTo(r+t.r,n),e.arc(r,n,t.r,0,a,!1),e.moveTo(r+t.r0,n),e.arc(r,n,t.r0,0,a,!0)}}),x9=_9,Y_={},w9=sr(),S9=w9.distance;function xA(e,t,r,n,a,i,o){var l=(r-e)*.5,s=(n-t)*.5;return(2*(t-r)+l+s)*o+(-3*(t-r)-2*l-s)*i+l*a+t}function b9(e,t){for(var r=e.length,n=[],a=0,i=1;i<r;i++)a+=S9(e[i-1],e[i]);var o=a/2;o=o<r?r:o;for(var i=0;i<o;i++){var l=i/(o-1)*(t?r:r-1),s=Math.floor(l),f=l-s,u,h=e[s%r],c,v;t?(u=e[(s-1+r)%r],c=e[(s+1)%r],v=e[(s+2)%r]):(u=e[s===0?s:s-1],c=e[s>r-2?r-1:s+1],v=e[s>r-3?r-1:s+2]);var d=f*f,m=f*d;n.push([xA(u[0],h[0],c[0],v[0],f,d,m),xA(u[1],h[1],c[1],v[1],f,d,m)])}return n}var A9=b9,zo=sr(),lc=zo.min,uc=zo.max,Yd=zo.scale,wA=zo.distance,SA=zo.add,T9=zo.clone,C9=zo.sub;function M9(e,t,r,n){var a=[],i=[],o=[],l=[],s,f,u,h;if(n){u=[1/0,1/0],h=[-1/0,-1/0];for(var c=0,v=e.length;c<v;c++)lc(u,u,e[c]),uc(h,h,e[c]);lc(u,u,n[0]),uc(h,h,n[1])}for(var c=0,v=e.length;c<v;c++){var d=e[c];if(r)s=e[c?c-1:v-1],f=e[(c+1)%v];else if(c===0||c===v-1){a.push(T9(e[c]));continue}else s=e[c-1],f=e[c+1];C9(i,f,s),Yd(i,i,t);var m=wA(d,s),g=wA(d,f),p=m+g;p!==0&&(m/=p,g/=p),Yd(o,i,-m),Yd(l,i,g);var y=SA([],d,o),x=SA([],d,l);n&&(uc(y,y,u),lc(y,y,h),uc(x,x,u),lc(x,x,h)),a.push(y),a.push(x)}return r&&a.push(a.shift()),a}var L9=M9,I9=A9,P9=L9;function D9(e,t,r){var n=t.points,a=t.smooth;if(n&&n.length>=2){if(a&&a!=="spline"){var i=P9(n,a,r,t.smoothConstraint);e.moveTo(n[0][0],n[0][1]);for(var o=n.length,l=0;l<(r?o:o-1);l++){var s=i[l*2],f=i[l*2+1],u=n[(l+1)%o];e.bezierCurveTo(s[0],s[1],f[0],f[1],u[0],u[1])}}else{a==="spline"&&(n=I9(n,r)),e.moveTo(n[0][0],n[0][1]);for(var l=1,h=n.length;l<h;l++)e.lineTo(n[l][0],n[l][1])}r&&e.closePath()}}Y_.buildPath=D9;var R9=yr,E9=Y_,k9=R9.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){E9.buildPath(e,t,!0)}}),XO=k9,O9=yr,B9=Y_,N9=O9.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){B9.buildPath(e,t,!1)}}),QO=N9,Js={},xs=Math.round;function z9(e,t,r){if(t){var n=t.x1,a=t.x2,i=t.y1,o=t.y2;e.x1=n,e.x2=a,e.y1=i,e.y2=o;var l=r&&r.lineWidth;l&&(xs(n*2)===xs(a*2)&&(e.x1=e.x2=Do(n,l,!0)),xs(i*2)===xs(o*2)&&(e.y1=e.y2=Do(i,l,!0)))}}function V9(e,t,r){if(t){var n=t.x,a=t.y,i=t.width,o=t.height;e.x=n,e.y=a,e.width=i,e.height=o;var l=r&&r.lineWidth;l&&(e.x=Do(n,l,!0),e.y=Do(a,l,!0),e.width=Math.max(Do(n+i,l,!1)-e.x,i===0?0:1),e.height=Math.max(Do(a+o,l,!1)-e.y,o===0?0:1))}}function Do(e,t,r){if(!t)return e;var n=xs(e*2);return(n+xs(t))%2===0?n/2:(n+(r?1:-1))/2}Js.subPixelOptimizeLine=z9;Js.subPixelOptimizeRect=V9;Js.subPixelOptimize=Do;var F9=yr,H9=R_,q9=Js,U9=q9.subPixelOptimizeRect,bo={},G9=F9.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var r,n,a,i;this.subPixelOptimize?(U9(bo,t,this.style),r=bo.x,n=bo.y,a=bo.width,i=bo.height,bo.r=t.r,t=bo):(r=t.x,n=t.y,a=t.width,i=t.height),t.r?H9.buildPath(e,t):e.rect(r,n,a,i),e.closePath()}}),Z_=G9,W9=yr,$9=Js,Y9=$9.subPixelOptimizeLine,Dl={},Z9=W9.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r,n,a,i;this.subPixelOptimize?(Y9(Dl,t,this.style),r=Dl.x1,n=Dl.y1,a=Dl.x2,i=Dl.y2):(r=t.x1,n=t.y1,a=t.x2,i=t.y2);var o=t.percent;o!==0&&(e.moveTo(r,n),o<1&&(a=r*(1-o)+a*o,i=n*(1-o)+i*o),e.lineTo(a,i))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),JO=Z9,K9=yr,X9=sr(),js=Lr,bA=js.quadraticSubdivide,AA=js.cubicSubdivide,TA=js.quadraticAt,CA=js.cubicAt,MA=js.quadraticDerivativeAt,LA=js.cubicDerivativeAt,da=[];function IA(e,t,r){var n=e.cpx2,a=e.cpy2;return n===null||a===null?[(r?LA:CA)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?LA:CA)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?MA:TA)(e.x1,e.cpx1,e.x2,t),(r?MA:TA)(e.y1,e.cpy1,e.y2,t)]}var Q9=K9.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2,o=t.cpx1,l=t.cpy1,s=t.cpx2,f=t.cpy2,u=t.percent;u!==0&&(e.moveTo(r,n),s==null||f==null?(u<1&&(bA(r,o,a,u,da),o=da[1],a=da[2],bA(n,l,i,u,da),l=da[1],i=da[2]),e.quadraticCurveTo(o,l,a,i)):(u<1&&(AA(r,o,s,a,u,da),o=da[1],s=da[2],a=da[3],AA(n,l,f,i,u,da),l=da[1],f=da[2],i=da[3]),e.bezierCurveTo(o,l,s,f,a,i)))},pointAt:function(e){return IA(this.shape,e,!1)},tangentAt:function(e){var t=IA(this.shape,e,!0);return X9.normalize(t,t)}}),J9=Q9,j9=yr,eY=j9.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.cx,n=t.cy,a=Math.max(t.r,0),i=t.startAngle,o=t.endAngle,l=t.clockwise,s=Math.cos(i),f=Math.sin(i);e.moveTo(s*a+r,f*a+n),e.arc(r,n,a,i,o,!l)}}),tY=eY,PA=yr,rY=PA.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,r=0;r<t.length;r++)e=e||t[r].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(t[0],t[1],e[r].segmentIgnoreThreshold)},buildPath:function(e,t){for(var r=t.paths||[],n=0;n<r.length;n++)r[n].buildPath(e,r[n].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),PA.prototype.getBoundingRect.call(this)}}),aY=rY,Y1=function(e){this.colorStops=e||[]};Y1.prototype={constructor:Y1,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var nY=Y1,Ch=nY,iY=ne,jO=Ch,rh=function(e,t,r,n,a,i){this.x=e??0,this.y=t??0,this.x2=r??1,this.y2=n??0,this.type="linear",this.global=i||!1,jO.call(this,a)};rh.prototype={constructor:rh};iY.inherits(rh,jO);var oY=rh,K_=oY,sY=ne,eB=Ch,ah=function(e,t,r,n,a){this.x=e??.5,this.y=t??.5,this.r=r??.5,this.type="radial",this.global=a||!1,eB.call(this,n)};ah.prototype={constructor:ah};sY.inherits(ah,eB);var lY=ah,uY=lY,fY=ne,cY=fY.inherits,tB=Iu,hY=fr;function pn(e){tB.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}pn.prototype.incremental=!0;pn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1};pn.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()};pn.prototype.addDisplayables=function(e,t){t=t||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],t)};pn.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])};pn.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}};pn.prototype.brush=function(e,t){for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.beforeBrush&&n.beforeBrush(e),n.brush(e,r===this._cursor?null:this._displayables[r-1]),n.afterBrush&&n.afterBrush(e)}this._cursor=r;for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.beforeBrush&&n.beforeBrush(e),n.brush(e,r===0?null:this._temporaryDisplayables[r-1]),n.afterBrush&&n.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var vY=[];pn.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new hY(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var r=this._displayables[t],n=r.getBoundingRect().clone();r.needLocalTransform()&&n.applyTransform(r.getLocalTransform(vY)),e.union(n)}this._rect=e}return this._rect};pn.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t),n=this.getBoundingRect();if(n.contain(r[0],r[1]))for(var a=0;a<this._displayables.length;a++){var i=this._displayables[a];if(i.contain(e,t))return!0}return!1};cY(pn,tB);var dY=pn,X_=dY,Da=ne,Q_=Pu,gY=Mr,Z1=la(),rB=sr(),pY=yr,mY=bh,J_=Ks;ke.Image=J_;var yY=Bo;ke.Group=yY;var _Y=No;ke.Text=_Y;var aB=ZO;ke.Circle=aB;var nB=m9;ke.Sector=nB;var iB=x9;ke.Ring=iB;var oB=XO;ke.Polygon=oB;var sB=QO;ke.Polyline=sB;var lB=Z_;ke.Rect=lB;var uB=JO;ke.Line=uB;var fB=J9;ke.BezierCurve=fB;var cB=tY;ke.Arc=cB;var xY=aY;ke.CompoundPath=xY;var wY=K_;ke.LinearGradient=wY;var SY=uY;ke.RadialGradient=SY;var bY=fr;ke.BoundingRect=bY;var AY=X_;ke.IncrementalDisplayable=AY;var j_=Js,nh=Math.max,ih=Math.min,Mh={},ex=1,TY={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},DA="emphasis",RA="normal",EA=1,kA={},K1={};function CY(e){return pY.extend(e)}function MY(e,t){return Q_.extendFromString(e,t)}function Nn(e,t){K1[e]=t}function LY(e){if(K1.hasOwnProperty(e))return K1[e]}function hB(e,t,r,n){var a=Q_.createFromString(e,t);return r&&(n==="center"&&(r=vB(r,a.getBoundingRect())),dB(a,r)),a}function IY(e,t,r){var n=new J_({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(r==="center"){var i={width:a.width,height:a.height};n.setStyle(vB(t,i))}}});return n}function vB(e,t){var r=t.width/t.height,n=e.height*r,a;n<=e.width?a=e.height:(n=e.width,a=n/r);var i=e.x+e.width/2,o=e.y+e.height/2;return{x:i-n/2,y:o-a/2,width:n,height:a}}var PY=Q_.mergePath;function dB(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function DY(e){return j_.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function RY(e){return j_.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var EY=j_.subPixelOptimize;function OA(e){return e!=null&&e!=="none"}var BA=Da.createHashMap(),NA=0;function kY(e){if(typeof e!="string")return e;var t=BA.get(e);return t||(t=gY.lift(e,-.1),NA<1e4&&(BA.set(e,t),NA++)),t}function OY(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t){e.__cachedNormalStl=e.__cachedNormalZ2=null;return}var r=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var n=e.style;for(var a in t)t[a]!=null&&(r[a]=n[a]);r.fill=n.fill,r.stroke=n.stroke}}function tx(e){var t=e.__hoverStl;if(!(!t||e.__highlighted)){var r=e.__zr,n=e.useHoverLayer&&r&&r.painter.type==="canvas";if(e.__highlighted=n?"layer":"plain",!(e.isGroup||!r&&e.useHoverLayer)){var a=e,i=e.style;n&&(a=r.addHover(e),i=a.style),oh(i),n||OY(a),i.extendFrom(t),zA(i,t,"fill"),zA(i,t,"stroke"),vu(i),n||(e.dirty(!1),e.z2+=ex)}}}function zA(e,t,r){!OA(t[r])&&OA(e[r])&&(e[r]=kY(e[r]))}function rx(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if(t==="layer")e.__zr&&e.__zr.removeHover(e);else{var r=e.style,n=e.__cachedNormalStl;n&&(oh(r),e.setStyle(n),vu(r));var a=e.__cachedNormalZ2;a!=null&&e.z2-a===ex&&(e.z2=a)}}function Ru(e,t,r){var n=RA,a=RA,i;e.__highlighted&&(n=DA,i=!0),t(e,r),e.__highlighted&&(a=DA,i=!0),e.isGroup&&e.traverse(function(o){!o.isGroup&&t(o,r)}),i&&e.__highDownOnUpdate&&e.__highDownOnUpdate(n,a)}function gB(e,t){t=e.__hoverStl=t!==!1&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,rx(e),tx(e))}function BY(e){!pB(this,e)&&!this.__highByOuter&&Ru(this,tx)}function NY(e){!pB(this,e)&&!this.__highByOuter&&Ru(this,rx)}function zY(e){this.__highByOuter|=1<<(e||0),Ru(this,tx)}function VY(e){!(this.__highByOuter&=~(1<<(e||0)))&&Ru(this,rx)}function pB(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function FY(e,t){mB(e,!0),Ru(e,gB,t)}function mB(e,t){var r=t===!1;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!r||e.__highDownDispatcher){var n=r?"off":"on";e[n]("mouseover",BY)[n]("mouseout",NY),e[n]("emphasis",zY)[n]("normal",VY),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!r}}function HY(e){return!!(e&&e.__highDownDispatcher)}function qY(e){var t=kA[e];return t==null&&EA<=32&&(t=kA[e]=EA++),t}function UY(e,t,r,n,a,i,o){a=a||Mh;var l=a.labelFetcher,s=a.labelDataIndex,f=a.labelDimIndex,u=a.labelProp,h=r.getShallow("show"),c=n.getShallow("show"),v;(h||c)&&(l&&(v=l.getFormattedLabel(s,"normal",null,f,u)),v==null&&(v=Da.isFunction(a.defaultText)?a.defaultText(s,a):a.defaultText));var d=h?v:null,m=c?Da.retrieve2(l?l.getFormattedLabel(s,"emphasis",null,f,u):null,v):null;(d!=null||m!=null)&&(X1(e,r,i,a),X1(t,n,o,a,!0)),e.text=d,t.text=m}function GY(e,t,r){var n=e.style;t&&(oh(n),e.setStyle(t),vu(n)),n=e.__hoverStl,r&&n&&(oh(n),Da.extend(n,r),vu(n))}function X1(e,t,r,n,a){return yB(e,t,n,a),r&&Da.extend(e,r),e}function WY(e,t,r){var n={isRectText:!0},a;r===!1?a=!0:n.autoColor=r,yB(e,t,n,a)}function yB(e,t,r,n){if(r=r||Mh,r.isRectText){var a;r.getTextPosition?a=r.getTextPosition(t,n):(a=t.getShallow("position")||(n?null:"inside"),a==="outside"&&(a="top")),e.textPosition=a,e.textOffset=t.getShallow("offset");var i=t.getShallow("rotate");i!=null&&(i*=Math.PI/180),e.textRotation=i,e.textDistance=Da.retrieve2(t.getShallow("distance"),n?null:5)}var o=t.ecModel,l=o&&o.option.textStyle,s=$Y(t),f;if(s){f={};for(var u in s)if(s.hasOwnProperty(u)){var h=t.getModel(["rich",u]);VA(f[u]={},h,l,r,n)}}return e.rich=f,VA(e,t,l,r,n,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),e}function $Y(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||Mh).rich;if(r){t=t||{};for(var n in r)r.hasOwnProperty(n)&&(t[n]=1)}e=e.parentModel}return t}function VA(e,t,r,n,a,i){r=!a&&r||Mh,e.textFill=fc(t.getShallow("color"),n)||r.color,e.textStroke=fc(t.getShallow("textBorderColor"),n)||r.textBorderColor,e.textStrokeWidth=Da.retrieve2(t.getShallow("textBorderWidth"),r.textBorderWidth),a||(i&&(e.insideRollbackOpt=n,vu(e)),e.textFill==null&&(e.textFill=n.autoColor)),e.fontStyle=t.getShallow("fontStyle")||r.fontStyle,e.fontWeight=t.getShallow("fontWeight")||r.fontWeight,e.fontSize=t.getShallow("fontSize")||r.fontSize,e.fontFamily=t.getShallow("fontFamily")||r.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!i||!n.disableBox)&&(e.textBackgroundColor=fc(t.getShallow("backgroundColor"),n),e.textPadding=t.getShallow("padding"),e.textBorderColor=fc(t.getShallow("borderColor"),n),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||r.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||r.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||r.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function fc(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function vu(e){var t=e.textPosition,r=e.insideRollbackOpt,n;if(r&&e.textFill==null){var a=r.autoColor,i=r.isRectText,o=r.useInsideStyle,l=o!==!1&&(o===!0||i&&t&&typeof t=="string"&&t.indexOf("inside")>=0),s=!l&&a!=null;(l||s)&&(n={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),l&&(e.textFill="#fff",e.textStroke==null&&(e.textStroke=a,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),s&&(e.textFill=a)}e.insideRollback=n}function oh(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function YY(e,t){var r=t&&t.getModel("textStyle");return Da.trim([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}function _B(e,t,r,n,a,i){typeof a=="function"&&(i=a,a=null);var o=n&&n.isAnimationEnabled();if(o){var l=e?"Update":"",s=n.getShallow("animationDuration"+l),f=n.getShallow("animationEasing"+l),u=n.getShallow("animationDelay"+l);typeof u=="function"&&(u=u(a,n.getAnimationDelayParams?n.getAnimationDelayParams(t,a):null)),typeof s=="function"&&(s=s(a)),s>0?t.animateTo(r,s,u||0,f,i,!!i):(t.stopAnimation(),t.attr(r),i&&i())}else t.stopAnimation(),t.attr(r),i&&i()}function xB(e,t,r,n,a){_B(!0,e,t,r,n,a)}function ZY(e,t,r,n,a){_B(!1,e,t,r,n,a)}function KY(e,t){for(var r=Z1.identity([]);e&&e!==t;)Z1.mul(r,e.getLocalTransform(),r),e=e.parent;return r}function wB(e,t,r){return t&&!Da.isArrayLike(t)&&(t=mY.getLocalTransform(t)),r&&(t=Z1.invert([],t)),rB.applyTransform([],e,t)}function XY(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),i=[e==="left"?-n:e==="right"?n:0,e==="top"?-a:e==="bottom"?a:0];return i=wB(i,t,r),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function QY(e,t,r,n){if(!e||!t)return;function a(l){var s={};return l.traverse(function(f){!f.isGroup&&f.anid&&(s[f.anid]=f)}),s}function i(l){var s={position:rB.clone(l.position),rotation:l.rotation};return l.shape&&(s.shape=Da.extend({},l.shape)),s}var o=a(e);t.traverse(function(l){if(!l.isGroup&&l.anid){var s=o[l.anid];if(s){var f=i(l);l.attr(i(s)),xB(l,f,r,l.dataIndex)}}})}function JY(e,t){return Da.map(e,function(r){var n=r[0];n=nh(n,t.x),n=ih(n,t.x+t.width);var a=r[1];return a=nh(a,t.y),a=ih(a,t.y+t.height),[n,a]})}function jY(e,t){var r=nh(e.x,t.x),n=ih(e.x+e.width,t.x+t.width),a=nh(e.y,t.y),i=ih(e.y+e.height,t.y+t.height);if(n>=r&&i>=a)return{x:r,y:a,width:n-r,height:i-a}}function eZ(e,t,r){t=Da.extend({rectHover:!0},t);var n=t.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(n.image=e.slice(8),Da.defaults(n,r),new J_(t)):hB(e.replace("path://",""),t,r,"center")}function tZ(e,t,r,n,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var l=a[i];if(SB(e,t,r,n,l[0],l[1],o[0],o[1]))return!0;o=l}}function SB(e,t,r,n,a,i,o,l){var s=r-e,f=n-t,u=o-a,h=l-i,c=Zd(u,h,s,f);if(rZ(c))return!1;var v=e-a,d=t-i,m=Zd(v,d,s,f)/c;if(m<0||m>1)return!1;var g=Zd(v,d,u,h)/c;return!(g<0||g>1)}function Zd(e,t,r,n){return e*n-r*t}function rZ(e){return e<=1e-6&&e>=-1e-6}Nn("circle",aB);Nn("sector",nB);Nn("ring",iB);Nn("polygon",oB);Nn("polyline",sB);Nn("rect",lB);Nn("line",uB);Nn("bezierCurve",fB);Nn("arc",cB);ke.Z2_EMPHASIS_LIFT=ex;ke.CACHED_LABEL_STYLE_PROPERTIES=TY;ke.extendShape=CY;ke.extendPath=MY;ke.registerShape=Nn;ke.getShapeClass=LY;ke.makePath=hB;ke.makeImage=IY;ke.mergePath=PY;ke.resizePath=dB;ke.subPixelOptimizeLine=DY;ke.subPixelOptimizeRect=RY;ke.subPixelOptimize=EY;ke.setElementHoverStyle=gB;ke.setHoverStyle=FY;ke.setAsHighDownDispatcher=mB;ke.isHighDownDispatcher=HY;ke.getHighlightDigit=qY;ke.setLabelStyle=UY;ke.modifyLabelStyle=GY;ke.setTextStyle=X1;ke.setText=WY;ke.getFont=YY;ke.updateProps=xB;ke.initProps=ZY;ke.getTransform=KY;ke.applyTransform=wB;ke.transformDirection=XY;ke.groupTransition=QY;ke.clipPointsByRect=JY;ke.clipRectByRect=jY;ke.createIcon=eZ;ke.linePolygonIntersect=tZ;ke.lineLineIntersect=SB;var Kd,FA;function aZ(){if(FA)return Kd;FA=1;var e=ir,t=ke,r=["textStyle","color"],n={getTextColor:function(a){var i=this.ecModel;return this.getShallow("color")||(!a&&i?i.get(r):null)},getFont:function(){return t.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return e.getBoundingRect(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};return Kd=n,Kd}var Xd,HA;function nZ(){if(HA)return Xd;HA=1;var e=Xs(),t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),r={getItemStyle:function(n,a){var i=t(this,n,a),o=this.getBorderLineDash();return o&&(i.lineDash=o),i},getBorderLineDash:function(){var n=this.get("borderType");return n==="solid"||n==null?null:n==="dashed"?[5,5]:[1,1]}};return Xd=r,Xd}var Qd,qA;function br(){if(qA)return Qd;qA=1;var e=ne,t=Sr,r=lt,n=r.makeInner,a=xa,i=a.enableClassExtend,o=a.enableClassCheck,l=d7(),s=g7(),f=aZ(),u=nZ(),h=e.mixin,c=n();function v(p,y,x){this.parentModel=y,this.ecModel=x,this.option=p}v.prototype={constructor:v,init:null,mergeOption:function(p){e.merge(this.option,p,!0)},get:function(p,y){return p==null?this.option:d(this.option,this.parsePath(p),!y&&m(this,p))},getShallow:function(p,y){var x=this.option,A=x==null?x:x[p],w=!y&&m(this,p);return A==null&&w&&(A=w.getShallow(p)),A},getModel:function(p,y){var x=p==null?this.option:d(this.option,p=this.parsePath(p)),A;return y=y||(A=m(this,p))&&A.getModel(p),new v(x,y,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var p=this.constructor;return new p(e.clone(this.option))},setReadOnly:function(p){},parsePath:function(p){return typeof p=="string"&&(p=p.split(".")),p},customizeGetParent:function(p){c(this).getParent=p},isAnimationEnabled:function(){if(!t.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};function d(p,y,x){for(var A=0;A<y.length&&!(y[A]&&(p=p&&typeof p=="object"?p[y[A]]:null,p==null));A++);return p==null&&x&&(p=x.get(y)),p}function m(p,y){var x=c(p).getParent;return x?x.call(p,y):p.parentModel}i(v),o(v),h(v,l),h(v,s),h(v,f),h(v,u);var g=v;return Qd=g,Qd}var ji={},ei=ne,iZ=xa,UA=iZ.parseClassType,oZ=0;function sZ(e){return[e||"",oZ++,Math.random().toFixed(5)].join("_")}function lZ(e){var t={};return e.registerSubTypeDefaulter=function(r,n){r=UA(r),t[r.main]=n},e.determineSubType=function(r,n){var a=n.type;if(!a){var i=UA(r).main;e.hasSubTypes(r)&&t[i]&&(a=t[i](n))}return a},e}function uZ(e,t){e.topologicalTravel=function(i,o,l,s){if(!i.length)return;var f=r(o),u=f.graph,h=f.noEntryList,c={};for(ei.each(i,function(y){c[y]=!0});h.length;){var v=h.pop(),d=u[v],m=!!c[v];m&&(l.call(s,v,d.originalDeps.slice()),delete c[v]),ei.each(d.successor,m?p:g)}ei.each(c,function(){throw new Error("Circle dependency may exists")});function g(y){u[y].entryCount--,u[y].entryCount===0&&h.push(y)}function p(y){c[y]=!0,g(y)}};function r(i){var o={},l=[];return ei.each(i,function(s){var f=n(o,s),u=f.originalDeps=t(s),h=a(u,i);f.entryCount=h.length,f.entryCount===0&&l.push(s),ei.each(h,function(c){ei.indexOf(f.predecessor,c)<0&&f.predecessor.push(c);var v=n(o,c);ei.indexOf(v.successor,c)<0&&v.successor.push(s)})}),{graph:o,noEntryList:l}}function n(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var l=[];return ei.each(i,function(s){ei.indexOf(o,s)>=0&&l.push(s)}),l}}ji.getUID=sZ;ji.enableSubTypeDefaulter=lZ;ji.enableTopologicalTravel=uZ;var Tt={},Tr={},GA;function ht(){if(GA)return Tr;GA=1;var e=ne,t=1e-4;function r(b){return b.replace(/^\s+|\s+$/g,"")}function n(b,S,T,C){var M=S[1]-S[0],I=T[1]-T[0];if(M===0)return I===0?T[0]:(T[0]+T[1])/2;if(C)if(M>0){if(b<=S[0])return T[0];if(b>=S[1])return T[1]}else{if(b>=S[0])return T[0];if(b<=S[1])return T[1]}else{if(b===S[0])return T[0];if(b===S[1])return T[1]}return(b-S[0])/M*I+T[0]}function a(b,S){switch(b){case"center":case"middle":b="50%";break;case"left":case"top":b="0%";break;case"right":case"bottom":b="100%";break}return typeof b=="string"?r(b).match(/%$/)?parseFloat(b)/100*S:parseFloat(b):b==null?NaN:+b}function i(b,S,T){return S==null&&(S=10),S=Math.min(Math.max(0,S),20),b=(+b).toFixed(S),T?b:+b}function o(b){return b.sort(function(S,T){return S-T}),b}function l(b){if(b=+b,isNaN(b))return 0;for(var S=1,T=0;Math.round(b*S)/S!==b;)S*=10,T++;return T}function s(b){var S=b.toString(),T=S.indexOf("e");if(T>0){var C=+S.slice(T+1);return C<0?-C:0}else{var M=S.indexOf(".");return M<0?0:S.length-1-M}}function f(b,S){var T=Math.log,C=Math.LN10,M=Math.floor(T(b[1]-b[0])/C),I=Math.round(T(Math.abs(S[1]-S[0]))/C),P=Math.min(Math.max(-M+I,0),20);return isFinite(P)?P:20}function u(b,S,T){if(!b[S])return 0;var C=e.reduce(b,function(q,E){return q+(isNaN(E)?0:E)},0);if(C===0)return 0;for(var M=Math.pow(10,T),I=e.map(b,function(q){return(isNaN(q)?0:q)/C*M*100}),P=M*100,D=e.map(I,function(q){return Math.floor(q)}),k=e.reduce(D,function(q,E){return q+E},0),R=e.map(I,function(q,E){return q-D[E]});k<P;){for(var B=Number.NEGATIVE_INFINITY,V=null,F=0,Y=R.length;F<Y;++F)R[F]>B&&(B=R[F],V=F);++D[V],R[V]=0,++k}return D[S]/M}var h=9007199254740991;function c(b){var S=Math.PI*2;return(b%S+S)%S}function v(b){return b>-t&&b<t}var d=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function m(b){if(b instanceof Date)return b;if(typeof b=="string"){var S=d.exec(b);if(!S)return new Date(NaN);if(S[8]){var T=+S[4]||0;return S[8].toUpperCase()!=="Z"&&(T-=S[8].slice(0,3)),new Date(Date.UTC(+S[1],+(S[2]||1)-1,+S[3]||1,T,+(S[5]||0),+S[6]||0,+S[7]||0))}else return new Date(+S[1],+(S[2]||1)-1,+S[3]||1,+S[4]||0,+(S[5]||0),+S[6]||0,+S[7]||0)}else if(b==null)return new Date(NaN);return new Date(Math.round(b))}function g(b){return Math.pow(10,p(b))}function p(b){if(b===0)return 0;var S=Math.floor(Math.log(b)/Math.LN10);return b/Math.pow(10,S)>=10&&S++,S}function y(b,S){var T=p(b),C=Math.pow(10,T),M=b/C,I;return S?M<1.5?I=1:M<2.5?I=2:M<4?I=3:M<7?I=5:I=10:M<1?I=1:M<2?I=2:M<3?I=3:M<5?I=5:I=10,b=I*C,T>=-20?+b.toFixed(T<0?-T:0):b}function x(b,S){var T=(b.length-1)*S+1,C=Math.floor(T),M=+b[C-1],I=T-C;return I?M+I*(b[C]-M):M}function A(b){b.sort(function(k,R){return D(k,R,0)?-1:1});for(var S=-1/0,T=1,C=0;C<b.length;){for(var M=b[C].interval,I=b[C].close,P=0;P<2;P++)M[P]<=S&&(M[P]=S,I[P]=P?1:1-T),S=M[P],T=I[P];M[0]===M[1]&&I[0]*I[1]!==1?b.splice(C,1):C++}return b;function D(k,R,B){return k.interval[B]<R.interval[B]||k.interval[B]===R.interval[B]&&(k.close[B]-R.close[B]===(B?-1:1)||!B&&D(k,R,1))}}function w(b){return b-parseFloat(b)>=0}return Tr.linearMap=n,Tr.parsePercent=a,Tr.round=i,Tr.asc=o,Tr.getPrecision=l,Tr.getPrecisionSafe=s,Tr.getPixelPrecision=f,Tr.getPercentWithPrecision=u,Tr.MAX_SAFE_INTEGER=h,Tr.remRadian=c,Tr.isRadianAroundZero=v,Tr.parseDate=m,Tr.quantity=g,Tr.quantityExponent=p,Tr.nice=y,Tr.quantile=x,Tr.reformIntervals=A,Tr.isNumeric=w,Tr}var na={},WA;function jt(){if(WA)return na;WA=1;var e=ne,t=ir,r=ht();function n(w){return isNaN(w)?"-":(w=(w+"").split("."),w[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(w.length>1?"."+w[1]:""))}function a(w,b){return w=(w||"").toLowerCase().replace(/-(.)/g,function(S,T){return T.toUpperCase()}),b&&w&&(w=w.charAt(0).toUpperCase()+w.slice(1)),w}var i=e.normalizeCssArray,o=/([&<>"'])/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function s(w){return w==null?"":(w+"").replace(o,function(b,S){return l[S]})}var f=["a","b","c","d","e","f","g"],u=function(w,b){return"{"+w+(b??"")+"}"};function h(w,b,S){e.isArray(b)||(b=[b]);var T=b.length;if(!T)return"";for(var C=b[0].$vars||[],M=0;M<C.length;M++){var I=f[M];w=w.replace(u(I),u(I,0))}for(var P=0;P<T;P++)for(var D=0;D<C.length;D++){var k=b[P][C[D]];w=w.replace(u(f[D],P),S?s(k):k)}return w}function c(w,b,S){return e.each(b,function(T,C){w=w.replace("{"+C+"}",S?s(T):T)}),w}function v(w,C){w=e.isString(w)?{color:w,extraCssText:C}:w||{};var S=w.color,T=w.type,C=w.extraCssText,M=w.renderMode||"html",I=w.markerId||"X";return S?M==="html"?T==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+s(S)+";"+(C||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+s(S)+";"+(C||"")+'"></span>':{renderMode:M,content:"{marker"+I+"|}  ",style:{color:S}}:""}function d(w,b){return w+="","0000".substr(0,b-w.length)+w}function m(w,b,S){(w==="week"||w==="month"||w==="quarter"||w==="half-year"||w==="year")&&(w=`MM-dd
yyyy`);var T=r.parseDate(b),C=S?"UTC":"",M=T["get"+C+"FullYear"](),I=T["get"+C+"Month"]()+1,P=T["get"+C+"Date"](),D=T["get"+C+"Hours"](),k=T["get"+C+"Minutes"](),R=T["get"+C+"Seconds"](),B=T["get"+C+"Milliseconds"]();return w=w.replace("MM",d(I,2)).replace("M",I).replace("yyyy",M).replace("yy",M%100).replace("dd",d(P,2)).replace("d",P).replace("hh",d(D,2)).replace("h",D).replace("mm",d(k,2)).replace("m",k).replace("ss",d(R,2)).replace("s",R).replace("SSS",d(B,3)),w}function g(w){return w&&w.charAt(0).toUpperCase()+w.substr(1)}var p=t.truncateText;function y(w){return t.getBoundingRect(w.text,w.font,w.textAlign,w.textVerticalAlign,w.textPadding,w.textLineHeight,w.rich,w.truncate)}function x(w,b,S,T,C,M,I,P){return t.getBoundingRect(w,b,S,T,C,P,M,I)}function A(w,b){if(b==="_blank"||b==="blank"){var S=window.open();S.opener=null,S.location=w}else window.open(w,b)}return na.addCommas=n,na.toCamelCase=a,na.normalizeCssArray=i,na.encodeHTML=s,na.formatTpl=h,na.formatTplSimple=c,na.getTooltipMarker=v,na.formatTime=m,na.capitalFirst=g,na.truncateText=p,na.getTextBoundingRect=y,na.getTextRect=x,na.windowOpen=A,na}var Ns=ne,bB=fr,fZ=ht(),In=fZ.parsePercent,AB=jt(),zc=Ns.each,TB=["left","right","top","bottom","width","height"],$i=[["width","left","right"],["height","top","bottom"]];function ax(e,t,r,n,a){var i=0,o=0;n==null&&(n=1/0),a==null&&(a=1/0);var l=0;t.eachChild(function(s,f){var u=s.position,h=s.getBoundingRect(),c=t.childAt(f+1),v=c&&c.getBoundingRect(),d,m;if(e==="horizontal"){var g=h.width+(v?-v.x+h.x:0);d=i+g,d>n||s.newline?(i=0,d=g,o+=l+r,l=h.height):l=Math.max(l,h.height)}else{var p=h.height+(v?-v.y+h.y:0);m=o+p,m>a||s.newline?(i+=l+r,o=0,m=p,l=h.width):l=Math.max(l,h.width)}s.newline||(u[0]=i,u[1]=o,e==="horizontal"?i=d+r:o=m+r)})}var cZ=ax,hZ=Ns.curry(ax,"vertical"),vZ=Ns.curry(ax,"horizontal");function dZ(e,t,r){var n=t.width,a=t.height,i=In(e.x,n),o=In(e.y,a),l=In(e.x2,n),s=In(e.y2,a);return(isNaN(i)||isNaN(parseFloat(e.x)))&&(i=0),(isNaN(l)||isNaN(parseFloat(e.x2)))&&(l=n),(isNaN(o)||isNaN(parseFloat(e.y)))&&(o=0),(isNaN(s)||isNaN(parseFloat(e.y2)))&&(s=a),r=AB.normalizeCssArray(r||0),{width:Math.max(l-i-r[1]-r[3],0),height:Math.max(s-o-r[0]-r[2],0)}}function CB(e,t,r){r=AB.normalizeCssArray(r||0);var n=t.width,a=t.height,i=In(e.left,n),o=In(e.top,a),l=In(e.right,n),s=In(e.bottom,a),f=In(e.width,n),u=In(e.height,a),h=r[2]+r[0],c=r[1]+r[3],v=e.aspect;switch(isNaN(f)&&(f=n-l-c-i),isNaN(u)&&(u=a-s-h-o),v!=null&&(isNaN(f)&&isNaN(u)&&(v>n/a?f=n*.8:u=a*.8),isNaN(f)&&(f=v*u),isNaN(u)&&(u=f/v)),isNaN(i)&&(i=n-l-f-c),isNaN(o)&&(o=a-s-u-h),e.left||e.right){case"center":i=n/2-f/2-r[3];break;case"right":i=n-f-c;break}switch(e.top||e.bottom){case"middle":case"center":o=a/2-u/2-r[0];break;case"bottom":o=a-u-h;break}i=i||0,o=o||0,isNaN(f)&&(f=n-c-i-(l||0)),isNaN(u)&&(u=a-h-o-(s||0));var d=new bB(i+r[3],o+r[0],f,u);return d.margin=r,d}function gZ(e,t,r,n,a){var i=!a||!a.hv||a.hv[0],o=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all";if(!(!i&&!o)){var s;if(l==="raw")s=e.type==="group"?new bB(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(s=e.getBoundingRect(),e.needLocalTransform()){var f=e.getLocalTransform();s=s.clone(),s.applyTransform(f)}t=CB(Ns.defaults({width:s.width,height:s.height},t),r,n);var u=e.position,h=i?t.x-s.x:0,c=o?t.y-s.y:0;e.attr("position",l==="raw"?[h,c]:[u[0]+h,u[1]+c])}}function pZ(e,t){return e[$i[t][0]]!=null||e[$i[t][1]]!=null&&e[$i[t][2]]!=null}function mZ(e,t,r){!Ns.isObject(r)&&(r={});var n=r.ignoreSize;!Ns.isArray(n)&&(n=[n,n]);var a=o($i[0],0),i=o($i[1],1);f($i[0],e,a),f($i[1],e,i);function o(u,h){var c={},v=0,d={},m=0,g=2;if(zc(u,function(x){d[x]=e[x]}),zc(u,function(x){l(t,x)&&(c[x]=d[x]=t[x]),s(c,x)&&v++,s(d,x)&&m++}),n[h])return s(t,u[1])?d[u[2]]=null:s(t,u[2])&&(d[u[1]]=null),d;if(m===g||!v)return d;if(v>=g)return c;for(var p=0;p<u.length;p++){var y=u[p];if(!l(c,y)&&l(e,y)){c[y]=e[y];break}}return c}function l(u,h){return u.hasOwnProperty(h)}function s(u,h){return u[h]!=null&&u[h]!=="auto"}function f(u,h,c){zc(u,function(v){h[v]=c[v]})}}function yZ(e){return MB({},e)}function MB(e,t){return t&&e&&zc(TB,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}Tt.LOCATION_PARAMS=TB;Tt.HV_NAMES=$i;Tt.box=cZ;Tt.vbox=hZ;Tt.hbox=vZ;Tt.getAvailableSize=dZ;Tt.getLayoutRect=CB;Tt.positionElement=gZ;Tt.sizeCalculable=pZ;Tt.mergeLayoutParam=mZ;Tt.getLayoutParams=yZ;Tt.copyLayoutParams=MB;var _Z={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},xZ=_Z,Yi=ne,$A=br(),nx=ji,LB=xa,wZ=LB.enableClassManagement,SZ=LB.parseClassType,bZ=lt,AZ=bZ.makeInner,Jd=Tt,TZ=xZ,CZ=AZ(),el=$A.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,n){$A.call(this,e,t,r,n),this.uid=nx.getUID("ec_cpt_model")},init:function(e,t,r,n){this.mergeDefaultAndTheme(e,r)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,n=r?Jd.getLayoutParams(e):{},a=t.getTheme();Yi.merge(e,a.get(this.mainType)),Yi.merge(e,this.getDefaultOption()),r&&Jd.mergeLayoutParam(e,n,r)},mergeOption:function(e,t){Yi.merge(this.option,e,!0);var r=this.layoutMode;r&&Jd.mergeLayoutParam(this.option,e,r)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=CZ(this);if(!e.defaultOption){for(var t=[],r=this.constructor;r;){var n=r.prototype.defaultOption;n&&t.push(n),r=r.superClass}for(var a={},i=t.length-1;i>=0;i--)a=Yi.merge(a,t[i],!0);e.defaultOption=a}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});wZ(el,{registerWhenExtend:!0});nx.enableSubTypeDefaulter(el);nx.enableTopologicalTravel(el,MZ);function MZ(e){var t=[];return Yi.each(el.getClassesByMainType(e),function(r){t=t.concat(r.prototype.dependencies||[])}),t=Yi.map(t,function(r){return SZ(r).main}),e!=="dataset"&&Yi.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}Yi.mixin(el,TZ);var LZ=el,Or=LZ,IB="";typeof navigator<"u"&&(IB=navigator.platform||"");var IZ={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:IB.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},PZ=IZ,PB=lt,DZ=PB.makeInner,RZ=PB.normalizeToArray,jd=DZ();function EZ(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}var kZ={clearColorPalette:function(){jd(this).colorIdx=0,jd(this).colorNameMap={}},getColorFromPalette:function(e,t,r){t=t||this;var n=jd(t),a=n.colorIdx||0,i=n.colorNameMap=n.colorNameMap||{};if(i.hasOwnProperty(e))return i[e];var o=RZ(this.get("color",!0)),l=this.get("colorLayer",!0),s=r==null||!l?o:EZ(l,r);if(s=s||o,!(!s||!s.length)){var f=s[a];return e&&(i[e]=f),n.colorIdx=(a+1)%s.length,f}}},DB=kZ,Tn={},Cn={},YA;function Eu(){if(YA)return Cn;YA=1;var e="original",t="arrayRows",r="objectRows",n="keyedColumns",a="unknown",i="typedArray",o="column",l="row";return Cn.SOURCE_FORMAT_ORIGINAL=e,Cn.SOURCE_FORMAT_ARRAY_ROWS=t,Cn.SOURCE_FORMAT_OBJECT_ROWS=r,Cn.SOURCE_FORMAT_KEYED_COLUMNS=n,Cn.SOURCE_FORMAT_UNKNOWN=a,Cn.SOURCE_FORMAT_TYPED_ARRAY=i,Cn.SERIES_LAYOUT_BY_COLUMN=o,Cn.SERIES_LAYOUT_BY_ROW=l,Cn}var eg,ZA;function ku(){if(ZA)return eg;ZA=1;var e=ne,t=e.createHashMap,r=e.isTypedArray,n=xa,a=n.enableClassCheck,i=Eu(),o=i.SOURCE_FORMAT_ORIGINAL,l=i.SERIES_LAYOUT_BY_COLUMN,s=i.SOURCE_FORMAT_UNKNOWN,f=i.SOURCE_FORMAT_TYPED_ARRAY,u=i.SOURCE_FORMAT_KEYED_COLUMNS;function h(v){this.fromDataset=v.fromDataset,this.data=v.data||(v.sourceFormat===u?{}:[]),this.sourceFormat=v.sourceFormat||s,this.seriesLayoutBy=v.seriesLayoutBy||l,this.dimensionsDefine=v.dimensionsDefine,this.encodeDefine=v.encodeDefine&&t(v.encodeDefine),this.startIndex=v.startIndex||0,this.dimensionsDetectCount=v.dimensionsDetectCount}h.seriesDataToSource=function(v){return new h({data:v,sourceFormat:r(v)?f:o,fromDataset:!1})},a(h);var c=h;return eg=c,eg}var KA;function mi(){if(KA)return Tn;KA=1;var e=lt,t=e.makeInner,r=e.getDataItemValue,n=ne,a=n.createHashMap,i=n.each,o=n.map,l=n.isArray,s=n.isString,f=n.isObject,u=n.isTypedArray,h=n.isArrayLike,c=n.extend;n.assert;var v=ku(),d=Eu(),m=d.SOURCE_FORMAT_ORIGINAL,g=d.SOURCE_FORMAT_ARRAY_ROWS,p=d.SOURCE_FORMAT_OBJECT_ROWS,y=d.SOURCE_FORMAT_KEYED_COLUMNS,x=d.SOURCE_FORMAT_UNKNOWN,A=d.SOURCE_FORMAT_TYPED_ARRAY,w=d.SERIES_LAYOUT_BY_ROW,b={Must:1,Might:2,Not:3},S=t();function T(E){var z=E.option.source,N=x;if(u(z))N=A;else if(l(z)){z.length===0&&(N=g);for(var H=0,W=z.length;H<W;H++){var U=z[H];if(U!=null){if(l(U)){N=g;break}else if(f(U)){N=p;break}}}}else if(f(z)){for(var K in z)if(z.hasOwnProperty(K)&&h(z[K])){N=y;break}}else if(z!=null)throw new Error("Invalid data");S(E).sourceFormat=N}function C(E){return S(E).source}function M(E){S(E).datasetMap=a()}function I(E){var z=E.option,N=z.data,H=u(N)?A:m,W=!1,U=z.seriesLayoutBy,K=z.sourceHeader,Q=z.dimensions,j=F(E);if(j){var se=j.option;N=se.source,H=S(j).sourceFormat,W=!0,U=U||se.seriesLayoutBy,K==null&&(K=se.sourceHeader),Q=Q||se.dimensions}var le=P(N,H,U,K,Q);S(E).source=new v({data:N,fromDataset:W,seriesLayoutBy:U,sourceFormat:H,dimensionsDefine:le.dimensionsDefine,startIndex:le.startIndex,dimensionsDetectCount:le.dimensionsDetectCount,encodeDefine:z.encode})}function P(E,z,N,H,W){if(!E)return{dimensionsDefine:D(W)};var U,K;if(z===g)H==="auto"||H==null?k(function(j){j!=null&&j!=="-"&&(s(j)?K==null&&(K=1):K=0)},N,E,10):K=H?1:0,!W&&K===1&&(W=[],k(function(j,se){W[se]=j??""},N,E)),U=W?W.length:N===w?E.length:E[0]?E[0].length:null;else if(z===p)W||(W=R(E));else if(z===y)W||(W=[],i(E,function(j,se){W.push(se)}));else if(z===m){var Q=r(E[0]);U=l(Q)&&Q.length||1}return{startIndex:K,dimensionsDefine:D(W),dimensionsDetectCount:U}}function D(E){if(E){var z=a();return o(E,function(N,H){if(N=c({},f(N)?N:{name:N}),N.name==null)return N;N.name+="",N.displayName==null&&(N.displayName=N.name);var W=z.get(N.name);return W?N.name+="-"+W.count++:z.set(N.name,{count:1}),N})}}function k(E,z,N,H){if(H==null&&(H=1/0),z===w)for(var W=0;W<N.length&&W<H;W++)E(N[W]?N[W][0]:null,W);else for(var U=N[0]||[],W=0;W<U.length&&W<H;W++)E(U[W],W)}function R(E){for(var z=0,N;z<E.length&&!(N=E[z++]););if(N){var H=[];return i(N,function(W,U){H.push(U)}),H}}function B(E,z,N){var H={},W=F(z);if(!W||!E)return H;var U=[],K=[],Q=z.ecModel,j=S(Q).datasetMap,se=W.uid+"_"+N.seriesLayoutBy,le,de;E=E.slice(),i(E,function(X,G){!f(X)&&(E[G]={name:X}),X.type==="ordinal"&&le==null&&(le=G,de=ye(E[G])),H[X.name]=[]});var he=j.get(se)||j.set(se,{categoryWayDim:de,valueWayDim:0});i(E,function(X,G){var $=X.name,ee=ye(X);if(le==null){var fe=he.valueWayDim;pe(H[$],fe,ee),pe(K,fe,ee),he.valueWayDim+=ee}else if(le===G)pe(H[$],0,ee),pe(U,0,ee);else{var fe=he.categoryWayDim;pe(H[$],fe,ee),pe(K,fe,ee),he.categoryWayDim+=ee}});function pe(X,G,$){for(var ee=0;ee<$;ee++)X.push(G+ee)}function ye(X){var G=X.dimsDef;return G?G.length:1}return U.length&&(H.itemName=U),K.length&&(H.seriesName=K),H}function V(E,z,N){var H={},W=F(E);if(!W)return H;var U=z.sourceFormat,K=z.dimensionsDefine,Q;(U===p||U===y)&&i(K,function(le,de){(f(le)?le.name:le)==="name"&&(Q=de)});var j=function(){for(var le={},de={},he=[],pe=0,ye=Math.min(5,N);pe<ye;pe++){var X=q(z.data,U,z.seriesLayoutBy,K,z.startIndex,pe);he.push(X);var G=X===b.Not;if(G&&le.v==null&&pe!==Q&&(le.v=pe),(le.n==null||le.n===le.v||!G&&he[le.n]===b.Not)&&(le.n=pe),$(le)&&he[le.n]!==b.Not)return le;G||(X===b.Might&&de.v==null&&pe!==Q&&(de.v=pe),(de.n==null||de.n===de.v)&&(de.n=pe))}function $(ee){return ee.v!=null&&ee.n!=null}return $(le)?le:$(de)?de:null}();if(j){H.value=j.v;var se=Q??j.n;H.itemName=[se],H.seriesName=[se]}return H}function F(E){var z=E.option,N=z.data;if(!N)return E.ecModel.getComponent("dataset",z.datasetIndex||0)}function Y(E,z){return q(E.data,E.sourceFormat,E.seriesLayoutBy,E.dimensionsDefine,E.startIndex,z)}function q(E,z,N,H,W,U){var K,Q=5;if(u(E))return b.Not;var j,se;if(H){var le=H[U];f(le)?(j=le.name,se=le.type):s(le)&&(j=le)}if(se!=null)return se==="ordinal"?b.Must:b.Not;if(z===g)if(N===w){for(var de=E[U],he=0;he<(de||[]).length&&he<Q;he++)if((K=G(de[W+he]))!=null)return K}else for(var he=0;he<E.length&&he<Q;he++){var pe=E[W+he];if(pe&&(K=G(pe[U]))!=null)return K}else if(z===p){if(!j)return b.Not;for(var he=0;he<E.length&&he<Q;he++){var ye=E[he];if(ye&&(K=G(ye[j]))!=null)return K}}else if(z===y){if(!j)return b.Not;var de=E[j];if(!de||u(de))return b.Not;for(var he=0;he<de.length&&he<Q;he++)if((K=G(de[he]))!=null)return K}else if(z===m)for(var he=0;he<E.length&&he<Q;he++){var ye=E[he],X=r(ye);if(!l(X))return b.Not;if((K=G(X[U]))!=null)return K}function G($){var ee=s($);if($!=null&&isFinite($)&&$!=="")return ee?b.Might:b.Not;if(ee&&$!=="-")return b.Must}return b.Not}return Tn.BE_ORDINAL=b,Tn.detectSourceFormat=T,Tn.getSource=C,Tn.resetSourceDefaulter=M,Tn.prepareSource=I,Tn.makeSeriesEncodeForAxisCoordSys=B,Tn.makeSeriesEncodeForNameBased=V,Tn.guessOrdinal=Y,Tn}var Ra=ne,ia=Ra.each,zi=Ra.filter,RB=Ra.map,Vc=Ra.isArray,XA=Ra.indexOf,tg=Ra.isObject,OZ=Ra.isString,ix=Ra.createHashMap,QA=Ra.assert,Q1=Ra.clone,ox=Ra.merge,JA=Ra.extend,BZ=Ra.mixin,Rl=lt,jA=br(),si=Or,NZ=PZ,zZ=DB,VZ=mi(),FZ=VZ.resetSourceDefaulter,J1="\0_ec_inner",EB=jA.extend({init:function(e,t,r,n){r=r||{},this.option=null,this._theme=new jA(r),this._optionManager=n},setOption:function(e,t){QA(!(J1 in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,r=this._optionManager;if(!e||e==="recreate"){var n=r.mountOption(e==="recreate");!this.option||e==="recreate"?UZ.call(this,n):(this.restoreData(),this.mergeOption(n)),t=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var a=r.getTimelineOption(this);a&&(this.mergeOption(a),t=!0)}if(!e||e==="recreate"||e==="media"){var i=r.getMediaOption(this,this._api);i.length&&ia(i,function(o){this.mergeOption(o,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,r=this._componentsMap,n=[];FZ(this),ia(e,function(i,o){i!=null&&(si.hasClass(o)?o&&n.push(o):t[o]=t[o]==null?Q1(i):ox(t[o],i,!0))}),si.topologicalTravel(n,si.getAllClassMainTypes(),a,this);function a(i,o){var l=Rl.normalizeToArray(e[i]),s=Rl.mappingToExists(r.get(i),l);Rl.makeIdAndName(s),ia(s,function(u,h){var c=u.option;tg(c)&&(u.keyInfo.mainType=i,u.keyInfo.subType=WZ(i,c,u.exist))});var f=GZ(r,o);t[i]=[],r.set(i,[]),ia(s,function(u,h){var c=u.exist,v=u.option;if(QA(tg(v)||c,"Empty component definition"),!v)c.mergeOption({},this),c.optionUpdated({},!1);else{var d=si.getClass(i,u.keyInfo.subType,!0);if(c&&c.constructor===d)c.name=u.keyInfo.name,c.mergeOption(v,this),c.optionUpdated(v,!1);else{var m=JA({dependentModels:f,componentIndex:h},u.keyInfo);c=new d(v,this,this,m),JA(c,m),c.init(v,this,this,m),c.optionUpdated(null,!0)}}r.get(i)[h]=c,t[i][h]=c.option},this),i==="series"&&rg(this,r.get("series"))}this._seriesIndicesMap=ix(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=Q1(this.option);return ia(e,function(t,r){if(si.hasClass(r)){for(var t=Rl.normalizeToArray(t),n=t.length-1;n>=0;n--)Rl.isIdInner(t[n])&&t.splice(n,1);e[r]=t}}),delete e[J1],e},getTheme:function(){return this._theme},getComponent:function(e,t){var r=this._componentsMap.get(e);if(r)return r[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var r=e.index,n=e.id,a=e.name,i=this._componentsMap.get(t);if(!i||!i.length)return[];var o;if(r!=null)Vc(r)||(r=[r]),o=zi(RB(r,function(f){return i[f]}),function(f){return!!f});else if(n!=null){var l=Vc(n);o=zi(i,function(f){return l&&XA(n,f.id)>=0||!l&&f.id===n})}else if(a!=null){var s=Vc(a);o=zi(i,function(f){return s&&XA(a,f.name)>=0||!s&&f.name===a})}else o=i.slice();return e2(o,e)},findComponents:function(e){var t=e.query,r=e.mainType,n=i(t),a=n?this.queryComponents(n):this._componentsMap.get(r);return o(e2(a,e));function i(l){var s=r+"Index",f=r+"Id",u=r+"Name";return l&&(l[s]!=null||l[f]!=null||l[u]!=null)?{mainType:r,index:l[s],id:l[f],name:l[u]}:null}function o(l){return e.filter?zi(l,e.filter):l}},eachComponent:function(e,t,r){var n=this._componentsMap;if(typeof e=="function")r=t,t=e,n.each(function(i,o){ia(i,function(l,s){t.call(r,o,l,s)})});else if(OZ(e))ia(n.get(e),t,r);else if(tg(e)){var a=this.findComponents(e);ia(a,t,r)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return zi(t,function(r){return r.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return zi(t,function(r){return r.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){ia(this._seriesIndices,function(r){var n=this._componentsMap.get("series")[r];e.call(t,n,r)},this)},eachRawSeries:function(e,t){ia(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,r){ia(this._seriesIndices,function(n){var a=this._componentsMap.get("series")[n];a.subType===e&&t.call(r,a,n)},this)},eachRawSeriesByType:function(e,t,r){return ia(this.getSeriesByType(e),t,r)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var r=zi(this._componentsMap.get("series"),e,t);rg(this,r)},restoreData:function(e){var t=this._componentsMap;rg(this,t.get("series"));var r=[];t.each(function(n,a){r.push(a)}),si.topologicalTravel(r,si.getAllClassMainTypes(),function(n,a){ia(t.get(n),function(i){(n!=="series"||!HZ(i,e))&&i.restoreData()})})}});function HZ(e,t){if(t){var r=t.seiresIndex,n=t.seriesId,a=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||a!=null&&e.name!==a}}function qZ(e,t){var r=e.color&&!e.colorLayer;ia(t,function(n,a){a==="colorLayer"&&r||si.hasClass(a)||(typeof n=="object"?e[a]=e[a]?ox(e[a],n,!1):Q1(n):e[a]==null&&(e[a]=n))})}function UZ(e){e=e,this.option={},this.option[J1]=1,this._componentsMap=ix({series:[]}),this._seriesIndices,this._seriesIndicesMap,qZ(e,this._theme.option),ox(e,NZ,!1),this.mergeOption(e)}function GZ(e,t){Vc(t)||(t=t?[t]:[]);var r={};return ia(t,function(n){r[n]=(e.get(n)||[]).slice()}),r}function WZ(e,t,r){var n=t.type?t.type:r?r.subType:si.determineSubType(e,t);return n}function rg(e,t){e._seriesIndicesMap=ix(e._seriesIndices=RB(t,function(r){return r.componentIndex})||[])}function e2(e,t){return t.hasOwnProperty("subType")?zi(e,function(r){return r.subType===t.subType}):e}BZ(EB,zZ);var $Z=EB,kB=$Z,t2=ne,YZ=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function ZZ(e){t2.each(YZ,function(t){this[t]=t2.bind(e[t],e)},this)}var KZ=ZZ,OB=KZ,r2=ne,sx={};function du(){this._coordinateSystems=[]}du.prototype={constructor:du,create:function(e,t){var r=[];r2.each(sx,function(n,a){var i=n.create(e,t);r=r.concat(i||[])}),this._coordinateSystems=r},update:function(e,t){r2.each(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};du.register=function(e,t){sx[e]=t};du.get=function(e){return sx[e]};var XZ=du,zn=XZ,vi=ne,Fc=lt,QZ=Or,Hc=vi.each,Ao=vi.clone,qc=vi.map,a2=vi.merge,JZ=/^(min|max)?(.+)$/;function j1(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}j1.prototype={constructor:j1,setOption:function(e,t){e&&vi.each(Fc.normalizeToArray(e.series),function(a){a&&a.data&&vi.isTypedArray(a.data)&&vi.setAsPrimitive(a.data)}),e=Ao(e);var r=this._optionBackup,n=jZ.call(this,e,t,!r);this._newBaseOption=n.baseOption,r?(aK(r.baseOption,n.baseOption),n.timelineOptions.length&&(r.timelineOptions=n.timelineOptions),n.mediaList.length&&(r.mediaList=n.mediaList),n.mediaDefault&&(r.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=qc(t.timelineOptions,Ao),this._mediaList=qc(t.mediaList,Ao),this._mediaDefault=Ao(t.mediaDefault),this._currentMediaIndices=[],Ao(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,r=this._timelineOptions;if(r.length){var n=e.getComponent("timeline");n&&(t=Ao(r[n.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),r=this._api.getHeight(),n=this._mediaList,a=this._mediaDefault,i=[],o=[];if(!n.length&&!a)return o;for(var l=0,s=n.length;l<s;l++)eK(n[l].query,t,r)&&i.push(l);return!i.length&&a&&(i=[-1]),i.length&&!rK(i,this._currentMediaIndices)&&(o=qc(i,function(f){return Ao(f===-1?a.option:n[f].option)})),this._currentMediaIndices=i,o}};function jZ(e,t,r){var n=[],a=[],i,o,l=e.timeline;if(e.baseOption&&(o=e.baseOption),(l||e.options)&&(o=o||{},n=(e.options||[]).slice()),e.media){o=o||{};var s=e.media;Hc(s,function(f){f&&f.option&&(f.query?a.push(f):i||(i=f))})}return o||(o=e),o.timeline||(o.timeline=l),Hc([o].concat(n).concat(vi.map(a,function(f){return f.option})),function(f){Hc(t,function(u){u(f,r)})}),{baseOption:o,timelineOptions:n,mediaDefault:i,mediaList:a}}function eK(e,t,r){var n={width:t,height:r,aspectratio:t/r},a=!0;return vi.each(e,function(i,o){var l=o.match(JZ);if(!(!l||!l[1]||!l[2])){var s=l[1],f=l[2].toLowerCase();tK(n[f],i,s)||(a=!1)}}),a}function tK(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function rK(e,t){return e.join(",")===t.join(",")}function aK(e,t){t=t||{},Hc(t,function(r,n){if(r!=null){var a=e[n];if(!QZ.hasClass(n))e[n]=a2(a,r,!0);else{r=Fc.normalizeToArray(r),a=Fc.normalizeToArray(a);var i=Fc.mappingToExists(a,r);e[n]=qc(i,function(o){return o.option&&o.exist?a2(o.exist,o.option,!0):o.exist||o.option})}}})}var nK=j1,iK=nK,sa=ne,n2=lt,sn=sa.each,gu=sa.isObject,i2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ag(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=i2.length;r<n;r++){var a=i2[r],i=t.normal,o=t.emphasis;i&&i[a]&&(e[a]=e[a]||{},e[a].normal?sa.merge(e[a].normal,i[a]):e[a].normal=i[a],i[a]=null),o&&o[a]&&(e[a]=e[a]||{},e[a].emphasis?sa.merge(e[a].emphasis,o[a]):e[a].emphasis=o[a],o[a]=null)}}function Qr(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,a=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,sa.defaults(e[t],n)):e[t]=n),a&&(e.emphasis=e.emphasis||{},e.emphasis[t]=a)}}function Ql(e){Qr(e,"itemStyle"),Qr(e,"lineStyle"),Qr(e,"areaStyle"),Qr(e,"label"),Qr(e,"labelLine"),Qr(e,"upperLabel"),Qr(e,"edgeLabel")}function wr(e,t){var r=gu(e)&&e[t],n=gu(r)&&r.textStyle;if(n)for(var a=0,i=n2.TEXT_STYLE_OPTIONS.length;a<i;a++){var t=n2.TEXT_STYLE_OPTIONS[a];n.hasOwnProperty(t)&&(r[t]=n[t])}}function $a(e){e&&(Ql(e),wr(e,"label"),e.emphasis&&wr(e.emphasis,"label"))}function oK(e){if(gu(e)){ag(e),Ql(e),wr(e,"label"),wr(e,"upperLabel"),wr(e,"edgeLabel"),e.emphasis&&(wr(e.emphasis,"label"),wr(e.emphasis,"upperLabel"),wr(e.emphasis,"edgeLabel"));var i=e.markPoint;i&&(ag(i),$a(i));var l=e.markLine;l&&(ag(l),$a(l));var t=e.markArea;t&&$a(t);var r=e.data;if(e.type==="graph"){r=r||e.nodes;var n=e.links||e.edges;if(n&&!sa.isTypedArray(n))for(var a=0;a<n.length;a++)$a(n[a]);sa.each(e.categories,function(f){Ql(f)})}if(r&&!sa.isTypedArray(r))for(var a=0;a<r.length;a++)$a(r[a]);var i=e.markPoint;if(i&&i.data)for(var o=i.data,a=0;a<o.length;a++)$a(o[a]);var l=e.markLine;if(l&&l.data)for(var s=l.data,a=0;a<s.length;a++)sa.isArray(s[a])?($a(s[a][0]),$a(s[a][1])):$a(s[a]);e.type==="gauge"?(wr(e,"axisLabel"),wr(e,"title"),wr(e,"detail")):e.type==="treemap"?(Qr(e.breadcrumb,"itemStyle"),sa.each(e.levels,function(f){Ql(f)})):e.type==="tree"&&Ql(e.leaves)}}function ti(e){return sa.isArray(e)?e:e?[e]:[]}function o2(e){return(sa.isArray(e)?e[0]:e)||{}}function sK(e,t){sn(ti(e.series),function(n){gu(n)&&oK(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),sn(r,function(n){sn(ti(e[n]),function(a){a&&(wr(a,"axisLabel"),wr(a.axisPointer,"label"))})}),sn(ti(e.parallel),function(n){var a=n&&n.parallelAxisDefault;wr(a,"axisLabel"),wr(a&&a.axisPointer,"label")}),sn(ti(e.calendar),function(n){Qr(n,"itemStyle"),wr(n,"dayLabel"),wr(n,"monthLabel"),wr(n,"yearLabel")}),sn(ti(e.radar),function(n){wr(n,"name")}),sn(ti(e.geo),function(n){gu(n)&&($a(n),sn(ti(n.regions),function(a){$a(a)}))}),sn(ti(e.timeline),function(n){$a(n),Qr(n,"label"),Qr(n,"itemStyle"),Qr(n,"controlStyle",!0);var a=n.data;sa.isArray(a)&&sa.each(a,function(i){sa.isObject(i)&&(Qr(i,"label"),Qr(i,"itemStyle"))})}),sn(ti(e.toolbox),function(n){Qr(n,"iconStyle"),sn(n.feature,function(a){Qr(a,"iconStyle")})}),wr(o2(e.axisPointer),"label"),wr(o2(e.tooltip).axisPointer,"label")}var lK=sK,lx=ne,Uc=lx.each,uK=lx.isArray,fK=lx.isObject,cK=lK,hK=lt,vK=hK.normalizeToArray;function dK(e,t){t=t.split(",");for(var r=e,n=0;n<t.length&&(r=r&&r[t[n]],r!=null);n++);return r}function gK(e,t,r,n){t=t.split(",");for(var a=e,i,o=0;o<t.length-1;o++)i=t[o],a[i]==null&&(a[i]={}),a=a[i];a[t[o]]==null&&(a[t[o]]=r)}function s2(e){Uc(pK,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var pK=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],mK=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function yK(e,t){cK(e,t),e.series=vK(e.series),Uc(e.series,function(r){if(fK(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge")r.clockWise!=null&&(r.clockwise=r.clockWise);else if(n==="gauge"){var a=dK(r,"pointer.color");a!=null&&gK(r,"itemStyle.color",a)}s2(r)}}),e.dataRange&&(e.visualMap=e.dataRange),Uc(mK,function(r){var n=e[r];n&&(uK(n)||(n=[n]),Uc(n,function(a){s2(a)}))})}var _K=yK,BB=ne,xK=BB.createHashMap,wK=BB.each;function SK(e){var t=xK();e.eachSeries(function(r){var n=r.get("stack");if(n){var a=t.get(n)||t.set(n,[]),i=r.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),t.each(bK)}function bK(e){wK(e,function(t,r){var n=[],a=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],o=t.data,l=t.isStackedByIndex,s=o.map(i,function(f,u,h){var c=o.get(t.stackedDimension,h);if(isNaN(c))return a;var v,d;l?d=o.getRawIndex(h):v=o.get(t.stackedByDimension,h);for(var m=NaN,g=r-1;g>=0;g--){var p=e[g];if(l||(d=p.data.rawIndexOf(p.stackedByDimension,v)),d>=0){var y=p.data.getByRawIndex(p.stackResultDimension,d);if(c>=0&&y>0||c<=0&&y<0){c+=y,m=y;break}}}return n[0]=c,n[1]=m,n});o.hostModel.setData(s),t.data=s})}var AK=SK,mn={},Ou=ne;Ou.isTypedArray;var TK=Ou.extend;Ou.assert;var CK=Ou.each,MK=Ou.isObject,NB=lt,LK=NB.getDataItemValue,IK=NB.isDataItemOption,PK=ht(),DK=PK.parseDate,l2=ku(),Lh=Eu(),RK=Lh.SOURCE_FORMAT_TYPED_ARRAY,EK=Lh.SOURCE_FORMAT_ARRAY_ROWS,u2=Lh.SOURCE_FORMAT_ORIGINAL,kK=Lh.SOURCE_FORMAT_OBJECT_ROWS;function zB(e,t){l2.isInstance(e)||(e=l2.seriesDataToSource(e)),this._source=e;var r=this._data=e.data,n=e.sourceFormat;n===RK&&(this._offset=0,this._dimSize=t,this._data=r);var a=OK[n===EK?n+"_"+e.seriesLayoutBy:n];TK(this,a)}var ux=zB.prototype;ux.pure=!1;ux.persistent=!0;ux.getSource=function(){return this._source};var OK={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:ng},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],r=this._data,n=0;n<r.length;n++){var a=r[n];t.push(a?a[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:f2,getItem:c2,appendData:ng},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],r=this._source.dimensionsDefine,n=0;n<r.length;n++){var a=this._data[r[n].name];t.push(a?a[e]:null)}return t},appendData:function(e){var t=this._data;CK(e,function(r,n){for(var a=t[n]||(t[n]=[]),i=0;i<(r||[]).length;i++)a.push(r[i])})}},original:{count:f2,getItem:c2,appendData:ng},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e=e-this._offset,t=t||[];for(var r=this._dimSize*e,n=0;n<this._dimSize;n++)t[n]=this._data[r+n];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function f2(){return this._data.length}function c2(e){return this._data[e]}function ng(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var BK={arrayRows:ig,objectRows:function(e,t,r,n){return r!=null?e[n]:e},keyedColumns:ig,original:function(e,t,r,n){var a=LK(e);return r==null||!(a instanceof Array)?a:a[r]},typedArray:ig};function ig(e,t,r,n){return r!=null?e[r]:e}var NK={arrayRows:h2,objectRows:function(e,t,r,n){return e_(e[t],this._dimensionInfos[t])},keyedColumns:h2,original:function(e,t,r,n){var a=e&&(e.value==null?e:e.value);return!this._rawData.pure&&IK(e)&&(this.hasItemOption=!0),e_(a instanceof Array?a[n]:a,this._dimensionInfos[t])},typedArray:function(e,t,r,n){return e[n]}};function h2(e,t,r,n){return e_(e[n],this._dimensionInfos[t])}function e_(e,t){var r=t&&t.type;if(r==="ordinal"){var n=t&&t.ordinalMeta;return n?n.parseAndCollect(e):e}return r==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+DK(e)),e==null||e===""?NaN:+e}function zK(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var a=e.getProvider().getSource().sourceFormat,i,o,l=e.getDimensionInfo(r);return l&&(i=l.name,o=l.index),BK[a](n,t,o,i)}}}function VK(e,t,r){if(e){var n=e.getProvider().getSource().sourceFormat;if(!(n!==u2&&n!==kK)){var a=e.getRawDataItem(t);if(n===u2&&!MK(a)&&(a=null),a)return a[r]}}}mn.DefaultDataProvider=zB;mn.defaultDimValueGetters=NK;mn.retrieveRawValue=zK;mn.retrieveRawAttr=VK;var FK=mn,v2=FK.retrieveRawValue,VB=jt(),HK=VB.getTooltipMarker,qK=VB.formatTpl,UK=lt,GK=UK.getTooltipRenderMode,WK=/\{@(.+?)\}/g,$K={getDataParams:function(e,t){var r=this.getData(t),n=this.getRawValue(e,t),a=r.getRawIndex(e),i=r.getName(e),o=r.getRawDataItem(e),l=r.getItemVisual(e,"color"),s=r.getItemVisual(e,"borderColor"),f=this.ecModel.getComponent("tooltip"),u=f&&f.get("renderMode"),h=GK(u),c=this.mainType,v=c==="series",d=r.userOutput;return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:v?this.subType:null,seriesIndex:this.seriesIndex,seriesId:v?this.id:null,seriesName:v?this.name:null,name:i,dataIndex:a,data:o,dataType:t,value:n,color:l,borderColor:s,dimensionNames:d?d.dimensionNames:null,encode:d?d.encode:null,marker:HK({color:l,renderMode:h}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,r,n,a){t=t||"normal";var i=this.getData(r),o=i.getItemModel(e),l=this.getDataParams(e,r);n!=null&&l.value instanceof Array&&(l.value=l.value[n]);var s=o.get(t==="normal"?[a||"label","formatter"]:[t,a||"label","formatter"]);if(typeof s=="function")return l.status=t,l.dimensionIndex=n,s(l);if(typeof s=="string"){var f=qK(s,l);return f.replace(WK,function(u,h){var c=h.length;return h.charAt(0)==="["&&h.charAt(c-1)==="]"&&(h=+h.slice(1,c-1)),v2(i,e,h)})}},getRawValue:function(e,t){return v2(this.getData(t),e)},formatTooltip:function(){}},fx=$K,Ih={},FB=ne;FB.assert;var HB=FB.isArray;function YK(e){return new qB(e)}function qB(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var eo=qB.prototype;eo.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var n=this.context;n.data=n.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var i=f(this._modBy),o=this._modDataCount||0,l=f(e&&e.modBy),s=e&&e.modDataCount||0;(i!==l||o!==s)&&(a="reset");function f(p){return!(p>=1)&&(p=1),p}var u;(this._dirty||a==="reset")&&(this._dirty=!1,u=ZK(this,r)),this._modBy=l,this._modDataCount=s;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var c=this._dueIndex,v=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!r&&(u||c<v)){var d=this._progress;if(HB(d))for(var m=0;m<d.length;m++)g2(this,d[m],c,v,l,s);else g2(this,d,c,v,l,s)}this._dueIndex=v;var g=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var d2=function(){var e,t,r,n,a,i={reset:function(s,f,u,h){t=s,e=f,r=u,n=h,a=Math.ceil(n/r),i.next=r>1&&n>0?l:o}};return i;function o(){return t<e?t++:null}function l(){var s=t%a*r+Math.ceil(t/a),f=t>=e?null:s<n?s:t;return t++,f}}();eo.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)};function g2(e,t,r,n,a,i){d2.reset(r,n,a,i),e._callingProgress=t,e._callingProgress({start:r,end:n,count:n-r,next:d2.next},e.context)}function ZK(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var r,n;!t&&e._reset&&(r=e._reset(e.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),HB(r)&&!r.length&&(r=null)),e._progress=r,e._modBy=e._modDataCount=null;var a=e._downstream;return a&&a.dirty(),n}eo.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};eo.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())};eo.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};eo.getUpstream=function(){return this._upstream};eo.getDownstream=function(){return this._downstream};eo.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};Ih.createTask=YK;var pa=ne,KK=Sr,Ph=jt(),XK=Ph.formatTime,El=Ph.encodeHTML,p2=Ph.addCommas,m2=Ph.getTooltipMarker,tu=lt,y2=Or,UB=DB,QK=fx,GB=Tt,JK=GB.getLayoutParams,_2=GB.mergeLayoutParam,jK=Ih,eX=jK.createTask,WB=mi(),x2=WB.prepareSource,tX=WB.getSource,rX=mn,w2=rX.retrieveRawValue,kl=tu.makeInner(),cx=y2.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,r,n){this.seriesIndex=this.componentIndex,this.dataTask=eX({count:nX,reset:iX}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),x2(this);var a=this.getInitialData(e,r);b2(a,this),this.dataTask.context.data=a,kl(this).dataBeforeProcessed=a,S2(this)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,n=r?JK(e):{},a=this.subType;y2.hasClass(a)&&(a+="Series"),pa.merge(e,t.getTheme().get(this.subType)),pa.merge(e,this.getDefaultOption()),tu.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&_2(e,n,r)},mergeOption:function(e,t){e=pa.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var r=this.layoutMode;r&&_2(this.option,e,r),x2(this);var n=this.getInitialData(e,t);b2(n,this),this.dataTask.dirty(),this.dataTask.context.data=n,kl(this).dataBeforeProcessed=n,S2(this)},fillDataTextStyle:function(e){if(e&&!pa.isTypedArray(e))for(var t=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&tu.defaultEmphasis(e[r],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=t_(this);if(t){var r=t.context.data;return e==null?r:r.getLinkedData(e)}else return kl(this).data},setData:function(e){var t=t_(this);if(t){var r=t.context;r.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),r.outputData=e,t!==this.dataTask&&(r.data=e)}kl(this).data=e},getSource:function(){return tX(this)},getRawData:function(){return kl(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,r,n){var a=this;n=n||"html";var i=n==="html"?"<br/>":`
`,o=n==="richText",l={},s=0;function f(C){var M=pa.reduce(C,function(R,B,V){var F=h.getDimensionInfo(V);return R|=F&&F.tooltip!==!1&&F.displayName!=null},0),I=[];c.length?pa.each(c,function(R){P(w2(h,e,R),R)}):pa.each(C,P);function P(R,B){var V=h.getDimensionInfo(B);if(!(!V||V.otherDims.tooltip===!1)){var F=V.type,Y="sub"+a.seriesIndex+"at"+s,q=m2({color:g,type:"subItem",renderMode:n,markerId:Y}),E=typeof q=="string"?q:q.content,z=(M?E+El(V.displayName||"-")+": ":"")+El(F==="ordinal"?R+"":F==="time"?t?"":XK("yyyy/MM/dd hh:mm:ss",R):p2(R));z&&I.push(z),o&&(l[Y]=g,++s)}}var D=M?o?`
`:"<br/>":"",k=D+I.join(D||", ");return{renderMode:n,content:k,style:l}}function u(C){return{renderMode:n,content:El(p2(C)),style:l}}var h=this.getData(),c=h.mapDimension("defaultedTooltip",!0),v=c.length,d=this.getRawValue(e),m=pa.isArray(d),g=h.getItemVisual(e,"color");pa.isObject(g)&&g.colorStops&&(g=(g.colorStops[0]||{}).color),g=g||"transparent";var p=v>1||m&&!v?f(d):u(v?w2(h,e,c[0]):m?d[0]:d),y=p.content,x=a.seriesIndex+"at"+s,A=m2({color:g,type:"item",renderMode:n,markerId:x});l[x]=g,++s;var w=h.getName(e),b=this.name;tu.isNameSpecified(this)||(b=""),b=b?El(b)+(t?": ":i):"";var S=typeof A=="string"?A:A.content,T=t?S+b+y:b+S+(w?El(w)+": "+y:y);return{html:T,markers:l}},isAnimationEnabled:function(){if(KK.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,r){var n=this.ecModel,a=UB.getColorFromPalette.call(this,e,t,r);return a||(a=n.getColorFromPalette(e,t,r)),a},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});pa.mixin(cx,QK);pa.mixin(cx,UB);function S2(e){var t=e.name;tu.isNameSpecified(e)||(e.name=aX(e)||t)}function aX(e){var t=e.getRawData(),r=t.mapDimension("seriesName",!0),n=[];return pa.each(r,function(a){var i=t.getDimensionInfo(a);i.displayName&&n.push(i.displayName)}),n.join(" ")}function nX(e){return e.model.getRawData().count()}function iX(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),oX}function oX(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function b2(e,t){pa.each(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,pa.curry(sX,t))})}function sX(e){var t=t_(e);t&&t.setOutputEnd(this.count())}function t_(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(e.uid))}return n}}var lX=cx,Br=lX,uX=Bo,fX=ji,$B=xa,zs=function(){this.group=new uX,this.uid=fX.getUID("viewComponent")};zs.prototype={constructor:zs,init:function(e,t){},render:function(e,t,r,n){},dispose:function(){},filterForExposedEvent:null};var og=zs.prototype;og.updateView=og.updateLayout=og.updateVisual=function(e,t,r,n){};$B.enableClassExtend(zs);$B.enableClassManagement(zs,{registerWhenExtend:!0});var cX=zs,Dh=cX,hX=lt,vX=hX.makeInner;function dX(){var e=vX();return function(t){var r=e(t),n=t.pipelineContext,a=r.large,i=r.progressiveRender,o=r.large=n&&n.large,l=r.progressiveRender=n&&n.progressiveRender;return!!(a^o||i^l)&&"reset"}}var tl=dX,gX=ne,pX=gX.each,mX=Bo,yX=ji,YB=xa,r_=lt,ZB=ke,_X=Ih,xX=_X.createTask,wX=tl,KB=r_.makeInner(),SX=wX();function rl(){this.group=new mX,this.uid=yX.getUID("viewChart"),this.renderTask=xX({plan:bX,reset:AX}),this.renderTask.context={view:this}}rl.prototype={type:"chart",init:function(e,t){},render:function(e,t,r,n){},highlight:function(e,t,r,n){A2(e.getData(),n,"emphasis")},downplay:function(e,t,r,n){A2(e.getData(),n,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var sg=rl.prototype;sg.updateView=sg.updateLayout=sg.updateVisual=function(e,t,r,n){this.render(e,t,r,n)};function a_(e,t,r){if(e&&(e.trigger(t,r),e.isGroup&&!ZB.isHighDownDispatcher(e)))for(var n=0,a=e.childCount();n<a;n++)a_(e.childAt(n),t,r)}function A2(e,t,r){var n=r_.queryDataIndex(e,t),a=t&&t.highlightKey!=null?ZB.getHighlightDigit(t.highlightKey):null;n!=null?pX(r_.normalizeToArray(n),function(i){a_(e.getItemGraphicEl(i),r,a)}):e.eachItemGraphicEl(function(i){a_(i,r,a)})}YB.enableClassExtend(rl,["dispose"]);YB.enableClassManagement(rl,{registerWhenExtend:!0});rl.markUpdateMethod=function(e,t){KB(e).updateMethod=t};function bX(e){return SX(e.model)}function AX(e){var t=e.model,r=e.ecModel,n=e.api,a=e.payload,i=t.pipelineContext.progressiveRender,o=e.view,l=a&&KB(a).updateMethod,s=i?"incrementalPrepareRender":l&&o[l]?l:"render";return s!=="render"&&o[s](t,r,n,a),TX[s]}var TX={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},CX=rl,Vn=CX,yn={},sh="\0__throttleOriginMethod",T2="\0__throttleRate",C2="\0__throttleType";function XB(e,t,r){var n,a=0,i=0,o=null,l,s,f,u;t=t||0;function h(){i=new Date().getTime(),o=null,e.apply(s,f||[])}var c=function(){n=new Date().getTime(),s=this,f=arguments;var v=u||t,d=u||r;u=null,l=n-(d?a:i)-v,clearTimeout(o),d?o=setTimeout(h,v):l>=0?h():o=setTimeout(h,-l),a=n};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.debounceNextCall=function(v){u=v},c}function MX(e,t,r,n){var a=e[t];if(a){var i=a[sh]||a,o=a[C2],l=a[T2];if(l!==r||o!==n){if(r==null||!n)return e[t]=i;a=e[t]=XB(i,r,n==="debounce"),a[sh]=i,a[C2]=n,a[T2]=r}return a}}function LX(e,t){var r=e[t];r&&r[sh]&&(e[t]=r[sh])}yn.throttle=XB;yn.createOrUpdate=MX;yn.clear=LX;var IX=Ch,PX=ne,DX=PX.isFunction,RX={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=(e.visualColorAccessPath||"itemStyle.color").split("."),a=e.get(n),i=DX(a)&&!(a instanceof IX)?a:null;(!a||i)&&(a=e.getColorFromPalette(e.name,null,t.getSeriesCount())),r.setVisual("color",a);var o=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),l=e.get(o);if(r.setVisual("borderColor",l),!t.isSeriesFiltered(e)){i&&r.each(function(f){r.setItemVisual(f,"color",i(e.getDataParams(f)))});var s=function(f,u){var h=f.getItemModel(u),c=h.get(n,!0),v=h.get(o,!0);c!=null&&f.setItemVisual(u,"color",c),v!=null&&f.setItemVisual(u,"borderColor",v)};return{dataEach:r.hasItemOption?s:null}}}},EX=RX,kX={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},to=kX,OX=ne,M2=to,BX=mn,NX=BX.retrieveRawValue;function zX(e,t){var r=t.getModel("aria");if(r.get("show")){if(r.get("description")){e.setAttribute("aria-label",r.get("description"));return}}else return;var n=0;t.eachSeries(function(m,g){++n},this);var a=r.get("data.maxCount")||10,i=r.get("series.maxCount")||10,o=Math.min(n,i),l;if(n<1)return;var s=v();s?l=h(c("general.withTitle"),{title:s}):l=c("general.withoutTitle");var f=[],u=n>1?"series.multiple.prefix":"series.single.prefix";l+=h(c(u),{seriesCount:n}),t.eachSeries(function(m,g){if(g<o){var p,y=m.get("name"),x="series."+(n>1?"multiple":"single")+".";p=c(y?x+"withName":x+"withoutName"),p=h(p,{seriesId:m.seriesIndex,seriesName:m.get("name"),seriesType:d(m.subType)});var A=m.getData();window.data=A,A.count()>a?p+=h(c("data.partialData"),{displayCnt:a}):p+=c("data.allData");for(var w=[],b=0;b<A.count();b++)if(b<a){var S=A.getName(b),T=NX(A,b);w.push(h(c(S?"data.withName":"data.withoutName"),{name:S,value:T}))}p+=w.join(c("data.separator.middle"))+c("data.separator.end"),f.push(p)}}),l+=f.join(c("series.multiple.separator.middle"))+c("series.multiple.separator.end"),e.setAttribute("aria-label",l);function h(m,g){if(typeof m!="string")return m;var p=m;return OX.each(g,function(y,x){p=p.replace(new RegExp("\\{\\s*"+x+"\\s*\\}","g"),y)}),p}function c(m){var g=r.get(m);if(g==null){for(var p=m.split("."),y=M2.aria,x=0;x<p.length;++x)y=y[p[x]];return y}else return g}function v(){var m=t.getModel("title").option;return m&&m.length&&(m=m[0]),m&&m.text}function d(m){return M2.series.typeNames[m]||"自定义图"}}var VX=zX,FX=ne,cc=ke,HX=ir,hc=Math.PI;function qX(e,t){t=t||{},FX.defaults(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new cc.Group,n=new cc.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var a=t.fontSize+" sans-serif",i=new cc.Rect({style:{fill:"none",text:t.text,font:a,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(r.add(i),t.showSpinner){var o=new cc.Arc({shape:{startAngle:-hc/2,endAngle:-hc/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:hc*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:hc*3/2}).delay(300).start("circularInOut"),r.add(o)}return r.resize=function(){var l=HX.getWidth(t.text,a),s=t.showSpinner?t.spinnerRadius:0,f=(e.getWidth()-s*2-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner?0:l/2),u=e.getHeight()/2;t.showSpinner&&o.setShape({cx:f,cy:u}),i.setShape({x:f-s,y:u-s,width:s*2,height:s*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var UX=qX,Bu=ne,hx=Bu.each,GX=Bu.map,WX=Bu.isFunction,Rh=Bu.createHashMap,$X=Bu.noop,YX=Ih,n_=YX.createTask,ZX=ji,KX=ZX.getUID,XX=kB,QX=OB,JX=lt,jX=JX.normalizeToArray;function vx(e,t,a,i){this.ecInstance=e,this.api=t,this.unfinished;var a=this._dataProcessorHandlers=a.slice(),i=this._visualHandlers=i.slice();this._allHandlers=a.concat(i),this._stageTaskMap=Rh()}var Qa=vx.prototype;Qa.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var n=r.overallTask;n&&n.dirty()})};Qa.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),n=r.context,a=!t&&r.progressiveEnabled&&(!n||n.progressiveRender)&&e.__idxInPipeline>r.blockIndex,i=a?r.step:null,o=n&&n.modDataCount,l=o!=null?Math.ceil(o/i):null;return{step:i,modBy:l,modDataCount:o}}};Qa.getPipeline=function(e){return this._pipelineMap.get(e)};Qa.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),n=e.getData(),a=n.count(),i=r.progressiveEnabled&&t.incrementalPrepareRender&&a>=r.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:i,modDataCount:l,large:o}};Qa.restorePipelines=function(e){var t=this,r=t._pipelineMap=Rh();e.eachSeries(function(n){var a=n.getProgressive(),i=n.uid;r.set(i,{id:i,head:null,tail:null,threshold:n.getProgressiveThreshold(),progressiveEnabled:a&&!(n.preventIncremental&&n.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),Eh(t,n,n.dataTask)})};Qa.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),r=this.api;hx(this._allHandlers,function(n){var a=e.get(n.uid)||e.set(n.uid,[]);n.reset&&eQ(this,n,a,t,r),n.overallReset&&tQ(this,n,a,t,r)},this)};Qa.prepareView=function(e,t,r,n){var a=e.renderTask,i=a.context;i.model=t,i.ecModel=r,i.api=n,a.__block=!e.incrementalPrepareRender,Eh(this,t,a)};Qa.performDataProcessorTasks=function(e,t){QB(this,this._dataProcessorHandlers,e,t,{block:!0})};Qa.performVisualTasks=function(e,t,r){QB(this,this._visualHandlers,e,t,r)};function QB(e,t,r,n,a){a=a||{};var i;hx(t,function(l,s){if(!(a.visualType&&a.visualType!==l.visualType)){var f=e._stageTaskMap.get(l.uid),u=f.seriesTaskMap,h=f.overallTask;if(h){var c,v=h.agentStubMap;v.each(function(m){o(a,m)&&(m.dirty(),c=!0)}),c&&h.dirty(),L2(h,n);var d=e.getPerformArgs(h,a.block);v.each(function(m){m.perform(d)}),i|=h.perform(d)}else u&&u.each(function(m,g){o(a,m)&&m.dirty();var p=e.getPerformArgs(m,a.block);p.skip=!l.performRawSeries&&r.isSeriesFiltered(m.context.model),L2(m,n),i|=m.perform(p)})}});function o(l,s){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(s.__pipeline.id))}e.unfinished|=i}Qa.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t|=r.dataTask.perform()}),this.unfinished|=t};Qa.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var L2=Qa.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};function eQ(e,t,r,n,a){var i=r.seriesTaskMap||(r.seriesTaskMap=Rh()),o=t.seriesType,l=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(s):o?n.eachRawSeriesByType(o,s):l&&l(n,a).each(s);function s(u){var h=u.uid,c=i.get(h)||i.set(h,n_({plan:oQ,reset:sQ,count:uQ}));c.context={model:u,ecModel:n,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},Eh(e,u,c)}var f=e._pipelineMap;i.each(function(u,h){f.get(h)||(u.dispose(),i.removeKey(h))})}function tQ(e,t,r,n,a){var i=r.overallTask=r.overallTask||n_({reset:rQ});i.context={ecModel:n,api:a,overallReset:t.overallReset,scheduler:e};var o=i.agentStubMap=i.agentStubMap||Rh(),l=t.seriesType,s=t.getTargetSeries,f=!0,u=t.modifyOutputEnd;l?n.eachRawSeriesByType(l,h):s?s(n,a).each(h):(f=!1,hx(n.getSeries(),h));function h(v){var d=v.uid,m=o.get(d);m||(m=o.set(d,n_({reset:aQ,onDirty:iQ})),i.dirty()),m.context={model:v,overallProgress:f,modifyOutputEnd:u},m.agent=i,m.__block=f,Eh(e,v,m)}var c=e._pipelineMap;o.each(function(v,d){c.get(d)||(v.dispose(),i.dirty(),o.removeKey(d))})}function rQ(e){e.overallReset(e.ecModel,e.api,e.payload)}function aQ(e,t){return e.overallProgress&&nQ}function nQ(){this.agent.dirty(),this.getDownstream().dirty()}function iQ(){this.agent&&this.agent.dirty()}function oQ(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function sQ(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=jX(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?GX(t,function(r,n){return JB(n)}):lQ}var lQ=JB(0);function JB(e){return function(t,r){var n=r.data,a=r.resetDefines[e];if(a&&a.dataEach)for(var i=t.start;i<t.end;i++)a.dataEach(n,i);else a&&a.progress&&a.progress(t,n)}}function uQ(e){return e.data.count()}function Eh(e,t,r){var n=t.uid,a=e._pipelineMap.get(n);!a.head&&(a.head=r),a.tail&&a.tail.pipe(r),a.tail=r,r.__idxInPipeline=a.count++,r.__pipeline=a}vx.wrapStageHandler=function(e,t){return WX(e)&&(e={overallReset:e,seriesType:fQ(e)}),e.uid=KX("stageHandler"),t&&(e.visualType=t),e};function fQ(e){lh=null;try{e(pu,jB)}catch{}return lh}var pu={},jB={},lh;eN(pu,XX);eN(jB,QX);pu.eachSeriesByType=pu.eachRawSeriesByType=function(e){lh=e};pu.eachComponent=function(e){e.mainType==="series"&&e.subType&&(lh=e.subType)};function eN(e,t){for(var r in t.prototype)e[r]=$X}var cQ=vx,hQ=cQ,I2=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],vQ={color:I2,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],I2]},dQ=vQ,Gr="#eee",vc=function(){return{axisLine:{lineStyle:{color:Gr}},axisTick:{lineStyle:{color:Gr}},axisLabel:{textStyle:{color:Gr}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:Gr}}}},lg=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],tN={color:lg,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:Gr},crossStyle:{color:Gr},label:{color:"#000"}}},legend:{textStyle:{color:Gr}},textStyle:{color:Gr},title:{textStyle:{color:Gr}},toolbox:{iconStyle:{normal:{borderColor:Gr}}},dataZoom:{textStyle:{color:Gr}},visualMap:{textStyle:{color:Gr}},timeline:{lineStyle:{color:Gr},itemStyle:{normal:{color:lg[1]}},label:{normal:{textStyle:{color:Gr}}},controlStyle:{normal:{color:Gr,borderColor:Gr}}},timeAxis:vc(),logAxis:vc(),valueAxis:vc(),categoryAxis:vc(),line:{symbol:"circle"},graph:{color:lg},gauge:{title:{textStyle:{color:Gr}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};tN.categoryAxis.splitLine.show=!1;var gQ=tN,pQ=gQ,P2={},D2;function rN(){if(D2)return P2;D2=1;var e=Or,t=Dh,r=mi(),n=r.detectSourceFormat,a=Eu(),i=a.SERIES_LAYOUT_BY_COLUMN;return e.extend({type:"dataset",defaultOption:{seriesLayoutBy:i,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){n(this)}}),t.extend({type:"dataset"}),P2}var Nu={},mQ=yr,yQ=mQ.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var r=.5522848,n=t.cx,a=t.cy,i=t.rx,o=t.ry,l=i*r,s=o*r;e.moveTo(n-i,a),e.bezierCurveTo(n-i,a-s,n-l,a-o,n,a-o),e.bezierCurveTo(n+l,a-o,n+i,a-s,n+i,a),e.bezierCurveTo(n+i,a+s,n+l,a+o,n,a+o),e.bezierCurveTo(n-l,a+o,n-i,a+s,n-i,a),e.closePath()}}),_Q=yQ,ru=Bo,xQ=Ks,wQ=No,SQ=ZO,aN=Z_,bQ=_Q,AQ=JO,TQ=yr,CQ=XO,MQ=QO,LQ=K_,IQ=C_,dc=la(),PQ=Pu,DQ=PQ.createFromString,zu=ne,RQ=zu.isString,EQ=zu.extend,kQ=zu.defaults,li=zu.trim,R2=zu.each,Fi=/[\s,]+/;function nN(e){if(RQ(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}function kh(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}kh.prototype.parse=function(e,t){t=t||{};var r=nN(e);if(!r)throw new Error("Illegal svg");var n=new ru;this._root=n;var a=r.getAttribute("viewBox")||"",i=parseFloat(r.getAttribute("width")||t.width),o=parseFloat(r.getAttribute("height")||t.height);isNaN(i)&&(i=null),isNaN(o)&&(o=null),Ia(r,n,null,!0);for(var l=r.firstChild;l;)this._parseNode(l,n),l=l.nextSibling;var s,f;if(a){var u=li(a).split(Fi);u.length>=4&&(s={x:parseFloat(u[0]||0),y:parseFloat(u[1]||0),width:parseFloat(u[2]),height:parseFloat(u[3])})}if(s&&i!=null&&o!=null&&(f=iN(s,i,o),!t.ignoreViewBox)){var h=n;n=new ru,n.add(h),h.scale=f.scale.slice(),h.position=f.position.slice()}return!t.ignoreRootClip&&i!=null&&o!=null&&n.setClipPath(new aN({shape:{x:0,y:0,width:i,height:o}})),{root:n,width:i,height:o,viewBoxRect:s,viewBoxTransform:f}};kh.prototype._parseNode=function(e,t){var r=e.nodeName.toLowerCase();r==="defs"?this._isDefine=!0:r==="text"&&(this._isText=!0);var n;if(this._isDefine){var a=BQ[r];if(a){var i=a.call(this,e),o=e.getAttribute("id");o&&(this._defs[o]=i)}}else{var a=OQ[r];a&&(n=a.call(this,e,t),t.add(n))}for(var l=e.firstChild;l;)l.nodeType===1&&this._parseNode(l,n),l.nodeType===3&&this._isText&&this._parseText(l,n),l=l.nextSibling;r==="defs"?this._isDefine=!1:r==="text"&&(this._isText=!1)};kh.prototype._parseText=function(e,t){if(e.nodeType===1){var r=e.getAttribute("dx")||0,n=e.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(n)}var a=new wQ({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Ga(t,a),Ia(e,a,this._defs);var i=a.style.fontSize;i&&i<9&&(a.style.fontSize=9,a.scale=a.scale||[1,1],a.scale[0]*=i/9,a.scale[1]*=i/9);var o=a.getBoundingRect();return this._textX+=o.width,t.add(a),a};var OQ={g:function(e,t){var r=new ru;return Ga(t,r),Ia(e,r,this._defs),r},rect:function(e,t){var r=new aN;return Ga(t,r),Ia(e,r,this._defs),r.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),r},circle:function(e,t){var r=new SQ;return Ga(t,r),Ia(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),r},line:function(e,t){var r=new AQ;return Ga(t,r),Ia(e,r,this._defs),r.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),r},ellipse:function(e,t){var r=new bQ;return Ga(t,r),Ia(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),r},polygon:function(e,t){var r=e.getAttribute("points");r&&(r=E2(r));var n=new CQ({shape:{points:r||[]}});return Ga(t,n),Ia(e,n,this._defs),n},polyline:function(e,t){var r=new TQ;Ga(t,r),Ia(e,r,this._defs);var n=e.getAttribute("points");n&&(n=E2(n));var a=new MQ({shape:{points:n||[]}});return a},image:function(e,t){var r=new xQ;return Ga(t,r),Ia(e,r,this._defs),r.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),r},text:function(e,t){var r=e.getAttribute("x")||0,n=e.getAttribute("y")||0,a=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(n)+parseFloat(i);var o=new ru;return Ga(t,o),Ia(e,o,this._defs),o},tspan:function(e,t){var r=e.getAttribute("x"),n=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),n!=null&&(this._textY=parseFloat(n));var a=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0,o=new ru;return Ga(t,o),Ia(e,o,this._defs),this._textX+=a,this._textY+=i,o},path:function(e,t){var r=e.getAttribute("d")||"",n=DQ(r);return Ga(t,n),Ia(e,n,this._defs),n}},BQ={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),r=parseInt(e.getAttribute("y1")||0,10),n=parseInt(e.getAttribute("x2")||10,10),a=parseInt(e.getAttribute("y2")||0,10),i=new LQ(t,r,n,a);return NQ(e,i),i},radialgradient:function(e){}};function NQ(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1){var n=r.getAttribute("offset");n.indexOf("%")>0?n=parseInt(n,10)/100:n?n=parseFloat(n):n=0;var a=r.getAttribute("stop-color")||"#000000";t.addColorStop(n,a)}r=r.nextSibling}}function Ga(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),kQ(t.__inheritedStyle,e.__inheritedStyle))}function E2(e){for(var t=li(e).split(Fi),r=[],n=0;n<t.length;n+=2){var a=parseFloat(t[n]),i=parseFloat(t[n+1]);r.push([a,i])}return r}var Is={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Ia(e,t,r,n){var a=t.__inheritedStyle||{},i=t.type==="text";if(e.nodeType===1&&(FQ(e,t),EQ(a,HQ(e)),!n)){for(var o in Is)if(Is.hasOwnProperty(o)){var l=e.getAttribute(o);l!=null&&(a[Is[o]]=l)}}var s=i?"textFill":"fill",f=i?"textStroke":"stroke";t.style=t.style||new IQ;var u=t.style;a.fill!=null&&u.set(s,k2(a.fill,r)),a.stroke!=null&&u.set(f,k2(a.stroke,r)),R2(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){var c=h==="lineWidth"&&i?"textStrokeWidth":h;a[h]!=null&&u.set(c,parseFloat(a[h]))}),(!a.textBaseline||a.textBaseline==="auto")&&(a.textBaseline="alphabetic"),a.textBaseline==="alphabetic"&&(a.textBaseline="bottom"),a.textAlign==="start"&&(a.textAlign="left"),a.textAlign==="end"&&(a.textAlign="right"),R2(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(h){a[h]!=null&&u.set(h,a[h])}),a.lineDash&&(t.style.lineDash=li(a.lineDash).split(Fi)),u[f]&&u[f]!=="none"&&(t[f]=!0),t.__inheritedStyle=a}var zQ=/url\(\s*#(.*?)\)/;function k2(e,t){var r=t&&e&&e.match(zQ);if(r){var n=li(r[1]),a=t[n];return a}return e}var VQ=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function FQ(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=null,a=[];r.replace(VQ,function(s,f,u){a.push(f,u)});for(var i=a.length-1;i>0;i-=2){var o=a[i],l=a[i-1];switch(n=n||dc.create(),l){case"translate":o=li(o).split(Fi),dc.translate(n,n,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=li(o).split(Fi),dc.scale(n,n,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=li(o).split(Fi),dc.rotate(n,n,parseFloat(o[0]));break;case"skew":o=li(o).split(Fi),console.warn("Skew transform is not supported yet");break;case"matrix":var o=li(o).split(Fi);n[0]=parseFloat(o[0]),n[1]=parseFloat(o[1]),n[2]=parseFloat(o[2]),n[3]=parseFloat(o[3]),n[4]=parseFloat(o[4]),n[5]=parseFloat(o[5]);break}}t.setLocalTransform(n)}}var O2=/([^\s:;]+)\s*:\s*([^:;]+)/g;function HQ(e){var t=e.getAttribute("style"),r={};if(!t)return r;var n={};O2.lastIndex=0;for(var a;(a=O2.exec(t))!=null;)n[a[1]]=a[2];for(var i in Is)Is.hasOwnProperty(i)&&n[i]!=null&&(r[Is[i]]=n[i]);return r}function iN(e,t,r){var n=t/e.width,a=r/e.height,i=Math.min(n,a),o=[i,i],l=[-(e.x+e.width/2)*i+t/2,-(e.y+e.height/2)*i+r/2];return{scale:o,position:l}}function qQ(e,t){var r=new kh;return r.parse(e,t)}Nu.parseXML=nN;Nu.makeViewBoxTransform=iN;Nu.parseSVG=qQ;var Vu=ne,UQ=Vu.createHashMap,GQ=Vu.isString,WQ=Vu.isArray,$Q=Vu.each;Vu.assert;var YQ=Nu,ZQ=YQ.parseXML,B2=UQ(),KQ={registerMap:function(e,t,r){var n;return WQ(t)?n=t:t.svg?n=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(r=t.specialAreas,t=t.geoJson),n=[{type:"geoJSON",source:t,specialAreas:r}]),$Q(n,function(a){var i=a.type;i==="geoJson"&&(i=a.type="geoJSON");var o=XQ[i];o(a)}),B2.set(e,n)},retrieveMap:function(e){return B2.get(e)}},XQ={geoJSON:function(e){var t=e.source;e.geoJSON=GQ(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=ZQ(e.source)}},dx=KQ,zr={},Mn={},ug,N2;function Vo(){if(N2)return ug;N2=1;function e(a){return a}function t(a,i,o,l,s){this._old=a,this._new=i,this._oldKeyGetter=o||e,this._newKeyGetter=l||e,this.context=s}t.prototype={constructor:t,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var a=this._old,i=this._new,o={},l={},s=[],f=[],u;for(r(a,o,s,"_oldKeyGetter",this),r(i,l,f,"_newKeyGetter",this),u=0;u<a.length;u++){var h=s[u],c=l[h];if(c!=null){var v=c.length;v?(v===1&&(l[h]=null),c=c.shift()):l[h]=null,this._update&&this._update(c,u)}else this._remove&&this._remove(u)}for(var u=0;u<f.length;u++){var h=f[u];if(l.hasOwnProperty(h)){var c=l[h];if(c==null)continue;if(!c.length)this._add&&this._add(c);else for(var d=0,v=c.length;d<v;d++)this._add&&this._add(c[d])}}}};function r(a,i,o,l,s){for(var f=0;f<a.length;f++){var u="_ec_"+s[l](a[f],f),h=i[u];h==null?(o.push(u),i[u]=f):(h.length||(i[u]=h=[h]),h.push(f))}}var n=t;return ug=n,ug}var Ol={},z2;function Fu(){if(z2)return Ol;z2=1;var e=ne,t=e.each,r=e.createHashMap;e.assert;var n=r(["tooltip","label","itemName","itemId","seriesName"]);function a(s){var f={},u=f.encode={},h=r(),c=[],v=[],d=f.userOutput={dimensionNames:s.dimensions.slice(),encode:{}};t(s.dimensions,function(x){var A=s.getDimensionInfo(x),w=A.coordDim;if(w){var b=A.coordDimIndex;i(u,w)[b]=x,A.isExtraCoord||(h.set(w,1),l(A.type)&&(c[0]=x),i(d.encode,w)[b]=A.index),A.defaultTooltip&&v.push(x)}n.each(function(S,T){var C=i(u,T),M=A.otherDims[T];M!=null&&M!==!1&&(C[M]=A.name)})});var m=[],g={};h.each(function(x,A){var w=u[A];g[A]=w[0],m=m.concat(w)}),f.dataDimsOnCoord=m,f.encodeFirstDimNotExtra=g;var p=u.label;p&&p.length&&(c=p.slice());var y=u.tooltip;return y&&y.length?v=y.slice():v.length||(v=c.slice()),u.defaultedLabel=c,u.defaultedTooltip=v,f}function i(s,f){return s.hasOwnProperty(f)||(s[f]=[]),s[f]}function o(s){return s==="category"?"ordinal":s==="time"?"time":"float"}function l(s){return!(s==="ordinal"||s==="time")}return Ol.OTHER_DIMENSIONS=n,Ol.summarizeDimensions=a,Ol.getDimensionTypeByAxis=o,Ol}var fg,V2;function oN(){if(V2)return fg;V2=1;var e=ne;function t(n){n!=null&&e.extend(this,n),this.otherDims={}}var r=t;return fg=r,fg}var cg,F2;function Ja(){if(F2)return cg;F2=1;var e=ne,t=br(),r=Vo(),n=ku(),a=mn,i=a.defaultDimValueGetters,o=a.DefaultDataProvider,l=Fu(),s=l.summarizeDimensions,f=oN(),u=e.isObject,h="undefined",c=-1,v="e\0\0",d={float:typeof Float64Array===h?Array:Float64Array,int:typeof Int32Array===h?Array:Int32Array,ordinal:Array,number:Array,time:Array},m=typeof Uint32Array===h?Array:Uint32Array,g=typeof Int32Array===h?Array:Int32Array,p=typeof Uint16Array===h?Array:Uint16Array;function y(E){return E._rawCount>65535?m:p}function x(E){var z=E.constructor;return z===Array?E.slice():new z(E)}var A=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],w=["_extent","_approximateExtent","_rawExtent"];function b(E,z){e.each(A.concat(z.__wrappedMethods||[]),function(N){z.hasOwnProperty(N)&&(E[N]=z[N])}),E.__wrappedMethods=z.__wrappedMethods,e.each(w,function(N){E[N]=e.clone(z[N])}),E._calculationInfo=e.extend(z._calculationInfo)}var S=function(E,z){E=E||["x","y"];for(var N={},H=[],W={},U=0;U<E.length;U++){var K=E[U];e.isString(K)?K=new f({name:K}):K instanceof f||(K=new f(K));var Q=K.name;K.type=K.type||"float",K.coordDim||(K.coordDim=Q,K.coordDimIndex=0),K.otherDims=K.otherDims||{},H.push(Q),N[Q]=K,K.index=U,K.createInvertedIndices&&(W[Q]=[])}this.dimensions=H,this._dimensionInfos=N,this.hostModel=z,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=s(this),this._invertedIndicesMap=W,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},T=S.prototype;T.type="list",T.hasItemOption=!0,T.getDimension=function(E){return(typeof E=="number"||!isNaN(E)&&!this._dimensionInfos.hasOwnProperty(E))&&(E=this.dimensions[E]),E},T.getDimensionInfo=function(E){return this._dimensionInfos[this.getDimension(E)]},T.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},T.mapDimension=function(E,z){var N=this._dimensionsSummary;if(z==null)return N.encodeFirstDimNotExtra[E];var H=N.encode[E];return z===!0?(H||[]).slice():H&&H[z]},T.initData=function(E,z,N){var H=n.isInstance(E)||e.isArrayLike(E);H&&(E=new o(E,this.dimensions.length)),this._rawData=E,this._storage={},this._indices=null,this._nameList=z||[],this._idList=[],this._nameRepeatCount={},N||(this.hasItemOption=!1),this.defaultDimValueGetter=i[this._rawData.getSource().sourceFormat],this._dimValueGetter=N=N||this.defaultDimValueGetter,this._dimValueGetterArrayRows=i.arrayRows,this._rawExtent={},this._initDataFromProvider(0,E.count()),E.pure&&(this.hasItemOption=!1)},T.getProvider=function(){return this._rawData},T.appendData=function(E){var z=this._rawData,N=this.count();z.appendData(E);var H=z.count();z.persistent||(H+=N),this._initDataFromProvider(N,H)},T.appendValues=function(E,z){for(var N=this._chunkSize,H=this._storage,W=this.dimensions,U=W.length,K=this._rawExtent,Q=this.count(),j=Q+Math.max(E.length,z?z.length:0),se=this._chunkCount,le=0;le<U;le++){var de=W[le];K[de]||(K[de]=F()),H[de]||(H[de]=[]),C(H,this._dimensionInfos[de],N,se,j),this._chunkCount=H[de].length}for(var he=new Array(U),pe=Q;pe<j;pe++){for(var ye=pe-Q,X=Math.floor(pe/N),G=pe%N,$=0;$<U;$++){var de=W[$],ee=this._dimValueGetterArrayRows(E[ye]||he,de,ye,$);H[de][X][G]=ee;var fe=K[de];ee<fe[0]&&(fe[0]=ee),ee>fe[1]&&(fe[1]=ee)}z&&(this._nameList[pe]=z[ye])}this._rawCount=this._count=j,this._extent={},M(this)},T._initDataFromProvider=function(E,z){if(!(E>=z)){for(var N=this._chunkSize,H=this._rawData,W=this._storage,U=this.dimensions,K=U.length,Q=this._dimensionInfos,j=this._nameList,se=this._idList,le=this._rawExtent,de=this._nameRepeatCount={},he,pe=this._chunkCount,ye=0;ye<K;ye++){var X=U[ye];le[X]||(le[X]=F());var G=Q[X];G.otherDims.itemName===0&&(he=this._nameDimIdx=ye),G.otherDims.itemId===0&&(this._idDimIdx=ye),W[X]||(W[X]=[]),C(W,G,N,pe,z),this._chunkCount=W[X].length}for(var $=new Array(K),ee=E;ee<z;ee++){$=H.getItem(ee,$);for(var fe=Math.floor(ee/N),oe=ee%N,ve=0;ve<K;ve++){var X=U[ve],Me=W[X][fe],re=this._dimValueGetter($,X,ee,ve);Me[oe]=re;var ie=le[X];re<ie[0]&&(ie[0]=re),re>ie[1]&&(ie[1]=re)}if(!H.pure){var me=j[ee];if($&&me==null){if($.name!=null)j[ee]=me=$.name;else if(he!=null){var Ce=U[he],Le=W[Ce][fe];if(Le){me=Le[oe];var Pe=Q[Ce].ordinalMeta;Pe&&Pe.categories.length&&(me=Pe.categories[me])}}}var Ie=$==null?null:$.id;Ie==null&&me!=null&&(de[me]=de[me]||0,Ie=me,de[me]>0&&(Ie+="__ec__"+de[me]),de[me]++),Ie!=null&&(se[ee]=Ie)}}!H.persistent&&H.clean&&H.clean(),this._rawCount=this._count=z,this._extent={},M(this)}};function C(E,z,N,H,W){var U=d[z.type],K=H-1,Q=z.name,j=E[Q][K];if(j&&j.length<N){for(var se=new U(Math.min(W-K*N,N)),le=0;le<j.length;le++)se[le]=j[le];E[Q][K]=se}for(var de=H*N;de<W;de+=N)E[Q].push(new U(Math.min(W-de,N)))}function M(E){var z=E._invertedIndicesMap;e.each(z,function(N,H){var W=E._dimensionInfos[H],U=W.ordinalMeta;if(U){N=z[H]=new g(U.categories.length);for(var K=0;K<N.length;K++)N[K]=c;for(var K=0;K<E._count;K++)N[E.get(H,K)]=K}})}function I(E,z,N){var H;if(z!=null){var W=E._chunkSize,U=Math.floor(N/W),K=N%W,Q=E.dimensions[z],j=E._storage[Q][U];if(j){H=j[K];var se=E._dimensionInfos[Q].ordinalMeta;se&&se.categories.length&&(H=se.categories[H])}}return H}T.count=function(){return this._count},T.getIndices=function(){var E,z=this._indices;if(z){var N=z.constructor,H=this._count;if(N===Array){E=new N(H);for(var W=0;W<H;W++)E[W]=z[W]}else E=new N(z.buffer,0,H)}else for(var N=y(this),E=new N(this.count()),W=0;W<E.length;W++)E[W]=W;return E},T.get=function(E,z){if(!(z>=0&&z<this._count))return NaN;var N=this._storage;if(!N[E])return NaN;z=this.getRawIndex(z);var H=Math.floor(z/this._chunkSize),W=z%this._chunkSize,U=N[E][H],K=U[W];return K},T.getByRawIndex=function(E,z){if(!(z>=0&&z<this._rawCount))return NaN;var N=this._storage[E];if(!N)return NaN;var H=Math.floor(z/this._chunkSize),W=z%this._chunkSize,U=N[H];return U[W]},T._getFast=function(E,z){var N=Math.floor(z/this._chunkSize),H=z%this._chunkSize,W=this._storage[E][N];return W[H]},T.getValues=function(E,z){var N=[];e.isArray(E)||(z=E,E=this.dimensions);for(var H=0,W=E.length;H<W;H++)N.push(this.get(E[H],z));return N},T.hasValue=function(E){for(var z=this._dimensionsSummary.dataDimsOnCoord,N=0,H=z.length;N<H;N++)if(isNaN(this.get(z[N],E)))return!1;return!0},T.getDataExtent=function(E){E=this.getDimension(E);var z=this._storage[E],N=F();if(!z)return N;var H=this.count(),W=!this._indices,U;if(W)return this._rawExtent[E].slice();if(U=this._extent[E],U)return U.slice();U=N;for(var K=U[0],Q=U[1],j=0;j<H;j++){var se=this._getFast(E,this.getRawIndex(j));se<K&&(K=se),se>Q&&(Q=se)}return U=[K,Q],this._extent[E]=U,U},T.getApproximateExtent=function(E){return E=this.getDimension(E),this._approximateExtent[E]||this.getDataExtent(E)},T.setApproximateExtent=function(E,z){z=this.getDimension(z),this._approximateExtent[z]=E.slice()},T.getCalculationInfo=function(E){return this._calculationInfo[E]},T.setCalculationInfo=function(E,z){u(E)?e.extend(this._calculationInfo,E):this._calculationInfo[E]=z},T.getSum=function(E){var z=this._storage[E],N=0;if(z)for(var H=0,W=this.count();H<W;H++){var U=this.get(E,H);isNaN(U)||(N+=U)}return N},T.getMedian=function(E){var z=[];this.each(E,function(W,U){isNaN(W)||z.push(W)});var N=[].concat(z).sort(function(W,U){return W-U}),H=this.count();return H===0?0:H%2===1?N[(H-1)/2]:(N[H/2]+N[H/2-1])/2},T.rawIndexOf=function(E,z){var N=E&&this._invertedIndicesMap[E],H=N[z];return H==null||isNaN(H)?c:H},T.indexOfName=function(E){for(var z=0,N=this.count();z<N;z++)if(this.getName(z)===E)return z;return-1},T.indexOfRawIndex=function(E){if(E>=this._rawCount||E<0)return-1;if(!this._indices)return E;var z=this._indices,N=z[E];if(N!=null&&N<this._count&&N===E)return E;for(var H=0,W=this._count-1;H<=W;){var U=(H+W)/2|0;if(z[U]<E)H=U+1;else if(z[U]>E)W=U-1;else return U}return-1},T.indicesOfNearest=function(E,z,N){var H=this._storage,W=H[E],U=[];if(!W)return U;N==null&&(N=1/0);for(var K=1/0,Q=-1,j=0,se=0,le=this.count();se<le;se++){var de=z-this.get(E,se),he=Math.abs(de);he<=N&&((he<K||he===K&&de>=0&&Q<0)&&(K=he,Q=de,j=0),de===Q&&(U[j++]=se))}return U.length=j,U},T.getRawIndex=P;function P(E){return E}function D(E){return E<this._count&&E>=0?this._indices[E]:-1}T.getRawDataItem=function(E){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(E));for(var z=[],N=0;N<this.dimensions.length;N++){var H=this.dimensions[N];z.push(this.get(H,E))}return z},T.getName=function(E){var z=this.getRawIndex(E);return this._nameList[z]||I(this,this._nameDimIdx,z)||""},T.getId=function(E){return k(this,this.getRawIndex(E))};function k(E,z){var N=E._idList[z];return N==null&&(N=I(E,E._idDimIdx,z)),N==null&&(N=v+z),N}function R(E){return e.isArray(E)||(E=[E]),E}T.each=function(E,z,N,H){if(this._count){typeof E=="function"&&(H=N,N=z,z=E,E=[]),N=N||H||this,E=e.map(R(E),this.getDimension,this);for(var W=E.length,U=0;U<this.count();U++)switch(W){case 0:z.call(N,U);break;case 1:z.call(N,this.get(E[0],U),U);break;case 2:z.call(N,this.get(E[0],U),this.get(E[1],U),U);break;default:for(var K=0,Q=[];K<W;K++)Q[K]=this.get(E[K],U);Q[K]=U,z.apply(N,Q)}}},T.filterSelf=function(E,z,N,H){if(this._count){typeof E=="function"&&(H=N,N=z,z=E,E=[]),N=N||H||this,E=e.map(R(E),this.getDimension,this);for(var W=this.count(),U=y(this),K=new U(W),Q=[],j=E.length,se=0,le=E[0],de=0;de<W;de++){var he,pe=this.getRawIndex(de);if(j===0)he=z.call(N,de);else if(j===1){var ye=this._getFast(le,pe);he=z.call(N,ye,de)}else{for(var X=0;X<j;X++)Q[X]=this._getFast(le,pe);Q[X]=de,he=z.apply(N,Q)}he&&(K[se++]=pe)}return se<W&&(this._indices=K),this._count=se,this._extent={},this.getRawIndex=this._indices?D:P,this}},T.selectRange=function(E){if(this._count){var z=[];for(var N in E)E.hasOwnProperty(N)&&z.push(N);var H=z.length;if(H){var W=this.count(),U=y(this),K=new U(W),Q=0,j=z[0],se=E[j][0],le=E[j][1],de=!1;if(!this._indices){var he=0;if(H===1){for(var pe=this._storage[z[0]],ye=0;ye<this._chunkCount;ye++)for(var X=pe[ye],G=Math.min(this._count-ye*this._chunkSize,this._chunkSize),$=0;$<G;$++){var ee=X[$];(ee>=se&&ee<=le||isNaN(ee))&&(K[Q++]=he),he++}de=!0}else if(H===2){for(var pe=this._storage[j],fe=this._storage[z[1]],oe=E[z[1]][0],ve=E[z[1]][1],ye=0;ye<this._chunkCount;ye++)for(var X=pe[ye],Me=fe[ye],G=Math.min(this._count-ye*this._chunkSize,this._chunkSize),$=0;$<G;$++){var ee=X[$],re=Me[$];(ee>=se&&ee<=le||isNaN(ee))&&(re>=oe&&re<=ve||isNaN(re))&&(K[Q++]=he),he++}de=!0}}if(!de)if(H===1)for(var $=0;$<W;$++){var ie=this.getRawIndex($),ee=this._getFast(j,ie);(ee>=se&&ee<=le||isNaN(ee))&&(K[Q++]=ie)}else for(var $=0;$<W;$++){for(var me=!0,ie=this.getRawIndex($),ye=0;ye<H;ye++){var Ce=z[ye],ee=this._getFast(N,ie);(ee<E[Ce][0]||ee>E[Ce][1])&&(me=!1)}me&&(K[Q++]=this.getRawIndex($))}return Q<W&&(this._indices=K),this._count=Q,this._extent={},this.getRawIndex=this._indices?D:P,this}}},T.mapArray=function(E,z,N,H){typeof E=="function"&&(H=N,N=z,z=E,E=[]),N=N||H||this;var W=[];return this.each(E,function(){W.push(z&&z.apply(this,arguments))},N),W};function B(E,z){var N=E.dimensions,H=new S(e.map(N,E.getDimensionInfo,E),E.hostModel);b(H,E);for(var W=H._storage={},U=E._storage,K=0;K<N.length;K++){var Q=N[K];U[Q]&&(e.indexOf(z,Q)>=0?(W[Q]=V(U[Q]),H._rawExtent[Q]=F(),H._extent[Q]=null):W[Q]=U[Q])}return H}function V(E){for(var z=new Array(E.length),N=0;N<E.length;N++)z[N]=x(E[N]);return z}function F(){return[1/0,-1/0]}T.map=function(E,z,N,H){N=N||H||this,E=e.map(R(E),this.getDimension,this);var W=B(this,E);W._indices=this._indices,W.getRawIndex=W._indices?D:P;for(var U=W._storage,K=[],Q=this._chunkSize,j=E.length,se=this.count(),le=[],de=W._rawExtent,he=0;he<se;he++){for(var pe=0;pe<j;pe++)le[pe]=this.get(E[pe],he);le[j]=he;var ye=z&&z.apply(N,le);if(ye!=null){typeof ye!="object"&&(K[0]=ye,ye=K);for(var X=this.getRawIndex(he),G=Math.floor(X/Q),$=X%Q,ee=0;ee<ye.length;ee++){var fe=E[ee],oe=ye[ee],ve=de[fe],Me=U[fe];Me&&(Me[G][$]=oe),oe<ve[0]&&(ve[0]=oe),oe>ve[1]&&(ve[1]=oe)}}}return W},T.downSample=function(E,z,N,H){for(var W=B(this,[E]),U=W._storage,K=[],Q=Math.floor(1/z),j=U[E],se=this.count(),le=this._chunkSize,de=W._rawExtent[E],he=new(y(this))(se),pe=0,ye=0;ye<se;ye+=Q){Q>se-ye&&(Q=se-ye,K.length=Q);for(var X=0;X<Q;X++){var G=this.getRawIndex(ye+X),$=Math.floor(G/le),ee=G%le;K[X]=j[$][ee]}var fe=N(K),oe=this.getRawIndex(Math.min(ye+H(K,fe)||0,se-1)),ve=Math.floor(oe/le),Me=oe%le;j[ve][Me]=fe,fe<de[0]&&(de[0]=fe),fe>de[1]&&(de[1]=fe),he[pe++]=oe}return W._count=pe,W._indices=he,W.getRawIndex=D,W},T.getItemModel=function(E){var z=this.hostModel;return new t(this.getRawDataItem(E),z,z&&z.ecModel)},T.diff=function(E){var z=this;return new r(E?E.getIndices():[],this.getIndices(),function(N){return k(E,N)},function(N){return k(z,N)})},T.getVisual=function(E){var z=this._visual;return z&&z[E]},T.setVisual=function(E,z){if(u(E)){for(var N in E)E.hasOwnProperty(N)&&this.setVisual(N,E[N]);return}this._visual=this._visual||{},this._visual[E]=z},T.setLayout=function(E,z){if(u(E)){for(var N in E)E.hasOwnProperty(N)&&this.setLayout(N,E[N]);return}this._layout[E]=z},T.getLayout=function(E){return this._layout[E]},T.getItemLayout=function(E){return this._itemLayouts[E]},T.setItemLayout=function(E,z,N){this._itemLayouts[E]=N?e.extend(this._itemLayouts[E]||{},z):z},T.clearItemLayouts=function(){this._itemLayouts.length=0},T.getItemVisual=function(E,z,N){var H=this._itemVisuals[E],W=H&&H[z];return W==null&&!N?this.getVisual(z):W},T.setItemVisual=function(E,z,N){var H=this._itemVisuals[E]||{},W=this.hasItemVisual;if(this._itemVisuals[E]=H,u(z)){for(var U in z)z.hasOwnProperty(U)&&(H[U]=z[U],W[U]=!0);return}H[z]=N,W[z]=!0},T.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Y=function(E){E.seriesIndex=this.seriesIndex,E.dataIndex=this.dataIndex,E.dataType=this.dataType};T.setItemGraphicEl=function(E,z){var N=this.hostModel;z&&(z.dataIndex=E,z.dataType=this.dataType,z.seriesIndex=N&&N.seriesIndex,z.type==="group"&&z.traverse(Y,z)),this._graphicEls[E]=z},T.getItemGraphicEl=function(E){return this._graphicEls[E]},T.eachItemGraphicEl=function(E,z){e.each(this._graphicEls,function(N,H){N&&E&&E.call(z,N,H)})},T.cloneShallow=function(E){if(!E){var z=e.map(this.dimensions,this.getDimensionInfo,this);E=new S(z,this.hostModel)}if(E._storage=this._storage,b(E,this),this._indices){var N=this._indices.constructor;E._indices=new N(this._indices)}else E._indices=null;return E.getRawIndex=E._indices?D:P,E},T.wrapMethod=function(E,z){var N=this[E];typeof N=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(E),this[E]=function(){var H=N.apply(this,arguments);return z.apply(this,[H].concat(e.slice(arguments)))})},T.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],T.CHANGABLE_METHODS=["filterSelf","selectRange"];var q=S;return cg=q,cg}var hg,H2;function sN(){if(H2)return hg;H2=1;var e=ne,t=e.createHashMap,r=e.each,n=e.isString,a=e.defaults,i=e.extend,o=e.isObject,l=e.clone,s=lt,f=s.normalizeToArray,u=mi(),h=u.guessOrdinal,c=u.BE_ORDINAL,v=ku(),d=Fu(),m=d.OTHER_DIMENSIONS,g=oN();function p(w,b,S){v.isInstance(b)||(b=v.seriesDataToSource(b)),S=S||{},w=(w||[]).slice();for(var T=(S.dimsDef||[]).slice(),C=t(),M=t(),I=[],P=y(b,w,T,S.dimCount),D=0;D<P;D++){var k=T[D]=i({},o(T[D])?T[D]:{name:T[D]}),R=k.name,B=I[D]=new g;R!=null&&C.get(R)==null&&(B.name=B.displayName=R,C.set(R,D)),k.type!=null&&(B.type=k.type),k.displayName!=null&&(B.displayName=k.displayName)}var V=S.encodeDef;!V&&S.encodeDefaulter&&(V=S.encodeDefaulter(b,P)),V=t(V),V.each(function(U,K){if(U=f(U).slice(),U.length===1&&!n(U[0])&&U[0]<0){V.set(K,!1);return}var Q=V.set(K,[]);r(U,function(j,se){n(j)&&(j=C.get(j)),j!=null&&j<P&&(Q[se]=j,Y(I[j],K,se))})});var F=0;r(w,function(j,K){var Q,j,se,le;if(n(j))Q=j,j={};else{Q=j.name;var de=j.ordinalMeta;j.ordinalMeta=null,j=l(j),j.ordinalMeta=de,se=j.dimsDef,le=j.otherDims,j.name=j.coordDim=j.coordDimIndex=j.dimsDef=j.otherDims=null}var he=V.get(Q);if(he!==!1){var he=f(he);if(!he.length)for(var pe=0;pe<(se&&se.length||1);pe++){for(;F<I.length&&I[F].coordDim!=null;)F++;F<I.length&&he.push(F++)}r(he,function(ye,X){var G=I[ye];if(Y(a(G,j),Q,X),G.name==null&&se){var $=se[X];!o($)&&($={name:$}),G.name=G.displayName=$.name,G.defaultTooltip=$.defaultTooltip}le&&a(G.otherDims,le)})}});function Y(U,K,Q){m.get(K)!=null?U.otherDims[K]=Q:(U.coordDim=K,U.coordDimIndex=Q,M.set(K,!0))}var q=S.generateCoord,E=S.generateCoordCount,z=E!=null;E=q?E||1:0;for(var N=q||"value",H=0;H<P;H++){var B=I[H]=I[H]||new g,W=B.coordDim;W==null&&(B.coordDim=x(N,M,z),B.coordDimIndex=0,(!q||E<=0)&&(B.isExtraCoord=!0),E--),B.name==null&&(B.name=x(B.coordDim,C)),B.type==null&&(h(b,H,B.name)===c.Must||B.isExtraCoord&&(B.otherDims.itemName!=null||B.otherDims.seriesName!=null))&&(B.type="ordinal")}return I}function y(w,b,S,T){var C=Math.max(w.dimensionsDetectCount||1,b.length,S.length,T||0);return r(b,function(M){var I=M.dimsDef;I&&(C=Math.max(C,I.length))}),C}function x(w,b,S){if(S||b.get(w)!=null){for(var T=0;b.get(w+T)!=null;)T++;w+=T}return b.set(w,!0),w}var A=p;return hg=A,hg}var vg,q2;function al(){if(q2)return vg;q2=1;var e=sN();function t(r,n){return n=n||{},e(n.coordDimensions||[],r,{dimsDef:n.dimensionsDefine||r.dimensionsDefine,encodeDef:n.encodeDefine||r.encodeDefine,dimCount:n.dimensionsCount,encodeDefaulter:n.encodeDefaulter,generateCoord:n.generateCoord,generateCoordCount:n.generateCoordCount})}return vg=t,vg}var dg={},U2;function QQ(){if(U2)return dg;U2=1;var e=ne,t=e.createHashMap;e.retrieve;var r=e.each;function n(l){this.coordSysName=l,this.coordSysDims=[],this.axisMap=t(),this.categoryAxisMap=t(),this.firstCategoryDimIndex=null}function a(l){var s=l.get("coordinateSystem"),f=new n(s),u=i[s];if(u)return u(l,f,f.axisMap,f.categoryAxisMap),f}var i={cartesian2d:function(l,s,f,u){var h=l.getReferringComponents("xAxis")[0],c=l.getReferringComponents("yAxis")[0];s.coordSysDims=["x","y"],f.set("x",h),f.set("y",c),o(h)&&(u.set("x",h),s.firstCategoryDimIndex=0),o(c)&&(u.set("y",c),s.firstCategoryDimIndex==null&(s.firstCategoryDimIndex=1))},singleAxis:function(l,s,f,u){var h=l.getReferringComponents("singleAxis")[0];s.coordSysDims=["single"],f.set("single",h),o(h)&&(u.set("single",h),s.firstCategoryDimIndex=0)},polar:function(l,s,f,u){var h=l.getReferringComponents("polar")[0],c=h.findAxisModel("radiusAxis"),v=h.findAxisModel("angleAxis");s.coordSysDims=["radius","angle"],f.set("radius",c),f.set("angle",v),o(c)&&(u.set("radius",c),s.firstCategoryDimIndex=0),o(v)&&(u.set("angle",v),s.firstCategoryDimIndex==null&&(s.firstCategoryDimIndex=1))},geo:function(l,s,f,u){s.coordSysDims=["lng","lat"]},parallel:function(l,s,f,u){var h=l.ecModel,c=h.getComponent("parallel",l.get("parallelIndex")),v=s.coordSysDims=c.dimensions.slice();r(c.parallelAxisIndex,function(d,m){var g=h.getComponent("parallelAxis",d),p=v[m];f.set(p,g),o(g)&&s.firstCategoryDimIndex==null&&(u.set(p,g),s.firstCategoryDimIndex=m)})}};function o(l){return l.get("type")==="category"}return dg.getCoordSysInfoBySeries=a,dg}var Bl={},G2;function Fn(){if(G2)return Bl;G2=1;var e=ne,t=e.each,r=e.isString;function n(o,l,s){s=s||{};var f=s.byIndex,u=s.stackedCoordDimension,h=!!(o&&o.get("stack")),c,v,d,m;if(t(l,function(x,A){r(x)&&(l[A]=x={name:x}),h&&!x.isExtraCoord&&(!f&&!c&&x.ordinalMeta&&(c=x),!v&&x.type!=="ordinal"&&x.type!=="time"&&(!u||u===x.coordDim)&&(v=x))}),v&&!f&&!c&&(f=!0),v){d="__\0ecstackresult",m="__\0ecstackedover",c&&(c.createInvertedIndices=!0);var g=v.coordDim,p=v.type,y=0;t(l,function(x){x.coordDim===g&&y++}),l.push({name:d,coordDim:g,coordDimIndex:y,type:p,isExtraCoord:!0,isCalculationCoord:!0}),y++,l.push({name:m,coordDim:m,coordDimIndex:y,type:p,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:v&&v.name,stackedByDimension:c&&c.name,isStackedByIndex:f,stackedOverDimension:m,stackResultDimension:d}}function a(o,l){return!!l&&l===o.getCalculationInfo("stackedDimension")}function i(o,l){return a(o,l)?o.getCalculationInfo("stackResultDimension"):l}return Bl.enableDataStack=n,Bl.isDimensionStacked=a,Bl.getStackedDimension=i,Bl}var gg,W2;function yi(){if(W2)return gg;W2=1;var e=ne,t=Ja(),r=al(),n=Eu(),a=n.SOURCE_FORMAT_ORIGINAL,i=Fu(),o=i.getDimensionTypeByAxis,l=lt,s=l.getDataItemValue,f=zn,u=QQ(),h=u.getCoordSysInfoBySeries,c=ku(),v=Fn(),d=v.enableDataStack,m=mi(),g=m.makeSeriesEncodeForAxisCoordSys;function p(w,b,S){S=S||{},c.isInstance(w)||(w=c.seriesDataToSource(w));var T=b.get("coordinateSystem"),C=f.get(T),M=h(b),I;M&&(I=e.map(M.coordSysDims,function(F){var Y={name:F},q=M.axisMap.get(F);if(q){var E=q.get("type");Y.type=o(E)}return Y})),I||(I=C&&(C.getDimensionsInfo?C.getDimensionsInfo():C.dimensions.slice())||["x","y"]);var P=r(w,{coordDimensions:I,generateCoord:S.generateCoord,encodeDefaulter:S.useEncodeDefaulter?e.curry(g,I,b):null}),D,k;M&&e.each(P,function(F,Y){var q=F.coordDim,E=M.categoryAxisMap.get(q);E&&(D==null&&(D=Y),F.ordinalMeta=E.getOrdinalMeta()),F.otherDims.itemName!=null&&(k=!0)}),!k&&D!=null&&(P[D].otherDims.itemName=0);var R=d(b,P),B=new t(P,b);B.setCalculationInfo(R);var V=D!=null&&y(w)?function(F,Y,q,E){return E===D?q:this.defaultDimValueGetter(F,Y,q,E)}:null;return B.hasItemOption=!1,B.initData(w,null,V),B}function y(w){if(w.sourceFormat===a){var b=x(w.data||[]);return b!=null&&!e.isArray(s(b))}}function x(w){for(var b=0;b<w.length&&w[b]==null;)b++;return w[b]}var A=p;return gg=A,gg}var ln={},pg,$2;function Oh(){if($2)return pg;$2=1;var e=xa;function t(n){this._setting=n||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}t.prototype.parse=function(n){return n},t.prototype.getSetting=function(n){return this._setting[n]},t.prototype.contain=function(n){var a=this._extent;return n>=a[0]&&n<=a[1]},t.prototype.normalize=function(n){var a=this._extent;return a[1]===a[0]?.5:(n-a[0])/(a[1]-a[0])},t.prototype.scale=function(n){var a=this._extent;return n*(a[1]-a[0])+a[0]},t.prototype.unionExtent=function(n){var a=this._extent;n[0]<a[0]&&(a[0]=n[0]),n[1]>a[1]&&(a[1]=n[1])},t.prototype.unionExtentFromData=function(n,a){this.unionExtent(n.getApproximateExtent(a))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(n,a){var i=this._extent;isNaN(n)||(i[0]=n),isNaN(a)||(i[1]=a)},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(n){this._isBlank=n},t.prototype.getLabel=null,e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var r=t;return pg=r,pg}var mg,Y2;function lN(){if(Y2)return mg;Y2=1;var e=ne,t=e.createHashMap,r=e.isObject,n=e.map;function a(f){this.categories=f.categories||[],this._needCollect=f.needCollect,this._deduplication=f.deduplication,this._map}a.createByAxisModel=function(f){var u=f.option,h=u.data,c=h&&n(h,l);return new a({categories:c,needCollect:!c,deduplication:u.dedplication!==!1})};var i=a.prototype;i.getOrdinal=function(f){return o(this).get(f)},i.parseAndCollect=function(f){var u,h=this._needCollect;if(typeof f!="string"&&!h)return f;if(h&&!this._deduplication)return u=this.categories.length,this.categories[u]=f,u;var c=o(this);return u=c.get(f),u==null&&(h?(u=this.categories.length,this.categories[u]=f,c.set(f,u)):u=NaN),u};function o(f){return f._map||(f._map=t(f.categories))}function l(f){return r(f)&&f.value!=null?f.value:f+""}var s=a;return mg=s,mg}var yg,Z2;function JQ(){if(Z2)return yg;Z2=1;var e=ne,t=Oh(),r=lN(),n=t.prototype,a=t.extend({type:"ordinal",init:function(o,l){(!o||e.isArray(o))&&(o=new r({categories:o})),this._ordinalMeta=o,this._extent=l||[0,o.categories.length-1]},parse:function(o){return typeof o=="string"?this._ordinalMeta.getOrdinal(o):Math.round(o)},contain:function(o){return o=this.parse(o),n.contain.call(this,o)&&this._ordinalMeta.categories[o]!=null},normalize:function(o){return n.normalize.call(this,this.parse(o))},scale:function(o){return Math.round(n.scale.call(this,o))},getTicks:function(){for(var o=[],l=this._extent,s=l[0];s<=l[1];)o.push(s),s++;return o},getLabel:function(o){if(!this.isBlank())return this._ordinalMeta.categories[o]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(o,l){this.unionExtent(o.getApproximateExtent(l))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:e.noop,niceExtent:e.noop});a.create=function(){return new a};var i=a;return yg=i,yg}var Nl={},K2;function uN(){if(K2)return Nl;K2=1;var e=ht(),t=e.round;function r(o,l,s,f){var u={},h=o[1]-o[0],c=u.interval=e.nice(h/l,!0);s!=null&&c<s&&(c=u.interval=s),f!=null&&c>f&&(c=u.interval=f);var v=u.intervalPrecision=n(c),d=u.niceTickExtent=[t(Math.ceil(o[0]/c)*c,v),t(Math.floor(o[1]/c)*c,v)];return i(d,o),u}function n(o){return e.getPrecisionSafe(o)+2}function a(o,l,s){o[l]=Math.max(Math.min(o[l],s[1]),s[0])}function i(o,l){!isFinite(o[0])&&(o[0]=l[0]),!isFinite(o[1])&&(o[1]=l[1]),a(o,0,l),a(o,1,l),o[0]>o[1]&&(o[0]=o[1])}return Nl.intervalScaleNiceTicks=r,Nl.getIntervalPrecision=n,Nl.fixExtent=i,Nl}var _g,X2;function Bh(){if(X2)return _g;X2=1;var e=ht(),t=jt(),r=Oh(),n=uN(),a=e.round,i=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(l,s){var f=this._extent;isNaN(l)||(f[0]=parseFloat(l)),isNaN(s)||(f[1]=parseFloat(s))},unionExtent:function(l){var s=this._extent;l[0]<s[0]&&(s[0]=l[0]),l[1]>s[1]&&(s[1]=l[1]),i.prototype.setExtent.call(this,s[0],s[1])},getInterval:function(){return this._interval},setInterval:function(l){this._interval=l,this._niceExtent=this._extent.slice(),this._intervalPrecision=n.getIntervalPrecision(l)},getTicks:function(l){var s=this._interval,f=this._extent,u=this._niceExtent,h=this._intervalPrecision,c=[];if(!s)return c;var v=1e4;f[0]<u[0]&&(l?c.push(a(u[0]-s,h)):c.push(f[0]));for(var d=u[0];d<=u[1]&&(c.push(d),d=a(d+s,h),d!==c[c.length-1]);)if(c.length>v)return[];var m=c.length?c[c.length-1]:u[1];return f[1]>m&&(l?c.push(a(m+s,h)):c.push(f[1])),c},getMinorTicks:function(l){for(var s=this.getTicks(!0),f=[],u=this.getExtent(),h=1;h<s.length;h++){for(var c=s[h],v=s[h-1],d=0,m=[],g=c-v,p=g/l;d<l-1;){var y=e.round(v+(d+1)*p);y>u[0]&&y<u[1]&&m.push(y),d++}f.push(m)}return f},getLabel:function(l,s){if(l==null)return"";var f=s&&s.precision;return f==null?f=e.getPrecisionSafe(l)||0:f==="auto"&&(f=this._intervalPrecision),l=a(l,f,!0),t.addCommas(l)},niceTicks:function(l,s,f){l=l||5;var u=this._extent,h=u[1]-u[0];if(isFinite(h)){h<0&&(h=-h,u.reverse());var c=n.intervalScaleNiceTicks(u,l,s,f);this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent}},niceExtent:function(l){var s=this._extent;if(s[0]===s[1])if(s[0]!==0){var f=s[0];l.fixMax||(s[1]+=f/2),s[0]-=f/2}else s[1]=1;var u=s[1]-s[0];isFinite(u)||(s[0]=0,s[1]=1),this.niceTicks(l.splitNumber,l.minInterval,l.maxInterval);var h=this._interval;l.fixMin||(s[0]=a(Math.floor(s[0]/h)*h)),l.fixMax||(s[1]=a(Math.ceil(s[1]/h)*h))}});i.create=function(){return new i};var o=i;return _g=o,_g}var Bi={},Q2;function Nh(){if(Q2)return Bi;Q2=1;var e=ne,t=ht(),r=t.parsePercent,n=Fn(),a=n.isDimensionStacked,i=tl,o="__ec_stack_",l=.5,s=typeof Float32Array<"u"?Float32Array:Array;function f(b){return b.get("stack")||o+b.seriesIndex}function u(b){return b.dim+b.index}function h(b){var S=[],T=b.axis,C="axis0";if(T.type==="category"){for(var M=T.getBandWidth(),I=0;I<b.count;I++)S.push(e.defaults({bandWidth:M,axisKey:C,stackId:o+I},b));for(var P=m(S),D=[],I=0;I<b.count;I++){var k=P[C][o+I];k.offsetCenter=k.offset+k.width/2,D.push(k)}return D}}function c(b,S){var T=[];return S.eachSeriesByType(b,function(C){x(C)&&!A(C)&&T.push(C)}),T}function v(b){var S={};e.each(b,function(k){var R=k.coordinateSystem,B=R.getBaseAxis();if(!(B.type!=="time"&&B.type!=="value"))for(var V=k.getData(),F=B.dim+"_"+B.index,Y=V.mapDimension(B.dim),q=0,E=V.count();q<E;++q){var z=V.get(Y,q);S[F]?S[F].push(z):S[F]=[z]}});var T=[];for(var C in S)if(S.hasOwnProperty(C)){var M=S[C];if(M){M.sort(function(k,R){return k-R});for(var I=null,P=1;P<M.length;++P){var D=M[P]-M[P-1];D>0&&(I=I===null?D:Math.min(I,D))}T[C]=I}}return T}function d(b){var S=v(b),T=[];return e.each(b,function(C){var M=C.coordinateSystem,I=M.getBaseAxis(),P=I.getExtent(),D;if(I.type==="category")D=I.getBandWidth();else if(I.type==="value"||I.type==="time"){var k=I.dim+"_"+I.index,R=S[k],B=Math.abs(P[1]-P[0]),V=I.scale.getExtent(),F=Math.abs(V[1]-V[0]);D=R?B/F*R:B}else{var Y=C.getData();D=Math.abs(P[1]-P[0])/Y.count()}var q=r(C.get("barWidth"),D),E=r(C.get("barMaxWidth"),D),z=r(C.get("barMinWidth")||1,D),N=C.get("barGap"),H=C.get("barCategoryGap");T.push({bandWidth:D,barWidth:q,barMaxWidth:E,barMinWidth:z,barGap:N,barCategoryGap:H,axisKey:u(I),stackId:f(C)})}),m(T)}function m(b){var S={};e.each(b,function(C,M){var I=C.axisKey,P=C.bandWidth,D=S[I]||{bandWidth:P,remainedWidth:P,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},k=D.stacks;S[I]=D;var R=C.stackId;k[R]||D.autoWidthCount++,k[R]=k[R]||{width:0,maxWidth:0};var B=C.barWidth;B&&!k[R].width&&(k[R].width=B,B=Math.min(D.remainedWidth,B),D.remainedWidth-=B);var V=C.barMaxWidth;V&&(k[R].maxWidth=V);var F=C.barMinWidth;F&&(k[R].minWidth=F);var Y=C.barGap;Y!=null&&(D.gap=Y);var q=C.barCategoryGap;q!=null&&(D.categoryGap=q)});var T={};return e.each(S,function(C,M){T[M]={};var I=C.stacks,P=C.bandWidth,D=r(C.categoryGap,P),k=r(C.gap,1),R=C.remainedWidth,B=C.autoWidthCount,V=(R-D)/(B+(B-1)*k);V=Math.max(V,0),e.each(I,function(E){var z=E.maxWidth,N=E.minWidth;if(E.width){var H=E.width;z&&(H=Math.min(H,z)),N&&(H=Math.max(H,N)),E.width=H,R-=H+k*H,B--}else{var H=V;z&&z<H&&(H=Math.min(z,R)),N&&N>H&&(H=N),H!==V&&(E.width=H,R-=H+k*H,B--)}}),V=(R-D)/(B+(B-1)*k),V=Math.max(V,0);var F=0,Y;e.each(I,function(E,z){E.width||(E.width=V),Y=E,F+=E.width*(1+k)}),Y&&(F-=Y.width*k);var q=-F/2;e.each(I,function(E,z){T[M][z]=T[M][z]||{bandWidth:P,offset:q,width:E.width},q+=E.width*(1+k)})}),T}function g(b,S,T){if(b&&S){var C=b[u(S)];return C!=null&&T!=null&&(C=C[f(T)]),C}}function p(b,S){var T=c(b,S),C=d(T),M={};e.each(T,function(I){var P=I.getData(),D=I.coordinateSystem,k=D.getBaseAxis(),R=f(I),B=C[u(k)][R],V=B.offset,F=B.width,Y=D.getOtherAxis(k),q=I.get("barMinHeight")||0;M[R]=M[R]||[],P.setLayout({bandWidth:B.bandWidth,offset:V,size:F});for(var E=P.mapDimension(Y.dim),z=P.mapDimension(k.dim),N=a(P,E),H=Y.isHorizontal(),W=w(k,Y),U=0,K=P.count();U<K;U++){var Q=P.get(E,U),j=P.get(z,U),se=Q>=0?"p":"n",le=W;N&&(M[R][j]||(M[R][j]={p:W,n:W}),le=M[R][j][se]);var de,he,pe,ye;if(H){var X=D.dataToPoint([Q,j]);de=le,he=X[1]+V,pe=X[0]-W,ye=F,Math.abs(pe)<q&&(pe=(pe<0?-1:1)*q),isNaN(pe)||N&&(M[R][j][se]+=pe)}else{var X=D.dataToPoint([j,Q]);de=X[0]+V,he=le,pe=F,ye=X[1]-W,Math.abs(ye)<q&&(ye=(ye<=0?-1:1)*q),isNaN(ye)||N&&(M[R][j][se]+=ye)}P.setItemLayout(U,{x:de,y:he,width:pe,height:ye})}},this)}var y={seriesType:"bar",plan:i(),reset:function(b){if(!x(b)||!A(b))return;var S=b.getData(),T=b.coordinateSystem,C=T.grid.getRect(),M=T.getBaseAxis(),I=T.getOtherAxis(M),P=S.mapDimension(I.dim),D=S.mapDimension(M.dim),k=I.isHorizontal(),R=k?0:1,B=g(d([b]),M,b).width;return B>l||(B=l),{progress:V};function V(F,Y){for(var q=F.count,E=new s(q*2),z=new s(q*2),N=new s(q),H,W=[],U=[],K=0,Q=0;(H=F.next())!=null;)U[R]=Y.get(P,H),U[1-R]=Y.get(D,H),W=T.dataToPoint(U,null,W),z[K]=k?C.x+C.width:W[0],E[K++]=W[0],z[K]=k?W[1]:C.y+C.height,E[K++]=W[1],N[Q++]=H;Y.setLayout({largePoints:E,largeDataIndices:N,largeBackgroundPoints:z,barWidth:B,valueAxisStart:w(M,I),backgroundStart:k?C.x:C.y,valueAxisHorizontal:k})}}};function x(b){return b.coordinateSystem&&b.coordinateSystem.type==="cartesian2d"}function A(b){return b.pipelineContext&&b.pipelineContext.large}function w(b,S,T){return S.toGlobalCoord(S.dataToCoord(S.type==="log"?1:0))}return Bi.getLayoutOnAxis=h,Bi.prepareLayoutBarSeries=c,Bi.makeColumnLayout=d,Bi.retrieveColumnLayout=g,Bi.layout=p,Bi.largeLayout=y,Bi}var xg,J2;function jQ(){if(J2)return xg;J2=1;var e=ne,t=ht(),r=jt(),n=uN(),a=Bh(),i=a.prototype,o=Math.ceil,l=Math.floor,s=1e3,f=s*60,u=f*60,h=u*24,c=function(g,p,y,x){for(;y<x;){var A=y+x>>>1;g[A][1]<p?y=A+1:x=A}return y},v=a.extend({type:"time",getLabel:function(g){var p=this._stepLvl,y=new Date(g);return r.formatTime(p[0],y,this.getSetting("useUTC"))},niceExtent:function(g){var p=this._extent;if(p[0]===p[1]&&(p[0]-=h,p[1]+=h),p[1]===-1/0&&p[0]===1/0){var y=new Date;p[1]=+new Date(y.getFullYear(),y.getMonth(),y.getDate()),p[0]=p[1]-h}this.niceTicks(g.splitNumber,g.minInterval,g.maxInterval);var x=this._interval;g.fixMin||(p[0]=t.round(l(p[0]/x)*x)),g.fixMax||(p[1]=t.round(o(p[1]/x)*x))},niceTicks:function(g,p,y){g=g||10;var x=this._extent,A=x[1]-x[0],w=A/g;p!=null&&w<p&&(w=p),y!=null&&w>y&&(w=y);var b=d.length,S=c(d,w,0,b),T=d[Math.min(S,b-1)],C=T[1];if(T[0]==="year"){var M=A/C,I=t.nice(M/g,!0);C*=I}var P=this.getSetting("useUTC")?0:new Date(+x[0]||+x[1]).getTimezoneOffset()*60*1e3,D=[Math.round(o((x[0]-P)/C)*C+P),Math.round(l((x[1]-P)/C)*C+P)];n.fixExtent(D,x),this._stepLvl=T,this._interval=C,this._niceExtent=D},parse:function(g){return+t.parseDate(g)}});e.each(["contain","normalize"],function(g){v.prototype[g]=function(p){return i[g].call(this,this.parse(p))}});var d=[["hh:mm:ss",s],["hh:mm:ss",s*5],["hh:mm:ss",s*10],["hh:mm:ss",s*15],["hh:mm:ss",s*30],[`hh:mm
MM-dd`,f],[`hh:mm
MM-dd`,f*5],[`hh:mm
MM-dd`,f*10],[`hh:mm
MM-dd`,f*15],[`hh:mm
MM-dd`,f*30],[`hh:mm
MM-dd`,u],[`hh:mm
MM-dd`,u*2],[`hh:mm
MM-dd`,u*6],[`hh:mm
MM-dd`,u*12],[`MM-dd
yyyy`,h],[`MM-dd
yyyy`,h*2],[`MM-dd
yyyy`,h*3],[`MM-dd
yyyy`,h*4],[`MM-dd
yyyy`,h*5],[`MM-dd
yyyy`,h*6],["week",h*7],[`MM-dd
yyyy`,h*10],["week",h*14],["week",h*21],["month",h*31],["week",h*42],["month",h*62],["week",h*70],["quarter",h*95],["month",h*31*4],["month",h*31*5],["half-year",h*380/2],["month",h*31*8],["month",h*31*10],["year",h*380]];v.create=function(g){return new v({useUTC:g.ecModel.get("useUTC")})};var m=v;return xg=m,xg}var wg,j2;function fN(){if(j2)return wg;j2=1;var e=ne,t=Oh(),r=ht(),n=Bh(),a=t.prototype,i=n.prototype,o=r.getPrecisionSafe,l=r.round,s=Math.floor,f=Math.ceil,u=Math.pow,h=Math.log,c=t.extend({type:"log",base:10,$constructor:function(){t.apply(this,arguments),this._originalScale=new n},getTicks:function(m){var g=this._originalScale,p=this._extent,y=g.getExtent();return e.map(i.getTicks.call(this,m),function(x){var A=r.round(u(this.base,x));return A=x===p[0]&&g.__fixMin?v(A,y[0]):A,A=x===p[1]&&g.__fixMax?v(A,y[1]):A,A},this)},getMinorTicks:i.getMinorTicks,getLabel:i.getLabel,scale:function(m){return m=a.scale.call(this,m),u(this.base,m)},setExtent:function(m,g){var p=this.base;m=h(m)/h(p),g=h(g)/h(p),i.setExtent.call(this,m,g)},getExtent:function(){var m=this.base,g=a.getExtent.call(this);g[0]=u(m,g[0]),g[1]=u(m,g[1]);var p=this._originalScale,y=p.getExtent();return p.__fixMin&&(g[0]=v(g[0],y[0])),p.__fixMax&&(g[1]=v(g[1],y[1])),g},unionExtent:function(m){this._originalScale.unionExtent(m);var g=this.base;m[0]=h(m[0])/h(g),m[1]=h(m[1])/h(g),a.unionExtent.call(this,m)},unionExtentFromData:function(m,g){this.unionExtent(m.getApproximateExtent(g))},niceTicks:function(m){m=m||10;var g=this._extent,p=g[1]-g[0];if(!(p===1/0||p<=0)){var y=r.quantity(p),x=m/p*y;for(x<=.5&&(y*=10);!isNaN(y)&&Math.abs(y)<1&&Math.abs(y)>0;)y*=10;var A=[r.round(f(g[0]/y)*y),r.round(s(g[1]/y)*y)];this._interval=y,this._niceExtent=A}},niceExtent:function(m){i.niceExtent.call(this,m);var g=this._originalScale;g.__fixMin=m.fixMin,g.__fixMax=m.fixMax}});e.each(["contain","normalize"],function(m){c.prototype[m]=function(g){return g=h(g)/h(this.base),a[m].call(this,g)}}),c.create=function(){return new c};function v(m,g){return l(m,o(g))}var d=c;return wg=d,wg}var eT;function _n(){if(eT)return ln;eT=1;var e=ne,t=JQ(),r=Bh(),n=Oh(),a=ht(),i=Nh(),o=i.prepareLayoutBarSeries,l=i.makeColumnLayout,s=i.retrieveColumnLayout,f=fr;jQ(),fN();function u(w,b){var S=w.type,T=b.getMin(),C=b.getMax(),M=w.getExtent(),I,P,D;S==="ordinal"?I=b.getCategories().length:(P=b.get("boundaryGap"),e.isArray(P)||(P=[P||0,P||0]),typeof P[0]=="boolean"&&(P=[0,0]),P[0]=a.parsePercent(P[0],1),P[1]=a.parsePercent(P[1],1),D=M[1]-M[0]||Math.abs(M[0])),T==="dataMin"?T=M[0]:typeof T=="function"&&(T=T({min:M[0],max:M[1]})),C==="dataMax"?C=M[1]:typeof C=="function"&&(C=C({min:M[0],max:M[1]}));var k=T!=null,R=C!=null;T==null&&(T=S==="ordinal"?I?0:NaN:M[0]-P[0]*D),C==null&&(C=S==="ordinal"?I?I-1:NaN:M[1]+P[1]*D),(T==null||!isFinite(T))&&(T=NaN),(C==null||!isFinite(C))&&(C=NaN),w.setBlank(e.eqNaN(T)||e.eqNaN(C)||S==="ordinal"&&!w.getOrdinalMeta().categories.length),b.getNeedCrossZero()&&(T>0&&C>0&&!k&&(T=0),T<0&&C<0&&!R&&(C=0));var B=b.ecModel;if(B&&S==="time"){var V=o("bar",B),F;if(e.each(V,function(E){F|=E.getBaseAxis()===b.axis}),F){var Y=l(V),q=h(T,C,b,Y);T=q.min,C=q.max}}return{extent:[T,C],fixMin:k,fixMax:R}}function h(w,b,S,T){var C=S.axis.getExtent(),M=C[1]-C[0],I=s(T,S.axis);if(I===void 0)return{min:w,max:b};var P=1/0;e.each(I,function(F){P=Math.min(F.offset,P)});var D=-1/0;e.each(I,function(F){D=Math.max(F.offset+F.width,D)}),P=Math.abs(P),D=Math.abs(D);var k=P+D,R=b-w,B=1-(P+D)/M,V=R/B-R;return b+=V*(D/k),w-=V*(P/k),{min:w,max:b}}function c(w,b){var S=u(w,b),T=S.extent,C=b.get("splitNumber");w.type==="log"&&(w.base=b.get("logBase"));var M=w.type;w.setExtent(T[0],T[1]),w.niceExtent({splitNumber:C,fixMin:S.fixMin,fixMax:S.fixMax,minInterval:M==="interval"||M==="time"?b.get("minInterval"):null,maxInterval:M==="interval"||M==="time"?b.get("maxInterval"):null});var I=b.get("interval");I!=null&&w.setInterval&&w.setInterval(I)}function v(w,b){if(b=b||w.get("type"),b)switch(b){case"category":return new t(w.getOrdinalMeta?w.getOrdinalMeta():w.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(n.getClass(b)||r).create(w)}}function d(w){var b=w.scale.getExtent(),S=b[0],T=b[1];return!(S>0&&T>0||S<0&&T<0)}function m(w){var b=w.getLabelModel().get("formatter"),S=w.type==="category"?w.scale.getExtent()[0]:null;return typeof b=="string"?(b=function(T){return function(C){return C=w.scale.getLabel(C),T.replace("{value}",C??"")}}(b),b):typeof b=="function"?function(T,C){return S!=null&&(C=T-S),b(g(w,T),C)}:function(T){return w.scale.getLabel(T)}}function g(w,b){return w.type==="category"?w.scale.getLabel(b):b}function p(w){var b=w.model,S=w.scale;if(!(!b.get("axisLabel.show")||S.isBlank())){var T=w.type==="category",C,M,I=S.getExtent();T?M=S.count():(C=S.getTicks(),M=C.length);var P=w.getLabelModel(),D=m(w),k,R=1;M>40&&(R=Math.ceil(M/40));for(var B=0;B<M;B+=R){var V=C?C[B]:I[0]+B,F=D(V),Y=P.getTextRect(F),q=y(Y,P.get("rotate")||0);k?k.union(q):k=q}return k}}function y(w,b){var S=b*Math.PI/180,T=w.plain(),C=T.width,M=T.height,I=C*Math.abs(Math.cos(S))+Math.abs(M*Math.sin(S)),P=C*Math.abs(Math.sin(S))+Math.abs(M*Math.cos(S)),D=new f(T.x,T.y,I,P);return D}function x(w){var b=w.get("interval");return b??"auto"}function A(w){return w.type==="category"&&x(w.getLabelModel())===0}return ln.getScaleExtent=u,ln.niceScaleExtent=c,ln.createScaleByModel=v,ln.ifAxisCrossZero=d,ln.makeLabelFormatter=m,ln.getAxisRawValue=g,ln.estimateLabelUnionRect=p,ln.getOptionCategoryInterval=x,ln.shouldShowAllLabels=A,ln}var Sg,tT;function nl(){if(tT)return Sg;tT=1;var e=ne,t={getMin:function(r){var n=this.option,a=!r&&n.rangeStart!=null?n.rangeStart:n.min;return this.axis&&a!=null&&a!=="dataMin"&&typeof a!="function"&&!e.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(r){var n=this.option,a=!r&&n.rangeEnd!=null?n.rangeEnd:n.max;return this.axis&&a!=null&&a!=="dataMax"&&typeof a!="function"&&!e.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var r=this.option;return r.rangeStart!=null||r.rangeEnd!=null?!1:!r.scale},getCoordSysModel:e.noop,setRange:function(r,n){this.option.rangeStart=r,this.option.rangeEnd=n},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};return Sg=t,Sg}var bg={},rT;function ja(){if(rT)return bg;rT=1;var e=ne,t=ke,r=fr,n=ir,a=n.calculateTextPosition,i=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,g){var p=g.cx,y=g.cy,x=g.width/2,A=g.height/2;m.moveTo(p,y-A),m.lineTo(p+x,y+A),m.lineTo(p-x,y+A),m.closePath()}}),o=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,g){var p=g.cx,y=g.cy,x=g.width/2,A=g.height/2;m.moveTo(p,y-A),m.lineTo(p+x,y),m.lineTo(p,y+A),m.lineTo(p-x,y),m.closePath()}}),l=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,g){var p=g.x,y=g.y,x=g.width/5*3,A=Math.max(x,g.height),w=x/2,b=w*w/(A-w),S=y-A+w+b,T=Math.asin(b/w),C=Math.cos(T)*w,M=Math.sin(T),I=Math.cos(T),P=w*.6,D=w*.7;m.moveTo(p-C,S+b),m.arc(p,S,w,Math.PI-T,Math.PI*2+T),m.bezierCurveTo(p+C-M*P,S+b+I*P,p,y-D,p,y),m.bezierCurveTo(p,y-D,p-C+M*P,S+b+I*P,p-C,S+b),m.closePath()}}),s=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,g){var p=g.height,y=g.width,x=g.x,A=g.y,w=y/3*2;m.moveTo(x,A),m.lineTo(x+w,A+p),m.lineTo(x,A+p/4*3),m.lineTo(x-w,A+p),m.lineTo(x,A),m.closePath()}}),f={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:o,pin:l,arrow:s,triangle:i},u={line:function(m,g,p,y,x){x.x1=m,x.y1=g+y/2,x.x2=m+p,x.y2=g+y/2},rect:function(m,g,p,y,x){x.x=m,x.y=g,x.width=p,x.height=y},roundRect:function(m,g,p,y,x){x.x=m,x.y=g,x.width=p,x.height=y,x.r=Math.min(p,y)/4},square:function(m,g,p,y,x){var A=Math.min(p,y);x.x=m,x.y=g,x.width=A,x.height=A},circle:function(m,g,p,y,x){x.cx=m+p/2,x.cy=g+y/2,x.r=Math.min(p,y)/2},diamond:function(m,g,p,y,x){x.cx=m+p/2,x.cy=g+y/2,x.width=p,x.height=y},pin:function(m,g,p,y,x){x.x=m+p/2,x.y=g+y/2,x.width=p,x.height=y},arrow:function(m,g,p,y,x){x.x=m+p/2,x.y=g+y/2,x.width=p,x.height=y},triangle:function(m,g,p,y,x){x.cx=m+p/2,x.cy=g+y/2,x.width=p,x.height=y}},h={};e.each(f,function(m,g){h[g]=new m});var c=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(m,g,p){var y=a(m,g,p),x=this.shape;return x&&x.symbolType==="pin"&&g.textPosition==="inside"&&(y.y=p.y+p.height*.4),y},buildPath:function(m,g,p){var y=g.symbolType;if(y!=="none"){var x=h[y];x||(y="rect",x=h[y]),u[y](g.x,g.y,g.width,g.height,x.shape),x.buildPath(m,x.shape,p)}}});function v(m,g){if(this.type!=="image"){var p=this.style,y=this.shape;y&&y.symbolType==="line"?p.stroke=m:this.__isEmptyBrush?(p.stroke=m,p.fill=g||"#fff"):(p.fill&&(p.fill=m),p.stroke&&(p.stroke=m)),this.dirty(!1)}}function d(m,g,p,y,x,A,w){var b=m.indexOf("empty")===0;b&&(m=m.substr(5,1).toLowerCase()+m.substr(6));var S;return m.indexOf("image://")===0?S=t.makeImage(m.slice(8),new r(g,p,y,x),w?"center":"cover"):m.indexOf("path://")===0?S=t.makePath(m.slice(7),{},new r(g,p,y,x),w?"center":"cover"):S=new c({shape:{symbolType:m,x:g,y:p,width:y,height:x}}),S.__isEmptyBrush=b,S.setColor=v,S.setColor(A),S}return bg.createSymbol=d,bg}var aT;function eJ(){if(aT)return Mn;aT=1;var e=ne,t=yi(),r=_n(),n=nl(),a=br(),i=Tt;i.getLayoutRect,Mn.getLayoutRect=i.getLayoutRect;var o=Fn(),l=o.enableDataStack,s=o.isDimensionStacked,f=o.getStackedDimension,u=sN();Mn.completeDimensions=u;var h=al();Mn.createDimensions=h;var c=ja();Mn.createSymbol=c.createSymbol;function v(p){return t(p.getSource(),p)}var d={isDimensionStacked:s,enableDataStack:l,getStackedDimension:f};function m(p,y){var x=y;a.isInstance(y)||(x=new a(y),e.mixin(x,n));var A=r.createScaleByModel(x);return A.setExtent(p[0],p[1]),r.niceScaleExtent(A,x),A}function g(p){e.mixin(p,n)}return Mn.createList=v,Mn.dataStack=d,Mn.createScale=m,Mn.mixinAxisModelCommonMethods=g,Mn}var Ag={},nT;function cN(){if(nT)return Ag;nT=1;var e=GO,t=1e-8;function r(a,i){return Math.abs(a-i)<t}function n(a,i,o){var l=0,s=a[0];if(!s)return!1;for(var f=1;f<a.length;f++){var u=a[f];l+=e(s[0],s[1],u[0],u[1],i,o),s=u}var h=a[0];return(!r(s[0],h[0])||!r(s[1],h[1]))&&(l+=e(s[0],s[1],h[0],h[1],i,o)),l!==0}return Ag.contain=n,Ag}var Tg,iT;function hN(){if(iT)return Tg;iT=1;var e=fr,t=Du(),r=sr(),n=cN();function a(o,l,s){if(this.name=o,this.geometries=l,s)s=[s[0],s[1]];else{var f=this.getBoundingRect();s=[f.x+f.width/2,f.y+f.height/2]}this.center=s}a.prototype={constructor:a,properties:null,getBoundingRect:function(){var o=this._rect;if(o)return o;for(var l=Number.MAX_VALUE,s=[l,l],f=[-l,-l],u=[],h=[],c=this.geometries,v=0;v<c.length;v++)if(c[v].type==="polygon"){var d=c[v].exterior;t.fromPoints(d,u,h),r.min(s,s,u),r.max(f,f,h)}return v===0&&(s[0]=s[1]=f[0]=f[1]=0),this._rect=new e(s[0],s[1],f[0]-s[0],f[1]-s[1])},contain:function(o){var l=this.getBoundingRect(),s=this.geometries;if(!l.contain(o[0],o[1]))return!1;e:for(var f=0,u=s.length;f<u;f++)if(s[f].type==="polygon"){var h=s[f].exterior,c=s[f].interiors;if(n.contain(h,o[0],o[1])){for(var v=0;v<(c?c.length:0);v++)if(n.contain(c[v]))continue e;return!0}}return!1},transformTo:function(o,l,s,f){var u=this.getBoundingRect(),h=u.width/u.height;s?f||(f=s/h):s=h*f;for(var c=new e(o,l,s,f),v=u.calculateTransform(c),d=this.geometries,m=0;m<d.length;m++)if(d[m].type==="polygon"){for(var g=d[m].exterior,p=d[m].interiors,y=0;y<g.length;y++)r.applyTransform(g[y],g[y],v);for(var x=0;x<(p?p.length:0);x++)for(var y=0;y<p[x].length;y++)r.applyTransform(p[x][y],p[x][y],v)}u=this._rect,u.copy(c),this.center=[u.x+u.width/2,u.y+u.height/2]},cloneShallow:function(o){o==null&&(o=this.name);var l=new a(o,this.geometries,this.center);return l._rect=this._rect,l.transformTo=null,l}};var i=a;return Tg=i,Tg}var Cg,oT;function vN(){if(oT)return Cg;oT=1;var e=ne,t=hN();function r(i){if(!i.UTF8Encoding)return i;var o=i.UTF8Scale;o==null&&(o=1024);for(var l=i.features,s=0;s<l.length;s++)for(var f=l[s],u=f.geometry,h=u.coordinates,c=u.encodeOffsets,v=0;v<h.length;v++){var d=h[v];if(u.type==="Polygon")h[v]=n(d,c[v],o);else if(u.type==="MultiPolygon")for(var m=0;m<d.length;m++){var g=d[m];d[m]=n(g,c[v][m],o)}}return i.UTF8Encoding=!1,i}function n(i,o,l){for(var s=[],f=o[0],u=o[1],h=0;h<i.length;h+=2){var c=i.charCodeAt(h)-64,v=i.charCodeAt(h+1)-64;c=c>>1^-(c&1),v=v>>1^-(v&1),c+=f,v+=u,f=c,u=v,s.push([c/l,v/l])}return s}function a(i,o){return r(i),e.map(e.filter(i.features,function(l){return l.geometry&&l.properties&&l.geometry.coordinates.length>0}),function(l){var s=l.properties,f=l.geometry,u=f.coordinates,h=[];f.type==="Polygon"&&h.push({type:"polygon",exterior:u[0],interiors:u.slice(1)}),f.type==="MultiPolygon"&&e.each(u,function(v){v[0]&&h.push({type:"polygon",exterior:v[0],interiors:v.slice(1)})});var c=new t(s[o||"name"],h,s.cp);return c.properties=s,c})}return Cg=a,Cg}var zl={},sT;function tJ(){if(sT)return zl;sT=1;var e=ne,t=ir,r=lt,n=r.makeInner,a=_n(),i=a.makeLabelFormatter,o=a.getOptionCategoryInterval,l=a.shouldShowAllLabels,s=n();function f(S){return S.type==="category"?h(S):d(S)}function u(S,T){return S.type==="category"?v(S,T):{ticks:S.scale.getTicks()}}function h(S){var T=S.getLabelModel(),C=c(S,T);return!T.get("show")||S.scale.isBlank()?{labels:[],labelCategoryInterval:C.labelCategoryInterval}:C}function c(S,T){var C=m(S,"labels"),M=o(T),I=g(C,M);if(I)return I;var P,D;return e.isFunction(M)?P=b(S,M):(D=M==="auto"?y(S):M,P=w(S,D)),p(C,M,{labels:P,labelCategoryInterval:D})}function v(S,T){var C=m(S,"ticks"),M=o(T),I=g(C,M);if(I)return I;var P,D;if((!T.get("show")||S.scale.isBlank())&&(P=[]),e.isFunction(M))P=b(S,M,!0);else if(M==="auto"){var k=c(S,S.getLabelModel());D=k.labelCategoryInterval,P=e.map(k.labels,function(R){return R.tickValue})}else D=M,P=w(S,D,!0);return p(C,M,{ticks:P,tickCategoryInterval:D})}function d(S){var T=S.scale.getTicks(),C=i(S);return{labels:e.map(T,function(M,I){return{formattedLabel:C(M,I),rawLabel:S.scale.getLabel(M),tickValue:M}})}}function m(S,T){return s(S)[T]||(s(S)[T]=[])}function g(S,T){for(var C=0;C<S.length;C++)if(S[C].key===T)return S[C].value}function p(S,T,C){return S.push({key:T,value:C}),C}function y(S){var T=s(S).autoInterval;return T??(s(S).autoInterval=S.calculateCategoryInterval())}function x(S){var T=A(S),C=i(S),M=(T.axisRotate-T.labelRotate)/180*Math.PI,I=S.scale,P=I.getExtent(),D=I.count();if(P[1]-P[0]<1)return 0;var k=1;D>40&&(k=Math.max(1,Math.floor(D/40)));for(var R=P[0],B=S.dataToCoord(R+1)-S.dataToCoord(R),V=Math.abs(B*Math.cos(M)),F=Math.abs(B*Math.sin(M)),Y=0,q=0;R<=P[1];R+=k){var E=0,z=0,N=t.getBoundingRect(C(R),T.font,"center","top");E=N.width*1.3,z=N.height*1.3,Y=Math.max(Y,E,7),q=Math.max(q,z,7)}var H=Y/V,W=q/F;isNaN(H)&&(H=1/0),isNaN(W)&&(W=1/0);var U=Math.max(0,Math.floor(Math.min(H,W))),K=s(S.model),Q=S.getExtent(),j=K.lastAutoInterval,se=K.lastTickCount;return j!=null&&se!=null&&Math.abs(j-U)<=1&&Math.abs(se-D)<=1&&j>U&&K.axisExtend0===Q[0]&&K.axisExtend1===Q[1]?U=j:(K.lastTickCount=D,K.lastAutoInterval=U,K.axisExtend0=Q[0],K.axisExtend1=Q[1]),U}function A(S){var T=S.getLabelModel();return{axisRotate:S.getRotate?S.getRotate():S.isHorizontal&&!S.isHorizontal()?90:0,labelRotate:T.get("rotate")||0,font:T.getFont()}}function w(S,T,C){var M=i(S),I=S.scale,P=I.getExtent(),D=S.getLabelModel(),k=[],R=Math.max((T||0)+1,1),B=P[0],V=I.count();B!==0&&R>1&&V/R>2&&(B=Math.round(Math.ceil(B/R)*R));var F=l(S),Y=D.get("showMinLabel")||F,q=D.get("showMaxLabel")||F;Y&&B!==P[0]&&z(P[0]);for(var E=B;E<=P[1];E+=R)z(E);q&&E-R!==P[1]&&z(P[1]);function z(N){k.push(C?N:{formattedLabel:M(N),rawLabel:I.getLabel(N),tickValue:N})}return k}function b(S,T,C){var M=S.scale,I=i(S),P=[];return e.each(M.getTicks(),function(D){var k=M.getLabel(D);T(D,k)&&P.push(C?D:{formattedLabel:I(D),rawLabel:k,tickValue:D})}),P}return zl.createAxisLabels=f,zl.createAxisTicks=u,zl.calculateCategoryInterval=x,zl}var Mg,lT;function ro(){if(lT)return Mg;lT=1;var e=ne,t=e.each,r=e.map,n=ht(),a=n.linearMap,i=n.getPixelPrecision,o=n.round,l=tJ(),s=l.createAxisTicks,f=l.createAxisLabels,u=l.calculateCategoryInterval,h=[0,1],c=function(g,p,y){this.dim=g,this.scale=p,this._extent=y||[0,0],this.inverse=!1,this.onBand=!1};c.prototype={constructor:c,contain:function(g){var p=this._extent,y=Math.min(p[0],p[1]),x=Math.max(p[0],p[1]);return g>=y&&g<=x},containData:function(g){return this.scale.contain(g)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(g){return i(g||this.scale.getExtent(),this._extent)},setExtent:function(g,p){var y=this._extent;y[0]=g,y[1]=p},dataToCoord:function(g,p){var y=this._extent,x=this.scale;return g=x.normalize(g),this.onBand&&x.type==="ordinal"&&(y=y.slice(),v(y,x.count())),a(g,h,y,p)},coordToData:function(g,p){var y=this._extent,x=this.scale;this.onBand&&x.type==="ordinal"&&(y=y.slice(),v(y,x.count()));var A=a(g,y,h,p);return this.scale.scale(A)},pointToData:function(g,p){},getTicksCoords:function(g){g=g||{};var p=g.tickModel||this.getTickModel(),y=s(this,p),x=y.ticks,A=r(x,function(b){return{coord:this.dataToCoord(b),tickValue:b}},this),w=p.get("alignWithLabel");return d(this,A,w,g.clamp),A},getMinorTicksCoords:function(){if(this.scale.type==="ordinal")return[];var g=this.model.getModel("minorTick"),p=g.get("splitNumber");p>0&&p<100||(p=5);var y=this.scale.getMinorTicks(p),x=r(y,function(A){return r(A,function(w){return{coord:this.dataToCoord(w),tickValue:w}},this)},this);return x},getViewLabels:function(){return f(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var g=this._extent,p=this.scale.getExtent(),y=p[1]-p[0]+(this.onBand?1:0);y===0&&(y=1);var x=Math.abs(g[1]-g[0]);return Math.abs(x)/y},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return u(this)}};function v(g,p){var y=g[1]-g[0],x=p,A=y/x/2;g[0]+=A,g[1]-=A}function d(g,p,y,x){var A=p.length;if(!g.onBand||y||!A)return;var w=g.getExtent(),b,S;if(A===1)p[0].coord=w[0],b=p[1]={coord:w[0]};else{var T=p[A-1].tickValue-p[0].tickValue,C=(p[A-1].coord-p[0].coord)/T;t(p,function(D){D.coord-=C/2});var M=g.scale.getExtent();S=1+M[1]-p[A-1].tickValue,b={coord:p[A-1].coord+C*S},p.push(b)}var I=w[0]>w[1];P(p[0].coord,w[0])&&(x?p[0].coord=w[0]:p.shift()),x&&P(w[0],p[0].coord)&&p.unshift({coord:w[0]}),P(w[1],b.coord)&&(x?b.coord=w[1]:p.pop()),x&&P(b.coord,w[1])&&p.push({coord:w[1]});function P(D,k){return D=o(D),k=o(k),I?D>k:D<k}}var m=c;return Mg=m,Mg}var uT;function dN(){if(uT)return zr;uT=1;var e=pi;zr.zrender=e;var t=la();zr.matrix=t;var r=sr();zr.vector=r;var n=ne,a=Mr;zr.color=a;var i=ke,o=ht();zr.number=o;var l=jt();zr.format=l;var s=yn;s.throttle,zr.throttle=s.throttle;var f=eJ();zr.helper=f;var u=vN();zr.parseGeoJSON=u;var h=Ja();zr.List=h;var c=br();zr.Model=c;var v=ro();zr.Axis=v;var d=Sr;zr.env=d;var m=u,g={};n.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(y){g[y]=n[y]});var p={};return n.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(y){p[y]=i[y]}),zr.parseGeoJson=m,zr.util=g,zr.graphic=p,zr}(function(e){var t=pi,r=ne,n=Mr,a=Sr,i=T_,o=Oo,l=kB,s=OB,f=zn,u=iK,h=_K,c=AK,v=Or,d=Br,m=Dh,g=Vn,p=ke,y=lt,x=yn,A=x.throttle,w=EX,b=VX,S=UX,T=hQ,C=dQ,M=pQ;rN();var I=dx,P=r.assert,D=r.each,k=r.isFunction,R=r.isObject,B=v.parseClassType,V="4.9.0",F={zrender:"4.3.2"},Y=1,q=1e3,E=800,z=900,N=5e3,H=1e3,W=1100,U=2e3,K=3e3,Q=3500,j=4e3,se=5e3,le={PROCESSOR:{FILTER:q,SERIES_FILTER:E,STATISTIC:N},VISUAL:{LAYOUT:H,PROGRESSIVE_LAYOUT:W,GLOBAL:U,CHART:K,POST_CHART_LAYOUT:Q,COMPONENT:j,BRUSH:se}},de="__flagInMainProcess",he="__optionUpdated",pe=/^[a-zA-Z0-9_]+$/;function ye(ue,we){return function(Re,qe,We){if(!we&&this._disposed){this.id;return}Re=Re&&Re.toLowerCase(),o.prototype[ue].call(this,Re,qe,We)}}function X(){o.call(this)}X.prototype.on=ye("on",!0),X.prototype.off=ye("off",!0),X.prototype.one=ye("one",!0),r.mixin(X,o);function G(ue,$e,Re){Re=Re||{},typeof $e=="string"&&($e=ot[$e]),this.id,this.group,this._dom=ue;var qe="canvas",We=this._zr=t.init(ue,{renderer:Re.renderer||qe,devicePixelRatio:Re.devicePixelRatio,width:Re.width,height:Re.height});this._throttledZrFlush=A(r.bind(We.flush,We),17);var $e=r.clone($e);$e&&h($e,!0),this._theme=$e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new f;var Qe=this._api=ce(this);function it(rt,pt){return rt.__prio-pt.__prio}i(nt,it),i(Be,it),this._scheduler=new T(this,Qe,Be,nt),o.call(this,this._ecEventProcessor=new _e),this._messageCenter=new X,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],We.animation.on("frame",this._onframe,this),Ce(We,this),r.setAsPrimitive(this)}var $=G.prototype;$._onframe=function(){if(!this._disposed){var ue=this._scheduler;if(this[he]){var we=this[he].silent;this[de]=!0,oe(this),fe.update.call(this),this[de]=!1,this[he]=!1,ie.call(this,we),me.call(this,we)}else if(ue.unfinished){var Re=Y,qe=this._model,We=this._api;ue.unfinished=!1;do{var $e=+new Date;ue.performSeriesTasks(qe),ue.performDataProcessorTasks(qe),Me(this,qe),ue.performVisualTasks(qe),Ne(this,this._model,We,"remain"),Re-=+new Date-$e}while(Re>0&&ue.unfinished);ue.unfinished||this._zr.flush()}}},$.getDom=function(){return this._dom},$.getZr=function(){return this._zr},$.setOption=function(ue,we,Re){if(this._disposed){this.id;return}var qe;if(R(we)&&(Re=we.lazyUpdate,qe=we.silent,we=we.notMerge),this[de]=!0,!this._model||we){var We=new u(this._api),$e=this._theme,Qe=this._model=new l;Qe.scheduler=this._scheduler,Qe.init(null,null,$e,We)}this._model.setOption(ue,ze),Re?(this[he]={silent:qe},this[de]=!1):(oe(this),fe.update.call(this),this._zr.flush(),this[he]=!1,this[de]=!1,ie.call(this,qe),me.call(this,qe))},$.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},$.getModel=function(){return this._model},$.getOption=function(){return this._model&&this._model.getOption()},$.getWidth=function(){return this._zr.getWidth()},$.getHeight=function(){return this._zr.getHeight()},$.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},$.getRenderedCanvas=function(ue){if(a.canvasSupported){ue=ue||{},ue.pixelRatio=ue.pixelRatio||1,ue.backgroundColor=ue.backgroundColor||this._model.get("backgroundColor");var we=this._zr;return we.painter.getRenderedCanvas(ue)}},$.getSvgDataURL=function(){if(a.svgSupported){var ue=this._zr,we=ue.storage.getDisplayList();return r.each(we,function(Re){Re.stopAnimation(!0)}),ue.painter.toDataURL()}},$.getDataURL=function(ue){if(this._disposed){this.id;return}ue=ue||{};var we=ue.excludeComponents,Re=this._model,qe=[],We=this;D(we,function(Qe){Re.eachComponent({mainType:Qe},function(it){var rt=We._componentsMap[it.__viewId];rt.group.ignore||(qe.push(rt),rt.group.ignore=!0)})});var $e=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(ue).toDataURL("image/"+(ue&&ue.type||"png"));return D(qe,function(Qe){Qe.group.ignore=!1}),$e},$.getConnectedDataURL=function(ue){if(this._disposed){this.id;return}if(a.canvasSupported){var we=ue.type==="svg",Re=this.group,qe=Math.min,We=Math.max,$e=1/0;if(Ut[Re]){var Qe=$e,it=$e,rt=-$e,pt=-$e,yt=[],_t=ue&&ue.pixelRatio||1;r.each(ft,function(ea,so){if(ea.group===Re){var fl=we?ea.getZr().painter.getSvgDom().innerHTML:ea.getRenderedCanvas(r.clone(ue)),Un=ea.getDom().getBoundingClientRect();Qe=qe(Un.left,Qe),it=qe(Un.top,it),rt=We(Un.right,rt),pt=We(Un.bottom,pt),yt.push({dom:fl,left:Un.left,top:Un.top})}}),Qe*=_t,it*=_t,rt*=_t,pt*=_t;var hr=rt-Qe,Qt=pt-it,Ar=r.createCanvas(),Zr=t.init(Ar,{renderer:we?"svg":"canvas"});if(Zr.resize({width:hr,height:Qt}),we){var en="";return D(yt,function(ea){var so=ea.left-Qe,fl=ea.top-it;en+='<g transform="translate('+so+","+fl+')">'+ea.dom+"</g>"}),Zr.painter.getSvgRoot().innerHTML=en,ue.connectedBackgroundColor&&Zr.painter.setBackgroundColor(ue.connectedBackgroundColor),Zr.refreshImmediately(),Zr.painter.toDataURL()}else return ue.connectedBackgroundColor&&Zr.add(new p.Rect({shape:{x:0,y:0,width:hr,height:Qt},style:{fill:ue.connectedBackgroundColor}})),D(yt,function(ea){var so=new p.Image({style:{x:ea.left*_t-Qe,y:ea.top*_t-it,image:ea.dom}});Zr.add(so)}),Zr.refreshImmediately(),Ar.toDataURL("image/"+(ue&&ue.type||"png"))}else return this.getDataURL(ue)}},$.convertToPixel=r.curry(ee,"convertToPixel"),$.convertFromPixel=r.curry(ee,"convertFromPixel");function ee(ue,we,Re){if(this._disposed){this.id;return}var qe=this._model,We=this._coordSysMgr.getCoordinateSystems(),$e;we=y.parseFinder(qe,we);for(var Qe=0;Qe<We.length;Qe++){var it=We[Qe];if(it[ue]&&($e=it[ue](qe,we,Re))!=null)return $e}}$.containPixel=function(ue,we){if(this._disposed){this.id;return}var Re=this._model,qe;return ue=y.parseFinder(Re,ue),r.each(ue,function(We,$e){$e.indexOf("Models")>=0&&r.each(We,function(Qe){var it=Qe.coordinateSystem;if(it&&it.containPoint)qe|=!!it.containPoint(we);else if($e==="seriesModels"){var rt=this._chartsMap[Qe.__viewId];rt&&rt.containPoint&&(qe|=rt.containPoint(we,Qe))}},this)},this),!!qe},$.getVisual=function(ue,we){var Re=this._model;ue=y.parseFinder(Re,ue,{defaultMainType:"series"});var qe=ue.seriesModel,We=qe.getData(),$e=ue.hasOwnProperty("dataIndexInside")?ue.dataIndexInside:ue.hasOwnProperty("dataIndex")?We.indexOfRawIndex(ue.dataIndex):null;return $e!=null?We.getItemVisual($e,we):We.getVisual(we)},$.getViewOfComponentModel=function(ue){return this._componentsMap[ue.__viewId]},$.getViewOfSeriesModel=function(ue){return this._chartsMap[ue.__viewId]};var fe={prepareAndUpdate:function(ue){oe(this),fe.update.call(this,ue)},update:function(ue){var we=this._model,Re=this._api,qe=this._zr,We=this._coordSysMgr,$e=this._scheduler;if(we){$e.restoreData(we,ue),$e.performSeriesTasks(we),We.create(we,Re),$e.performDataProcessorTasks(we,ue),Me(this,we),We.update(we,Re),Pe(we),$e.performVisualTasks(we,ue),Ie(this,we,Re,ue);var Qe=we.get("backgroundColor")||"transparent";if(a.canvasSupported)qe.setBackgroundColor(Qe);else{var it=n.parse(Qe);Qe=n.stringify(it,"rgb"),it[3]===0&&(Qe="transparent")}Ze(we,Re)}},updateTransform:function(ue){var we=this._model,Re=this,qe=this._api;if(we){var We=[];we.eachComponent(function(Qe,it){var rt=Re.getViewOfComponentModel(it);if(rt&&rt.__alive)if(rt.updateTransform){var pt=rt.updateTransform(it,we,qe,ue);pt&&pt.update&&We.push(rt)}else We.push(rt)});var $e=r.createHashMap();we.eachSeries(function(Qe){var it=Re._chartsMap[Qe.__viewId];if(it.updateTransform){var rt=it.updateTransform(Qe,we,qe,ue);rt&&rt.update&&$e.set(Qe.uid,1)}else $e.set(Qe.uid,1)}),Pe(we),this._scheduler.performVisualTasks(we,ue,{setDirty:!0,dirtyMap:$e}),Ne(Re,we,qe,ue,$e),Ze(we,this._api)}},updateView:function(ue){var we=this._model;we&&(g.markUpdateMethod(ue,"updateView"),Pe(we),this._scheduler.performVisualTasks(we,ue,{setDirty:!0}),Ie(this,this._model,this._api,ue),Ze(we,this._api))},updateVisual:function(ue){fe.update.call(this,ue)},updateLayout:function(ue){fe.update.call(this,ue)}};function oe(ue){var we=ue._model,Re=ue._scheduler;Re.restorePipelines(we),Re.prepareStageTasks(),Le(ue,"component",we,Re),Le(ue,"chart",we,Re),Re.plan()}function ve(ue,we,Re,qe,We){var $e=ue._model;if(!qe){D(ue._componentsViews.concat(ue._chartsViews),pt);return}var Qe={};Qe[qe+"Id"]=Re[qe+"Id"],Qe[qe+"Index"]=Re[qe+"Index"],Qe[qe+"Name"]=Re[qe+"Name"];var it={mainType:qe,query:Qe};We&&(it.subType=We);var rt=Re.excludeSeriesId;rt!=null&&(rt=r.createHashMap(y.normalizeToArray(rt))),$e&&$e.eachComponent(it,function(yt){(!rt||rt.get(yt.id)==null)&&pt(ue[qe==="series"?"_chartsMap":"_componentsMap"][yt.__viewId])},ue);function pt(yt){yt&&yt.__alive&&yt[we]&&yt[we](yt.__model,$e,ue._api,Re)}}$.resize=function(ue){if(this._disposed){this.id;return}this._zr.resize(ue);var we=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!we){var Re=we.resetOption("media"),qe=ue&&ue.silent;this[de]=!0,Re&&oe(this),fe.update.call(this),this[de]=!1,ie.call(this,qe),me.call(this,qe)}};function Me(ue,we){var Re=ue._chartsMap,qe=ue._scheduler;we.eachSeries(function(We){qe.updateStreamModes(We,Re[We.__viewId])})}$.showLoading=function(ue,we){if(this._disposed){this.id;return}if(R(ue)&&(we=ue,ue=""),ue=ue||"default",this.hideLoading(),!!ut[ue]){var Re=ut[ue](this._api,we),qe=this._zr;this._loadingFX=Re,qe.add(Re)}},$.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},$.makeActionFromEvent=function(ue){var we=r.extend({},ue);return we.type=Ae[ue.type],we},$.dispatchAction=function(ue,we){if(this._disposed){this.id;return}if(R(we)||(we={silent:!!we}),!!be[ue.type]&&this._model){if(this[de]){this._pendingActions.push(ue);return}re.call(this,ue,we.silent),we.flush?this._zr.flush(!0):we.flush!==!1&&a.browser.weChat&&this._throttledZrFlush(),ie.call(this,we.silent),me.call(this,we.silent)}};function re(ue,we){var Re=ue.type,qe=ue.escapeConnect,We=be[Re],$e=We.actionInfo,Qe=($e.update||"update").split(":"),it=Qe.pop();Qe=Qe[0]!=null&&B(Qe[0]),this[de]=!0;var rt=[ue],pt=!1;ue.batch&&(pt=!0,rt=r.map(ue.batch,function(Qt){return Qt=r.defaults(r.extend({},Qt),ue),Qt.batch=null,Qt}));var yt=[],_t,hr=Re==="highlight"||Re==="downplay";D(rt,function(Qt){_t=We.action(Qt,this._model,this._api),_t=_t||r.extend({},Qt),_t.type=$e.event||_t.type,yt.push(_t),hr?ve(this,it,Qt,"series"):Qe&&ve(this,it,Qt,Qe.main,Qe.sub)},this),it!=="none"&&!hr&&!Qe&&(this[he]?(oe(this),fe.update.call(this,ue),this[he]=!1):fe[it].call(this,ue)),pt?_t={type:$e.event||Re,escapeConnect:qe,batch:yt}:_t=yt[0],this[de]=!1,!we&&this._messageCenter.trigger(_t.type,_t)}function ie(ue){for(var we=this._pendingActions;we.length;){var Re=we.shift();re.call(this,Re,ue)}}function me(ue){!ue&&this.trigger("updated")}function Ce(ue,we){ue.on("rendered",function(){we.trigger("rendered"),ue.animation.isFinished()&&!we[he]&&!we._scheduler.unfinished&&!we._pendingActions.length&&we.trigger("finished")})}$.appendData=function(ue){if(this._disposed){this.id;return}var we=ue.seriesIndex,Re=this.getModel(),qe=Re.getSeriesByIndex(we);qe.appendData(ue),this._scheduler.unfinished=!0},$.on=ye("on",!1),$.off=ye("off",!1),$.one=ye("one",!1);function Le(ue,we,Re,qe){for(var We=we==="component",$e=We?ue._componentsViews:ue._chartsViews,Qe=We?ue._componentsMap:ue._chartsMap,it=ue._zr,rt=ue._api,pt=0;pt<$e.length;pt++)$e[pt].__alive=!1;We?Re.eachComponent(function(hr,Qt){hr!=="series"&&yt(Qt)}):Re.eachSeries(yt);function yt(hr){var Qt="_ec_"+hr.id+"_"+hr.type,Ar=Qe[Qt];if(!Ar){var Zr=B(hr.type),en=We?m.getClass(Zr.main,Zr.sub):g.getClass(Zr.sub);Ar=new en,Ar.init(Re,rt),Qe[Qt]=Ar,$e.push(Ar),it.add(Ar.group)}hr.__viewId=Ar.__id=Qt,Ar.__alive=!0,Ar.__model=hr,Ar.group.__ecComponentInfo={mainType:hr.mainType,index:hr.componentIndex},!We&&qe.prepareView(Ar,hr,Re,rt)}for(var pt=0;pt<$e.length;){var _t=$e[pt];_t.__alive?pt++:(!We&&_t.renderTask.dispose(),it.remove(_t.group),_t.dispose(Re,rt),$e.splice(pt,1),delete Qe[_t.__id],_t.__id=_t.group.__ecComponentInfo=null)}}function Pe(ue){ue.clearColorPalette(),ue.eachSeries(function(we){we.clearColorPalette()})}function Ie(ue,we,Re,qe){Fe(ue,we,Re,qe),D(ue._chartsViews,function(We){We.__alive=!1}),Ne(ue,we,Re,qe),D(ue._chartsViews,function(We){We.__alive||We.remove(we,Re)})}function Fe(ue,we,Re,qe,We){D(ue._componentsViews,function($e){var Qe=$e.__model;$e.render(Qe,we,Re,qe),Gt(Qe,$e)})}function Ne(ue,we,Re,qe,We){var $e=ue._scheduler,Qe;we.eachSeries(function(it){var rt=ue._chartsMap[it.__viewId];rt.__alive=!0;var pt=rt.renderTask;$e.updatePayload(pt,qe),We&&We.get(it.uid)&&pt.dirty(),Qe|=pt.perform($e.getPerformArgs(pt)),rt.group.silent=!!it.get("silent"),Gt(it,rt),Lt(it,rt)}),$e.unfinished|=Qe,mt(ue,we),b(ue._zr.dom,we)}function Ze(ue,we){D(Je,function(Re){Re(ue,we)})}var Xe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];$._initEvents=function(){D(Xe,function(ue){var we=function(Re){var qe=this.getModel(),We=Re.target,$e,Qe=ue==="globalout";if(Qe)$e={};else if(We&&We.dataIndex!=null){var it=We.dataModel||qe.getSeriesByIndex(We.seriesIndex);$e=it&&it.getDataParams(We.dataIndex,We.dataType,We)||{}}else We&&We.eventData&&($e=r.extend({},We.eventData));if($e){var rt=$e.componentType,pt=$e.componentIndex;(rt==="markLine"||rt==="markPoint"||rt==="markArea")&&(rt="series",pt=$e.seriesIndex);var yt=rt&&pt!=null&&qe.getComponent(rt,pt),_t=yt&&this[yt.mainType==="series"?"_chartsMap":"_componentsMap"][yt.__viewId];$e.event=Re,$e.type=ue,this._ecEventProcessor.eventInfo={targetEl:We,packedEvent:$e,model:yt,view:_t},this.trigger(ue,$e)}};we.zrEventfulCallAtLast=!0,this._zr.on(ue,we,this)},this),D(Ae,function(ue,we){this._messageCenter.on(we,function(Re){this.trigger(we,Re)},this)},this)},$.isDisposed=function(){return this._disposed},$.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},$.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,y.setAttribute(this.getDom(),gt,"");var ue=this._api,we=this._model;D(this._componentsViews,function(Re){Re.dispose(we,ue)}),D(this._chartsViews,function(Re){Re.dispose(we,ue)}),this._zr.dispose(),delete ft[this.id]},r.mixin(G,o);function Ye(ue){}function mt(ue,we){var Re=ue._zr,qe=Re.storage,We=0;qe.traverse(function($e){We++}),We>we.get("hoverLayerThreshold")&&!a.node&&we.eachSeries(function($e){if(!$e.preventUsingHoverLayer){var Qe=ue._chartsMap[$e.__viewId];Qe.__alive&&Qe.group.traverse(function(it){it.useHoverLayer=!0})}})}function Lt(ue,we){var Re=ue.get("blendMode")||null;we.group.traverse(function(qe){qe.isGroup||qe.style.blend!==Re&&qe.setStyle("blend",Re),qe.eachPendingDisplayable&&qe.eachPendingDisplayable(function(We){We.setStyle("blend",Re)})})}function Gt(ue,we){var Re=ue.get("z"),qe=ue.get("zlevel");we.group.traverse(function(We){We.type!=="group"&&(Re!=null&&(We.z=Re),qe!=null&&(We.zlevel=qe))})}function ce(ue){var we=ue._coordSysMgr;return r.extend(new s(ue),{getCoordinateSystems:r.bind(we.getCoordinateSystems,we),getComponentByElement:function(Re){for(;Re;){var qe=Re.__ecComponentInfo;if(qe!=null)return ue._model.getComponent(qe.mainType,qe.index);Re=Re.parent}}})}function _e(){this.eventInfo}_e.prototype={constructor:_e,normalizeQuery:function(ue){var we={},Re={},qe={};if(r.isString(ue)){var We=B(ue);we.mainType=We.main||null,we.subType=We.sub||null}else{var $e=["Index","Name","Id"],Qe={name:1,dataIndex:1,dataType:1};r.each(ue,function(it,rt){for(var pt=!1,yt=0;yt<$e.length;yt++){var _t=$e[yt],hr=rt.lastIndexOf(_t);if(hr>0&&hr===rt.length-_t.length){var Qt=rt.slice(0,hr);Qt!=="data"&&(we.mainType=Qt,we[_t.toLowerCase()]=it,pt=!0)}}Qe.hasOwnProperty(rt)&&(Re[rt]=it,pt=!0),pt||(qe[rt]=it)})}return{cptQuery:we,dataQuery:Re,otherQuery:qe}},filter:function(ue,we,Re){var qe=this.eventInfo;if(!qe)return!0;var We=qe.targetEl,$e=qe.packedEvent,Qe=qe.model,it=qe.view;if(!Qe||!it)return!0;var rt=we.cptQuery,pt=we.dataQuery;return yt(rt,Qe,"mainType")&&yt(rt,Qe,"subType")&&yt(rt,Qe,"index","componentIndex")&&yt(rt,Qe,"name")&&yt(rt,Qe,"id")&&yt(pt,$e,"name")&&yt(pt,$e,"dataIndex")&&yt(pt,$e,"dataType")&&(!it.filterForExposedEvent||it.filterForExposedEvent(ue,we.otherQuery,We,$e));function yt(_t,hr,Qt,Ar){return _t[Qt]==null||hr[Ar||Qt]===_t[Qt]}},afterTrigger:function(){this.eventInfo=null}};var be={},Ae={},Be=[],ze=[],Je=[],nt=[],ot={},ut={},ft={},Ut={},It=new Date-0,bt=new Date-0,gt="_echarts_instance_";function kt(ue){var we=0,Re=1,qe=2,We="__connectUpdateStatus";function $e(Qe,it){for(var rt=0;rt<Qe.length;rt++){var pt=Qe[rt];pt[We]=it}}D(Ae,function(Qe,it){ue._messageCenter.on(it,function(rt){if(Ut[ue.group]&&ue[We]!==we){if(rt&&rt.escapeConnect)return;var pt=ue.makeActionFromEvent(rt),yt=[];D(ft,function(_t){_t!==ue&&_t.group===ue.group&&yt.push(_t)}),$e(yt,we),D(yt,function(_t){_t[We]!==Re&&_t.dispatchAction(pt)}),$e(yt,qe)}})})}function Ct(ue,we,Re){var qe=Ot(ue);if(qe)return qe;var We=new G(ue,we,Re);return We.id="ec_"+It++,ft[We.id]=We,y.setAttribute(ue,gt,We.id),kt(We),We}function zt(ue){if(r.isArray(ue)){var we=ue;ue=null,D(we,function(Re){Re.group!=null&&(ue=Re.group)}),ue=ue||"g_"+bt++,D(we,function(Re){Re.group=ue})}return Ut[ue]=!0,ue}function cr(ue){Ut[ue]=!1}var Wt=cr;function Xt(ue){typeof ue=="string"?ue=ft[ue]:ue instanceof G||(ue=Ot(ue)),ue instanceof G&&!ue.isDisposed()&&ue.dispose()}function Ot(ue){return ft[y.getAttribute(ue,gt)]}function lr(ue){return ft[ue]}function wa(ue,we){ot[ue]=we}function xn(ue){ze.push(ue)}function ka(ue,we){wi(Be,ue,we,q)}function qn(ue){Je.push(ue)}function _i(ue,we,Re){typeof we=="function"&&(Re=we,we="");var qe=R(ue)?ue.type:[ue,ue={event:we}][0];ue.event=(ue.event||qe).toLowerCase(),we=ue.event,P(pe.test(qe)&&pe.test(we)),be[qe]||(be[qe]={action:Re,actionInfo:ue}),Ae[we]=qe}function xi(ue,we){f.register(ue,we)}function Jh(ue){var we=f.get(ue);if(we)return we.getDimensionsInfo?we.getDimensionsInfo():we.dimensions.slice()}function Go(ue,we){wi(nt,ue,we,H,"layout")}function Qu(ue,we){wi(nt,ue,we,K,"visual")}function wi(ue,we,Re,qe,We){(k(we)||R(we))&&(Re=we,we=qe);var $e=T.wrapStageHandler(Re,We);return $e.__prio=we,$e.__raw=Re,ue.push($e),$e}function Ju(ue,we){ut[ue]=we}function jh(ue){return v.extend(ue)}function ev(ue){return m.extend(ue)}function ju(ue){return d.extend(ue)}function ef(ue){return g.extend(ue)}function tf(ue){r.$override("createCanvas",ue)}function tv(ue,we,Re){I.registerMap(ue,we,Re)}function rv(ue){var we=I.retrieveMap(ue);return we&&we[0]&&{geoJson:we[0].geoJSON,specialAreas:we[0].specialAreas}}Qu(U,w),xn(h),ka(z,c),Ju("default",S),_i({type:"highlight",event:"highlight",update:"highlight"},r.noop),_i({type:"downplay",event:"downplay",update:"downplay"},r.noop),wa("light",C),wa("dark",M);var av={};e.version=V,e.dependencies=F,e.PRIORITY=le,e.init=Ct,e.connect=zt,e.disConnect=cr,e.disconnect=Wt,e.dispose=Xt,e.getInstanceByDom=Ot,e.getInstanceById=lr,e.registerTheme=wa,e.registerPreprocessor=xn,e.registerProcessor=ka,e.registerPostUpdate=qn,e.registerAction=_i,e.registerCoordinateSystem=xi,e.getCoordinateSystemDimensions=Jh,e.registerLayout=Go,e.registerVisual=Qu,e.registerLoading=Ju,e.extendComponentModel=jh,e.extendComponentView=ev,e.extendSeriesModel=ju,e.extendChartView=ef,e.setCanvasCreator=tf,e.registerMap=tv,e.getMap=rv,e.dataTool=av;var ul=dN();(function(){for(var ue in ul)ul.hasOwnProperty(ue)&&(e[ue]=ul[ue])})()})(Ge);var fT={},Lg,cT;function rJ(){if(cT)return Lg;cT=1;var e=yi(),t=Br,r=t.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(n,a){return e(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});return Lg=r,Lg}var Ig={},hT;function gx(){if(hT)return Ig;hT=1;var e=mn,t=e.retrieveRawValue;function r(n,a){var i=n.mapDimension("defaultedLabel",!0),o=i.length;if(o===1)return t(n,a,i[0]);if(o){for(var l=[],s=0;s<i.length;s++){var f=t(n,a,i[s]);l.push(f)}return l.join(" ")}}return Ig.getDefaultLabel=r,Ig}var Pg,vT;function zh(){if(vT)return Pg;vT=1;var e=ne,t=ja(),r=t.createSymbol,n=ke,a=ht(),i=a.parsePercent,o=gx(),l=o.getDefaultLabel;function s(x,A,w){n.Group.call(this),this.updateData(x,A,w)}var f=s.prototype,u=s.getSymbolSize=function(x,A){var w=x.getItemVisual(A,"symbolSize");return w instanceof Array?w.slice():[+w,+w]};function h(x){return[x[0]/2,x[1]/2]}function c(x,A){this.parent.drift(x,A)}f._createSymbol=function(x,A,w,b,S){this.removeAll();var T=A.getItemVisual(w,"color"),C=r(x,-1,-1,2,2,T,S);C.attr({z2:100,culling:!0,scale:h(b)}),C.drift=c,this._symbolType=x,this.add(C)},f.stopSymbolAnimation=function(x){this.childAt(0).stopAnimation(x)},f.getSymbolPath=function(){return this.childAt(0)},f.getScale=function(){return this.childAt(0).scale},f.highlight=function(){this.childAt(0).trigger("emphasis")},f.downplay=function(){this.childAt(0).trigger("normal")},f.setZ=function(x,A){var w=this.childAt(0);w.zlevel=x,w.z=A},f.setDraggable=function(x){var A=this.childAt(0);A.draggable=x,A.cursor=x?"move":A.cursor},f.updateData=function(x,A,w){this.silent=!1;var b=x.getItemVisual(A,"symbol")||"circle",S=x.hostModel,T=u(x,A),C=b!==this._symbolType;if(C){var M=x.getItemVisual(A,"symbolKeepAspect");this._createSymbol(b,x,A,T,M)}else{var I=this.childAt(0);I.silent=!1,n.updateProps(I,{scale:h(T)},S,A)}if(this._updateCommon(x,A,T,w),C){var I=this.childAt(0),P=w&&w.fadeIn,D={scale:I.scale.slice()};P&&(D.style={opacity:I.style.opacity}),I.scale=[0,0],P&&(I.style.opacity=0),n.initProps(I,D,S,A)}this._seriesModel=S};var v=["itemStyle"],d=["emphasis","itemStyle"],m=["label"],g=["emphasis","label"];f._updateCommon=function(x,A,w,b){var S=this.childAt(0),T=x.hostModel,C=x.getItemVisual(A,"color");S.type!=="image"?S.useStyle({strokeNoScale:!0}):S.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var M=b&&b.itemStyle,I=b&&b.hoverItemStyle,P=b&&b.symbolOffset,D=b&&b.labelModel,k=b&&b.hoverLabelModel,R=b&&b.hoverAnimation,B=b&&b.cursorStyle;if(!b||x.hasItemOption){var V=b&&b.itemModel?b.itemModel:x.getItemModel(A);M=V.getModel(v).getItemStyle(["color"]),I=V.getModel(d).getItemStyle(),P=V.getShallow("symbolOffset"),D=V.getModel(m),k=V.getModel(g),R=V.getShallow("hoverAnimation"),B=V.getShallow("cursor")}else I=e.extend({},I);var F=S.style,Y=x.getItemVisual(A,"symbolRotate");S.attr("rotation",(Y||0)*Math.PI/180||0),P&&S.attr("position",[i(P[0],w[0]),i(P[1],w[1])]),B&&S.attr("cursor",B),S.setColor(C,b&&b.symbolInnerColor),S.setStyle(M);var q=x.getItemVisual(A,"opacity");q!=null&&(F.opacity=q);var E=x.getItemVisual(A,"liftZ"),z=S.__z2Origin;E!=null?z==null&&(S.__z2Origin=S.z2,S.z2+=E):z!=null&&(S.z2=z,S.__z2Origin=null);var N=b&&b.useNameLabel;n.setLabelStyle(F,I,D,k,{labelFetcher:T,labelDataIndex:A,defaultText:H,isRectText:!0,autoColor:C});function H(W,U){return N?x.getName(W):l(x,W)}S.__symbolOriginalScale=h(w),S.hoverStyle=I,S.highDownOnUpdate=R&&T.isAnimationEnabled()?p:null,n.setHoverStyle(S)};function p(x,A){if(!(this.incremental||this.useHoverLayer))if(A==="emphasis"){var w=this.__symbolOriginalScale,b=w[1]/w[0],S={scale:[Math.max(w[0]*1.1,w[0]+3),Math.max(w[1]*1.1,w[1]+3*b)]};this.animateTo(S,400,"elasticOut")}else A==="normal"&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}f.fadeOut=function(x,A){var w=this.childAt(0);this.silent=w.silent=!0,!(A&&A.keepLabel)&&(w.style.text=null),n.updateProps(w,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,x)},e.inherits(s,n.Group);var y=s;return Pg=y,Pg}var Dg,dT;function Hu(){if(dT)return Dg;dT=1;var e=ke,t=zh(),r=ne,n=r.isObject;function a(u){this.group=new e.Group,this._symbolCtor=u||t}var i=a.prototype;function o(u,h,c,v){return h&&!isNaN(h[0])&&!isNaN(h[1])&&!(v.isIgnore&&v.isIgnore(c))&&!(v.clipShape&&!v.clipShape.contain(h[0],h[1]))&&u.getItemVisual(c,"symbol")!=="none"}i.updateData=function(u,h){h=l(h);var c=this.group,v=u.hostModel,d=this._data,m=this._symbolCtor,g=s(u);d||c.removeAll(),u.diff(d).add(function(p){var y=u.getItemLayout(p);if(o(u,y,p,h)){var x=new m(u,p,g);x.attr("position",y),u.setItemGraphicEl(p,x),c.add(x)}}).update(function(p,y){var x=d.getItemGraphicEl(y),A=u.getItemLayout(p);if(!o(u,A,p,h)){c.remove(x);return}x?(x.updateData(u,p,g),e.updateProps(x,{position:A},v)):(x=new m(u,p),x.attr("position",A)),c.add(x),u.setItemGraphicEl(p,x)}).remove(function(p){var y=d.getItemGraphicEl(p);y&&y.fadeOut(function(){c.remove(y)})}).execute(),this._data=u},i.isPersistent=function(){return!0},i.updateLayout=function(){var u=this._data;u&&u.eachItemGraphicEl(function(h,c){var v=u.getItemLayout(c);h.attr("position",v)})},i.incrementalPrepareUpdate=function(u){this._seriesScope=s(u),this._data=null,this.group.removeAll()},i.incrementalUpdate=function(u,h,c){c=l(c);function v(p){p.isGroup||(p.incremental=p.useHoverLayer=!0)}for(var d=u.start;d<u.end;d++){var m=h.getItemLayout(d);if(o(h,m,d,c)){var g=new this._symbolCtor(h,d,this._seriesScope);g.traverse(v),g.attr("position",m),this.group.add(g),h.setItemGraphicEl(d,g)}}};function l(u){return u!=null&&!n(u)&&(u={isIgnore:u}),u||{}}i.remove=function(u){var h=this.group,c=this._data;c&&u?c.eachItemGraphicEl(function(v){v.fadeOut(function(){h.remove(v)})}):h.removeAll()};function s(u){var h=u.hostModel;return{itemStyle:h.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:h.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:h.get("symbolRotate"),symbolOffset:h.get("symbolOffset"),hoverAnimation:h.get("hoverAnimation"),labelModel:h.getModel("label"),hoverLabelModel:h.getModel("emphasis.label"),cursorStyle:h.get("cursor")}}var f=a;return Dg=f,Dg}var gc={},gT;function gN(){if(gT)return gc;gT=1;var e=Fn(),t=e.isDimensionStacked,r=ne,n=r.map;function a(l,s,f){var u=l.getBaseAxis(),h=l.getOtherAxis(u),c=i(h,f),v=u.dim,d=h.dim,m=s.mapDimension(d),g=s.mapDimension(v),p=d==="x"||d==="radius"?1:0,y=n(l.dimensions,function(w){return s.mapDimension(w)}),x,A=s.getCalculationInfo("stackResultDimension");return(x|=t(s,y[0]))&&(y[0]=A),(x|=t(s,y[1]))&&(y[1]=A),{dataDimsForPoint:y,valueStart:c,valueAxisDim:d,baseAxisDim:v,stacked:!!x,valueDim:m,baseDim:g,baseDataOffset:p,stackedOverDimension:s.getCalculationInfo("stackedOverDimension")}}function i(l,s){var f=0,u=l.scale.getExtent();return s==="start"?f=u[0]:s==="end"?f=u[1]:u[0]>0?f=u[0]:u[1]<0&&(f=u[1]),f}function o(l,s,f,u){var h=NaN;l.stacked&&(h=f.get(f.getCalculationInfo("stackedOverDimension"),u)),isNaN(h)&&(h=l.valueStart);var c=l.baseDataOffset,v=[];return v[c]=f.get(l.baseDim,u),v[1-c]=h,s.dataToPoint(v)}return gc.prepareDataCoordInfo=a,gc.getStackedOnPoint=o,gc}var Rg,pT;function aJ(){if(pT)return Rg;pT=1;var e=gN(),t=e.prepareDataCoordInfo,r=e.getStackedOnPoint;function n(i,o){var l=[];return o.diff(i).add(function(s){l.push({cmd:"+",idx:s})}).update(function(s,f){l.push({cmd:"=",idx:f,idx1:s})}).remove(function(s){l.push({cmd:"-",idx:s})}).execute(),l}function a(i,o,l,s,f,u,h,c){for(var v=n(i,o),d=[],m=[],g=[],p=[],y=[],x=[],A=[],w=t(f,o,h),b=t(u,i,c),S=0;S<v.length;S++){var T=v[S],C=!0;switch(T.cmd){case"=":var M=i.getItemLayout(T.idx),I=o.getItemLayout(T.idx1);(isNaN(M[0])||isNaN(M[1]))&&(M=I.slice()),d.push(M),m.push(I),g.push(l[T.idx]),p.push(s[T.idx1]),A.push(o.getRawIndex(T.idx1));break;case"+":var P=T.idx;d.push(f.dataToPoint([o.get(w.dataDimsForPoint[0],P),o.get(w.dataDimsForPoint[1],P)])),m.push(o.getItemLayout(P).slice()),g.push(r(w,f,o,P)),p.push(s[P]),A.push(o.getRawIndex(P));break;case"-":var P=T.idx,D=i.getRawIndex(P);D!==P?(d.push(i.getItemLayout(P)),m.push(u.dataToPoint([i.get(b.dataDimsForPoint[0],P),i.get(b.dataDimsForPoint[1],P)])),g.push(l[P]),p.push(r(b,u,i,P)),A.push(D)):C=!1}C&&(y.push(T),x.push(x.length))}x.sort(function(Y,q){return A[Y]-A[q]});for(var k=[],R=[],B=[],V=[],F=[],S=0;S<x.length;S++){var P=x[S];k[S]=d[P],R[S]=m[P],B[S]=g[P],V[S]=p[P],F[S]=y[P]}return{current:k,next:R,stackedOnCurrent:B,stackedOnNext:V,status:F}}return Rg=a,Rg}var pc={},mT;function pN(){if(mT)return pc;mT=1;var e=yr,t=sr(),r=KO,n=t.min,a=t.max,i=t.scaleAndAdd,o=t.copy,l=[],s=[],f=[];function u(p){return isNaN(p[0])||isNaN(p[1])}function h(p,y,x,A,w,b,S,T,C,M,I){return M==="none"||!M?v.apply(this,arguments):c.apply(this,arguments)}function c(p,y,x,A,w,b,S,T,C,M,I){for(var P=0,D=x,k=0;k<A;k++){var R=y[D];if(D>=w||D<0)break;if(u(R)){if(I){D+=b;continue}break}if(D===x)p[b>0?"moveTo":"lineTo"](R[0],R[1]);else if(C>0){var B=y[P],V=M==="y"?1:0,F=(R[V]-B[V])*C;o(s,B),s[V]=B[V]+F,o(f,R),f[V]=R[V]-F,p.bezierCurveTo(s[0],s[1],f[0],f[1],R[0],R[1])}else p.lineTo(R[0],R[1]);P=D,D+=b}return k}function v(p,y,x,A,w,b,S,T,C,M,I){for(var P=0,D=x,k=0;k<A;k++){var R=y[D];if(D>=w||D<0)break;if(u(R)){if(I){D+=b;continue}break}if(D===x)p[b>0?"moveTo":"lineTo"](R[0],R[1]),o(s,R);else if(C>0){var B=D+b,Y=y[B];if(I)for(;Y&&u(y[B]);)B+=b,Y=y[B];var V=.5,F=y[P],Y=y[B];if(!Y||u(Y))o(f,R);else{u(Y)&&!I&&(Y=R),t.sub(l,Y,F);var q,E;if(M==="x"||M==="y"){var z=M==="x"?0:1;q=Math.abs(R[z]-F[z]),E=Math.abs(R[z]-Y[z])}else q=t.dist(R,F),E=t.dist(R,Y);V=E/(E+q),i(f,R,l,-C*(1-V))}n(s,s,T),a(s,s,S),n(f,f,T),a(f,f,S),p.bezierCurveTo(s[0],s[1],f[0],f[1],R[0],R[1]),i(s,R,l,C*V)}else p.lineTo(R[0],R[1]);P=D,D+=b}return k}function d(p,y){var x=[1/0,1/0],A=[-1/0,-1/0];if(y)for(var w=0;w<p.length;w++){var b=p[w];b[0]<x[0]&&(x[0]=b[0]),b[1]<x[1]&&(x[1]=b[1]),b[0]>A[0]&&(A[0]=b[0]),b[1]>A[1]&&(A[1]=b[1])}return{min:y?x:A,max:y?A:x}}var m=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(e.prototype.brush),buildPath:function(p,y){var x=y.points,A=0,w=x.length,b=d(x,y.smoothConstraint);if(y.connectNulls){for(;w>0&&u(x[w-1]);w--);for(;A<w&&u(x[A]);A++);}for(;A<w;)A+=h(p,x,A,w,w,1,b.min,b.max,y.smooth,y.smoothMonotone,y.connectNulls)+1}}),g=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(e.prototype.brush),buildPath:function(p,y){var x=y.points,A=y.stackedOnPoints,w=0,b=x.length,S=y.smoothMonotone,T=d(x,y.smoothConstraint),C=d(A,y.smoothConstraint);if(y.connectNulls){for(;b>0&&u(x[b-1]);b--);for(;w<b&&u(x[w]);w++);}for(;w<b;){var M=h(p,x,w,b,b,1,T.min,T.max,y.smooth,S,y.connectNulls);h(p,A,w+M-1,M,b,-1,C.min,C.max,y.stackedOnSmooth,S,y.connectNulls),w+=M+1,p.closePath()}}});return pc.Polyline=m,pc.Polygon=g,pc}var Vl={},yT;function qu(){if(yT)return Vl;yT=1;var e=ke,t=ht(),r=t.round;function n(o,l,s){var f=o.getArea(),u=o.getBaseAxis().isHorizontal(),h=f.x,c=f.y,v=f.width,d=f.height,m=s.get("lineStyle.width")||2;h-=m/2,c-=m/2,v+=m,d+=m,h=Math.floor(h),v=Math.round(v);var g=new e.Rect({shape:{x:h,y:c,width:v,height:d}});return l&&(g.shape[u?"width":"height"]=0,e.initProps(g,{shape:{width:v,height:d}},s)),g}function a(o,l,s){var f=o.getArea(),u=new e.Sector({shape:{cx:r(o.cx,1),cy:r(o.cy,1),r0:r(f.r0,1),r:r(f.r,1),startAngle:f.startAngle,endAngle:f.endAngle,clockwise:f.clockwise}});return l&&(u.shape.endAngle=f.startAngle,e.initProps(u,{shape:{endAngle:f.endAngle}},s)),u}function i(o,l,s){if(o){if(o.type==="polar")return a(o,l,s);if(o.type==="cartesian2d")return n(o,l,s)}else return null;return null}return Vl.createGridClipPath=n,Vl.createPolarClipPath=a,Vl.createClipPath=i,Vl}var Eg,_T;function nJ(){if(_T)return Eg;_T=1;var e=ne,t=Du(),r=t.fromPoints,n=Hu(),a=zh(),i=aJ(),o=ke,l=lt,s=pN(),f=s.Polyline,u=s.Polygon,h=Vn,c=gN(),v=c.prepareDataCoordInfo,d=c.getStackedOnPoint,m=qu(),g=m.createGridClipPath,p=m.createPolarClipPath;function y(P,D){if(P.length===D.length){for(var k=0;k<P.length;k++){var R=P[k],B=D[k];if(R[0]!==B[0]||R[1]!==B[1])return}return!0}}function x(P,D){var k=[],R=[],B=[],V=[];return r(P,k,R),r(D,B,V),Math.max(Math.abs(k[0]-B[0]),Math.abs(k[1]-B[1]),Math.abs(R[0]-V[0]),Math.abs(R[1]-V[1]))}function A(P){return typeof P=="number"?P:P?.5:0}function w(P,D,k){if(!k.valueDim)return[];for(var R=[],B=0,V=D.count();B<V;B++)R.push(d(k,P,D,B));return R}function b(P,D,k){for(var R=D.getBaseAxis(),B=R.dim==="x"||R.dim==="radius"?0:1,V=[],F=0;F<P.length-1;F++){var Y=P[F+1],q=P[F];V.push(q);var E=[];switch(k){case"end":E[B]=Y[B],E[1-B]=q[1-B],V.push(E);break;case"middle":var z=(q[B]+Y[B])/2,N=[];E[B]=N[B]=z,E[1-B]=q[1-B],N[1-B]=Y[1-B],V.push(E),V.push(N);break;default:E[B]=q[B],E[1-B]=Y[1-B],V.push(E)}}return P[F]&&V.push(P[F]),V}function S(P,D){var k=P.getVisual("visualMeta");if(!(!k||!k.length||!P.count())&&D.type==="cartesian2d"){for(var R,B,V=k.length-1;V>=0;V--){var F=k[V].dimension,Y=P.dimensions[F],q=P.getDimensionInfo(Y);if(R=q&&q.coordDim,R==="x"||R==="y"){B=k[V];break}}if(B){var E=D.getAxis(R),z=e.map(B.stops,function(se){return{coord:E.toGlobalCoord(E.dataToCoord(se.value)),color:se.color}}),N=z.length,H=B.outerColors.slice();N&&z[0].coord>z[N-1].coord&&(z.reverse(),H.reverse());var W=10,U=z[0].coord-W,K=z[N-1].coord+W,Q=K-U;if(Q<.001)return"transparent";e.each(z,function(se){se.offset=(se.coord-U)/Q}),z.push({offset:N?z[N-1].offset:.5,color:H[1]||"transparent"}),z.unshift({offset:N?z[0].offset:.5,color:H[0]||"transparent"});var j=new o.LinearGradient(0,0,0,0,z,!0);return j[R]=U,j[R+"2"]=K,j}}}function T(P,D,k){var R=P.get("showAllSymbol"),B=R==="auto";if(!(R&&!B)){var V=k.getAxesByScale("ordinal")[0];if(V&&!(B&&C(V,D))){var F=D.mapDimension(V.dim),Y={};return e.each(V.getViewLabels(),function(q){Y[q.tickValue]=1}),function(q){return!Y.hasOwnProperty(D.get(F,q))}}}}function C(P,D){var k=P.getExtent(),R=Math.abs(k[1]-k[0])/P.scale.count();isNaN(R)&&(R=0);for(var B=D.count(),V=Math.max(1,Math.round(B/5)),F=0;F<B;F+=V)if(a.getSymbolSize(D,F)[P.isHorizontal()?1:0]*1.5>R)return!1;return!0}function M(P,D,k){if(P.type==="cartesian2d"){var R=P.getBaseAxis().isHorizontal(),B=g(P,D,k);if(!k.get("clip",!0)){var V=B.shape,F=Math.max(V.width,V.height);R?(V.y-=F,V.height+=F*2):(V.x-=F,V.width+=F*2)}return B}else return p(P,D,k)}var I=h.extend({type:"line",init:function(){var P=new o.Group,D=new n;this.group.add(D.group),this._symbolDraw=D,this._lineGroup=P},render:function(P,D,k){var R=P.coordinateSystem,B=this.group,V=P.getData(),F=P.getModel("lineStyle"),Y=P.getModel("areaStyle"),q=V.mapArray(V.getItemLayout),E=R.type==="polar",z=this._coordSys,N=this._symbolDraw,H=this._polyline,W=this._polygon,U=this._lineGroup,K=P.get("animation"),Q=!Y.isEmpty(),j=Y.get("origin"),se=v(R,V,j),le=w(R,V,se),de=P.get("showSymbol"),he=de&&!E&&T(P,V,R),pe=this._data;pe&&pe.eachItemGraphicEl(function(oe,ve){oe.__temp&&(B.remove(oe),pe.setItemGraphicEl(ve,null))}),de||N.remove(),B.add(U);var ye=!E&&P.get("step"),X;R&&R.getArea&&P.get("clip",!0)&&(X=R.getArea(),X.width!=null?(X.x-=.1,X.y-=.1,X.width+=.2,X.height+=.2):X.r0&&(X.r0-=.5,X.r1+=.5)),this._clipShapeForSymbol=X,H&&z.type===R.type&&ye===this._step?(Q&&!W?W=this._newPolygon(q,le,R,K):W&&!Q&&(U.remove(W),W=this._polygon=null),U.setClipPath(M(R,!1,P)),de&&N.updateData(V,{isIgnore:he,clipShape:X}),V.eachItemGraphicEl(function(oe){oe.stopAnimation(!0)}),(!y(this._stackedOnPoints,le)||!y(this._points,q))&&(K?this._updateAnimation(V,le,R,k,ye,j):(ye&&(q=b(q,R,ye),le=b(le,R,ye)),H.setShape({points:q}),W&&W.setShape({points:q,stackedOnPoints:le})))):(de&&N.updateData(V,{isIgnore:he,clipShape:X}),ye&&(q=b(q,R,ye),le=b(le,R,ye)),H=this._newPolyline(q,R,K),Q&&(W=this._newPolygon(q,le,R,K)),U.setClipPath(M(R,!0,P)));var G=S(V,R)||V.getVisual("color");H.useStyle(e.defaults(F.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"}));var $=P.get("smooth");if($=A(P.get("smooth")),H.setShape({smooth:$,smoothMonotone:P.get("smoothMonotone"),connectNulls:P.get("connectNulls")}),W){var ee=V.getCalculationInfo("stackedOnSeries"),fe=0;W.useStyle(e.defaults(Y.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel"})),ee&&(fe=A(ee.get("smooth"))),W.setShape({smooth:$,stackedOnSmooth:fe,smoothMonotone:P.get("smoothMonotone"),connectNulls:P.get("connectNulls")})}this._data=V,this._coordSys=R,this._stackedOnPoints=le,this._points=q,this._step=ye,this._valueOrigin=j},dispose:function(){},highlight:function(P,D,k,R){var B=P.getData(),V=l.queryDataIndex(B,R);if(!(V instanceof Array)&&V!=null&&V>=0){var F=B.getItemGraphicEl(V);if(!F){var Y=B.getItemLayout(V);if(!Y||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(Y[0],Y[1]))return;F=new a(B,V),F.position=Y,F.setZ(P.get("zlevel"),P.get("z")),F.ignore=isNaN(Y[0])||isNaN(Y[1]),F.__temp=!0,B.setItemGraphicEl(V,F),F.stopSymbolAnimation(!0),this.group.add(F)}F.highlight()}else h.prototype.highlight.call(this,P,D,k,R)},downplay:function(P,D,k,R){var B=P.getData(),V=l.queryDataIndex(B,R);if(V!=null&&V>=0){var F=B.getItemGraphicEl(V);F&&(F.__temp?(B.setItemGraphicEl(V,null),this.group.remove(F)):F.downplay())}else h.prototype.downplay.call(this,P,D,k,R)},_newPolyline:function(P){var D=this._polyline;return D&&this._lineGroup.remove(D),D=new f({shape:{points:P},silent:!0,z2:10}),this._lineGroup.add(D),this._polyline=D,D},_newPolygon:function(P,D){var k=this._polygon;return k&&this._lineGroup.remove(k),k=new u({shape:{points:P,stackedOnPoints:D},silent:!0}),this._lineGroup.add(k),this._polygon=k,k},_updateAnimation:function(P,D,k,R,B,V){var F=this._polyline,Y=this._polygon,q=P.hostModel,E=i(this._data,P,this._stackedOnPoints,D,this._coordSys,k,this._valueOrigin,V),z=E.current,N=E.stackedOnCurrent,H=E.next,W=E.stackedOnNext;if(B&&(z=b(E.current,k,B),N=b(E.stackedOnCurrent,k,B),H=b(E.next,k,B),W=b(E.stackedOnNext,k,B)),x(z,H)>3e3||Y&&x(N,W)>3e3){F.setShape({points:H}),Y&&Y.setShape({points:H,stackedOnPoints:W});return}F.shape.__points=E.current,F.shape.points=z,o.updateProps(F,{shape:{points:H}},q),Y&&(Y.setShape({points:z,stackedOnPoints:N}),o.updateProps(Y,{shape:{points:H,stackedOnPoints:W}},q));for(var U=[],K=E.status,Q=0;Q<K.length;Q++){var j=K[Q].cmd;if(j==="="){var se=P.getItemGraphicEl(K[Q].idx1);se&&U.push({el:se,ptIdx:Q})}}F.animators&&F.animators.length&&F.animators[0].during(function(){for(var le=0;le<U.length;le++){var de=U[le].el;de.attr("position",F.shape.__points[U[le].ptIdx])}})},remove:function(P){var D=this.group,k=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),k&&k.eachItemGraphicEl(function(R,B){R.__temp&&(D.remove(R),k.setItemGraphicEl(B,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});return Eg=I,Eg}var kg,xT;function Fo(){if(xT)return kg;xT=1;var e=ne,t=e.isFunction;function r(n,a,i){return{seriesType:n,performRawSeries:!0,reset:function(o,l,s){var f=o.getData(),u=o.get("symbol"),h=o.get("symbolSize"),c=o.get("symbolKeepAspect"),v=o.get("symbolRotate"),d=t(u),m=t(h),g=t(v),p=d||m||g,y=!d&&u?u:a,x=m?null:h;if(f.setVisual({legendSymbol:i||y,symbol:y,symbolSize:x,symbolKeepAspect:c,symbolRotate:v}),l.isSeriesFiltered(o))return;function A(w,b){if(p){var S=o.getRawValue(b),T=o.getDataParams(b);d&&w.setItemVisual(b,"symbol",u(S,T)),m&&w.setItemVisual(b,"symbolSize",h(S,T)),g&&w.setItemVisual(b,"symbolRotate",v(S,T))}if(w.hasItemOption){var C=w.getItemModel(b),M=C.getShallow("symbol",!0),I=C.getShallow("symbolSize",!0),P=C.getShallow("symbolRotate",!0),D=C.getShallow("symbolKeepAspect",!0);M!=null&&w.setItemVisual(b,"symbol",M),I!=null&&w.setItemVisual(b,"symbolSize",I),P!=null&&w.setItemVisual(b,"symbolRotate",P),D!=null&&w.setItemVisual(b,"symbolKeepAspect",D)}}return{dataEach:f.hasItemOption||p?A:null}}}}return kg=r,kg}var Og,wT;function Uu(){if(wT)return Og;wT=1;var e=ne,t=e.map,r=tl,n=Fn(),a=n.isDimensionStacked;function i(o){return{seriesType:o,plan:r(),reset:function(l){var s=l.getData(),f=l.coordinateSystem,u=l.pipelineContext,h=u.large;if(!f)return;var c=t(f.dimensions,function(g){return s.mapDimension(g)}).slice(0,2),v=c.length,d=s.getCalculationInfo("stackResultDimension");a(s,c[0])&&(c[0]=d),a(s,c[1])&&(c[1]=d);function m(g,p){for(var y=g.end-g.start,x=h&&new Float32Array(y*v),A=g.start,w=0,b=[],S=[];A<g.end;A++){var T;if(v===1){var C=p.get(c[0],A);T=!isNaN(C)&&f.dataToPoint(C,null,S)}else{var C=b[0]=p.get(c[0],A),M=b[1]=p.get(c[1],A);T=!isNaN(C)&&!isNaN(M)&&f.dataToPoint(b,null,S)}h?(x[w++]=T?T[0]:NaN,x[w++]=T?T[1]:NaN):p.setItemLayout(A,T&&T.slice()||[NaN,NaN])}h&&p.setLayout("symbolPoints",x)}return v&&{progress:m}}}}return Og=i,Og}var Bg,ST;function iJ(){if(ST)return Bg;ST=1;var e={average:function(n){for(var a=0,i=0,o=0;o<n.length;o++)isNaN(n[o])||(a+=n[o],i++);return i===0?NaN:a/i},sum:function(n){for(var a=0,i=0;i<n.length;i++)a+=n[i]||0;return a},max:function(n){for(var a=-1/0,i=0;i<n.length;i++)n[i]>a&&(a=n[i]);return isFinite(a)?a:NaN},min:function(n){for(var a=1/0,i=0;i<n.length;i++)n[i]<a&&(a=n[i]);return isFinite(a)?a:NaN},nearest:function(n){return n[0]}},t=function(n,a){return Math.round(n.length/2)};function r(n){return{seriesType:n,modifyOutputEnd:!0,reset:function(a,i,o){var l=a.getData(),s=a.get("sampling"),f=a.coordinateSystem;if(f.type==="cartesian2d"&&s){var u=f.getBaseAxis(),h=f.getOtherAxis(u),c=u.getExtent(),v=Math.abs(c[1]-c[0]),d=Math.round(l.count()/v);if(d>1){var m;typeof s=="string"?m=e[s]:typeof s=="function"&&(m=s),m&&a.setData(l.downSample(l.mapDimension(h.dim),1/d,m,t))}}}}}return Bg=r,Bg}var bT={},Ng,AT;function oJ(){if(AT)return Ng;AT=1;var e=ne;function t(a){return this._axes[a]}var r=function(a){this._axes={},this._dimList=[],this.name=a||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return e.map(this._dimList,t,this)},getAxesByScale:function(a){return a=a.toLowerCase(),e.filter(this.getAxes(),function(i){return i.scale.type===a})},addAxis:function(a){var i=a.dim;this._axes[i]=a,this._dimList.push(i)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,i){for(var o=this._dimList,l=a instanceof Array?[]:{},s=0;s<o.length;s++){var f=o[s],u=this._axes[f];l[f]=u[i](a[f])}return l}};var n=r;return Ng=n,Ng}var zg,TT;function sJ(){if(TT)return zg;TT=1;var e=ne,t=fr,r=oJ();function n(i){r.call(this,i)}n.prototype={constructor:n,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(i){var o=this.getAxis("x"),l=this.getAxis("y");return o.contain(o.toLocalCoord(i[0]))&&l.contain(l.toLocalCoord(i[1]))},containData:function(i){return this.getAxis("x").containData(i[0])&&this.getAxis("y").containData(i[1])},dataToPoint:function(i,o,l){var s=this.getAxis("x"),f=this.getAxis("y");return l=l||[],l[0]=s.toGlobalCoord(s.dataToCoord(i[0])),l[1]=f.toGlobalCoord(f.dataToCoord(i[1])),l},clampData:function(i,o){var l=this.getAxis("x").scale,s=this.getAxis("y").scale,f=l.getExtent(),u=s.getExtent(),h=l.parse(i[0]),c=s.parse(i[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(f[0],f[1]),h),Math.max(f[0],f[1])),o[1]=Math.min(Math.max(Math.min(u[0],u[1]),c),Math.max(u[0],u[1])),o},pointToData:function(i,o){var l=this.getAxis("x"),s=this.getAxis("y");return o=o||[],o[0]=l.coordToData(l.toLocalCoord(i[0])),o[1]=s.coordToData(s.toLocalCoord(i[1])),o},getOtherAxis:function(i){return this.getAxis(i.dim==="x"?"y":"x")},getArea:function(){var i=this.getAxis("x").getGlobalExtent(),o=this.getAxis("y").getGlobalExtent(),l=Math.min(i[0],i[1]),s=Math.min(o[0],o[1]),f=Math.max(i[0],i[1])-l,u=Math.max(o[0],o[1])-s,h=new t(l,s,f,u);return h}},e.inherits(n,r);var a=n;return zg=a,zg}var Vg,CT;function lJ(){if(CT)return Vg;CT=1;var e=ne,t=ro(),r=function(a,i,o,l,s){t.call(this,a,i,o),this.type=l||"value",this.position=s||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return a==="top"||a==="bottom"},getGlobalExtent:function(a){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),a&&i[0]>i[1]&&i.reverse(),i},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(a,i){return this.coordToData(this.toLocalCoord(a[this.dim==="x"?0:1]),i)},toLocalCoord:null,toGlobalCoord:null},e.inherits(r,t);var n=r;return Vg=n,Vg}var Fg,MT;function mN(){if(MT)return Fg;MT=1;var e=ne,t={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=e.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},t),r.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},t),r.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=e.defaults({scale:!0,logBase:10},r.valueAxis);var n=r;return Fg=n,Fg}var Hg,LT;function Vh(){if(LT)return Hg;LT=1;var e=ne,t=mN(),r=Or,n=Tt,a=n.getLayoutParams,i=n.mergeLayoutParam,o=lN(),l=["value","category","time","log"];function s(f,u,h,c){e.each(l,function(v){u.extend({type:f+"Axis."+v,mergeDefaultAndTheme:function(d,m){var g=this.layoutMode,p=g?a(d):{},y=m.getTheme();e.merge(d,y.get(v+"Axis")),e.merge(d,this.getDefaultOption()),d.type=h(f,d),g&&i(d,p,g)},optionUpdated:function(){var d=this.option;d.type==="category"&&(this.__ordinalMeta=o.createByAxisModel(this))},getCategories:function(d){var m=this.option;if(m.type==="category")return d?m.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e.mergeAll([{},t[v+"Axis"],c],!0)})}),r.registerSubTypeDefaulter(f+"Axis",e.curry(h,f))}return Hg=s,Hg}var qg,IT;function yN(){if(IT)return qg;IT=1;var e=ne,t=Or,r=Vh(),n=nl(),a=t.extend({type:"cartesian2dAxis",axis:null,init:function(){a.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){a.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){a.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function i(s,f){return f.type||(f.data?"category":"value")}e.merge(a.prototype,n);var o={offset:0};r("x",a,i,o),r("y",a,i,o);var l=a;return qg=l,qg}var Ug,PT;function uJ(){if(PT)return Ug;PT=1,yN();var e=Or,t=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});return Ug=t,Ug}var Gg,DT;function px(){if(DT)return Gg;DT=1;var e=ne,t=e.isObject,r=e.each,n=e.map,a=e.indexOf;e.retrieve;var i=Tt,o=i.getLayoutRect,l=_n(),s=l.createScaleByModel,f=l.ifAxisCrossZero,u=l.niceScaleExtent,h=l.estimateLabelUnionRect,c=sJ(),v=lJ(),d=zn,m=Fn(),g=m.getStackedDimension;uJ();function p(I,P,D){return I.getCoordSysModel()===P}function y(I,P,D){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(I,P,D),this.model=I}var x=y.prototype;x.type="grid",x.axisPointerEnabled=!0,x.getRect=function(){return this._rect},x.update=function(I,P){var D=this._axesMap;this._updateScale(I,this.model),r(D.x,function(R){u(R.scale,R.model)}),r(D.y,function(R){u(R.scale,R.model)});var k={};r(D.x,function(R){A(D,"y",R,k)}),r(D.y,function(R){A(D,"x",R,k)}),this.resize(this.model,P)};function A(I,P,D,k){D.getAxesOnZeroOf=function(){return B?[B]:[]};var R=I[P],B,V=D.model,F=V.get("axisLine.onZero"),Y=V.get("axisLine.onZeroAxisIndex");if(!F)return;if(Y!=null)w(R[Y])&&(B=R[Y]);else for(var q in R)if(R.hasOwnProperty(q)&&w(R[q])&&!k[E(R[q])]){B=R[q];break}B&&(k[E(B)]=!0);function E(z){return z.dim+"_"+z.index}}function w(I){return I&&I.type!=="category"&&I.type!=="time"&&f(I)}x.resize=function(I,P,D){var k=o(I.getBoxLayoutParams(),{width:P.getWidth(),height:P.getHeight()});this._rect=k;var R=this._axesList;B(),!D&&I.get("containLabel")&&(r(R,function(V){if(!V.model.get("axisLabel.inside")){var F=h(V);if(F){var Y=V.isHorizontal()?"height":"width",q=V.model.get("axisLabel.margin");k[Y]-=F[Y]+q,V.position==="top"?k.y+=F.height+q:V.position==="left"&&(k.x+=F.width+q)}}}),B());function B(){r(R,function(V){var F=V.isHorizontal(),Y=F?[0,k.width]:[0,k.height],q=V.inverse?1:0;V.setExtent(Y[q],Y[1-q]),b(V,F?k.x:k.y)})}},x.getAxis=function(I,P){var D=this._axesMap[I];if(D!=null){if(P==null){for(var k in D)if(D.hasOwnProperty(k))return D[k]}return D[P]}},x.getAxes=function(){return this._axesList.slice()},x.getCartesian=function(I,P){if(I!=null&&P!=null){var D="x"+I+"y"+P;return this._coordsMap[D]}t(I)&&(P=I.yAxisIndex,I=I.xAxisIndex);for(var k=0,R=this._coordsList;k<R.length;k++)if(R[k].getAxis("x").index===I||R[k].getAxis("y").index===P)return R[k]},x.getCartesians=function(){return this._coordsList.slice()},x.convertToPixel=function(I,P,D){var k=this._findConvertTarget(I,P);return k.cartesian?k.cartesian.dataToPoint(D):k.axis?k.axis.toGlobalCoord(k.axis.dataToCoord(D)):null},x.convertFromPixel=function(I,P,D){var k=this._findConvertTarget(I,P);return k.cartesian?k.cartesian.pointToData(D):k.axis?k.axis.coordToData(k.axis.toLocalCoord(D)):null},x._findConvertTarget=function(I,P){var D=P.seriesModel,k=P.xAxisModel||D&&D.getReferringComponents("xAxis")[0],R=P.yAxisModel||D&&D.getReferringComponents("yAxis")[0],B=P.gridModel,V=this._coordsList,F,Y;if(D)F=D.coordinateSystem,a(V,F)<0&&(F=null);else if(k&&R)F=this.getCartesian(k.componentIndex,R.componentIndex);else if(k)Y=this.getAxis("x",k.componentIndex);else if(R)Y=this.getAxis("y",R.componentIndex);else if(B){var q=B.coordinateSystem;q===this&&(F=this._coordsList[0])}return{cartesian:F,axis:Y}},x.containPoint=function(I){var P=this._coordsList[0];if(P)return P.containPoint(I)},x._initCartesian=function(I,P,D){var k={left:!1,right:!1,top:!1,bottom:!1},R={x:{},y:{}},B={x:0,y:0};if(P.eachComponent("xAxis",V("x"),this),P.eachComponent("yAxis",V("y"),this),!B.x||!B.y){this._axesMap={},this._axesList=[];return}this._axesMap=R,r(R.x,function(F,Y){r(R.y,function(q,E){var z="x"+Y+"y"+E,N=new c(z);N.grid=this,N.model=I,this._coordsMap[z]=N,this._coordsList.push(N),N.addAxis(F),N.addAxis(q)},this)},this);function V(F){return function(Y,q){if(p(Y,I)){var E=Y.get("position");F==="x"?E!=="top"&&E!=="bottom"&&(E=k.bottom?"top":"bottom"):E!=="left"&&E!=="right"&&(E=k.left?"right":"left"),k[E]=!0;var z=new v(F,s(Y),[0,0],Y.get("type"),E),N=z.type==="category";z.onBand=N&&Y.get("boundaryGap"),z.inverse=Y.get("inverse"),Y.axis=z,z.model=Y,z.grid=this,z.index=q,this._axesList.push(z),R[F][q]=z,B[F]++}}}},x._updateScale=function(I,P){r(this._axesList,function(k){k.scale.setExtent(1/0,-1/0)}),I.eachSeries(function(k){if(C(k)){var R=T(k),B=R[0],V=R[1];if(!p(B,P)||!p(V,P))return;var F=this.getCartesian(B.componentIndex,V.componentIndex),Y=k.getData(),q=F.getAxis("x"),E=F.getAxis("y");Y.type==="list"&&(D(Y,q),D(Y,E))}},this);function D(k,R,B){r(k.mapDimension(R.dim,!0),function(V){R.scale.unionExtentFromData(k,g(k,V))})}},x.getTooltipAxes=function(I){var P=[],D=[];return r(this.getCartesians(),function(k){var R=I!=null&&I!=="auto"?k.getAxis(I):k.getBaseAxis(),B=k.getOtherAxis(R);a(P,R)<0&&P.push(R),a(D,B)<0&&D.push(B)}),{baseAxes:P,otherAxes:D}};function b(I,P){var D=I.getExtent(),k=D[0]+D[1];I.toGlobalCoord=I.dim==="x"?function(R){return R+P}:function(R){return k-R+P},I.toLocalCoord=I.dim==="x"?function(R){return R-P}:function(R){return k-R+P}}var S=["xAxis","yAxis"];function T(I,P){return n(S,function(D){var k=I.getReferringComponents(D)[0];return k})}function C(I){return I.get("coordinateSystem")==="cartesian2d"}y.create=function(I,P){var D=[];return I.eachComponent("grid",function(k,R){var B=new y(k,I,P);B.name="grid_"+R,B.resize(k,P,!0),k.coordinateSystem=B,D.push(B)}),I.eachSeries(function(k){if(C(k)){var R=T(k),B=R[0],V=R[1],F=B.getCoordSysModel(),Y=F.coordinateSystem;k.coordinateSystem=Y.getCartesian(B.componentIndex,V.componentIndex)}}),D},y.dimensions=y.prototype.dimensions=c.prototype.dimensions,d.register("cartesian2d",y);var M=y;return Gg=M,Gg}var RT={},ET={},Wg,kT;function ao(){if(kT)return Wg;kT=1;var e=ne,t=e.retrieve,r=e.defaults,n=e.extend,a=e.each,i=jt(),o=ke,l=br(),s=ht(),f=s.isRadianAroundZero,u=s.remRadian,h=ja(),c=h.createSymbol,v=la(),d=sr(),m=d.applyTransform,g=_n(),p=g.shouldShowAllLabels,y=Math.PI,x=function(F,Y){this.opt=Y,this.axisModel=F,r(Y,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new o.Group;var q=new o.Group({position:Y.position.slice(),rotation:Y.rotation});q.updateTransform(),this._transform=q.transform,this._dumbGroup=q};x.prototype={constructor:x,hasBuilder:function(F){return!!A[F]},add:function(F){A[F].call(this)},getGroup:function(){return this.group}};var A={axisLine:function(){var F=this.opt,Y=this.axisModel;if(Y.get("axisLine.show")){var q=this.axisModel.axis.getExtent(),E=this._transform,z=[q[0],0],N=[q[1],0];E&&(m(z,z,E),m(N,N,E));var H=n({lineCap:"round"},Y.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new o.Line({anid:"line",subPixelOptimize:!0,shape:{x1:z[0],y1:z[1],x2:N[0],y2:N[1]},style:H,strokeContainThreshold:F.strokeContainThreshold||5,silent:!0,z2:1}));var W=Y.get("axisLine.symbol"),U=Y.get("axisLine.symbolSize"),K=Y.get("axisLine.symbolOffset")||0;if(typeof K=="number"&&(K=[K,K]),W!=null){typeof W=="string"&&(W=[W,W]),(typeof U=="string"||typeof U=="number")&&(U=[U,U]);var Q=U[0],j=U[1];a([{rotate:F.rotation+Math.PI/2,offset:K[0],r:0},{rotate:F.rotation-Math.PI/2,offset:K[1],r:Math.sqrt((z[0]-N[0])*(z[0]-N[0])+(z[1]-N[1])*(z[1]-N[1]))}],function(se,le){if(W[le]!=="none"&&W[le]!=null){var de=c(W[le],-Q/2,-j/2,Q,j,H.stroke,!0),he=se.r+se.offset,pe=[z[0]+he*Math.cos(F.rotation),z[1]-he*Math.sin(F.rotation)];de.attr({rotation:se.rotate,position:pe,silent:!0,z2:11}),this.group.add(de)}},this)}}},axisTickLabel:function(){var F=this.axisModel,Y=this.opt,q=k(this,F,Y),E=B(this,F,Y);C(F,E,q),R(this,F,Y)},axisName:function(){var F=this.opt,Y=this.axisModel,q=t(F.axisName,Y.get("name"));if(q){var E=Y.get("nameLocation"),z=F.nameDirection,N=Y.getModel("nameTextStyle"),H=Y.get("nameGap")||0,W=this.axisModel.axis.getExtent(),U=W[0]>W[1]?-1:1,K=[E==="start"?W[0]-U*H:E==="end"?W[1]+U*H:(W[0]+W[1])/2,P(E)?F.labelOffset+z*H:0],Q,j=Y.get("nameRotate");j!=null&&(j=j*y/180);var se;P(E)?Q=b(F.rotation,j??F.rotation,z):(Q=S(F,E,j||0,W),se=F.axisNameAvailableWidth,se!=null&&(se=Math.abs(se/Math.sin(Q.rotation)),!isFinite(se)&&(se=null)));var le=N.getFont(),de=Y.get("nameTruncate",!0)||{},he=de.ellipsis,pe=t(F.nameTruncateMaxWidth,de.maxWidth,se),ye=he!=null&&pe!=null?i.truncateText(q,pe,le,he,{minChar:2,placeholder:de.placeholder}):q,X=Y.get("tooltip",!0),G=Y.mainType,$={componentType:G,name:q,$vars:["name"]};$[G+"Index"]=Y.componentIndex;var ee=new o.Text({anid:"name",__fullText:q,__truncatedText:ye,position:K,rotation:Q.rotation,silent:T(Y),z2:1,tooltip:X&&X.show?n({content:q,formatter:function(){return q},formatterParams:$},X):null});o.setTextStyle(ee.style,N,{text:ye,textFont:le,textFill:N.getTextColor()||Y.get("axisLine.lineStyle.color"),textAlign:N.get("align")||Q.textAlign,textVerticalAlign:N.get("verticalAlign")||Q.textVerticalAlign}),Y.get("triggerEvent")&&(ee.eventData=w(Y),ee.eventData.targetType="axisName",ee.eventData.name=q),this._dumbGroup.add(ee),ee.updateTransform(),this.group.add(ee),ee.decomposeTransform()}}},w=x.makeAxisEventDataBase=function(F){var Y={componentType:F.mainType,componentIndex:F.componentIndex};return Y[F.mainType+"Index"]=F.componentIndex,Y},b=x.innerTextLayout=function(F,Y,q){var E=u(Y-F),z,N;return f(E)?(N=q>0?"top":"bottom",z="center"):f(E-y)?(N=q>0?"bottom":"top",z="center"):(N="middle",E>0&&E<y?z=q>0?"right":"left":z=q>0?"left":"right"),{rotation:E,textAlign:z,textVerticalAlign:N}};function S(F,Y,q,E){var z=u(q-F.rotation),N,H,W=E[0]>E[1],U=Y==="start"&&!W||Y!=="start"&&W;return f(z-y/2)?(H=U?"bottom":"top",N="center"):f(z-y*1.5)?(H=U?"top":"bottom",N="center"):(H="middle",z<y*1.5&&z>y/2?N=U?"left":"right":N=U?"right":"left"),{rotation:z,textAlign:N,textVerticalAlign:H}}var T=x.isLabelSilent=function(F){var Y=F.get("tooltip");return F.get("silent")||!(F.get("triggerEvent")||Y&&Y.show)};function C(F,Y,q){if(!p(F.axis)){var E=F.get("axisLabel.showMinLabel"),z=F.get("axisLabel.showMaxLabel");Y=Y||[],q=q||[];var N=Y[0],H=Y[1],W=Y[Y.length-1],U=Y[Y.length-2],K=q[0],Q=q[1],j=q[q.length-1],se=q[q.length-2];E===!1?(M(N),M(K)):I(N,H)&&(E?(M(H),M(Q)):(M(N),M(K))),z===!1?(M(W),M(j)):I(U,W)&&(z?(M(U),M(se)):(M(W),M(j)))}}function M(F){F&&(F.ignore=!0)}function I(F,Y,q){var E=F&&F.getBoundingRect().clone(),z=Y&&Y.getBoundingRect().clone();if(!(!E||!z)){var N=v.identity([]);return v.rotate(N,N,-F.rotation),E.applyTransform(v.mul([],N,F.getLocalTransform())),z.applyTransform(v.mul([],N,Y.getLocalTransform())),E.intersect(z)}}function P(F){return F==="middle"||F==="center"}function D(F,Y,q,E,z){for(var N=[],H=[],W=[],U=0;U<F.length;U++){var K=F[U].coord;H[0]=K,H[1]=0,W[0]=K,W[1]=q,Y&&(m(H,H,Y),m(W,W,Y));var Q=new o.Line({anid:z+"_"+F[U].tickValue,subPixelOptimize:!0,shape:{x1:H[0],y1:H[1],x2:W[0],y2:W[1]},style:E,z2:2,silent:!0});N.push(Q)}return N}function k(F,Y,q){var E=Y.axis,z=Y.getModel("axisTick");if(!(!z.get("show")||E.scale.isBlank())){for(var N=z.getModel("lineStyle"),H=q.tickDirection*z.get("length"),W=E.getTicksCoords(),U=D(W,F._transform,H,r(N.getLineStyle(),{stroke:Y.get("axisLine.lineStyle.color")}),"ticks"),K=0;K<U.length;K++)F.group.add(U[K]);return U}}function R(F,Y,q){var E=Y.axis,z=Y.getModel("minorTick");if(!(!z.get("show")||E.scale.isBlank())){var N=E.getMinorTicksCoords();if(N.length)for(var H=z.getModel("lineStyle"),W=q.tickDirection*z.get("length"),U=r(H.getLineStyle(),r(Y.getModel("axisTick").getLineStyle(),{stroke:Y.get("axisLine.lineStyle.color")})),K=0;K<N.length;K++)for(var Q=D(N[K],F._transform,W,U,"minorticks_"+K),j=0;j<Q.length;j++)F.group.add(Q[j])}}function B(F,Y,q){var E=Y.axis,z=t(q.axisLabelShow,Y.get("axisLabel.show"));if(!(!z||E.scale.isBlank())){var N=Y.getModel("axisLabel"),H=N.get("margin"),W=E.getViewLabels(),U=(t(q.labelRotate,N.get("rotate"))||0)*y/180,K=b(q.rotation,U,q.labelDirection),Q=Y.getCategories&&Y.getCategories(!0),j=[],se=T(Y),le=Y.get("triggerEvent");return a(W,function(de,he){var pe=de.tickValue,ye=de.formattedLabel,X=de.rawLabel,G=N;Q&&Q[pe]&&Q[pe].textStyle&&(G=new l(Q[pe].textStyle,N,Y.ecModel));var $=G.getTextColor()||Y.get("axisLine.lineStyle.color"),ee=E.dataToCoord(pe),fe=[ee,q.labelOffset+q.labelDirection*H],oe=new o.Text({anid:"label_"+pe,position:fe,rotation:K.rotation,silent:se,z2:10});o.setTextStyle(oe.style,G,{text:ye,textAlign:G.getShallow("align",!0)||K.textAlign,textVerticalAlign:G.getShallow("verticalAlign",!0)||G.getShallow("baseline",!0)||K.textVerticalAlign,textFill:typeof $=="function"?$(E.type==="category"?X:E.type==="value"?pe+"":pe,he):$}),le&&(oe.eventData=w(Y),oe.eventData.targetType="axisLabel",oe.eventData.value=X),F._dumbGroup.add(oe),oe.updateTransform(),j.push(oe),F.group.add(oe),oe.decomposeTransform()}),j}}var V=x;return Wg=V,Wg}var To={},OT;function Fh(){if(OT)return To;OT=1;var e=ne,t=br(),r=e.each,n=e.curry;function a(m,g){var p={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return i(p,m,g),p.seriesInvolved&&l(p,m),p}function i(m,g,p){var y=g.getComponent("tooltip"),x=g.getComponent("axisPointer"),A=x.get("link",!0)||[],w=[];r(p.getCoordinateSystems(),function(b){if(!b.axisPointerEnabled)return;var S=d(b.model),T=m.coordSysAxesInfo[S]={};m.coordSysMap[S]=b;var C=b.model,M=C.getModel("tooltip",y);if(r(b.getAxes(),n(k,!1,null)),b.getTooltipAxes&&y&&M.get("show")){var I=M.get("trigger")==="axis",P=M.get("axisPointer.type")==="cross",D=b.getTooltipAxes(M.get("axisPointer.axis"));(I||P)&&r(D.baseAxes,n(k,P?"cross":!0,I)),P&&r(D.otherAxes,n(k,"cross",!1))}function k(R,B,V){var F=V.model.getModel("axisPointer",x),Y=F.get("show");if(!(!Y||Y==="auto"&&!R&&!v(F))){B==null&&(B=F.get("triggerTooltip")),F=R?o(V,M,x,g,R,B):F;var q=F.get("snap"),E=d(V.model),z=B||q||V.type==="category",N=m.axesInfo[E]={key:E,axis:V,coordSys:b,axisPointerModel:F,triggerTooltip:B,involveSeries:z,snap:q,useHandle:v(F),seriesModels:[]};T[E]=N,m.seriesInvolved|=z;var H=s(A,V);if(H!=null){var W=w[H]||(w[H]={axesInfo:{}});W.axesInfo[E]=N,W.mapper=A[H].mapper,N.linkGroup=W}}}})}function o(m,g,p,y,x,A){var w=g.getModel("axisPointer"),b={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(M){b[M]=e.clone(w.get(M))}),b.snap=m.type!=="category"&&!!A,w.get("type")==="cross"&&(b.type="line");var S=b.label||(b.label={});if(S.show==null&&(S.show=!1),x==="cross"){var T=w.get("label.show");if(S.show=T??!0,!A){var C=b.lineStyle=w.get("crossStyle");C&&e.defaults(S,C.textStyle)}}return m.model.getModel("axisPointer",new t(b,p,y))}function l(m,g){g.eachSeries(function(p){var y=p.coordinateSystem,x=p.get("tooltip.trigger",!0),A=p.get("tooltip.show",!0);!y||x==="none"||x===!1||x==="item"||A===!1||p.get("axisPointer.show",!0)===!1||r(m.coordSysAxesInfo[d(y.model)],function(w){var b=w.axis;y.getAxis(b.dim)===b&&(w.seriesModels.push(p),w.seriesDataCount==null&&(w.seriesDataCount=0),w.seriesDataCount+=p.getData().count())})},this)}function s(m,g){for(var p=g.model,y=g.dim,x=0;x<m.length;x++){var A=m[x]||{};if(f(A[y+"AxisId"],p.id)||f(A[y+"AxisIndex"],p.componentIndex)||f(A[y+"AxisName"],p.name))return x}}function f(m,g){return m==="all"||e.isArray(m)&&e.indexOf(m,g)>=0||m===g}function u(m){var g=h(m);if(g){var p=g.axisPointerModel,y=g.axis.scale,x=p.option,A=p.get("status"),w=p.get("value");w!=null&&(w=y.parse(w));var b=v(p);A==null&&(x.status=b?"show":"hide");var S=y.getExtent().slice();S[0]>S[1]&&S.reverse(),(w==null||w>S[1])&&(w=S[1]),w<S[0]&&(w=S[0]),x.value=w,b&&(x.status=g.axis.scale.isBlank()?"hide":"show")}}function h(m){var g=(m.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return g&&g.axesInfo[d(m)]}function c(m){var g=h(m);return g&&g.axisPointerModel}function v(m){return!!m.get("handle.show")}function d(m){return m.type+"||"+m.id}return To.collect=a,To.fixValue=u,To.getAxisInfo=h,To.getAxisPointerModel=c,To.makeKey=d,To}var $g,BT;function Ho(){if(BT)return $g;BT=1;var e=Ge,t=Fh(),r=e.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(l,s,f,u){this.axisPointerClass&&t.fixValue(l),r.superApply(this,"render",arguments),n(this,l,s,f,u,!0)},updateAxisPointer:function(l,s,f,u,h){n(this,l,s,f,u,!1)},remove:function(l,s){var f=this._axisPointer;f&&f.remove(s),r.superApply(this,"remove",arguments)},dispose:function(l,s){a(this,s),r.superApply(this,"dispose",arguments)}});function n(l,s,f,u,h,c){var v=r.getAxisPointerClass(l.axisPointerClass);if(v){var d=t.getAxisPointerModel(s);d?(l._axisPointer||(l._axisPointer=new v)).render(s,d,u,c):a(l,u)}}function a(l,s,f){var u=l._axisPointer;u&&u.dispose(s,f),l._axisPointer=null}var i=[];r.registerAxisPointerClass=function(l,s){i[l]=s},r.getAxisPointerClass=function(l){return l&&i[l]};var o=r;return $g=o,$g}var Yg={},NT;function _N(){if(NT)return Yg;NT=1;var e=ne;function t(r,n,a){a=a||{};var i=r.coordinateSystem,o=n.axis,l={},s=o.getAxesOnZeroOf()[0],f=o.position,u=s?"onZero":f,h=o.dim,c=i.getRect(),v=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},m=n.get("offset")||0,g=h==="x"?[v[2]-m,v[3]+m]:[v[0]-m,v[1]+m];if(s){var p=s.toGlobalCoord(s.dataToCoord(0));g[d.onZero]=Math.max(Math.min(p,g[1]),g[0])}l.position=[h==="y"?g[d[u]]:v[0],h==="x"?g[d[u]]:v[3]],l.rotation=Math.PI/2*(h==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};l.labelDirection=l.tickDirection=l.nameDirection=y[f],l.labelOffset=s?g[d[f]]-g[d.onZero]:0,n.get("axisTick.inside")&&(l.tickDirection=-l.tickDirection),e.retrieve(a.labelInside,n.get("axisLabel.inside"))&&(l.labelDirection=-l.labelDirection);var x=n.get("axisLabel.rotate");return l.labelRotate=u==="top"?-x:x,l.z2=1,l}return Yg.layout=t,Yg}var mc={},zT;function xN(){if(zT)return mc;zT=1;var e=ne,t=ke;function r(a,i,o,l){var s=o.axis;if(!s.scale.isBlank()){var f=o.getModel("splitArea"),u=f.getModel("areaStyle"),h=u.get("color"),c=l.coordinateSystem.getRect(),v=s.getTicksCoords({tickModel:f,clamp:!0});if(v.length){var d=h.length,m=a.__splitAreaColors,g=e.createHashMap(),p=0;if(m)for(var y=0;y<v.length;y++){var x=m.get(v[y].tickValue);if(x!=null){p=(x+(d-1)*y)%d;break}}var A=s.toGlobalCoord(v[0].coord),w=u.getAreaStyle();h=e.isArray(h)?h:[h];for(var y=1;y<v.length;y++){var b=s.toGlobalCoord(v[y].coord),S,T,C,M;s.isHorizontal()?(S=A,T=c.y,C=b-S,M=c.height,A=S+C):(S=c.x,T=A,C=c.width,M=b-T,A=T+M);var I=v[y-1].tickValue;I!=null&&g.set(I,p),i.add(new t.Rect({anid:I!=null?"area_"+I:null,shape:{x:S,y:T,width:C,height:M},style:e.defaults({fill:h[p]},w),silent:!0})),p=(p+1)%d}a.__splitAreaColors=g}}}function n(a){a.__splitAreaColors=null}return mc.rectCoordAxisBuildSplitArea=r,mc.rectCoordAxisHandleRemove=n,mc}var VT;function fJ(){if(VT)return ET;VT=1;var e=ne,t=ke,r=ao(),n=Ho(),a=_N(),i=xN(),o=i.rectCoordAxisBuildSplitArea,l=i.rectCoordAxisHandleRemove,s=["axisLine","axisTickLabel","axisName"],f=["splitArea","splitLine","minorSplitLine"],u=n.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(h,c,v,d){this.group.removeAll();var m=this._axisGroup;if(this._axisGroup=new t.Group,this.group.add(this._axisGroup),!!h.get("show")){var g=h.getCoordSysModel(),p=a.layout(g,h),y=new r(h,p);e.each(s,y.add,y),this._axisGroup.add(y.getGroup()),e.each(f,function(x){h.get(x+".show")&&this["_"+x](h,g)},this),t.groupTransition(m,this._axisGroup,h),u.superCall(this,"render",h,c,v,d)}},remove:function(){l(this)},_splitLine:function(h,c){var v=h.axis;if(!v.scale.isBlank()){var d=h.getModel("splitLine"),m=d.getModel("lineStyle"),g=m.get("color");g=e.isArray(g)?g:[g];for(var p=c.coordinateSystem.getRect(),y=v.isHorizontal(),x=0,A=v.getTicksCoords({tickModel:d}),w=[],b=[],S=m.getLineStyle(),T=0;T<A.length;T++){var C=v.toGlobalCoord(A[T].coord);y?(w[0]=C,w[1]=p.y,b[0]=C,b[1]=p.y+p.height):(w[0]=p.x,w[1]=C,b[0]=p.x+p.width,b[1]=C);var M=x++%g.length,I=A[T].tickValue;this._axisGroup.add(new t.Line({anid:I!=null?"line_"+A[T].tickValue:null,subPixelOptimize:!0,shape:{x1:w[0],y1:w[1],x2:b[0],y2:b[1]},style:e.defaults({stroke:g[M]},S),silent:!0}))}}},_minorSplitLine:function(h,c){var v=h.axis,d=h.getModel("minorSplitLine"),m=d.getModel("lineStyle"),g=c.coordinateSystem.getRect(),p=v.isHorizontal(),y=v.getMinorTicksCoords();if(y.length)for(var x=[],A=[],w=m.getLineStyle(),b=0;b<y.length;b++)for(var S=0;S<y[b].length;S++){var T=v.toGlobalCoord(y[b][S].coord);p?(x[0]=T,x[1]=g.y,A[0]=T,A[1]=g.y+g.height):(x[0]=g.x,x[1]=T,A[0]=g.x+g.width,A[1]=T),this._axisGroup.add(new t.Line({anid:"minor_line_"+y[b][S].tickValue,subPixelOptimize:!0,shape:{x1:x[0],y1:x[1],x2:A[0],y2:A[1]},style:w,silent:!0}))}},_splitArea:function(h,c){o(this,this._axisGroup,h,c)}});return u.extend({type:"xAxis"}),u.extend({type:"yAxis"}),ET}var FT;function cJ(){return FT||(FT=1,yN(),fJ()),RT}var HT;function Gu(){if(HT)return bT;HT=1;var e=Ge,t=ne,r=ke;return px(),cJ(),e.extendComponentView({type:"grid",render:function(n,a){this.group.removeAll(),n.get("show")&&this.group.add(new r.Rect({shape:n.coordinateSystem.getRect(),style:t.defaults({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})}),bT}var qT;function hJ(){if(qT)return fT;qT=1;var e=Ge;rJ(),nJ();var t=Fo(),r=Uu(),n=iJ();return Gu(),e.registerVisual(t("line","circle","line")),e.registerLayout(r("line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,n("line")),fT}var UT={},Zg,GT;function wN(){if(GT)return Zg;GT=1;var e=Br,t=yi(),r=e.extend({type:"series.__base_bar__",getInitialData:function(n,a){return t(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(n){var a=this.coordinateSystem;if(a){var i=a.dataToPoint(a.clampData(n)),o=this.getData(),l=o.getLayout("offset"),s=o.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;return i[f]+=l+s/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});return Zg=r,Zg}var Kg,WT;function vJ(){if(WT)return Kg;WT=1;var e=wN(),t=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});return Kg=t,Kg}var Xg={},$T;function SN(){if($T)return Xg;$T=1;var e=ke,t=gx(),r=t.getDefaultLabel;function n(i,o,l,s,f,u,h){var c=l.getModel("label"),v=l.getModel("emphasis.label");e.setLabelStyle(i,o,c,v,{labelFetcher:f,labelDataIndex:u,defaultText:r(f.getData(),u),isRectText:!0,autoColor:s}),a(i),a(o)}function a(i,o){i.textPosition==="outside"&&(i.textPosition=o)}return Xg.setLabel=n,Xg}var Qg,YT;function dJ(){if(YT)return Qg;YT=1;var e=Xs(),t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(n){var a=t(this,n);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(a.lineDash=i)}return a}};return Qg=r,Qg}var Jg,ZT;function gJ(){if(ZT)return Jg;ZT=1;var e=ke,t=e.extendShape,r=t({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(n,a){var i=a.cx,o=a.cy,l=Math.max(a.r0||0,0),s=Math.max(a.r,0),f=(s-l)*.5,u=l+f,h=a.startAngle,c=a.endAngle,v=a.clockwise,d=Math.cos(h),m=Math.sin(h),g=Math.cos(c),p=Math.sin(c),y=v?c-h<Math.PI*2:h-c<Math.PI*2;y&&(n.moveTo(d*l+i,m*l+o),n.arc(d*u+i,m*u+o,f,-Math.PI+h,h,!v)),n.arc(i,o,s,h,c,!v),n.moveTo(g*s+i,p*s+o),n.arc(g*u+i,p*u+o,f,c-Math.PI*2,c-Math.PI,!v),l!==0&&(n.arc(i,o,l,c,h,v),n.moveTo(d*l+i,p*l+o)),n.closePath()}});return Jg=r,Jg}var jg,KT;function pJ(){if(KT)return jg;KT=1;var e=Ge,t=ne,r=ke,n=SN(),a=n.setLabel,i=br(),o=dJ(),l=yr,s=Bo,f=yn,u=f.throttle,h=qu(),c=h.createClipPath,v=gJ(),d=["itemStyle","barBorderWidth"],m=[0,0];t.extend(i.prototype,o);function g(q,E){var z=q.getArea&&q.getArea();if(q.type==="cartesian2d"){var N=q.getBaseAxis();if(N.type!=="category"||!N.onBand){var H=E.getLayout("bandWidth");N.isHorizontal()?(z.x-=H,z.width+=H*2):(z.y-=H,z.height+=H*2)}}return z}var p=e.extendChartView({type:"bar",render:function(q,E,z){this._updateDrawMode(q);var N=q.get("coordinateSystem");return(N==="cartesian2d"||N==="polar")&&(this._isLargeDraw?this._renderLarge(q,E,z):this._renderNormal(q,E,z)),this.group},incrementalPrepareRender:function(q,E,z){this._clear(),this._updateDrawMode(q)},incrementalRender:function(q,E,z,N){this._incrementalRenderLarge(q,E)},_updateDrawMode:function(q){var E=q.pipelineContext.large;(this._isLargeDraw==null||E^this._isLargeDraw)&&(this._isLargeDraw=E,this._clear())},_renderNormal:function(q,E,z){var N=this.group,H=q.getData(),W=this._data,U=q.coordinateSystem,K=U.getBaseAxis(),Q;U.type==="cartesian2d"?Q=K.isHorizontal():U.type==="polar"&&(Q=K.dim==="angle");var j=q.isAnimationEnabled()?q:null,se=q.get("clip",!0),le=g(U,H);N.removeClipPath();var de=q.get("roundCap",!0),he=q.get("showBackground",!0),pe=q.getModel("backgroundStyle"),ye=pe.get("barBorderRadius")||0,X=[],G=this._backgroundEls||[],$=function(oe){var ve=T[U.type](H,oe),Me=Y(U,Q,ve);return Me.useStyle(pe.getBarItemStyle()),U.type==="cartesian2d"&&Me.setShape("r",ye),X[oe]=Me,Me};H.diff(W).add(function(oe){var ve=H.getItemModel(oe),Me=T[U.type](H,oe,ve);if(he&&$(oe),!!H.hasValue(oe)){if(se){var re=A[U.type](le,Me);if(re){N.remove(ie);return}}var ie=w[U.type](oe,Me,Q,j,!1,de);H.setItemGraphicEl(oe,ie),N.add(ie),M(ie,H,oe,ve,Me,q,Q,U.type==="polar")}}).update(function(oe,ve){var Me=H.getItemModel(oe),re=T[U.type](H,oe,Me);if(he){var ie;G.length===0?ie=$(ve):(ie=G[ve],ie.useStyle(pe.getBarItemStyle()),U.type==="cartesian2d"&&ie.setShape("r",ye),X[oe]=ie);var me=T[U.type](H,oe),Ce=F(Q,me,U);r.updateProps(ie,{shape:Ce},j,oe)}var Le=W.getItemGraphicEl(ve);if(!H.hasValue(oe)){N.remove(Le);return}if(se){var Pe=A[U.type](le,re);if(Pe){N.remove(Le);return}}Le?r.updateProps(Le,{shape:re},j,oe):Le=w[U.type](oe,re,Q,j,!0,de),H.setItemGraphicEl(oe,Le),N.add(Le),M(Le,H,oe,Me,re,q,Q,U.type==="polar")}).remove(function(oe){var ve=W.getItemGraphicEl(oe);U.type==="cartesian2d"?ve&&b(oe,j,ve):ve&&S(oe,j,ve)}).execute();var ee=this._backgroundGroup||(this._backgroundGroup=new s);ee.removeAll();for(var fe=0;fe<X.length;++fe)ee.add(X[fe]);N.add(ee),this._backgroundEls=X,this._data=H},_renderLarge:function(q,E,z){this._clear(),D(q,this.group);var N=q.get("clip",!0)?c(q.coordinateSystem,!1,q):null;N?this.group.setClipPath(N):this.group.removeClipPath()},_incrementalRenderLarge:function(q,E){this._removeBackground(),D(E,this.group,!0)},dispose:t.noop,remove:function(q){this._clear(q)},_clear:function(q){var E=this.group,z=this._data;q&&q.get("animation")&&z&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],z.eachItemGraphicEl(function(N){N.type==="sector"?S(N.dataIndex,q,N):b(N.dataIndex,q,N)})):E.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),y=Math.max,x=Math.min,A={cartesian2d:function(q,E){var z=E.width<0?-1:1,N=E.height<0?-1:1;z<0&&(E.x+=E.width,E.width=-E.width),N<0&&(E.y+=E.height,E.height=-E.height);var H=y(E.x,q.x),W=x(E.x+E.width,q.x+q.width),U=y(E.y,q.y),K=x(E.y+E.height,q.y+q.height);E.x=H,E.y=U,E.width=W-H,E.height=K-U;var Q=E.width<0||E.height<0;return z<0&&(E.x+=E.width,E.width=-E.width),N<0&&(E.y+=E.height,E.height=-E.height),Q},polar:function(q,E){var z=E.r0<=E.r?1:-1;if(z<0){var N=E.r;E.r=E.r0,E.r0=N}var N=x(E.r,q.r),H=y(E.r0,q.r0);E.r=N,E.r0=H;var W=N-H<0;if(z<0){var N=E.r;E.r=E.r0,E.r0=N}return W}},w={cartesian2d:function(q,E,z,N,H){var W=new r.Rect({shape:t.extend({},E),z2:1});if(W.name="item",N){var U=W.shape,K=z?"height":"width",Q={};U[K]=0,Q[K]=E[K],r[H?"updateProps":"initProps"](W,{shape:Q},N,q)}return W},polar:function(q,E,z,N,H,W){var U=E.startAngle<E.endAngle,K=!z&&W?v:r.Sector,Q=new K({shape:t.defaults({clockwise:U},E),z2:1});if(Q.name="item",N){var j=Q.shape,se=z?"r":"endAngle",le={};j[se]=z?0:E.startAngle,le[se]=E[se],r[H?"updateProps":"initProps"](Q,{shape:le},N,q)}return Q}};function b(q,E,z){z.style.text=null,r.updateProps(z,{shape:{width:0}},E,q,function(){z.parent&&z.parent.remove(z)})}function S(q,E,z){z.style.text=null,r.updateProps(z,{shape:{r:z.shape.r0}},E,q,function(){z.parent&&z.parent.remove(z)})}var T={cartesian2d:function(q,E,z){var N=q.getItemLayout(E),H=z?I(z,N):0,W=N.width>0?1:-1,U=N.height>0?1:-1;return{x:N.x+W*H/2,y:N.y+U*H/2,width:N.width-W*H,height:N.height-U*H}},polar:function(q,E,z){var N=q.getItemLayout(E);return{cx:N.cx,cy:N.cy,r0:N.r0,r:N.r,startAngle:N.startAngle,endAngle:N.endAngle}}};function C(q){return q.startAngle!=null&&q.endAngle!=null&&q.startAngle===q.endAngle}function M(q,E,z,N,H,W,U,K){var Q=E.getItemVisual(z,"color"),j=E.getItemVisual(z,"opacity"),se=E.getVisual("borderColor"),le=N.getModel("itemStyle"),de=N.getModel("emphasis.itemStyle").getBarItemStyle();K||q.setShape("r",le.get("barBorderRadius")||0),q.useStyle(t.defaults({stroke:C(H)?"none":se,fill:C(H)?"none":Q,opacity:j},le.getBarItemStyle()));var he=N.getShallow("cursor");he&&q.attr("cursor",he);var pe=U?H.height>0?"bottom":"top":H.width>0?"left":"right";K||a(q.style,de,N,Q,W,z,pe),C(H)&&(de.fill=de.stroke="none"),r.setHoverStyle(q,de)}function I(q,E){var z=q.get(d)||0,N=isNaN(E.width)?Number.MAX_VALUE:Math.abs(E.width),H=isNaN(E.height)?Number.MAX_VALUE:Math.abs(E.height);return Math.min(z,N,H)}var P=l.extend({type:"largeBar",shape:{points:[]},buildPath:function(q,E){for(var z=E.points,N=this.__startPoint,H=this.__baseDimIdx,W=0;W<z.length;W+=2)N[H]=z[W+H],q.moveTo(N[0],N[1]),q.lineTo(z[W],z[W+1])}});function D(q,E,z){var N=q.getData(),H=[],W=N.getLayout("valueAxisHorizontal")?1:0;H[1-W]=N.getLayout("valueAxisStart");var U=N.getLayout("largeDataIndices"),K=N.getLayout("barWidth"),Q=q.getModel("backgroundStyle"),j=q.get("showBackground",!0);if(j){var se=N.getLayout("largeBackgroundPoints"),le=[];le[1-W]=N.getLayout("backgroundStart");var de=new P({shape:{points:se},incremental:!!z,__startPoint:le,__baseDimIdx:W,__largeDataIndices:U,__barWidth:K,silent:!0,z2:0});V(de,Q,N),E.add(de)}var he=new P({shape:{points:N.getLayout("largePoints")},incremental:!!z,__startPoint:H,__baseDimIdx:W,__largeDataIndices:U,__barWidth:K});E.add(he),B(he,q,N),he.seriesIndex=q.seriesIndex,q.get("silent")||(he.on("mousedown",k),he.on("mousemove",k))}var k=u(function(q){var E=this,z=R(E,q.offsetX,q.offsetY);E.dataIndex=z>=0?z:null},30,!1);function R(q,E,z){var N=q.__baseDimIdx,H=1-N,W=q.shape.points,U=q.__largeDataIndices,K=Math.abs(q.__barWidth/2),Q=q.__startPoint[H];m[0]=E,m[1]=z;for(var j=m[N],se=m[1-N],le=j-K,de=j+K,he=0,pe=W.length/2;he<pe;he++){var ye=he*2,X=W[ye+N],G=W[ye+H];if(X>=le&&X<=de&&(Q<=G?se>=Q&&se<=G:se>=G&&se<=Q))return U[he]}return-1}function B(q,E,z){var N=z.getVisual("borderColor")||z.getVisual("color"),H=E.getModel("itemStyle").getItemStyle(["color","borderColor"]);q.useStyle(H),q.style.fill=null,q.style.stroke=N,q.style.lineWidth=z.getLayout("barWidth")}function V(q,E,z){var N=E.get("borderColor")||E.get("color"),H=E.getItemStyle(["color","borderColor"]);q.useStyle(H),q.style.fill=null,q.style.stroke=N,q.style.lineWidth=z.getLayout("barWidth")}function F(q,E,z){var N,H=z.type==="polar";return H?N=z.getArea():N=z.grid.getRect(),H?{cx:N.cx,cy:N.cy,r0:q?N.r0:E.r0,r:q?N.r:E.r,startAngle:q?E.startAngle:0,endAngle:q?E.endAngle:Math.PI*2}:{x:q?E.x:N.x,y:q?N.y:E.y,width:q?E.width:N.width,height:q?N.height:E.height}}function Y(q,E,z){var N=q.type==="polar"?r.Sector:r.Rect;return new N({shape:F(E,z,q),silent:!0,z2:0})}return jg=p,jg}var XT;function mJ(){if(XT)return UT;XT=1;var e=Ge,t=ne,r=Nh(),n=r.layout,a=r.largeLayout;return px(),vJ(),pJ(),Gu(),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,t.curry(n,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,a),e.registerVisual({seriesType:"bar",reset:function(i){i.getData().setVisual("legendSymbol","roundRect")}}),UT}var QT={},ep,JT;function il(){if(JT)return ep;JT=1;var e=al(),t=Ja(),r=ne,n=r.extend,a=r.isArray;function i(o,l,s){l=a(l)&&{coordDimensions:l}||n({},l);var f=o.getSource(),u=e(f,l),h=new t(u,o);return h.initData(f,s),h}return ep=i,ep}var tp,jT;function mx(){if(jT)return tp;jT=1;var e=ne,t={updateSelectedMap:function(r){this._targetList=e.isArray(r)?r.slice():[],this._selectTargetMap=e.reduce(r||[],function(n,a){return n.set(a.name,a),n},e.createHashMap())},select:function(r,n){var a=n!=null?this._targetList[n]:this._selectTargetMap.get(r),i=this.get("selectedMode");i==="single"&&this._selectTargetMap.each(function(o){o.selected=!1}),a&&(a.selected=!0)},unSelect:function(r,n){var a=n!=null?this._targetList[n]:this._selectTargetMap.get(r);a&&(a.selected=!1)},toggleSelected:function(r,n){var a=n!=null?this._targetList[n]:this._selectTargetMap.get(r);if(a!=null)return this[a.selected?"unSelect":"select"](r,n),a.selected},isSelected:function(r,n){var a=n!=null?this._targetList[n]:this._selectTargetMap.get(r);return a&&a.selected}};return tp=t,tp}var rp,eC;function Wu(){if(eC)return rp;eC=1;function e(r,n){this.getAllNames=function(){var a=n();return a.mapArray(a.getName)},this.containName=function(a){var i=n();return i.indexOfName(a)>=0},this.indexOfName=function(a){var i=r();return i.indexOfName(a)},this.getItemVisual=function(a,i){var o=r();return o.getItemVisual(a,i)}}var t=e;return rp=t,rp}var ap,tC;function yJ(){if(tC)return ap;tC=1;var e=Ge,t=il(),r=ne,n=lt,a=ht(),i=a.getPercentWithPrecision,o=mx(),l=mn,s=l.retrieveRawAttr,f=mi(),u=f.makeSeriesEncodeForNameBased,h=Wu(),c=e.extendSeriesModel({type:"series.pie",init:function(d){c.superApply(this,"init",arguments),this.legendVisualProvider=new h(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(d)},mergeOption:function(d){c.superCall(this,"mergeOption",d),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(d,m){return t(this,{coordDimensions:["value"],encodeDefaulter:r.curry(u,this)})},_createSelectableList:function(){for(var d=this.getRawData(),m=d.mapDimension("value"),g=[],p=0,y=d.count();p<y;p++)g.push({name:d.getName(p),value:d.get(m,p),selected:s(d,p,"selected")});return g},getDataParams:function(d){var m=this.getData(),g=c.superCall(this,"getDataParams",d),p=[];return m.each(m.mapDimension("value"),function(y){p.push(y)}),g.percent=i(p,d,m.hostModel.get("percentPrecision")),g.$vars.push("percent"),g},_defaultLabelLine:function(d){n.defaultEmphasis(d,"labelLine",["show"]);var m=d.labelLine,g=d.emphasis.labelLine;m.show=m.show&&d.label.show,g.show=g.show&&d.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(c,o);var v=c;return ap=v,ap}var np,rC;function _J(){if(rC)return np;rC=1;var e=ne,t=ke,r=Vn;function n(f,u,h,c){var v=u.getData(),d=this.dataIndex,m=v.getName(d),g=u.get("selectedOffset");c.dispatchAction({type:"pieToggleSelect",from:f,name:m,seriesId:u.id}),v.each(function(p){a(v.getItemGraphicEl(p),v.getItemLayout(p),u.isSelected(v.getName(p)),g,h)})}function a(f,u,h,c,v){var d=(u.startAngle+u.endAngle)/2,m=Math.cos(d),g=Math.sin(d),p=h?c:0,y=[m*p,g*p];v?f.animate().when(200,{position:y}).start("bounceOut"):f.attr("position",y)}function i(f,u){t.Group.call(this);var h=new t.Sector({z2:2}),c=new t.Polyline,v=new t.Text;this.add(h),this.add(c),this.add(v),this.updateData(f,u,!0)}var o=i.prototype;o.updateData=function(f,u,h){var c=this.childAt(0),v=this.childAt(1),d=this.childAt(2),m=f.hostModel,g=f.getItemModel(u),p=f.getItemLayout(u),y=e.extend({},p);y.label=null;var x=m.getShallow("animationTypeUpdate");if(h){c.setShape(y);var A=m.getShallow("animationType");A==="scale"?(c.shape.r=p.r0,t.initProps(c,{shape:{r:p.r}},m,u)):(c.shape.endAngle=p.startAngle,t.updateProps(c,{shape:{endAngle:p.endAngle}},m,u))}else x==="expansion"?c.setShape(y):t.updateProps(c,{shape:y},m,u);var w=f.getItemVisual(u,"color");c.useStyle(e.defaults({lineJoin:"bevel",fill:w},g.getModel("itemStyle").getItemStyle())),c.hoverStyle=g.getModel("emphasis.itemStyle").getItemStyle();var b=g.getShallow("cursor");b&&c.attr("cursor",b),a(this,f.getItemLayout(u),m.isSelected(f.getName(u)),m.get("selectedOffset"),m.get("animation"));var S=!h&&x==="transition";this._updateLabel(f,u,S),this.highDownOnUpdate=m.get("silent")?null:function(T,C){var M=m.isAnimationEnabled()&&g.get("hoverAnimation");C==="emphasis"?(v.ignore=v.hoverIgnore,d.ignore=d.hoverIgnore,M&&(c.stopAnimation(!0),c.animateTo({shape:{r:p.r+m.get("hoverOffset")}},300,"elasticOut"))):(v.ignore=v.normalIgnore,d.ignore=d.normalIgnore,M&&(c.stopAnimation(!0),c.animateTo({shape:{r:p.r}},300,"elasticOut")))},t.setHoverStyle(this)},o._updateLabel=function(f,u,h){var c=this.childAt(1),v=this.childAt(2),d=f.hostModel,m=f.getItemModel(u),g=f.getItemLayout(u),p=g.label,T=f.getItemVisual(u,"color");if(!p||isNaN(p.x)||isNaN(p.y)){v.ignore=v.normalIgnore=v.hoverIgnore=c.ignore=c.normalIgnore=c.hoverIgnore=!0;return}var y={points:p.linePoints||[[p.x,p.y],[p.x,p.y],[p.x,p.y]]},x={x:p.x,y:p.y};h?(t.updateProps(c,{shape:y},d,u),t.updateProps(v,{style:x},d,u)):(c.attr({shape:y}),v.attr({style:x})),v.attr({rotation:p.rotation,origin:[p.x,p.y],z2:10});var A=m.getModel("label"),w=m.getModel("emphasis.label"),b=m.getModel("labelLine"),S=m.getModel("emphasis.labelLine"),T=f.getItemVisual(u,"color");t.setLabelStyle(v.style,v.hoverStyle={},A,w,{labelFetcher:f.hostModel,labelDataIndex:u,defaultText:p.text,autoColor:T,useInsideStyle:!!p.inside},{textAlign:p.textAlign,textVerticalAlign:p.verticalAlign,opacity:f.getItemVisual(u,"opacity")}),v.ignore=v.normalIgnore=!A.get("show"),v.hoverIgnore=!w.get("show"),c.ignore=c.normalIgnore=!b.get("show"),c.hoverIgnore=!S.get("show"),c.setStyle({stroke:T,opacity:f.getItemVisual(u,"opacity")}),c.setStyle(b.getModel("lineStyle").getLineStyle()),c.hoverStyle=S.getModel("lineStyle").getLineStyle();var C=b.get("smooth");C&&C===!0&&(C=.4),c.setShape({smooth:C})},e.inherits(i,t.Group);var l=r.extend({type:"pie",init:function(){var f=new t.Group;this._sectorGroup=f},render:function(f,u,h,c){if(!(c&&c.from===this.uid)){var v=f.getData(),d=this._data,m=this.group,g=u.get("animation"),p=!d,y=f.get("animationType"),x=f.get("animationTypeUpdate"),A=e.curry(n,this.uid,f,g,h),w=f.get("selectedMode");if(v.diff(d).add(function(M){var I=new i(v,M);p&&y!=="scale"&&I.eachChild(function(P){P.stopAnimation(!0)}),w&&I.on("click",A),v.setItemGraphicEl(M,I),m.add(I)}).update(function(M,I){var P=d.getItemGraphicEl(I);!p&&x!=="transition"&&P.eachChild(function(D){D.stopAnimation(!0)}),P.updateData(v,M),P.off("click"),w&&P.on("click",A),m.add(P),v.setItemGraphicEl(M,P)}).remove(function(M){var I=d.getItemGraphicEl(M);m.remove(I)}).execute(),g&&v.count()>0&&(p?y!=="scale":x!=="transition")){for(var b=v.getItemLayout(0),S=1;isNaN(b.startAngle)&&S<v.count();++S)b=v.getItemLayout(S);var T=Math.max(h.getWidth(),h.getHeight())/2,C=e.bind(m.removeClipPath,m);m.setClipPath(this._createClipPath(b.cx,b.cy,T,b.startAngle,b.clockwise,C,f,p))}else m.removeClipPath();this._data=v}},dispose:function(){},_createClipPath:function(f,u,h,c,v,d,m,g){var p=new t.Sector({shape:{cx:f,cy:u,r0:0,r:h,startAngle:c,endAngle:c,clockwise:v}}),y=g?t.initProps:t.updateProps;return y(p,{shape:{endAngle:c+(v?1:-1)*Math.PI*2}},m,d),p},containPoint:function(f,u){var h=u.getData(),c=h.getItemLayout(0);if(c){var v=f[0]-c.cx,d=f[1]-c.cy,m=Math.sqrt(v*v+d*d);return m<=c.r&&m>=c.r0}}}),s=l;return np=s,np}var ip,aC;function bN(){if(aC)return ip;aC=1;var e=Ge,t=ne;function r(n,a){t.each(a,function(i){i.update="updateView",e.registerAction(i,function(o,l){var s={};return l.eachComponent({mainType:"series",subType:n,query:o},function(f){f[i.method]&&f[i.method](o.name,o.dataIndex);var u=f.getData();u.each(function(h){var c=u.getName(h);s[c]=f.isSelected(c)||!1})}),{name:o.name,selected:s,seriesId:o.seriesId}})})}return ip=r,ip}var op,nC;function Hh(){if(nC)return op;nC=1;var e=ne,t=e.createHashMap;function r(n){return{getTargetSeries:function(a){var i={},o=t();return a.eachSeriesByType(n,function(l){l.__paletteScope=i,o.set(l.uid,l)}),o},reset:function(a,i){var o=a.getRawData(),l={},s=a.getData();s.each(function(f){var u=s.getRawIndex(f);l[u]=f}),o.each(function(f){var u=l[f],h=u!=null&&s.getItemVisual(u,"color",!0),c=u!=null&&s.getItemVisual(u,"borderColor",!0),v;if((!h||!c)&&(v=o.getItemModel(f)),!h){var d=v.get("itemStyle.color")||a.getColorFromPalette(o.getName(f)||f+"",a.__paletteScope,o.count());u!=null&&s.setItemVisual(u,"color",d)}if(!c){var m=v.get("itemStyle.borderColor");u!=null&&s.setItemVisual(u,"borderColor",m)}})}}}return op=r,op}var sp,iC;function xJ(){if(iC)return sp;iC=1;var e=ir,t=ht(),r=t.parsePercent,n=Math.PI/180;function a(s,f,u,h,c,v,d,m,g,p){s.sort(function(P,D){return P.y-D.y});function y(P,D,k,R){for(var B=P;B<D&&!(s[B].y+k>g+d);B++)if(s[B].y+=k,B>P&&B+1<D&&s[B+1].y>s[B].y+s[B].height){x(B,k/2);return}x(D-1,k/2)}function x(P,D){for(var k=P;k>=0&&!(s[k].y-D<g||(s[k].y-=D,k>0&&s[k].y>s[k-1].y+s[k-1].height));k--);}function A(P,D,k,R,B,V){for(var F=(V>0,D?Number.MAX_VALUE:0),Y=0,q=P.length;Y<q;Y++)if(P[Y].labelAlignTo==="none"){var E=Math.abs(P[Y].y-R),z=P[Y].len,N=P[Y].len2,H=E<B+z?Math.sqrt((B+z+N)*(B+z+N)-E*E):Math.abs(P[Y].x-k);D&&H>=F&&(H=F-10),!D&&H<=F&&(H=F+10),P[Y].x=k+H*V,F=H}}for(var w=0,b,S=s.length,T=[],C=[],M=0;M<S;M++){if(s[M].position==="outer"&&s[M].labelAlignTo==="labelLine"){var I=s[M].x-p;s[M].linePoints[1][0]+=I,s[M].x=p}b=s[M].y-w,b<0&&y(M,S,-b),w=s[M].y+s[M].height}d-w<0&&x(S-1,w-d);for(var M=0;M<S;M++)s[M].y>=u?C.push(s[M]):T.push(s[M]);A(T,!1,f,u,h,c),A(C,!0,f,u,h,c)}function i(s,f,u,h,c,v,d,m){for(var g=[],p=[],y=Number.MAX_VALUE,x=-Number.MAX_VALUE,A=0;A<s.length;A++)o(s[A])||(s[A].x<f?(y=Math.min(y,s[A].x),g.push(s[A])):(x=Math.max(x,s[A].x),p.push(s[A])));a(p,f,u,h,1,c,v,d,m,x),a(g,f,u,h,-1,c,v,d,m,y);for(var A=0;A<s.length;A++){var w=s[A];if(!o(w)){var b=w.linePoints;if(b){var S=w.labelAlignTo==="edge",T=w.textRect.width,C;S?w.x<f?C=b[2][0]-w.labelDistance-d-w.labelMargin:C=d+c-w.labelMargin-b[2][0]-w.labelDistance:w.x<f?C=w.x-d-w.bleedMargin:C=d+c-w.x-w.bleedMargin,C<w.textRect.width&&(w.text=e.truncateText(w.text,C,w.font),w.labelAlignTo==="edge"&&(T=e.getWidth(w.text,w.font)));var M=b[1][0]-b[2][0];S?w.x<f?b[2][0]=d+w.labelMargin+T+w.labelDistance:b[2][0]=d+c-w.labelMargin-T-w.labelDistance:(w.x<f?b[2][0]=w.x+w.labelDistance:b[2][0]=w.x-w.labelDistance,b[1][0]=b[2][0]+M),b[1][1]=b[2][1]=w.y}}}}function o(s){return s.position==="center"}function l(s,f,u,h,c,v){var d=s.getData(),m=[],g,p,y=!1,x=(s.get("minShowLabelAngle")||0)*n;d.each(function(A){var w=d.getItemLayout(A),b=d.getItemModel(A),S=b.getModel("label"),T=S.get("position")||b.get("emphasis.label.position"),C=S.get("distanceToLabelLine"),M=S.get("alignTo"),I=r(S.get("margin"),u),P=S.get("bleedMargin"),D=S.getFont(),k=b.getModel("labelLine"),R=k.get("length");R=r(R,u);var B=k.get("length2");if(B=r(B,u),!(w.angle<x)){var V=(w.startAngle+w.endAngle)/2,F=Math.cos(V),Y=Math.sin(V),q,E,z,N;g=w.cx,p=w.cy;var H=s.getFormattedLabel(A,"normal")||d.getName(A),W=e.getBoundingRect(H,D,N,"top"),U=T==="inside"||T==="inner";if(T==="center")q=w.cx,E=w.cy,N="center";else{var K=(U?(w.r+w.r0)/2*F:w.r*F)+g,Q=(U?(w.r+w.r0)/2*Y:w.r*Y)+p;if(q=K+F*3,E=Q+Y*3,!U){var j=K+F*(R+f-w.r),se=Q+Y*(R+f-w.r),le=j+(F<0?-1:1)*B,de=se;M==="edge"?q=F<0?c+I:c+u-I:q=le+(F<0?-C:C),E=de,z=[[K,Q],[j,se],[le,de]]}N=U?"center":M==="edge"?F>0?"right":"left":F>0?"left":"right"}var he,pe=S.get("rotate");typeof pe=="number"?he=pe*(Math.PI/180):he=pe?F<0?-V+Math.PI:-V:0,y=!!he,w.label={x:q,y:E,position:T,height:W.height,len:R,len2:B,linePoints:z,textAlign:N,verticalAlign:"middle",rotation:he,inside:U,labelDistance:C,labelAlignTo:M,labelMargin:I,bleedMargin:P,textRect:W,text:H,font:D},U||m.push(w.label)}}),!y&&s.get("avoidLabelOverlap")&&i(m,g,p,f,u,h,c,v)}return sp=l,sp}var lp,oC;function wJ(){if(oC)return lp;oC=1;var e=ht(),t=e.parsePercent,r=e.linearMap,n=Tt,a=xJ(),i=ne,o=Math.PI*2,l=Math.PI/180;function s(u,h){return n.getLayoutRect(u.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})}function f(u,h,c,v){h.eachSeriesByType(u,function(d){var m=d.getData(),g=m.mapDimension("value"),p=s(d,c),y=d.get("center"),x=d.get("radius");i.isArray(x)||(x=[0,x]),i.isArray(y)||(y=[y,y]);var A=t(p.width,c.getWidth()),w=t(p.height,c.getHeight()),b=Math.min(A,w),S=t(y[0],A)+p.x,T=t(y[1],w)+p.y,C=t(x[0],b/2),M=t(x[1],b/2),I=-d.get("startAngle")*l,P=d.get("minAngle")*l,D=0;m.each(g,function(W){!isNaN(W)&&D++});var k=m.getSum(g),R=Math.PI/(k||D)*2,B=d.get("clockwise"),V=d.get("roseType"),F=d.get("stillShowZeroSum"),Y=m.getDataExtent(g);Y[0]=0;var q=o,E=0,z=I,N=B?1:-1;if(m.each(g,function(W,U){var K;if(isNaN(W)){m.setItemLayout(U,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:B,cx:S,cy:T,r0:C,r:V?NaN:M,viewRect:p});return}V!=="area"?K=k===0&&F?R:W*R:K=o/D,K<P?(K=P,q-=P):E+=W;var Q=z+N*K;m.setItemLayout(U,{angle:K,startAngle:z,endAngle:Q,clockwise:B,cx:S,cy:T,r0:C,r:V?r(W,Y,[C,M]):M,viewRect:p}),z=Q}),q<o&&D)if(q<=.001){var H=o/D;m.each(g,function(W,U){if(!isNaN(W)){var K=m.getItemLayout(U);K.angle=H,K.startAngle=I+N*U*H,K.endAngle=I+N*(U+1)*H}})}else R=q/E,z=I,m.each(g,function(W,U){if(!isNaN(W)){var K=m.getItemLayout(U),Q=K.angle===P?P:W*R;K.startAngle=z,K.endAngle=z+N*Q,z+=N*Q}});a(d,M,p.width,p.height,p.x,p.y)})}return lp=f,lp}var up,sC;function $u(){if(sC)return up;sC=1;function e(t){return{seriesType:t,reset:function(r,n){var a=n.findComponents({mainType:"legend"});if(!(!a||!a.length)){var i=r.getData();i.filterSelf(function(o){for(var l=i.getName(o),s=0;s<a.length;s++)if(!a[s].isSelected(l))return!1;return!0})}}}}return up=e,up}var lC;function SJ(){if(lC)return QT;lC=1;var e=Ge,t=ne;yJ(),_J();var r=bN(),n=Hh(),a=wJ(),i=$u();return r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(n("pie")),e.registerLayout(t.curry(a,"pie")),e.registerProcessor(i("pie")),QT}var uC={},fp,fC;function bJ(){if(fC)return fp;fC=1;var e=yi(),t=Br,r=t.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(n,a){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var n=this.option.progressive;return n??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){var n=this.option.progressiveThreshold;return n??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});return fp=r,fp}var cC={},cp,hC;function AJ(){if(hC)return cp;hC=1;var e=ke,t=ja(),r=t.createSymbol,n=X_,a=4,i=e.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(f,u){var h=u.points,c=u.size,v=this.symbolProxy,d=v.shape,m=f.getContext?f.getContext():f,g=m&&c[0]<a;if(!g)for(var p=0;p<h.length;){var y=h[p++],x=h[p++];isNaN(y)||isNaN(x)||this.softClipShape&&!this.softClipShape.contain(y,x)||(d.x=y-c[0]/2,d.y=x-c[1]/2,d.width=c[0],d.height=c[1],v.buildPath(f,d,!0))}},afterBrush:function(f){var u=this.shape,h=u.points,c=u.size,v=c[0]<a;if(v){this.setTransform(f);for(var d=0;d<h.length;){var m=h[d++],g=h[d++];isNaN(m)||isNaN(g)||this.softClipShape&&!this.softClipShape.contain(m,g)||f.fillRect(m-c[0]/2,g-c[1]/2,c[0],c[1])}this.restoreTransform(f)}},findDataIndex:function(f,u){for(var h=this.shape,c=h.points,v=h.size,d=Math.max(v[0],4),m=Math.max(v[1],4),g=c.length/2-1;g>=0;g--){var p=g*2,y=c[p]-d/2,x=c[p+1]-m/2;if(f>=y&&u>=x&&f<=y+d&&u<=x+m)return g}return-1}});function o(){this.group=new e.Group}var l=o.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(f,u){this.group.removeAll();var h=new i({rectHover:!0,cursor:"default"});h.setShape({points:f.getLayout("symbolPoints")}),this._setCommon(h,f,!1,u),this.group.add(h),this._incremental=null},l.updateLayout=function(f){if(!this._incremental){var u=f.getLayout("symbolPoints");this.group.eachChild(function(h){if(h.startIndex!=null){var c=(h.endIndex-h.startIndex)*2,v=h.startIndex*4*2;u=new Float32Array(u.buffer,v,c)}h.setShape("points",u)})}},l.incrementalPrepareUpdate=function(f){this.group.removeAll(),this._clearIncremental(),f.count()>2e6?(this._incremental||(this._incremental=new n({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(f,u,h){var c;this._incremental?(c=new i,this._incremental.addDisplayable(c,!0)):(c=new i({rectHover:!0,cursor:"default",startIndex:f.start,endIndex:f.end}),c.incremental=!0,this.group.add(c)),c.setShape({points:u.getLayout("symbolPoints")}),this._setCommon(c,u,!!this._incremental,h)},l._setCommon=function(f,u,h,c){var v=u.hostModel;c=c||{};var d=u.getVisual("symbolSize");f.setShape("size",d instanceof Array?d:[d,d]),f.softClipShape=c.clipShape||null,f.symbolProxy=r(u.getVisual("symbol"),0,0,0,0),f.setColor=f.symbolProxy.setColor;var m=f.shape.size[0]<a;f.useStyle(v.getModel("itemStyle").getItemStyle(m?["color","shadowBlur","shadowColor"]:["color"]));var g=u.getVisual("color");g&&f.setColor(g),h||(f.seriesIndex=v.seriesIndex,f.on("mousemove",function(p){f.dataIndex=null;var y=f.findDataIndex(p.offsetX,p.offsetY);y>=0&&(f.dataIndex=y+(f.startIndex||0))}))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._clearIncremental=function(){var f=this._incremental;f&&f.clearDisplaybles()};var s=o;return cp=s,cp}var vC;function TJ(){if(vC)return cC;vC=1;var e=Ge,t=Hu(),r=AJ(),n=Uu();return e.extendChartView({type:"scatter",render:function(a,i,o){var l=a.getData(),s=this._updateSymbolDraw(l,a);s.updateData(l,{clipShape:this._getClipShape(a)}),this._finished=!0},incrementalPrepareRender:function(a,i,o){var l=a.getData(),s=this._updateSymbolDraw(l,a);s.incrementalPrepareUpdate(l),this._finished=!1},incrementalRender:function(a,i,o){this._symbolDraw.incrementalUpdate(a,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=a.end===i.getData().count()},updateTransform:function(a,i,o){var l=a.getData();if(this.group.dirty(),!this._finished||l.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var s=n().reset(a);s.progress&&s.progress({start:0,end:l.count()},l),this._symbolDraw.updateLayout(l)},_getClipShape:function(a){var i=a.coordinateSystem,o=i&&i.getArea&&i.getArea();return a.get("clip",!0)?o:null},_updateSymbolDraw:function(a,i){var o=this._symbolDraw,l=i.pipelineContext,s=l.large;return(!o||s!==this._isLargeDraw)&&(o&&o.remove(),o=this._symbolDraw=s?new r:new t,this._isLargeDraw=s,this.group.removeAll()),this.group.add(o.group),o},remove:function(a,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),cC}var dC;function CJ(){if(dC)return uC;dC=1;var e=Ge;bJ(),TJ();var t=Fo(),r=Uu();return Gu(),e.registerVisual(t("scatter","circle")),e.registerLayout(r("scatter")),uC}var gC={},pC={},hp,mC;function MJ(){if(mC)return hp;mC=1;var e=ne,t=ro();function r(a,i,o){t.call(this,a,i,o),this.type="value",this.angle=0,this.name="",this.model}e.inherits(r,t);var n=r;return hp=n,hp}var vp,yC;function LJ(){if(yC)return vp;yC=1;var e=ne,t=MJ(),r=Bh(),n=ht(),a=_n(),i=a.getScaleExtent,o=a.niceScaleExtent,l=zn,s=fN();function f(h,c,v){this._model=h,this.dimensions=[],this._indicatorAxes=e.map(h.getIndicatorModels(),function(d,m){var g="indicator_"+m,p=new t(g,d.get("axisType")==="log"?new s:new r);return p.name=d.get("name"),p.model=d,d.axis=p,this.dimensions.push(g),p},this),this.resize(h,v),this.cx,this.cy,this.r,this.r0,this.startAngle}f.prototype.getIndicatorAxes=function(){return this._indicatorAxes},f.prototype.dataToPoint=function(h,c){var v=this._indicatorAxes[c];return this.coordToPoint(v.dataToCoord(h),c)},f.prototype.coordToPoint=function(h,c){var v=this._indicatorAxes[c],d=v.angle,m=this.cx+h*Math.cos(d),g=this.cy-h*Math.sin(d);return[m,g]},f.prototype.pointToData=function(h){var c=h[0]-this.cx,v=h[1]-this.cy,d=Math.sqrt(c*c+v*v);c/=d,v/=d;for(var m=Math.atan2(-v,c),g=1/0,p,y=-1,x=0;x<this._indicatorAxes.length;x++){var A=this._indicatorAxes[x],w=Math.abs(m-A.angle);w<g&&(p=A,y=x,g=w)}return[y,+(p&&p.coordToData(d))]},f.prototype.resize=function(h,c){var v=h.get("center"),d=c.getWidth(),m=c.getHeight(),g=Math.min(d,m)/2;this.cx=n.parsePercent(v[0],d),this.cy=n.parsePercent(v[1],m),this.startAngle=h.get("startAngle")*Math.PI/180;var p=h.get("radius");(typeof p=="string"||typeof p=="number")&&(p=[0,p]),this.r0=n.parsePercent(p[0],g),this.r=n.parsePercent(p[1],g),e.each(this._indicatorAxes,function(y,x){y.setExtent(this.r0,this.r);var A=this.startAngle+x*Math.PI*2/this._indicatorAxes.length;A=Math.atan2(Math.sin(A),Math.cos(A)),y.angle=A},this)},f.prototype.update=function(h,c){var v=this._indicatorAxes,d=this._model;e.each(v,function(p){p.scale.setExtent(1/0,-1/0)}),h.eachSeriesByType("radar",function(p,y){if(!(p.get("coordinateSystem")!=="radar"||h.getComponent("radar",p.get("radarIndex"))!==d)){var x=p.getData();e.each(v,function(A){A.scale.unionExtentFromData(x,x.mapDimension(A.dim))})}},this);var m=d.get("splitNumber");function g(p){var y=Math.pow(10,Math.floor(Math.log(p)/Math.LN10)),x=p/y;return x===2?x=5:x*=2,x*y}e.each(v,function(p,y){var x=i(p.scale,p.model).extent;o(p.scale,p.model);var A=p.model,w=p.scale,b=A.getMin(),S=A.getMax(),T=w.getInterval();if(b!=null&&S!=null)w.setExtent(+b,+S),w.setInterval((S-b)/m);else if(b!=null){var C;do C=b+T*m,w.setExtent(+b,C),w.setInterval(T),T=g(T);while(C<x[1]&&isFinite(C)&&isFinite(x[1]))}else if(S!=null){var M;do M=S-T*m,w.setExtent(M,+S),w.setInterval(T),T=g(T);while(M>x[0]&&isFinite(M)&&isFinite(x[0]))}else{var I=w.getTicks().length-1;I>m&&(T=g(T));var C=Math.ceil(x[1]/T)*T,M=n.round(C-T*m);w.setExtent(M,C),w.setInterval(T)}})},f.dimensions=[],f.create=function(h,c){var v=[];return h.eachComponent("radar",function(d){var m=new f(d,h,c);v.push(m),d.coordinateSystem=m}),h.eachSeriesByType("radar",function(d){d.get("coordinateSystem")==="radar"&&(d.coordinateSystem=v[d.get("radarIndex")||0])}),v},l.register("radar",f);var u=f;return vp=u,vp}var dp,_C;function IJ(){if(_C)return dp;_C=1;var e=Ge,t=ne,r=mN(),n=br(),a=nl(),i=r.valueAxis;function o(f,u){return t.defaults({show:u},f)}var l=e.extendComponentModel({type:"radar",optionUpdated:function(){var f=this.get("boundaryGap"),u=this.get("splitNumber"),h=this.get("scale"),c=this.get("axisLine"),v=this.get("axisTick"),d=this.get("axisType"),m=this.get("axisLabel"),g=this.get("name"),p=this.get("name.show"),y=this.get("name.formatter"),x=this.get("nameGap"),A=this.get("triggerEvent"),w=t.map(this.get("indicator")||[],function(b){b.max!=null&&b.max>0&&!b.min?b.min=0:b.min!=null&&b.min<0&&!b.max&&(b.max=0);var S=g;if(b.color!=null&&(S=t.defaults({color:b.color},g)),b=t.merge(t.clone(b),{boundaryGap:f,splitNumber:u,scale:h,axisLine:c,axisTick:v,axisType:d,axisLabel:m,name:b.text,nameLocation:"end",nameGap:x,nameTextStyle:S,triggerEvent:A},!1),p||(b.name=""),typeof y=="string"){var T=b.name;b.name=y.replace("{value}",T??"")}else typeof y=="function"&&(b.name=y(b.name,b));var C=t.extend(new n(b,null,this.ecModel),a);return C.mainType="radar",C.componentIndex=this.componentIndex,C},this);this.getIndicatorModels=function(){return w}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},i.axisLine),axisLabel:o(i.axisLabel,!1),axisTick:o(i.axisTick,!1),axisType:"interval",splitLine:o(i.splitLine,!0),splitArea:o(i.splitArea,!0),indicator:[]}}),s=l;return dp=s,dp}var gp,xC;function PJ(){if(xC)return gp;xC=1;var e=Ge,t=ne,r=ao(),n=ke,a=["axisLine","axisTickLabel","axisName"],i=e.extendComponentView({type:"radar",render:function(o,l,s){var f=this.group;f.removeAll(),this._buildAxes(o),this._buildSplitLineAndArea(o)},_buildAxes:function(o){var l=o.coordinateSystem,s=l.getIndicatorAxes(),f=t.map(s,function(u){var h=new r(u.model,{position:[l.cx,l.cy],rotation:u.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return h});t.each(f,function(u){t.each(a,u.add,u),this.group.add(u.getGroup())},this)},_buildSplitLineAndArea:function(o){var l=o.coordinateSystem,s=l.getIndicatorAxes();if(!s.length)return;var f=o.get("shape"),u=o.getModel("splitLine"),h=o.getModel("splitArea"),c=u.getModel("lineStyle"),v=h.getModel("areaStyle"),d=u.get("show"),m=h.get("show"),g=c.get("color"),p=v.get("color");g=t.isArray(g)?g:[g],p=t.isArray(p)?p:[p];var y=[],x=[];function A(V,F,Y){var q=Y%F.length;return V[q]=V[q]||[],q}if(f==="circle")for(var w=s[0].getTicksCoords(),b=l.cx,S=l.cy,T=0;T<w.length;T++){if(d){var C=A(y,g,T);y[C].push(new n.Circle({shape:{cx:b,cy:S,r:w[T].coord}}))}if(m&&T<w.length-1){var C=A(x,p,T);x[C].push(new n.Ring({shape:{cx:b,cy:S,r0:w[T].coord,r:w[T+1].coord}}))}}else for(var M,I=t.map(s,function(V,F){var Y=V.getTicksCoords();return M=M==null?Y.length-1:Math.min(Y.length-1,M),t.map(Y,function(q){return l.coordToPoint(q.coord,F)})}),P=[],T=0;T<=M;T++){for(var D=[],k=0;k<s.length;k++)D.push(I[k][T]);if(D[0]&&D.push(D[0].slice()),d){var C=A(y,g,T);y[C].push(new n.Polyline({shape:{points:D}}))}if(m&&P){var C=A(x,p,T-1);x[C].push(new n.Polygon({shape:{points:D.concat(P)}}))}P=D.slice().reverse()}var R=c.getLineStyle(),B=v.getAreaStyle();t.each(x,function(V,F){this.group.add(n.mergePath(V,{style:t.defaults({stroke:"none",fill:p[F%p.length]},B),silent:!0}))},this),t.each(y,function(V,F){this.group.add(n.mergePath(V,{style:t.defaults({fill:"none",stroke:g[F%g.length]},R),silent:!0}))},this)}});return gp=i,gp}var wC;function DJ(){return wC||(wC=1,LJ(),IJ(),PJ()),pC}var pp,SC;function RJ(){if(SC)return pp;SC=1;var e=Br,t=il(),r=ne,n=jt(),a=n.encodeHTML,i=Wu(),o=e.extend({type:"series.radar",dependencies:["radar"],init:function(s){o.superApply(this,"init",arguments),this.legendVisualProvider=new i(r.bind(this.getData,this),r.bind(this.getRawData,this))},getInitialData:function(s,f){return t(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(s,f,u,h){var c=this.getData(),v=this.coordinateSystem,d=v.getIndicatorAxes(),m=this.getData().getName(s),g=h==="html"?"<br/>":`
`;return a(m===""?this.name:m)+g+r.map(d,function(p,y){var x=c.get(c.mapDimension(p.dim),s);return a(p.name+" : "+x)}).join(g)},getTooltipPosition:function(s){if(s!=null){for(var f=this.getData(),u=this.coordinateSystem,h=f.getValues(r.map(u.dimensions,function(m){return f.mapDimension(m)}),s,!0),c=0,v=h.length;c<v;c++)if(!isNaN(h[c])){var d=u.getIndicatorAxes();return u.coordToPoint(d[c].dataToCoord(h[c]),c)}}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),l=o;return pp=l,pp}var mp,bC;function EJ(){if(bC)return mp;bC=1;var e=Ge,t=ke,r=ne,n=ja();function a(o){return r.isArray(o)||(o=[+o,+o]),o}var i=e.extendChartView({type:"radar",render:function(o,l,s){var f=o.coordinateSystem,u=this.group,h=o.getData(),c=this._data;function v(g,p){var y=g.getItemVisual(p,"symbol")||"circle",x=g.getItemVisual(p,"color");if(y!=="none"){var A=a(g.getItemVisual(p,"symbolSize")),w=n.createSymbol(y,-1,-1,2,2,x),b=g.getItemVisual(p,"symbolRotate")||0;return w.attr({style:{strokeNoScale:!0},z2:100,scale:[A[0]/2,A[1]/2],rotation:b*Math.PI/180||0}),w}}function d(g,p,y,x,A,w){y.removeAll();for(var b=0;b<p.length-1;b++){var S=v(x,A);S&&(S.__dimIdx=b,g[b]?(S.attr("position",g[b]),t[w?"initProps":"updateProps"](S,{position:p[b]},o,A)):S.attr("position",p[b]),y.add(S))}}function m(g){return r.map(g,function(p){return[f.cx,f.cy]})}h.diff(c).add(function(g){var p=h.getItemLayout(g);if(p){var y=new t.Polygon,x=new t.Polyline,A={shape:{points:p}};y.shape.points=m(p),x.shape.points=m(p),t.initProps(y,A,o,g),t.initProps(x,A,o,g);var w=new t.Group,b=new t.Group;w.add(x),w.add(y),w.add(b),d(x.shape.points,p,b,h,g,!0),h.setItemGraphicEl(g,w)}}).update(function(g,p){var y=c.getItemGraphicEl(p),x=y.childAt(0),A=y.childAt(1),w=y.childAt(2),b={shape:{points:h.getItemLayout(g)}};b.shape.points&&(d(x.shape.points,b.shape.points,w,h,g,!1),t.updateProps(x,b,o),t.updateProps(A,b,o),h.setItemGraphicEl(g,y))}).remove(function(g){u.remove(c.getItemGraphicEl(g))}).execute(),h.eachItemGraphicEl(function(g,p){var y=h.getItemModel(p),x=g.childAt(0),A=g.childAt(1),w=g.childAt(2),b=h.getItemVisual(p,"color");u.add(g),x.useStyle(r.defaults(y.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),x.hoverStyle=y.getModel("emphasis.lineStyle").getLineStyle();var S=y.getModel("areaStyle"),T=y.getModel("emphasis.areaStyle"),C=S.isEmpty()&&S.parentModel.isEmpty(),M=T.isEmpty()&&T.parentModel.isEmpty();M=M&&C,A.ignore=C,A.useStyle(r.defaults(S.getAreaStyle(),{fill:b,opacity:.7})),A.hoverStyle=T.getAreaStyle();var I=y.getModel("itemStyle").getItemStyle(["color"]),P=y.getModel("emphasis.itemStyle").getItemStyle(),D=y.getModel("label"),k=y.getModel("emphasis.label");w.eachChild(function(R){R.setStyle(I),R.hoverStyle=r.clone(P);var B=h.get(h.dimensions[R.__dimIdx],p);(B==null||isNaN(B))&&(B=""),t.setLabelStyle(R.style,R.hoverStyle,D,k,{labelFetcher:h.hostModel,labelDataIndex:p,labelDimIndex:R.__dimIdx,defaultText:B,autoColor:b,isRectText:!0})}),g.highDownOnUpdate=function(R,B){A.attr("ignore",B==="emphasis"?M:C)},t.setHoverStyle(g)}),this._data=h},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});return mp=i,mp}var yp,AC;function kJ(){if(AC)return yp;AC=1;var e=ne;function t(a){a.eachSeriesByType("radar",function(i){var o=i.getData(),l=[],s=i.coordinateSystem;if(s){var f=s.getIndicatorAxes();e.each(f,function(u,h){o.each(o.mapDimension(f[h].dim),function(c,v){l[v]=l[v]||[];var d=s.dataToPoint(c,h);l[v][h]=r(d)?d:n(s)})}),o.each(function(u){var h=e.find(l[u],function(c){return r(c)})||n(s);l[u].push(h.slice()),o.setItemLayout(u,l[u])})}})}function r(a){return!isNaN(a[0])&&!isNaN(a[1])}function n(a){return[a.cx,a.cy]}return yp=t,yp}var _p,TC;function OJ(){if(TC)return _p;TC=1;var e=ne;function t(r){var n=r.polar;if(n){e.isArray(n)||(n=[n]);var a=[];e.each(n,function(i,o){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),r.radar=r.radar||[],e.isArray(r.radar)||(r.radar=[r.radar]),r.radar.push(i)):a.push(i)}),r.polar=a}e.each(r.series,function(i){i&&i.type==="radar"&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}return _p=t,_p}var CC;function BJ(){if(CC)return gC;CC=1;var e=Ge;DJ(),RJ(),EJ();var t=Hh(),r=Fo(),n=kJ(),a=$u(),i=OJ();return e.registerVisual(t("radar")),e.registerVisual(r("radar","circle")),e.registerLayout(n),e.registerProcessor(a("radar")),e.registerPreprocessor(i),gC}var MC={},xp,LC;function NJ(){if(LC)return xp;LC=1;for(var e=ne,t=hN(),r=[126,25],n=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],a=0;a<n.length;a++)for(var i=0;i<n[a].length;i++)n[a][i][0]/=10.5,n[a][i][1]/=-10.5/.75,n[a][i][0]+=r[0],n[a][i][1]+=r[1];function o(l,s){l==="china"&&s.push(new t("南海诸岛",e.map(n,function(f){return{type:"polygon",exterior:f}}),r))}return xp=o,xp}var wp,IC;function zJ(){if(IC)return wp;IC=1;var e={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function t(r,n){if(r==="china"){var a=e[n.name];if(a){var i=n.center;i[0]+=a[0]/10.5,i[1]+=-a[1]/(10.5/.75)}}}return wp=t,wp}var Sp,PC;function VJ(){if(PC)return Sp;PC=1;var e={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function t(r,n){if(r==="world"){var a=e[n.name];if(a){var i=n.center;i[0]=a[0],i[1]=a[1]}}}return Sp=t,Sp}var bp,DC;function FJ(){if(DC)return bp;DC=1;var e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function t(r,n){r==="china"&&n.name==="台湾"&&n.geometries.push({type:"polygon",exterior:e[0]})}return bp=t,bp}var Ap,RC;function HJ(){if(RC)return Ap;RC=1;var e=ne,t=e.each,r=vN(),n=lt,a=n.makeInner,i=NJ(),o=zJ(),l=VJ(),s=FJ(),f=a(),u={load:function(c,v,d){var m=f(v).parsed;if(m)return m;var g=v.specialAreas||{},p=v.geoJSON,y;try{y=p?r(p,d):[]}catch(x){throw new Error(`Invalid geoJson format
`+x.message)}return i(c,y),t(y,function(x){var A=x.name;o(c,x),l(c,x),s(c,x);var w=g[A];w&&x.transformTo(w.left,w.top,w.width,w.height)}),f(v).parsed={regions:y,boundingRect:h(y)}}};function h(c){for(var v,d=0;d<c.length;d++){var m=c[d].getBoundingRect();v=v||m.clone(),v.union(m)}return v}return Ap=u,Ap}var Tp,EC;function qJ(){if(EC)return Tp;EC=1;var e=Nu,t=e.parseSVG,r=e.makeViewBoxTransform,n=Bo,a=Z_,i=ne,o=i.assert,l=i.createHashMap,s=fr,f=lt,u=f.makeInner,h=u(),c={load:function(d,m){var g=h(m).originRoot;if(g)return{root:g,boundingRect:h(m).boundingRect};var p=v(m);return h(m).originRoot=p.root,h(m).boundingRect=p.boundingRect,p},makeGraphic:function(d,m,g){var p=h(m),y=p.rootMap||(p.rootMap=l()),x=y.get(g);if(x)return x;var A=p.originRoot,w=p.boundingRect;return p.originRootHostKey?x=v(m,w).root:(p.originRootHostKey=g,x=A),y.set(g,x)},removeGraphic:function(d,m,g){var p=h(m),y=p.rootMap;y&&y.removeKey(g),g===p.originRootHostKey&&(p.originRootHostKey=null)}};function v(d,m){var g=d.svgXML,p,y;try{p=g&&t(g,{ignoreViewBox:!0,ignoreRootClip:!0})||{},y=p.root,o(y!=null)}catch(T){throw new Error(`Invalid svg format
`+T.message)}var x=p.width,A=p.height,w=p.viewBoxRect;if(m||(m=x==null||A==null?y.getBoundingRect():new s(0,0,0,0),x!=null&&(m.width=x),A!=null&&(m.height=A)),w){var b=r(w,m.width,m.height),S=y;y=new n,y.add(S),S.scale=b.scale,S.position=b.position}return y.setClipPath(new a({shape:m.plain()})),{root:y,boundingRect:m}}return Tp=c,Tp}var Cp,kC;function qh(){if(kC)return Cp;kC=1;var e=ne,t=e.each,r=e.createHashMap,n=dx,a=HJ(),i=qJ(),o=fr,l={geoJSON:a,svg:i},s={load:function(h,c,v){var d=[],m=r(),g=r(),p,y=u(h);return t(y,function(x){var A=l[x.type].load(h,x,v);t(A.regions,function(b){var S=b.name;c&&c.hasOwnProperty(S)&&(b=b.cloneShallow(S=c[S])),d.push(b),m.set(S,b),g.set(S,b.center)});var w=A.boundingRect;w&&(p?p.union(w):p=w.clone())}),{regions:d,regionsMap:m,nameCoordMap:g,boundingRect:p||new o(0,0,0,0)}},makeGraphic:f("makeGraphic"),removeGraphic:f("removeGraphic")};function f(h){return function(c,v){var d=u(c),m=[];return t(d,function(g){var p=l[g.type][h];p&&m.push(p(c,g,v))}),m}}function u(h){var c=n.retrieveMap(h)||[];return c}return Cp=s,Cp}var Mp,OC;function UJ(){if(OC)return Mp;OC=1;var e=ne,t=il(),r=Br,n=jt(),a=n.encodeHTML,i=n.addCommas,o=mx(),l=mn,s=l.retrieveRawAttr,f=qh(),u=mi(),h=u.makeSeriesEncodeForNameBased,c=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(d){for(var m=t(this,{coordDimensions:["value"],encodeDefaulter:e.curry(h,this)}),g=m.mapDimension("value"),p=e.createHashMap(),y=[],x=[],A=0,w=m.count();A<w;A++){var b=m.getName(A);p.set(b,!0),y.push({name:b,value:m.get(g,A),selected:s(m,A,"selected")})}var S=f.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return e.each(S.regions,function(T){var C=T.name;p.get(C)||(y.push({name:C}),x.push(C))}),this.updateSelectedMap(y),m.appendValues([],x),m},getHostGeoModel:function(){var d=this.option.geoIndex;return d!=null?this.dependentModels.geo[d]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(d){var m=this.getData();return m.get(m.mapDimension("value"),d)},getRegionModel:function(d){var m=this.getData();return m.getItemModel(m.indexOfName(d))},formatTooltip:function(d,m,g,p){for(var y=this.getData(),x=i(this.getRawValue(d)),A=y.getName(d),w=this.seriesGroup,b=[],S=0;S<w.length;S++){var T=w[S].originalData.indexOfName(A),C=y.mapDimension("value");isNaN(w[S].originalData.get(C,T))||b.push(a(w[S].name))}var M=p==="html"?"<br/>":`
`;return b.join(", ")+M+a(A+" : "+x)},getTooltipPosition:function(d){if(d!=null){var m=this.getData().getName(d),g=this.coordinateSystem,p=g.getRegion(m);return p&&g.dataToPoint(p.center)}},setZoom:function(d){this.option.zoom=d},setCenter:function(d){this.option.center=d},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});e.mixin(c,o);var v=c;return Mp=v,Mp}var Fl={},BC;function AN(){if(BC)return Fl;BC=1;var e=Ge,t="\0_ec_interaction_mutex";function r(o,l,s){var f=i(o);f[l]=s}function n(o,l,s){var f=i(o),u=f[l];u===s&&(f[l]=null)}function a(o,l){return!!i(o)[l]}function i(o){return o[t]||(o[t]={})}return e.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Fl.take=r,Fl.release=n,Fl.isTaken=a,Fl}var Lp,NC;function Yu(){if(NC)return Lp;NC=1;var e=ne,t=Oo,r=kr,n=AN();function a(d){this.pointerChecker,this._zr=d,this._opt={};var m=e.bind,g=m(i,this),p=m(o,this),y=m(l,this),x=m(s,this),A=m(f,this);t.call(this),this.setPointerChecker=function(w){this.pointerChecker=w},this.enable=function(w,b){this.disable(),this._opt=e.defaults(e.clone(b)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),w==null&&(w=!0),(w===!0||w==="move"||w==="pan")&&(d.on("mousedown",g),d.on("mousemove",p),d.on("mouseup",y)),(w===!0||w==="scale"||w==="zoom")&&(d.on("mousewheel",x),d.on("pinch",A))},this.disable=function(){d.off("mousedown",g),d.off("mousemove",p),d.off("mouseup",y),d.off("mousewheel",x),d.off("pinch",A)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}e.mixin(a,t);function i(d){if(!(r.isMiddleOrRightButtonOnMouseUpDown(d)||d.target&&d.target.draggable)){var m=d.offsetX,g=d.offsetY;this.pointerChecker&&this.pointerChecker(d,m,g)&&(this._x=m,this._y=g,this._dragging=!0)}}function o(d){if(!(!this._dragging||!c("moveOnMouseMove",d,this._opt)||d.gestureEvent==="pinch"||n.isTaken(this._zr,"globalPan"))){var m=d.offsetX,g=d.offsetY,p=this._x,y=this._y,x=m-p,A=g-y;this._x=m,this._y=g,this._opt.preventDefaultMouseMove&&r.stop(d.event),h(this,"pan","moveOnMouseMove",d,{dx:x,dy:A,oldX:p,oldY:y,newX:m,newY:g})}}function l(d){r.isMiddleOrRightButtonOnMouseUpDown(d)||(this._dragging=!1)}function s(d){var m=c("zoomOnMouseWheel",d,this._opt),g=c("moveOnMouseWheel",d,this._opt),p=d.wheelDelta,y=Math.abs(p),x=d.offsetX,A=d.offsetY;if(!(p===0||!m&&!g)){if(m){var w=y>3?1.4:y>1?1.2:1.1,b=p>0?w:1/w;u(this,"zoom","zoomOnMouseWheel",d,{scale:b,originX:x,originY:A})}if(g){var S=Math.abs(p),T=(p>0?1:-1)*(S>3?.4:S>1?.15:.05);u(this,"scrollMove","moveOnMouseWheel",d,{scrollDelta:T,originX:x,originY:A})}}}function f(d){if(!n.isTaken(this._zr,"globalPan")){var m=d.pinchScale>1?1.1:1/1.1;u(this,"zoom",null,d,{scale:m,originX:d.pinchX,originY:d.pinchY})}}function u(d,m,g,p,y){d.pointerChecker&&d.pointerChecker(p,y.originX,y.originY)&&(r.stop(p.event),h(d,m,g,p,y))}function h(d,m,g,p,y){y.isAvailableBehavior=e.bind(c,null,g,p),d.trigger(m,y)}function c(d,m,g){var p=g[d];return!d||p&&(!e.isString(p)||m.event[p+"Key"])}var v=a;return Lp=v,Lp}var yc={},zC;function yx(){if(zC)return yc;zC=1;function e(r,n,a){var i=r.target,o=i.position;o[0]+=n,o[1]+=a,i.dirty()}function t(r,n,a,i){var o=r.target,l=r.zoomLimit,s=o.position,f=o.scale,u=r.zoom=r.zoom||1;if(u*=n,l){var h=l.min||0,c=l.max||1/0;u=Math.max(Math.min(c,u),h)}var v=u/r.zoom;r.zoom=u,s[0]-=(a-s[0])*(v-1),s[1]-=(i-s[1])*(v-1),f[0]*=v,f[1]*=v,o.dirty()}return yc.updateViewOnPan=e,yc.updateViewOnZoom=t,yc}var Ip={},VC;function Uh(){if(VC)return Ip;VC=1;var e={axisPointer:1,tooltip:1,brush:1};function t(r,n,a){var i=n.getComponentByElement(r.topTarget),o=i&&i.coordinateSystem;return i&&i!==a&&!e[i.mainType]&&o&&o.model!==a}return Ip.onIrrelevantElement=t,Ip}var Pp,FC;function TN(){if(FC)return Pp;FC=1;var e=ne,t=Yu(),r=yx(),n=Uh(),a=n.onIrrelevantElement,i=ke,o=qh(),l=ji,s=l.getUID,f=bh;function u(m){var g=m.getItemStyle(),p=m.get("areaColor");return p!=null&&(g.fill=p),g}function h(m,g,p,y,x){p.off("click"),p.off("mousedown"),g.get("selectedMode")&&(p.on("mousedown",function(){m._mouseDownFlag=!0}),p.on("click",function(A){if(m._mouseDownFlag){m._mouseDownFlag=!1;for(var w=A.target;!w.__regions;)w=w.parent;if(w){var b={type:(g.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:e.map(w.__regions,function(S){return{name:S.name,from:x.uid}})};b[g.mainType+"Id"]=g.id,y.dispatchAction(b),c(g,p)}}}))}function c(m,g){g.eachChild(function(p){e.each(p.__regions,function(y){p.trigger(m.isSelected(y.name)?"emphasis":"normal")})})}function v(m,g){var p=new i.Group;this.uid=s("ec_map_draw"),this._controller=new t(m.getZr()),this._controllerHost={target:g?p:null},this.group=p,this._updateGroup=g,this._mouseDownFlag,this._mapName,this._initialized,p.add(this._regionsGroup=new i.Group),p.add(this._backgroundGroup=new i.Group)}v.prototype={constructor:v,draw:function(m,g,p,y,x){var A=m.mainType==="geo",w=m.getData&&m.getData();A&&g.eachComponent({mainType:"series",subType:"map"},function(E){!w&&E.getHostGeoModel()===m&&(w=E.getData())});var b=m.coordinateSystem;this._updateBackground(b);var S=this._regionsGroup,T=this.group,C=b.getTransformInfo(),M=!S.childAt(0)||x,I;if(M)T.transform=C.roamTransform,T.decomposeTransform(),T.dirty();else{var P=new f;P.transform=C.roamTransform,P.decomposeTransform();var D={scale:P.scale,position:P.position};I=P.scale,i.updateProps(T,D,m)}var k=C.rawScale,R=C.rawPosition;S.removeAll();var B=["itemStyle"],V=["emphasis","itemStyle"],F=["label"],Y=["emphasis","label"],q=e.createHashMap();e.each(b.regions,function(E){var z=q.get(E.name)||q.set(E.name,new i.Group),N=new i.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});z.add(N);var H=m.getRegionModel(E.name)||m,W=H.getModel(B),U=H.getModel(V),K=u(W),Q=u(U),j=H.getModel(F),se=H.getModel(Y),le;if(w){le=w.indexOfName(E.name);var de=w.getItemVisual(le,"color",!0);de&&(K.fill=de)}var he=function(Me){return[Me[0]*k[0]+R[0],Me[1]*k[1]+R[1]]};e.each(E.geometries,function(Me){if(Me.type==="polygon"){for(var re=[],ie=0;ie<Me.exterior.length;++ie)re.push(he(Me.exterior[ie]));N.shape.paths.push(new i.Polygon({segmentIgnoreThreshold:1,shape:{points:re}}));for(var ie=0;ie<(Me.interiors?Me.interiors.length:0);++ie){for(var me=Me.interiors[ie],re=[],Ce=0;Ce<me.length;++Ce)re.push(he(me[Ce]));N.shape.paths.push(new i.Polygon({segmentIgnoreThreshold:1,shape:{points:re}}))}}}),N.setStyle(K),N.style.strokeNoScale=!0,N.culling=!0;var pe=j.get("show"),ye=se.get("show"),X=w&&isNaN(w.get(w.mapDimension("value"),le)),G=w&&w.getItemLayout(le);if(A||X&&(pe||ye)||G&&G.showLabel){var $=A?E.name:le,ee;(!w||le>=0)&&(ee=m);var fe=new i.Text({position:he(E.center.slice()),scale:[1/T.scale[0],1/T.scale[1]],z2:10,silent:!0});if(i.setLabelStyle(fe.style,fe.hoverStyle={},j,se,{labelFetcher:ee,labelDataIndex:$,defaultText:E.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!M){var oe=[1/I[0],1/I[1]];i.updateProps(fe,{scale:oe},m)}z.add(fe)}if(w)w.setItemGraphicEl(le,z);else{var H=m.getRegionModel(E.name);N.eventData={componentType:"geo",componentIndex:m.componentIndex,geoIndex:m.componentIndex,name:E.name,region:H&&H.option||{}}}var ve=z.__regions||(z.__regions=[]);ve.push(E),z.highDownSilentOnTouch=!!m.get("selectedMode"),i.setHoverStyle(z,Q),S.add(z)}),this._updateController(m,g,p),h(this,m,S,p,y),c(m,S)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&o.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(m){var g=m.map;this._mapName!==g&&e.each(o.makeGraphic(g,this.uid),function(p){this._backgroundGroup.add(p)},this),this._mapName=g},_updateController:function(m,g,p){var y=m.coordinateSystem,x=this._controller,A=this._controllerHost;A.zoomLimit=m.get("scaleLimit"),A.zoom=y.getZoom(),x.enable(m.get("roam")||!1);var w=m.mainType;function b(){var S={type:"geoRoam",componentType:w};return S[w+"Id"]=m.id,S}x.off("pan").on("pan",function(S){this._mouseDownFlag=!1,r.updateViewOnPan(A,S.dx,S.dy),p.dispatchAction(e.extend(b(),{dx:S.dx,dy:S.dy}))},this),x.off("zoom").on("zoom",function(S){if(this._mouseDownFlag=!1,r.updateViewOnZoom(A,S.scale,S.originX,S.originY),p.dispatchAction(e.extend(b(),{zoom:S.scale,originX:S.originX,originY:S.originY})),this._updateGroup){var T=this.group.scale;this._regionsGroup.traverse(function(C){C.type==="text"&&C.attr("scale",[1/T[0],1/T[1]])})}},this),x.setPointerChecker(function(S,T,C){return y.getViewRectAfterRoam().contain(T,C)&&!a(S,p,m)})}};var d=v;return Pp=d,Pp}var Dp,HC;function GJ(){if(HC)return Dp;HC=1;var e=Ge,t=ne,r=ke,n=TN(),a="__seriesMapHighDown",i="__seriesMapCallKey",o=e.extendChartView({type:"map",render:function(f,u,h,c){if(!(c&&c.type==="mapToggleSelect"&&c.from===this.uid)){var v=this.group;if(v.removeAll(),!f.getHostGeoModel()){if(c&&c.type==="geoRoam"&&c.componentType==="series"&&c.seriesId===f.id){var d=this._mapDraw;d&&v.add(d.group)}else if(f.needsDrawMap){var d=this._mapDraw||new n(h,!0);v.add(d.group),d.draw(f,u,h,this,c),this._mapDraw=d}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;f.get("showLegendSymbol")&&u.getComponent("legend")&&this._renderSymbols(f,u,h)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(f,u,h){var c=f.originalData,v=this.group;c.each(c.mapDimension("value"),function(d,m){if(!isNaN(d)){var g=c.getItemLayout(m);if(!(!g||!g.point)){var p=g.point,y=g.offset,x=new r.Circle({style:{fill:f.getData().getVisual("color")},shape:{cx:p[0]+y*9,cy:p[1],r:3},silent:!0,z2:8+(y?0:r.Z2_EMPHASIS_LIFT+1)});if(!y){var A=f.mainSeries.getData(),w=c.getName(m),b=A.indexOfName(w),S=c.getItemModel(m),T=S.getModel("label"),C=S.getModel("emphasis.label"),M=A.getItemGraphicEl(b),I=t.retrieve2(f.getFormattedLabel(b,"normal"),w),P=t.retrieve2(f.getFormattedLabel(b,"emphasis"),I),D=M[a],k=Math.random();if(!D){D=M[a]={};var R=t.curry(l,!0),B=t.curry(l,!1);M.on("mouseover",R).on("mouseout",B).on("emphasis",R).on("normal",B)}M[i]=k,t.extend(D,{recordVersion:k,circle:x,labelModel:T,hoverLabelModel:C,emphasisText:P,normalText:I}),s(D,!1)}v.add(x)}}})}});function l(f){var u=this[a];u&&u.recordVersion===this[i]&&s(u,f)}function s(f,u){var h=f.circle,c=f.labelModel,v=f.hoverLabelModel,d=f.emphasisText,m=f.normalText;u?(h.style.extendFrom(r.setTextStyle({},v,{text:v.get("show")?d:null},{isRectText:!0,useInsideStyle:!1},!0)),h.__mapOriginalZ2=h.z2,h.z2+=r.Z2_EMPHASIS_LIFT):(r.setTextStyle(h.style,c,{text:c.get("show")?m:null,textPosition:c.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),h.dirty(!1),h.__mapOriginalZ2!=null&&(h.z2=h.__mapOriginalZ2,h.__mapOriginalZ2=null))}return Dp=o,Dp}var qC={},Rp={},UC;function _x(){if(UC)return Rp;UC=1;function e(t,r,n){var a=t.getZoom(),i=t.getCenter(),o=r.zoom,l=t.dataToPoint(i);if(r.dx!=null&&r.dy!=null){l[0]-=r.dx,l[1]-=r.dy;var i=t.pointToData(l);t.setCenter(i)}if(o!=null){if(n){var s=n.min||0,f=n.max||1/0;o=Math.max(Math.min(a*o,f),s)/a}t.scale[0]*=o,t.scale[1]*=o;var u=t.position,h=(r.originX-u[0])*(o-1),c=(r.originY-u[1])*(o-1);u[0]-=h,u[1]-=c,t.updateTransform();var i=t.pointToData(l);t.setCenter(i),t.setZoom(o*a)}return{center:t.getCenter(),zoom:t.getZoom()}}return Rp.updateCenterAndZoom=e,Rp}var GC;function CN(){if(GC)return qC;GC=1;var e=Ge,t=ne,r=_x(),n=r.updateCenterAndZoom;return e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,i){var o=a.componentType||"series";i.eachComponent({mainType:o,query:a},function(l){var s=l.coordinateSystem;if(s.type==="geo"){var f=n(s,a,l.get("scaleLimit"));l.setCenter&&l.setCenter(f.center),l.setZoom&&l.setZoom(f.zoom),o==="series"&&t.each(l.seriesGroup,function(u){u.setCenter(f.center),u.setZoom(f.zoom)})}})}),qC}var Ep,WC;function xx(){if(WC)return Ep;WC=1;var e=ne,t=sr(),r=la(),n=fr,a=bh,i=t.applyTransform;function o(){a.call(this)}e.mixin(o,a);function l(u){this.name=u,this.zoomLimit,a.call(this),this._roamTransformable=new o,this._rawTransformable=new o,this._center,this._zoom}l.prototype={constructor:l,type:"view",dimensions:["x","y"],setBoundingRect:function(u,h,c,v){return this._rect=new n(u,h,c,v),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(u,h,c,v){this.transformTo(u,h,c,v),this._viewRect=new n(u,h,c,v)},transformTo:function(u,h,c,v){var d=this.getBoundingRect(),m=this._rawTransformable;m.transform=d.calculateTransform(new n(u,h,c,v)),m.decomposeTransform(),this._updateTransform()},setCenter:function(u){u&&(this._center=u,this._updateCenterAndZoom())},setZoom:function(u){u=u||1;var h=this.zoomLimit;h&&(h.max!=null&&(u=Math.min(h.max,u)),h.min!=null&&(u=Math.max(h.min,u))),this._zoom=u,this._updateCenterAndZoom()},getDefaultCenter:function(){var u=this.getBoundingRect(),h=u.x+u.width/2,c=u.y+u.height/2;return[h,c]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var u=this._rawTransformable.getLocalTransform(),h=this._roamTransformable,c=this.getDefaultCenter(),v=this.getCenter(),d=this.getZoom();v=t.applyTransform([],v,u),c=t.applyTransform([],c,u),h.origin=v,h.position=[c[0]-v[0],c[1]-v[1]],h.scale=[d,d],this._updateTransform()},_updateTransform:function(){var u=this._roamTransformable,h=this._rawTransformable;h.parent=u,u.updateTransform(),h.updateTransform(),r.copy(this.transform||(this.transform=[]),h.transform||r.create()),this._rawTransform=h.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var u=this._roamTransformable.transform,h=this._rawTransformable;return{roamTransform:u?e.slice(u):r.create(),rawScale:e.slice(h.scale),rawPosition:e.slice(h.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var u=this.getBoundingRect().clone();return u.applyTransform(this.transform),u},dataToPoint:function(u,h,c){var v=h?this._rawTransform:this.transform;return c=c||[],v?i(c,u,v):t.copy(c,u)},pointToData:function(u){var h=this.invTransform;return h?i([],u,h):[u[0],u[1]]},convertToPixel:e.curry(s,"dataToPoint"),convertFromPixel:e.curry(s,"pointToData"),containPoint:function(u){return this.getViewRectAfterRoam().contain(u[0],u[1])}},e.mixin(l,a);function s(u,h,c,v){var d=c.seriesModel,m=d?d.coordinateSystem:null;return m===this?m[u](v):null}var f=l;return Ep=f,Ep}var kp,$C;function WJ(){if($C)return kp;$C=1;var e=ne,t=fr,r=xx(),n=qh();function a(l,s,f,u){r.call(this,l),this.map=s;var h=n.load(s,f);this._nameCoordMap=h.nameCoordMap,this._regionsMap=h.regionsMap,this._invertLongitute=u??!0,this.regions=h.regions,this._rect=h.boundingRect}a.prototype={constructor:a,type:"geo",dimensions:["lng","lat"],containCoord:function(l){for(var s=this.regions,f=0;f<s.length;f++)if(s[f].contain(l))return!0;return!1},transformTo:function(l,s,f,u){var h=this.getBoundingRect(),c=this._invertLongitute;h=h.clone(),c&&(h.y=-h.y-h.height);var v=this._rawTransformable;if(v.transform=h.calculateTransform(new t(l,s,f,u)),v.decomposeTransform(),c){var d=v.scale;d[1]=-d[1]}v.updateTransform(),this._updateTransform()},getRegion:function(l){return this._regionsMap.get(l)},getRegionByCoord:function(l){for(var s=this.regions,f=0;f<s.length;f++)if(s[f].contain(l))return s[f]},addGeoCoord:function(l,s){this._nameCoordMap.set(l,s)},getGeoCoord:function(l){return this._nameCoordMap.get(l)},getBoundingRect:function(){return this._rect},dataToPoint:function(l,s,f){if(typeof l=="string"&&(l=this.getGeoCoord(l)),l)return r.prototype.dataToPoint.call(this,l,s,f)},convertToPixel:e.curry(i,"dataToPoint"),convertFromPixel:e.curry(i,"pointToData")},e.mixin(a,r);function i(l,s,f,u){var h=f.geoModel,c=f.seriesModel,v=h?h.coordinateSystem:c?c.coordinateSystem||(c.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return v===this?v[l](u):null}var o=a;return kp=o,kp}var Op,YC;function Sx(){if(YC)return Op;YC=1;var e=Ge,t=ne,r=WJ(),n=Tt,a=ht(),i=qh(),o=dx;function l(h,c){var v=h.get("boundingCoords");if(v!=null){var d=v[0],m=v[1];isNaN(d[0])||isNaN(d[1])||isNaN(m[0])||isNaN(m[1])||this.setBoundingRect(d[0],d[1],m[0]-d[0],m[1]-d[1])}var g=this.getBoundingRect(),p,y=h.get("layoutCenter"),x=h.get("layoutSize"),A=c.getWidth(),w=c.getHeight(),b=g.width/g.height*this.aspectScale,S=!1;y&&x&&(y=[a.parsePercent(y[0],A),a.parsePercent(y[1],w)],x=a.parsePercent(x,Math.min(A,w)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(x)&&(S=!0));var T;if(S){var T={};b>1?(T.width=x,T.height=x/b):(T.height=x,T.width=x*b),T.y=y[1]-T.height/2,T.x=y[0]-T.width/2}else p=h.getBoxLayoutParams(),p.aspect=b,T=n.getLayoutRect(p,{width:A,height:w});this.setViewRect(T.x,T.y,T.width,T.height),this.setCenter(h.get("center")),this.setZoom(h.get("zoom"))}function s(h,c){t.each(c.get("geoCoord"),function(v,d){h.addGeoCoord(d,v)})}var f={dimensions:r.prototype.dimensions,create:function(h,c){var v=[];h.eachComponent("geo",function(m,g){var p=m.get("map"),y=m.get("aspectScale"),x=!0,A=o.retrieveMap(p);A&&A[0]&&A[0].type==="svg"?(y==null&&(y=1),x=!1):y==null&&(y=.75);var w=new r(p+g,p,m.get("nameMap"),x);w.aspectScale=y,w.zoomLimit=m.get("scaleLimit"),v.push(w),s(w,m),m.coordinateSystem=w,w.model=m,w.resize=l,w.resize(m,c)}),h.eachSeries(function(m){var g=m.get("coordinateSystem");if(g==="geo"){var p=m.get("geoIndex")||0;m.coordinateSystem=v[p]}});var d={};return h.eachSeriesByType("map",function(m){if(!m.getHostGeoModel()){var g=m.getMapType();d[g]=d[g]||[],d[g].push(m)}}),t.each(d,function(m,g){var p=t.map(m,function(x){return x.get("nameMap")}),y=new r(g,g,t.mergeAll(p));y.zoomLimit=t.retrieve.apply(null,t.map(m,function(x){return x.get("scaleLimit")})),v.push(y),y.resize=l,y.aspectScale=m[0].get("aspectScale"),y.resize(m[0],c),t.each(m,function(x){x.coordinateSystem=y,s(y,x)})}),v},getFilledRegions:function(h,c,v){for(var d=(h||[]).slice(),m=t.createHashMap(),g=0;g<d.length;g++)m.set(d[g].name,d[g]);var p=i.load(c,v);return t.each(p.regions,function(y){var x=y.name;!m.get(x)&&d.push({name:x})}),d}};e.registerCoordinateSystem("geo",f);var u=f;return Op=u,Op}var Bp,ZC;function $J(){if(ZC)return Bp;ZC=1;var e=ne;function t(r){var n={};r.eachSeriesByType("map",function(a){var i=a.getMapType();if(!(a.getHostGeoModel()||n[i])){var o={};e.each(a.seriesGroup,function(s){var f=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&r.getComponent("legend")&&u.each(u.mapDimension("value"),function(h,c){var v=u.getName(c),d=f.getRegion(v);if(!(!d||isNaN(h))){var m=o[v]||0,g=f.dataToPoint(d.center);o[v]=m+1,u.setItemLayout(c,{point:g,offset:m})}})});var l=a.getData();l.each(function(s){var f=l.getName(s),u=l.getItemLayout(s)||{};u.showLabel=!o[f],l.setItemLayout(s,u)}),n[i]=!0}})}return Bp=t,Bp}var Np,KC;function YJ(){if(KC)return Np;KC=1;function e(t){t.eachSeriesByType("map",function(r){var n=r.get("color"),a=r.getModel("itemStyle"),i=a.get("areaColor"),o=a.get("color")||n[r.seriesIndex%n.length];r.getData().setVisual({areaColor:i,color:o})})}return Np=e,Np}var zp,XC;function ZJ(){if(XC)return zp;XC=1;var e=ne;function t(n,a){var i={};return e.each(n,function(o){o.each(o.mapDimension("value"),function(l,s){var f="ec-"+o.getName(s);i[f]=i[f]||[],isNaN(l)||i[f].push(l)})}),n[0].map(n[0].mapDimension("value"),function(o,l){for(var s="ec-"+n[0].getName(l),f=0,u=1/0,h=-1/0,c=i[s].length,v=0;v<c;v++)u=Math.min(u,i[s][v]),h=Math.max(h,i[s][v]),f+=i[s][v];var d;return a==="min"?d=u:a==="max"?d=h:a==="average"?d=f/c:d=f,c===0?NaN:d})}function r(n){var a={};n.eachSeriesByType("map",function(i){var o=i.getHostGeoModel(),l=o?"o"+o.id:"i"+i.getMapType();(a[l]=a[l]||[]).push(i)}),e.each(a,function(i,o){for(var l=t(e.map(i,function(f){return f.getData()}),i[0].get("mapValueCalculation")),s=0;s<i.length;s++)i[s].originalData=i[s].getData();for(var s=0;s<i.length;s++)i[s].seriesGroup=i,i[s].needsDrawMap=s===0&&!i[s].getHostGeoModel(),i[s].setData(l.cloneShallow()),i[s].mainSeries=i[0]})}return zp=r,zp}var Vp,QC;function KJ(){if(QC)return Vp;QC=1;var e=ne;function t(r){e.each(r.series,function(n){n&&n.type==="map"&&(n.map=n.map||n.mapType,e.defaults(n,n.mapLocation))})}return Vp=t,Vp}var JC;function XJ(){if(JC)return MC;JC=1;var e=Ge;UJ(),GJ(),CN(),Sx();var t=$J(),r=YJ(),n=ZJ(),a=KJ(),i=bN();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,n),e.registerPreprocessor(a),i("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),MC}var jC={},Fp,eM;function MN(){if(eM)return Fp;eM=1;var e=ne,t=e.each,r="\0__link_datas",n="\0__link_mainData";function a(v){var d=v.mainData,m=v.datas;m||(m={main:d},v.datasAttr={main:"data"}),v.datas=v.mainData=null,u(d,m,v),t(m,function(g){t(d.TRANSFERABLE_METHODS,function(p){g.wrapMethod(p,e.curry(i,v))})}),d.wrapMethod("cloneShallow",e.curry(l,v)),t(d.CHANGABLE_METHODS,function(g){d.wrapMethod(g,e.curry(o,v))}),e.assert(m[d.dataType]===d)}function i(v,d){if(f(this)){var m=e.extend({},this[r]);m[this.dataType]=d,u(d,m,v)}else h(d,this.dataType,this[n],v);return d}function o(v,d){return v.struct&&v.struct.update(this),d}function l(v,d){return t(d[r],function(m,g){m!==d&&h(m.cloneShallow(),g,d,v)}),d}function s(v){var d=this[n];return v==null||d==null?d:d[r][v]}function f(v){return v[n]===v}function u(v,d,m){v[r]={},t(d,function(g,p){h(g,p,v,m)})}function h(v,d,m,g){m[r][d]=v,v[n]=m,v.dataType=d,g.struct&&(v[g.structAttr]=g.struct,g.struct[g.datasAttr[d]]=v),v.getLinkedData=s}var c=a;return Fp=c,Fp}var Hp,tM;function bx(){if(tM)return Hp;tM=1;var e=ne,t=MN(),r=Ja(),n=al(),a=function(s,f){this.name=s||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=f};a.prototype={constructor:a,isRemoved:function(){return this.dataIndex<0},eachNode:function(s,f,u){typeof s=="function"&&(u=f,f=s,s=null),s=s||{},e.isString(s)&&(s={order:s});var h=s.order||"preorder",c=this[s.attr||"children"],v;h==="preorder"&&(v=f.call(u,this));for(var d=0;!v&&d<c.length;d++)c[d].eachNode(s,f,u);h==="postorder"&&f.call(u,this)},updateDepthAndHeight:function(s){var f=0;this.depth=s;for(var u=0;u<this.children.length;u++){var h=this.children[u];h.updateDepthAndHeight(s+1),h.height>f&&(f=h.height)}this.height=f+1},getNodeById:function(s){if(this.getId()===s)return this;for(var f=0,u=this.children,h=u.length;f<h;f++){var c=u[f].getNodeById(s);if(c)return c}},contains:function(s){if(s===this)return!0;for(var f=0,u=this.children,h=u.length;f<h;f++){var c=u[f].contains(s);if(c)return c}},getAncestors:function(s){for(var f=[],u=s?this:this.parentNode;u;)f.push(u),u=u.parentNode;return f.reverse(),f},getValue:function(s){var f=this.hostTree.data;return f.get(f.getDimension(s||"value"),this.dataIndex)},setLayout:function(s,f){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,s,f)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(s){if(!(this.dataIndex<0)){var f=this.hostTree,u=f.data.getItemModel(this.dataIndex);return u.getModel(s)}},setVisual:function(s,f){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,s,f)},getVisual:function(s,f){return this.hostTree.data.getItemVisual(this.dataIndex,s,f)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(s){for(var f=s.parentNode;f;){if(f===this)return!0;f=f.parentNode}return!1},isDescendantOf:function(s){return s!==this&&s.isAncestorOf(this)}};function i(s){this.root,this.data,this._nodes=[],this.hostModel=s}i.prototype={constructor:i,type:"tree",eachNode:function(s,f,u){this.root.eachNode(s,f,u)},getNodeByDataIndex:function(s){var f=this.data.getRawIndex(s);return this._nodes[f]},getNodeByName:function(s){return this.root.getNodeByName(s)},update:function(){for(var s=this.data,f=this._nodes,u=0,h=f.length;u<h;u++)f[u].dataIndex=-1;for(var u=0,h=s.count();u<h;u++)f[s.getRawIndex(u)].dataIndex=u},clearLayouts:function(){this.data.clearItemLayouts()}},i.createTree=function(s,f,u){var h=new i(f),c=[],v=1;d(s);function d(p,y){var x=p.value;v=Math.max(v,e.isArray(x)?x.length:1),c.push(p);var A=new a(p.name,h);y?o(A,y):h.root=A,h._nodes.push(A);var w=p.children;if(w)for(var b=0;b<w.length;b++)d(w[b],A)}h.root.updateDepthAndHeight(0);var m=n(c,{coordDimensions:["value"],dimensionsCount:v}),g=new r(m,f);return g.initData(c),u&&u(g),t({mainData:g,struct:h,structAttr:"tree"}),h.update(),h};function o(s,f){var u=f.children;s.parentNode!==f&&(u.push(s),s.parentNode=f)}var l=i;return Hp=l,Hp}var qp,rM;function QJ(){if(rM)return qp;rM=1;var e=Br,t=bx(),r=jt(),n=r.encodeHTML,a=br(),i=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(o){var l={name:o.name,children:o.data},s=o.leaves||{},f=new a(s,this,this.ecModel),u=t.createTree(l,this,h);function h(m){m.wrapMethod("getItemModel",function(g,p){var y=u.getNodeByDataIndex(p);return(!y.children.length||!y.isExpand)&&(g.parentModel=f),g})}var c=0;u.eachNode("preorder",function(m){m.depth>c&&(c=m.depth)});var v=o.expandAndCollapse,d=v&&o.initialTreeDepth>=0?o.initialTreeDepth:c;return u.root.eachNode("preorder",function(m){var g=m.hostTree.data.getRawDataItem(m.dataIndex);m.isExpand=g&&g.collapsed!=null?!g.collapsed:m.depth<=d}),u.data},getOrient:function(){var o=this.get("orient");return o==="horizontal"?o="LR":o==="vertical"&&(o="TB"),o},setZoom:function(o){this.option.zoom=o},setCenter:function(o){this.option.center=o},formatTooltip:function(o){for(var l=this.getData().tree,s=l.root.children[0],f=l.getNodeByDataIndex(o),u=f.getValue(),h=f.name;f&&f!==s;)h=f.parentNode.name+"."+h,f=f.parentNode;return n(h+(isNaN(u)||u==null?"":" : "+u))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});return qp=i,qp}var Ni={},aM;function LN(){if(aM)return Ni;aM=1;var e=Tt;function t(d){d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var m=[d],g,p;g=m.pop();)if(p=g.children,g.isExpand&&p.length)for(var y=p.length,x=y-1;x>=0;x--){var A=p[x];A.hierNode={defaultAncestor:null,ancestor:A,prelim:0,modifier:0,change:0,shift:0,i:x,thread:null},m.push(A)}}function r(d,m){var g=d.isExpand?d.children:[],p=d.parentNode.children,y=d.hierNode.i?p[d.hierNode.i-1]:null;if(g.length){l(d);var x=(g[0].hierNode.prelim+g[g.length-1].hierNode.prelim)/2;y?(d.hierNode.prelim=y.hierNode.prelim+m(d,y),d.hierNode.modifier=d.hierNode.prelim-x):d.hierNode.prelim=x}else y&&(d.hierNode.prelim=y.hierNode.prelim+m(d,y));d.parentNode.hierNode.defaultAncestor=s(d,y,d.parentNode.hierNode.defaultAncestor||p[0],m)}function n(d){var m=d.hierNode.prelim+d.parentNode.hierNode.modifier;d.setLayout({x:m},!0),d.hierNode.modifier+=d.parentNode.hierNode.modifier}function a(d){return arguments.length?d:v}function i(d,m){var g={};return d-=Math.PI/2,g.x=m*Math.cos(d),g.y=m*Math.sin(d),g}function o(d,m){return e.getLayoutRect(d.getBoxLayoutParams(),{width:m.getWidth(),height:m.getHeight()})}function l(d){for(var m=d.children,g=m.length,p=0,y=0;--g>=0;){var x=m[g];x.hierNode.prelim+=p,x.hierNode.modifier+=p,y+=x.hierNode.change,p+=x.hierNode.shift+y}}function s(d,m,g,p){if(m){for(var y=d,x=d,A=x.parentNode.children[0],w=m,b=y.hierNode.modifier,S=x.hierNode.modifier,T=A.hierNode.modifier,C=w.hierNode.modifier;w=f(w),x=u(x),w&&x;){y=f(y),A=u(A),y.hierNode.ancestor=d;var M=w.hierNode.prelim+C-x.hierNode.prelim-S+p(w,x);M>0&&(c(h(w,d,g),d,M),S+=M,b+=M),C+=w.hierNode.modifier,S+=x.hierNode.modifier,b+=y.hierNode.modifier,T+=A.hierNode.modifier}w&&!f(y)&&(y.hierNode.thread=w,y.hierNode.modifier+=C-b),x&&!u(A)&&(A.hierNode.thread=x,A.hierNode.modifier+=S-T,g=d)}return g}function f(d){var m=d.children;return m.length&&d.isExpand?m[m.length-1]:d.hierNode.thread}function u(d){var m=d.children;return m.length&&d.isExpand?m[0]:d.hierNode.thread}function h(d,m,g){return d.hierNode.ancestor.parentNode===m.parentNode?d.hierNode.ancestor:g}function c(d,m,g){var p=g/(m.hierNode.i-d.hierNode.i);m.hierNode.change-=p,m.hierNode.shift+=g,m.hierNode.modifier+=g,m.hierNode.prelim+=g,d.hierNode.change+=p}function v(d,m){return d.parentNode===m.parentNode?1:2}return Ni.init=t,Ni.firstWalk=r,Ni.secondWalk=n,Ni.separation=a,Ni.radialCoordinate=i,Ni.getViewRect=o,Ni}var Up,nM;function JJ(){if(nM)return Up;nM=1;var e=ne,t=ke,r=zh(),n=LN(),a=n.radialCoordinate,i=Ge,o=Du(),l=xx(),s=yx(),f=Yu(),u=Uh(),h=u.onIrrelevantElement,c=ht(),v=c.parsePercent,d=t.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(b,S){var T=S.childPoints,C=T.length,M=S.parentPoint,I=T[0],P=T[C-1];if(C===1){b.moveTo(M[0],M[1]),b.lineTo(I[0],I[1]);return}var D=S.orient,k=D==="TB"||D==="BT"?0:1,R=1-k,B=v(S.forkPosition,1),V=[];V[k]=M[k],V[R]=M[R]+(P[R]-M[R])*B,b.moveTo(M[0],M[1]),b.lineTo(V[0],V[1]),b.moveTo(I[0],I[1]),V[k]=I[k],b.lineTo(V[0],V[1]),V[k]=P[k],b.lineTo(V[0],V[1]),b.lineTo(P[0],P[1]);for(var F=1;F<C-1;F++){var Y=T[F];b.moveTo(Y[0],Y[1]),V[k]=Y[k],b.lineTo(V[0],V[1])}}}),m=i.extendChartView({type:"tree",init:function(b,S){this._oldTree,this._mainGroup=new t.Group,this._controller=new f(S.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(b,S,T,C){var M=b.getData(),I=b.layoutInfo,P=this._mainGroup,D=b.get("layout");D==="radial"?P.attr("position",[I.x+I.width/2,I.y+I.height/2]):P.attr("position",[I.x,I.y]),this._updateViewCoordSys(b,I,D),this._updateController(b,S,T);var k=this._data,R={expandAndCollapse:b.get("expandAndCollapse"),layout:D,edgeShape:b.get("edgeShape"),edgeForkPosition:b.get("edgeForkPosition"),orient:b.getOrient(),curvature:b.get("lineStyle.curveness"),symbolRotate:b.get("symbolRotate"),symbolOffset:b.get("symbolOffset"),hoverAnimation:b.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};M.diff(k).add(function(B){g(M,B)&&y(M,B,null,P,b,R)}).update(function(B,V){var F=k.getItemGraphicEl(V);if(!g(M,B)){F&&A(k,V,F,P,b,R);return}y(M,B,F,P,b,R)}).remove(function(B){var V=k.getItemGraphicEl(B);V&&A(k,B,V,P,b,R)}).execute(),this._nodeScaleRatio=b.get("nodeScaleRatio"),this._updateNodeAndLinkScale(b),R.expandAndCollapse===!0&&M.eachItemGraphicEl(function(B,V){B.off("click").on("click",function(){T.dispatchAction({type:"treeExpandAndCollapse",seriesId:b.id,dataIndex:V})})}),this._data=M},_updateViewCoordSys:function(b){var S=b.getData(),T=[];S.each(function(k){var R=S.getItemLayout(k);R&&!isNaN(R.x)&&!isNaN(R.y)&&T.push([+R.x,+R.y])});var C=[],M=[];o.fromPoints(T,C,M);var I=this._min,P=this._max;M[0]-C[0]===0&&(C[0]=I?I[0]:C[0]-1,M[0]=P?P[0]:M[0]+1),M[1]-C[1]===0&&(C[1]=I?I[1]:C[1]-1,M[1]=P?P[1]:M[1]+1);var D=b.coordinateSystem=new l;D.zoomLimit=b.get("scaleLimit"),D.setBoundingRect(C[0],C[1],M[0]-C[0],M[1]-C[1]),D.setCenter(b.get("center")),D.setZoom(b.get("zoom")),this.group.attr({position:D.position,scale:D.scale}),this._viewCoordSys=D,this._min=C,this._max=M},_updateController:function(b,S,T){var C=this._controller,M=this._controllerHost,I=this.group;C.setPointerChecker(function(P,D,k){var R=I.getBoundingRect();return R.applyTransform(I.transform),R.contain(D,k)&&!h(P,T,b)}),C.enable(b.get("roam")),M.zoomLimit=b.get("scaleLimit"),M.zoom=b.coordinateSystem.getZoom(),C.off("pan").off("zoom").on("pan",function(P){s.updateViewOnPan(M,P.dx,P.dy),T.dispatchAction({seriesId:b.id,type:"treeRoam",dx:P.dx,dy:P.dy})},this).on("zoom",function(P){s.updateViewOnZoom(M,P.scale,P.originX,P.originY),T.dispatchAction({seriesId:b.id,type:"treeRoam",zoom:P.scale,originX:P.originX,originY:P.originY}),this._updateNodeAndLinkScale(b)},this)},_updateNodeAndLinkScale:function(b){var S=b.getData(),T=this._getNodeGlobalScale(b),C=[T,T];S.eachItemGraphicEl(function(M,I){M.attr("scale",C)})},_getNodeGlobalScale:function(b){var S=b.coordinateSystem;if(S.type!=="view")return 1;var T=this._nodeScaleRatio,C=S.scale,M=C&&C[0]||1,I=S.getZoom(),P=(I-1)*T+1;return P/M},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function g(b,S){var T=b.getItemLayout(S);return T&&!isNaN(T.x)&&!isNaN(T.y)&&b.getItemVisual(S,"symbol")!=="none"}function p(b,S,T){return T.itemModel=S,T.itemStyle=S.getModel("itemStyle").getItemStyle(),T.hoverItemStyle=S.getModel("emphasis.itemStyle").getItemStyle(),T.lineStyle=S.getModel("lineStyle").getLineStyle(),T.labelModel=S.getModel("label"),T.hoverLabelModel=S.getModel("emphasis.label"),b.isExpand===!1&&b.children.length!==0?T.symbolInnerColor=T.itemStyle.fill:T.symbolInnerColor="#fff",T}function y(b,S,T,C,M,R){var P=!T,D=b.tree.getNodeByDataIndex(S),k=D.getModel(),R=p(D,k,R),B=b.tree.root,V=D.parentNode===B?D:D.parentNode||D,F=b.getItemGraphicEl(V.dataIndex),Y=V.getLayout(),q=F?{x:F.position[0],y:F.position[1],rawX:F.__radialOldRawX,rawY:F.__radialOldRawY}:Y,E=D.getLayout();P?(T=new r(b,S,R),T.attr("position",[q.x,q.y])):T.updateData(b,S,R),T.__radialOldRawX=T.__radialRawX,T.__radialOldRawY=T.__radialRawY,T.__radialRawX=E.rawX,T.__radialRawY=E.rawY,C.add(T),b.setItemGraphicEl(S,T),t.updateProps(T,{position:[E.x,E.y]},M);var z=T.getSymbolPath();if(R.layout==="radial"){var N=B.children[0],H=N.getLayout(),W=N.children.length,U,K;if(E.x===H.x&&D.isExpand===!0){var Q={};Q.x=(N.children[0].getLayout().x+N.children[W-1].getLayout().x)/2,Q.y=(N.children[0].getLayout().y+N.children[W-1].getLayout().y)/2,U=Math.atan2(Q.y-H.y,Q.x-H.x),U<0&&(U=Math.PI*2+U),K=Q.x<H.x,K&&(U=U-Math.PI)}else U=Math.atan2(E.y-H.y,E.x-H.x),U<0&&(U=Math.PI*2+U),D.children.length===0||D.children.length!==0&&D.isExpand===!1?(K=E.x<H.x,K&&(U=U-Math.PI)):(K=E.x>H.x,K||(U=U-Math.PI));var j=K?"left":"right",se=R.labelModel.get("rotate"),le=se*(Math.PI/180);z.setStyle({textPosition:R.labelModel.get("position")||j,textRotation:se==null?-U:le,textOrigin:"center",verticalAlign:"middle"})}x(M,D,B,T,q,Y,E,C,R)}function x(b,S,T,C,M,I,P,D,k){var R=k.edgeShape,B=C.__edge;if(R==="curve")S.parentNode&&S.parentNode!==T&&(B||(B=C.__edge=new t.BezierCurve({shape:w(k,M,M),style:e.defaults({opacity:0,strokeNoScale:!0},k.lineStyle)})),t.updateProps(B,{shape:w(k,I,P),style:e.defaults({opacity:1},k.lineStyle)},b));else if(R==="polyline"&&k.layout==="orthogonal"&&S!==T&&S.children&&S.children.length!==0&&S.isExpand===!0){for(var V=S.children,F=[],Y=0;Y<V.length;Y++){var q=V[Y].getLayout();F.push([q.x,q.y])}B||(B=C.__edge=new d({shape:{parentPoint:[P.x,P.y],childPoints:[[P.x,P.y]],orient:k.orient,forkPosition:k.edgeForkPosition},style:e.defaults({opacity:0,strokeNoScale:!0},k.lineStyle)})),t.updateProps(B,{shape:{parentPoint:[P.x,P.y],childPoints:F},style:e.defaults({opacity:1},k.lineStyle)},b)}D.add(B)}function A(b,S,T,C,M,R){for(var P=b.tree.getNodeByDataIndex(S),D=b.tree.root,k=P.getModel(),R=p(P,k,R),B=P.parentNode===D?P:P.parentNode||P,E=R.edgeShape,V;V=B.getLayout(),V==null;)B=B.parentNode===D?B:B.parentNode||B;t.updateProps(T,{position:[V.x+1,V.y+1]},M,function(){C.remove(T),b.setItemGraphicEl(S,null)}),T.fadeOut(null,{keepLabel:!0});var F=b.getItemGraphicEl(B.dataIndex),Y=F.__edge,q=T.__edge||(B.isExpand===!1||B.children.length===1?Y:void 0),E=R.edgeShape;q&&(E==="curve"?t.updateProps(q,{shape:w(R,V,V),style:{opacity:0}},M,function(){C.remove(q)}):E==="polyline"&&R.layout==="orthogonal"&&t.updateProps(q,{shape:{parentPoint:[V.x,V.y],childPoints:[[V.x,V.y]]},style:{opacity:0}},M,function(){C.remove(q)}))}function w(b,S,T){var C,M,I,P,D=b.orient,k,R,B,V;if(b.layout==="radial"){k=S.rawX,B=S.rawY,R=T.rawX,V=T.rawY;var F=a(k,B),Y=a(k,B+(V-B)*b.curvature),q=a(R,V+(B-V)*b.curvature),E=a(R,V);return{x1:F.x,y1:F.y,x2:E.x,y2:E.y,cpx1:Y.x,cpy1:Y.y,cpx2:q.x,cpy2:q.y}}else k=S.x,B=S.y,R=T.x,V=T.y,(D==="LR"||D==="RL")&&(C=k+(R-k)*b.curvature,M=B,I=R+(k-R)*b.curvature,P=V),(D==="TB"||D==="BT")&&(C=k,M=B+(V-B)*b.curvature,I=R,P=V+(B-V)*b.curvature);return{x1:k,y1:B,x2:R,y2:V,cpx1:C,cpy1:M,cpx2:I,cpy2:P}}return Up=m,Up}var iM={},oM;function jJ(){if(oM)return iM;oM=1;var e=Ge,t=_x(),r=t.updateCenterAndZoom;return e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,a){a.eachComponent({mainType:"series",subType:"tree",query:n},function(i){var o=n.dataIndex,l=i.getData().tree,s=l.getNodeByDataIndex(o);s.isExpand=!s.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,a){a.eachComponent({mainType:"series",subType:"tree",query:n},function(i){var o=i.coordinateSystem,l=r(o,n);i.setCenter&&i.setCenter(l.center),i.setZoom&&i.setZoom(l.zoom)})}),iM}var _c={},sM;function ej(){if(sM)return _c;sM=1;function e(r,n,a){for(var i=[r],o=[],l;l=i.pop();)if(o.push(l),l.isExpand){var s=l.children;if(s.length)for(var f=0;f<s.length;f++)i.push(s[f])}for(;l=o.pop();)n(l,a)}function t(r,n){for(var a=[r],i;i=a.pop();)if(n(i),i.isExpand){var o=i.children;if(o.length)for(var l=o.length-1;l>=0;l--)a.push(o[l])}}return _c.eachAfter=e,_c.eachBefore=t,_c}var Gp,lM;function tj(){if(lM)return Gp;lM=1;var e=ej(),t=e.eachAfter,r=e.eachBefore,n=LN(),a=n.init,i=n.firstWalk,o=n.secondWalk,l=n.separation,s=n.radialCoordinate,f=n.getViewRect;function u(c,v){c.eachSeriesByType("tree",function(d){h(d,v)})}function h(c,v){var d=f(c,v);c.layoutInfo=d;var m=c.get("layout"),g=0,p=0,y=null;m==="radial"?(g=2*Math.PI,p=Math.min(d.height,d.width)/2,y=l(function(R,B){return(R.parentNode===B.parentNode?1:2)/R.depth})):(g=d.width,p=d.height,y=l());var x=c.getData().tree.root,A=x.children[0];if(A){a(x),t(A,i,y),x.hierNode.modifier=-A.hierNode.prelim,r(A,o);var w=A,b=A,S=A;r(A,function(R){var B=R.getLayout().x;B<w.getLayout().x&&(w=R),B>b.getLayout().x&&(b=R),R.depth>S.depth&&(S=R)});var T=w===b?1:y(w,b)/2,C=T-w.getLayout().x,M=0,I=0,P=0,D=0;if(m==="radial")M=g/(b.getLayout().x+T+C),I=p/(S.depth-1||1),r(A,function(R){P=(R.getLayout().x+C)*M,D=(R.depth-1)*I;var B=s(P,D);R.setLayout({x:B.x,y:B.y,rawX:P,rawY:D},!0)});else{var k=c.getOrient();k==="RL"||k==="LR"?(I=p/(b.getLayout().x+T+C),M=g/(S.depth-1||1),r(A,function(R){D=(R.getLayout().x+C)*I,P=k==="LR"?(R.depth-1)*M:g-(R.depth-1)*M,R.setLayout({x:P,y:D},!0)})):(k==="TB"||k==="BT")&&(M=g/(b.getLayout().x+T+C),I=p/(S.depth-1||1),r(A,function(R){P=(R.getLayout().x+C)*M,D=k==="TB"?(R.depth-1)*I:p-(R.depth-1)*I,R.setLayout({x:P,y:D},!0)}))}}}return Gp=u,Gp}var uM;function rj(){if(uM)return jC;uM=1;var e=Ge;QJ(),JJ(),jJ();var t=Fo(),r=tj();return e.registerVisual(t("tree","circle")),e.registerLayout(r),jC}var fM={},cs={},cM;function qo(){if(cM)return cs;cM=1;var e=ne;function t(i,o,l){if(i&&e.indexOf(o,i.type)>=0){var s=l.getData().tree.root,f=i.targetNode;if(typeof f=="string"&&(f=s.getNodeById(f)),f&&s.contains(f))return{node:f};var u=i.targetNodeId;if(u!=null&&(f=s.getNodeById(u)))return{node:f}}}function r(i){for(var o=[];i;)i=i.parentNode,i&&o.push(i);return o.reverse()}function n(i,o){var l=r(i);return e.indexOf(l,o)>=0}function a(i,o){for(var l=[];i;){var s=i.dataIndex;l.push({name:i.name,dataIndex:s,value:o.getRawValue(s)}),i=i.parentNode}return l.reverse(),l}return cs.retrieveTargetInfo=t,cs.getPathToRoot=r,cs.aboveViewRoot=n,cs.wrapTreePathInfo=a,cs}var Wp,hM;function aj(){if(hM)return Wp;hM=1;var e=ne,t=Br,r=bx(),n=br(),a=jt(),i=a.encodeHTML,o=a.addCommas,l=qo(),s=l.wrapTreePathInfo,f=t.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(c,v){var d={name:c.name,children:c.data};u(d);var m=c.levels||[],g=this.designatedVisualItemStyle={},p=new n({itemStyle:g},this,v);m=c.levels=h(m,v);var y=e.map(m||[],function(w){return new n(w,p,v)},this),x=r.createTree(d,this,A);function A(w){w.wrapMethod("getItemModel",function(b,S){var T=x.getNodeByDataIndex(S),C=y[T.depth];return b.parentModel=C||p,b})}return x.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(c){var v=this.getData(),d=this.getRawValue(c),m=e.isArray(d)?o(d[0]):o(d),g=v.getName(c);return i(g+": "+m)},getDataParams:function(c){var v=t.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(c);return v.treePathInfo=s(d,this),v},setLayoutInfo:function(c){this.layoutInfo=this.layoutInfo||{},e.extend(this.layoutInfo,c)},mapIdToIndex:function(c){var v=this._idIndexMap;v||(v=this._idIndexMap=e.createHashMap(),this._idIndexMapCount=0);var d=v.get(c);return d==null&&v.set(c,d=this._idIndexMapCount++),d},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(c){c?this._viewRoot=c:c=this._viewRoot;var v=this.getRawData().tree.root;(!c||c!==v&&!v.contains(c))&&(this._viewRoot=v)}});function u(c){var v=0;e.each(c.children,function(m){u(m);var g=m.value;e.isArray(g)&&(g=g[0]),v+=g});var d=c.value;e.isArray(d)&&(d=d[0]),(d==null||isNaN(d))&&(d=v),d<0&&(d=0),e.isArray(c.value)?c.value[0]=d:c.value=d}function h(c,v){var d=v.get("color");if(d){c=c||[];var m;if(e.each(c,function(p){var y=new n(p),x=y.get("color");(y.get("itemStyle.color")||x&&x!=="none")&&(m=!0)}),!m){var g=c[0]||(c[0]={});g.color=d.slice()}return c}}return Wp=f,Wp}var $p,vM;function nj(){if(vM)return $p;vM=1;var e=ke,t=Tt,r=ne,n=qo(),a=n.wrapTreePathInfo,i=8,o=8,l=5;function s(c){this.group=new e.Group,c.add(this.group)}s.prototype={constructor:s,render:function(c,v,d,m){var g=c.getModel("breadcrumb"),p=this.group;if(p.removeAll(),!(!g.get("show")||!d)){var y=g.getModel("itemStyle"),x=y.getModel("textStyle"),A={pos:{left:g.get("left"),right:g.get("right"),top:g.get("top"),bottom:g.get("bottom")},box:{width:v.getWidth(),height:v.getHeight()},emptyItemWidth:g.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(d,A,x),this._renderContent(c,A,y,x,m),t.positionElement(p,A.pos,A.box)}},_prepare:function(c,v,d){for(var m=c;m;m=m.parentNode){var g=m.getModel().get("name"),p=d.getTextRect(g),y=Math.max(p.width+i*2,v.emptyItemWidth);v.totalWidth+=y+o,v.renderList.push({node:m,text:g,width:y})}},_renderContent:function(c,v,d,m,g){for(var p=0,y=v.emptyItemWidth,x=c.get("breadcrumb.height"),A=t.getAvailableSize(v.pos,v.box),w=v.totalWidth,b=v.renderList,S=b.length-1;S>=0;S--){var T=b[S],C=T.node,M=T.width,I=T.text;w>A.width&&(w-=M-y,M=y,I=null);var P=new e.Polygon({shape:{points:f(p,0,M,x,S===b.length-1,S===0)},style:r.defaults(d.getItemStyle(),{lineJoin:"bevel",text:I,textFill:m.getTextColor(),textFont:m.getFont()}),z:10,onclick:r.curry(g,C)});this.group.add(P),u(P,c,C),p+=M+o}},remove:function(){this.group.removeAll()}};function f(c,v,d,m,g,p){var y=[[g?c:c-l,v],[c+d,v],[c+d,v+m],[g?c:c-l,v+m]];return!p&&y.splice(2,0,[c+d+l,v+m/2]),!g&&y.push([c,v+m/2]),y}function u(c,v,d){c.eventData={componentType:"series",componentSubType:"treemap",componentIndex:v.componentIndex,seriesIndex:v.componentIndex,seriesName:v.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:d&&d.dataIndex,name:d&&d.name},treePathInfo:d&&a(d,v)}}var h=s;return $p=h,$p}var Yp={},dM;function ij(){if(dM)return Yp;dM=1;var e=ne;function t(){var r=[],n={},a;return{add:function(i,o,l,s,f){return e.isString(s)&&(f=s,s=0),n[i.id]?!1:(n[i.id]=1,r.push({el:i,target:o,time:l,delay:s,easing:f}),!0)},done:function(i){return a=i,this},start:function(){for(var i=r.length,o=0,l=r.length;o<l;o++){var s=r[o];s.el.animateTo(s.target,s.time,s.delay,s.easing,f)}return this;function f(){i--,i||(r.length=0,n={},a&&a())}}}}return Yp.createWrap=t,Yp}var Zp,gM;function oj(){if(gM)return Zp;gM=1;var e=Ge,t=ne,r=ke,n=Vo(),a=qo(),i=nj(),o=Yu(),l=fr,s=la(),f=ij(),u=Xs(),h=jt(),c=h.windowOpen,v=t.bind,d=r.Group,m=r.Rect,g=t.each,p=3,y=["label"],x=["emphasis","label"],A=["upperLabel"],w=["emphasis","upperLabel"],b=10,S=1,T=2,C=u([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),M=function(R){var B=C(R);return B.stroke=B.fill=B.lineWidth=null,B},I=e.extendChartView({type:"treemap",init:function(R,B){this._containerGroup,this._storage=P(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(R,B,V,F){var Y=B.findComponents({mainType:"series",subType:"treemap",query:F});if(!(t.indexOf(Y,R)<0)){this.seriesModel=R,this.api=V,this.ecModel=B;var q=["treemapZoomToNode","treemapRootToNode"],E=a.retrieveTargetInfo(F,q,R),z=F&&F.type,N=R.layoutInfo,H=!this._oldTree,W=this._storage,U=z==="treemapRootToNode"&&E&&W?{rootNodeGroup:W.nodeGroup[E.node.getRawIndex()],direction:F.direction}:null,K=this._giveContainerGroup(N),Q=this._doRender(K,R,U);!H&&(!z||z==="treemapZoomToNode"||z==="treemapRootToNode")?this._doAnimation(K,Q,R,U):Q.renderFinally(),this._resetController(V),this._renderBreadcrumb(R,V,E)}},_giveContainerGroup:function(R){var B=this._containerGroup;return B||(B=this._containerGroup=new d,this._initEvents(B),this.group.add(B)),B.attr("position",[R.x,R.y]),B},_doRender:function(R,B,V){var F=B.getData().tree,Y=this._oldTree,q=P(),E=P(),z=this._storage,N=[],H=t.curry(D,B,E,z,V,q,N);U(F.root?[F.root]:[],Y&&Y.root?[Y.root]:[],R,F===Y||!Y,0);var W=K(z);return this._oldTree=F,this._storage=E,{lastsForAnimation:q,willDeleteEls:W,renderFinally:Q};function U(j,se,le,de,he){de?(se=j,g(j,function(X,G){!X.isRemoved()&&ye(G,G)})):new n(se,j,pe,pe).add(ye).update(ye).remove(t.curry(ye,null)).execute();function pe(X){return X.getId()}function ye(X,G){var $=X!=null?j[X]:null,ee=G!=null?se[G]:null,fe=H($,ee,le,he);fe&&U($&&$.viewChildren||[],ee&&ee.viewChildren||[],fe,de,he+1)}}function K(j){var se=P();return j&&g(j,function(le,de){var he=se[de];g(le,function(pe){pe&&(he.push(pe),pe.__tmWillDelete=1)})}),se}function Q(){g(W,function(j){g(j,function(se){se.parent&&se.parent.remove(se)})}),g(N,function(j){j.invisible=!0,j.dirty()})}},_doAnimation:function(R,B,V,F){if(V.get("animation")){var Y=V.get("animationDurationUpdate"),q=V.get("animationEasing"),E=f.createWrap();g(B.willDeleteEls,function(z,N){g(z,function(H,W){if(!H.invisible){var U=H.parent,K;if(F&&F.direction==="drillDown")K=U===F.rootNodeGroup?{shape:{x:0,y:0,width:U.__tmNodeWidth,height:U.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Q=0,j=0;U.__tmWillDelete||(Q=U.__tmNodeWidth/2,j=U.__tmNodeHeight/2),K=N==="nodeGroup"?{position:[Q,j],style:{opacity:0}}:{shape:{x:Q,y:j,width:0,height:0},style:{opacity:0}}}K&&E.add(H,K,Y,q)}})}),g(this._storage,function(z,N){g(z,function(H,W){var U=B.lastsForAnimation[N][W],K={};U&&(N==="nodeGroup"?U.old&&(K.position=H.position.slice(),H.attr("position",U.old)):(U.old&&(K.shape=t.extend({},H.shape),H.setShape(U.old)),U.fadein?(H.setStyle("opacity",0),K.style={opacity:1}):H.style.opacity!==1&&(K.style={opacity:1})),E.add(H,K,Y,q))})},this),this._state="animating",E.done(v(function(){this._state="ready",B.renderFinally()},this)).start()}},_resetController:function(R){var B=this._controller;B||(B=this._controller=new o(R.getZr()),B.enable(this.seriesModel.get("roam")),B.on("pan",v(this._onPan,this)),B.on("zoom",v(this._onZoom,this)));var V=new l(0,0,R.getWidth(),R.getHeight());B.setPointerChecker(function(F,Y,q){return V.contain(Y,q)})},_clearController:function(){var R=this._controller;R&&(R.dispose(),R=null)},_onPan:function(R){if(this._state!=="animating"&&(Math.abs(R.dx)>p||Math.abs(R.dy)>p)){var B=this.seriesModel.getData().tree.root;if(!B)return;var V=B.getLayout();if(!V)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:V.x+R.dx,y:V.y+R.dy,width:V.width,height:V.height}})}},_onZoom:function(R){var B=R.originX,V=R.originY;if(this._state!=="animating"){var F=this.seriesModel.getData().tree.root;if(!F)return;var Y=F.getLayout();if(!Y)return;var q=new l(Y.x,Y.y,Y.width,Y.height),E=this.seriesModel.layoutInfo;B-=E.x,V-=E.y;var z=s.create();s.translate(z,z,[-B,-V]),s.scale(z,z,[R.scale,R.scale]),s.translate(z,z,[B,V]),q.applyTransform(z),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:q.x,y:q.y,width:q.width,height:q.height}})}},_initEvents:function(R){R.on("click",function(B){if(this._state==="ready"){var V=this.seriesModel.get("nodeClick",!0);if(V){var F=this.findTarget(B.offsetX,B.offsetY);if(F){var Y=F.node;if(Y.getLayout().isLeafRoot)this._rootToNode(F);else if(V==="zoomToNode")this._zoomToNode(F);else if(V==="link"){var q=Y.hostTree.data.getItemModel(Y.dataIndex),E=q.get("link",!0),z=q.get("target",!0)||"blank";E&&c(E,z)}}}}},this)},_renderBreadcrumb:function(R,B,V){V||(V=R.get("leafDepth",!0)!=null?{node:R.getViewRoot()}:this.findTarget(B.getWidth()/2,B.getHeight()/2),V||(V={node:R.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new i(this.group))).render(R,B,V.node,v(F,this));function F(Y){this._state!=="animating"&&(a.aboveViewRoot(R.getViewRoot(),Y)?this._rootToNode({node:Y}):this._zoomToNode({node:Y}))}},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=P(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(R){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:R.node})},_rootToNode:function(R){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:R.node})},findTarget:function(R,B){var V,F=this.seriesModel.getViewRoot();return F.eachNode({attr:"viewChildren",order:"preorder"},function(Y){var q=this._storage.background[Y.getRawIndex()];if(q){var E=q.transformCoordToLocal(R,B),z=q.shape;if(z.x<=E[0]&&E[0]<=z.x+z.width&&z.y<=E[1]&&E[1]<=z.y+z.height)V={node:Y,offsetX:E[0],offsetY:E[1]};else return!1}},this),V}});function P(){return{nodeGroup:[],background:[],content:[]}}function D(R,B,V,F,Y,q,E,z,N,H){if(!E)return;var W=E.getLayout(),U=R.getData();if(U.setItemGraphicEl(E.dataIndex,null),!W||!W.isInView)return;var K=W.width,Q=W.height,j=W.borderWidth,se=W.invisible,le=E.getRawIndex(),de=z&&z.getRawIndex(),he=E.viewChildren,pe=W.upperHeight,ye=he&&he.length,X=E.getModel("itemStyle"),G=E.getModel("emphasis.itemStyle"),$=Ce("nodeGroup",d);if(!$)return;if(N.add($),$.attr("position",[W.x||0,W.y||0]),$.__tmNodeWidth=K,$.__tmNodeHeight=Q,W.isAboveViewRoot)return $;var ee=E.getModel(),fe=Ce("background",m,H,S);if(fe&&ve($,fe,ye&&W.upperLabelHeight),ye)r.isHighDownDispatcher($)&&r.setAsHighDownDispatcher($,!1),fe&&(r.setAsHighDownDispatcher(fe,!0),U.setItemGraphicEl(E.dataIndex,fe));else{var oe=Ce("content",m,H,T);oe&&Me($,oe),fe&&r.isHighDownDispatcher(fe)&&r.setAsHighDownDispatcher(fe,!1),r.setAsHighDownDispatcher($,!0),U.setItemGraphicEl(E.dataIndex,$)}return $;function ve(Ie,Fe,Ne){if(Fe.dataIndex=E.dataIndex,Fe.seriesIndex=R.seriesIndex,Fe.setShape({x:0,y:0,width:K,height:Q}),se)re(Fe);else{Fe.invisible=!1;var Ze=E.getVisual("borderColor",!0),Xe=G.get("borderColor"),Ye=M(X);Ye.fill=Ze;var mt=C(G);if(mt.fill=Xe,Ne){var Lt=K-2*j;ie(Ye,mt,Ze,Lt,pe,{x:j,y:0,width:Lt,height:pe})}else Ye.text=mt.text=null;Fe.setStyle(Ye),r.setElementHoverStyle(Fe,mt)}Ie.add(Fe)}function Me(Ie,Fe){Fe.dataIndex=E.dataIndex,Fe.seriesIndex=R.seriesIndex;var Ne=Math.max(K-2*j,0),Ze=Math.max(Q-2*j,0);if(Fe.culling=!0,Fe.setShape({x:j,y:j,width:Ne,height:Ze}),se)re(Fe);else{Fe.invisible=!1;var Xe=E.getVisual("color",!0),Ye=M(X);Ye.fill=Xe;var mt=C(G);ie(Ye,mt,Xe,Ne,Ze),Fe.setStyle(Ye),r.setElementHoverStyle(Fe,mt)}Ie.add(Fe)}function re(Ie){!Ie.invisible&&q.push(Ie)}function ie(Ie,Fe,Ne,Ze,Xe,Ye){var mt=ee.get("name"),Lt=ee.getModel(Ye?A:y),Gt=ee.getModel(Ye?w:x),ce=Lt.getShallow("show");r.setLabelStyle(Ie,Fe,Lt,Gt,{defaultText:ce?mt:null,autoColor:Ne,isRectText:!0,labelFetcher:R,labelDataIndex:E.dataIndex,labelProp:Ye?"upperLabel":"label"}),me(Ie,Ye,W),me(Fe,Ye,W),Ye&&(Ie.textRect=t.clone(Ye)),Ie.truncate=ce&&Lt.get("ellipsis")?{outerWidth:Ze,outerHeight:Xe,minChar:2}:null}function me(Ie,Fe,Ne){var Ze=Ie.text;if(!Fe&&Ne.isLeafRoot&&Ze!=null){var Xe=R.get("drillDownIcon",!0);Ie.text=Xe?Xe+" "+Ze:Ze}}function Ce(Ie,Fe,Ne,Ze){var Xe=de!=null&&V[Ie][de],Ye=Y[Ie];return Xe?(V[Ie][de]=null,Le(Ye,Xe,Ie)):se||(Xe=new Fe({z:k(Ne,Ze)}),Xe.__tmDepth=Ne,Xe.__tmStorageName=Ie,Pe(Ye,Xe,Ie)),B[Ie][le]=Xe}function Le(Ie,Fe,Ne){var Ze=Ie[le]={};Ze.old=Ne==="nodeGroup"?Fe.position.slice():t.extend({},Fe.shape)}function Pe(Ie,Fe,Ne){var Ze=Ie[le]={},Xe=E.parentNode;if(Xe&&(!F||F.direction==="drillDown")){var Ye=0,mt=0,Lt=Y.background[Xe.getRawIndex()];!F&&Lt&&Lt.old&&(Ye=Lt.old.width,mt=Lt.old.height),Ze.old=Ne==="nodeGroup"?[0,mt]:{x:Ye,y:mt,width:0,height:0}}Ze.fadein=Ne!=="nodeGroup"}}function k(R,B){var V=R*b+B;return(V-1)/V}return Zp=I,Zp}var pM={},mM;function sj(){if(mM)return pM;mM=1;for(var e=Ge,t=qo(),r=function(){},n=["treemapZoomToNode","treemapRender","treemapMove"],a=0;a<n.length;a++)e.registerAction({type:n[a],update:"updateView"},r);return e.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,o){o.eachComponent({mainType:"series",subType:"treemap",query:i},l);function l(s,f){var u=["treemapZoomToNode","treemapRootToNode"],h=t.retrieveTargetInfo(i,u,s);if(h){var c=s.getViewRoot();c&&(i.direction=t.aboveViewRoot(c,h.node)?"rollUp":"drillDown"),s.resetViewRoot(h.node)}}}),pM}var Kp,yM;function Uo(){if(yM)return Kp;yM=1;var e=ne,t=Mr,r=ht(),n=r.linearMap,a=e.each,i=e.isObject,o=-1,l=function(S){var T=S.mappingMethod,C=S.type,M=this.option=e.clone(S);this.type=C,this.mappingMethod=T,this._normalizeData=A[T];var I=s[C];this.applyVisual=I.applyVisual,this.getColorMapper=I.getColorMapper,this._doMap=I._doMap[T],T==="piecewise"?(h(M),f(M)):T==="category"?M.categories?u(M):h(M,!0):(e.assert(T!=="linear"||M.dataExtent),h(M))};l.prototype={constructor:l,mapValueToVisual:function(S){var T=this._normalizeData(S);return this._doMap(T,S)},getNormalizer:function(){return e.bind(this._normalizeData,this)}};var s=l.visualHandlers={color:{applyVisual:d("color"),getColorMapper:function(){var S=this.option;return e.bind(S.mappingMethod==="category"?function(T,C){return!C&&(T=this._normalizeData(T)),m.call(this,T)}:function(T,C,M){var I=!!M;return!C&&(T=this._normalizeData(T)),M=t.fastLerp(T,S.parsedVisual,M),I?M:t.stringify(M,"rgba")},this)},_doMap:{linear:function(S){return t.stringify(t.fastLerp(S,this.option.parsedVisual),"rgba")},category:m,piecewise:function(S,T){var C=y.call(this,T);return C==null&&(C=t.stringify(t.fastLerp(S,this.option.parsedVisual),"rgba")),C},fixed:g}},colorHue:c(function(S,T){return t.modifyHSL(S,T)}),colorSaturation:c(function(S,T){return t.modifyHSL(S,null,T)}),colorLightness:c(function(S,T){return t.modifyHSL(S,null,null,T)}),colorAlpha:c(function(S,T){return t.modifyAlpha(S,T)}),opacity:{applyVisual:d("opacity"),_doMap:p([0,1])},liftZ:{applyVisual:d("liftZ"),_doMap:{linear:g,category:g,piecewise:g,fixed:g}},symbol:{applyVisual:function(S,T,C){var M=this.mapValueToVisual(S);if(e.isString(M))C("symbol",M);else if(i(M))for(var I in M)M.hasOwnProperty(I)&&C(I,M[I])},_doMap:{linear:v,category:m,piecewise:function(S,T){var C=y.call(this,T);return C==null&&(C=v.call(this,S)),C},fixed:g}},symbolSize:{applyVisual:d("symbolSize"),_doMap:p([0,1])}};function f(S){var T=S.pieceList;S.hasSpecialVisual=!1,e.each(T,function(C,M){C.originIndex=M,C.visual!=null&&(S.hasSpecialVisual=!0)})}function u(S){var T=S.categories,C=S.visual,M=S.categoryMap={};if(a(T,function(D,k){M[D]=k}),!e.isArray(C)){var I=[];e.isObject(C)?a(C,function(D,k){var R=M[k];I[R??o]=D}):I[o]=C,C=x(S,I)}for(var P=T.length-1;P>=0;P--)C[P]==null&&(delete M[T[P]],T.pop())}function h(S,T){var C=S.visual,M=[];e.isObject(C)?a(C,function(P){M.push(P)}):C!=null&&M.push(C);var I={color:1,symbol:1};!T&&M.length===1&&!I.hasOwnProperty(S.type)&&(M[1]=M[0]),x(S,M)}function c(S){return{applyVisual:function(T,C,M){T=this.mapValueToVisual(T),M("color",S(C("color"),T))},_doMap:p([0,1])}}function v(S){var T=this.option.visual;return T[Math.round(n(S,[0,1],[0,T.length-1],!0))]||{}}function d(S){return function(T,C,M){M(S,this.mapValueToVisual(T))}}function m(S){var T=this.option.visual;return T[this.option.loop&&S!==o?S%T.length:S]}function g(){return this.option.visual[0]}function p(S){return{linear:function(T){return n(T,S,this.option.visual,!0)},category:m,piecewise:function(T,C){var M=y.call(this,C);return M==null&&(M=n(T,S,this.option.visual,!0)),M},fixed:g}}function y(S){var T=this.option,C=T.pieceList;if(T.hasSpecialVisual){var M=l.findPieceIndex(S,C),I=C[M];if(I&&I.visual)return I.visual[this.type]}}function x(S,T){return S.visual=T,S.type==="color"&&(S.parsedVisual=e.map(T,function(C){return t.parse(C)})),T}var A={linear:function(S){return n(S,this.option.dataExtent,[0,1],!0)},piecewise:function(S){var T=this.option.pieceList,C=l.findPieceIndex(S,T,!0);if(C!=null)return n(C,[0,T.length-1],[0,1],!0)},category:function(S){var T=this.option.categories?this.option.categoryMap[S]:S;return T??o},fixed:e.noop};l.listVisualTypes=function(){var S=[];return e.each(s,function(T,C){S.push(C)}),S},l.addVisualHandler=function(S,T){s[S]=T},l.isValidType=function(S){return s.hasOwnProperty(S)},l.eachVisual=function(S,T,C){e.isObject(S)?e.each(S,T,C):T.call(C,S)},l.mapVisual=function(S,T,C){var M,I=e.isArray(S)?[]:e.isObject(S)?{}:(M=!0,null);return l.eachVisual(S,function(P,D){var k=T.call(C,P,D);M?I=k:I[D]=k}),I},l.retrieveVisuals=function(S){var T={},C;return S&&a(s,function(M,I){S.hasOwnProperty(I)&&(T[I]=S[I],C=!0)}),C?T:null},l.prepareVisualTypes=function(S){if(i(S)){var T=[];a(S,function(C,M){T.push(M)}),S=T}else if(e.isArray(S))S=S.slice();else return[];return S.sort(function(C,M){return M==="color"&&C!=="color"&&C.indexOf("color")===0?1:-1}),S},l.dependsOn=function(S,T){return T==="color"?!!(S&&S.indexOf(T)===0):S===T},l.findPieceIndex=function(S,T,C){for(var M,I=1/0,P=0,D=T.length;P<D;P++){var k=T[P].value;if(k!=null){if(k===S||typeof k=="string"&&k===S+"")return P;C&&F(k,P)}}for(var P=0,D=T.length;P<D;P++){var R=T[P],B=R.interval,V=R.close;if(B){if(B[0]===-1/0){if(w(V[1],S,B[1]))return P}else if(B[1]===1/0){if(w(V[0],B[0],S))return P}else if(w(V[0],B[0],S)&&w(V[1],S,B[1]))return P;C&&F(B[0],P),C&&F(B[1],P)}}if(C)return S===1/0?T.length-1:S===-1/0?0:M;function F(Y,q){var E=Math.abs(Y-S);E<I&&(I=E,M=q)}};function w(S,T,C){return S?T<=C:T<C}var b=l;return Kp=b,Kp}var Xp,_M;function lj(){if(_M)return Xp;_M=1;var e=Uo(),t=Mr,r=ne,n=r.isArray,a="itemStyle",i={seriesType:"treemap",reset:function(d,m,g,p){var y=d.getData().tree,x=y.root;x.isRemoved()||o(x,{},d.getViewRoot().getAncestors(),d)}};function o(d,m,g,p){var y=d.getModel(),x=d.getLayout();if(!(!x||x.invisible||!x.isInView)){var A=d.getModel(a),w=l(A,m,p),b=A.get("borderColor"),S=A.get("borderColorSaturation"),T;S!=null&&(T=s(w),b=f(S,T)),d.setVisual("borderColor",b);var C=d.viewChildren;if(!C||!C.length)T=s(w),d.setVisual("color",T);else{var M=h(d,y,x,A,w,C);r.each(C,function(I,P){if(I.depth>=g.length||I===g[I.depth]){var D=v(y,w,I,P,M,p);o(I,D,g,p)}})}}}function l(d,m,g){var p=r.extend({},m),y=g.designatedVisualItemStyle;return r.each(["color","colorAlpha","colorSaturation"],function(x){y[x]=m[x];var A=d.get(x);y[x]=null,A!=null&&(p[x]=A)}),p}function s(d){var m=u(d,"color");if(m){var g=u(d,"colorAlpha"),p=u(d,"colorSaturation");return p&&(m=t.modifyHSL(m,null,null,p)),g&&(m=t.modifyAlpha(m,g)),m}}function f(d,m){return m!=null?t.modifyHSL(m,null,null,d):null}function u(d,m){var g=d[m];if(g!=null&&g!=="none")return g}function h(d,m,g,p,y,x){if(!(!x||!x.length)){var A=c(m,"color")||y.color!=null&&y.color!=="none"&&(c(m,"colorAlpha")||c(m,"colorSaturation"));if(A){var w=m.get("visualMin"),b=m.get("visualMax"),S=g.dataExtent.slice();w!=null&&w<S[0]&&(S[0]=w),b!=null&&b>S[1]&&(S[1]=b);var T=m.get("colorMappingBy"),C={type:A.name,dataExtent:S,visual:A.range};C.type==="color"&&(T==="index"||T==="id")?(C.mappingMethod="category",C.loop=!0):C.mappingMethod="linear";var M=new e(C);return M.__drColorMappingBy=T,M}}}function c(d,m){var g=d.get(m);return n(g)&&g.length?{name:m,range:g}:null}function v(d,m,g,p,y,x){var A=r.extend({},m);if(y){var w=y.type,b=w==="color"&&y.__drColorMappingBy,S=b==="index"?p:b==="id"?x.mapIdToIndex(g.getId()):g.getValue(d.get("visualDimension"));A[w]=y.mapValueToVisual(S)}return A}return Xp=i,Xp}var Qp,xM;function uj(){if(xM)return Qp;xM=1;var e=ne,t=fr,r=ht(),n=r.parsePercent,a=r.MAX_SAFE_INTEGER,i=Tt,o=qo(),l=Math.max,s=Math.min,f=e.retrieve,u=e.each,h=["itemStyle","borderWidth"],c=["itemStyle","gapWidth"],v=["upperLabel","show"],d=["upperLabel","height"],m={seriesType:"treemap",reset:function(I,P,D,k){var R=D.getWidth(),B=D.getHeight(),V=I.option,F=i.getLayoutRect(I.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()}),Y=V.size||[],q=n(f(F.width,Y[0]),R),E=n(f(F.height,Y[1]),B),z=k&&k.type,N=["treemapZoomToNode","treemapRootToNode"],H=o.retrieveTargetInfo(k,N,I),W=z==="treemapRender"||z==="treemapMove"?k.rootRect:null,U=I.getViewRoot(),K=o.getPathToRoot(U);if(z!=="treemapMove"){var Q=z==="treemapZoomToNode"?S(I,H,U,q,E):W?[W.width,W.height]:[q,E],j=V.sort;j&&j!=="asc"&&j!=="desc"&&(j="desc");var se={squareRatio:V.squareRatio,sort:j,leafDepth:V.leafDepth};U.hostTree.clearLayouts();var le={x:0,y:0,width:Q[0],height:Q[1],area:Q[0]*Q[1]};U.setLayout(le),g(U,se,!1,0);var le=U.getLayout();u(K,function(he,pe){var ye=(K[pe+1]||U).getValue();he.setLayout(e.extend({dataExtent:[ye,ye],borderWidth:0,upperHeight:0},le))})}var de=I.getData().tree.root;de.setLayout(T(F,W,H),!0),I.setLayoutInfo(F),C(de,new t(-F.x,-F.y,R,B),K,U,0)}};function g(I,P,D,k){var R,B;if(!I.isRemoved()){var V=I.getLayout();R=V.width,B=V.height;var H=I.getModel(),F=H.get(h),Y=H.get(c)/2,q=M(H),E=Math.max(F,q),z=F-Y,N=E-Y,H=I.getModel();I.setLayout({borderWidth:F,upperHeight:E,upperLabelHeight:q},!0),R=l(R-2*z,0),B=l(B-z-N,0);var W=R*B,U=p(I,H,W,P,D,k);if(U.length){var K={x:z,y:N,width:R,height:B},Q=s(R,B),j=1/0,se=[];se.area=0;for(var le=0,de=U.length;le<de;){var he=U[le];se.push(he),se.area+=he.getLayout().area;var pe=w(se,Q,P.squareRatio);pe<=j?(le++,j=pe):(se.area-=se.pop().getLayout().area,b(se,Q,K,Y,!1),Q=s(K.width,K.height),se.length=se.area=0,j=1/0)}if(se.length&&b(se,Q,K,Y,!0),!D){var ye=H.get("childrenVisibleMin");ye!=null&&W<ye&&(D=!0)}for(var le=0,de=U.length;le<de;le++)g(U[le],P,D,k+1)}}}function p(I,P,D,k,R,B){var V=I.children||[],F=k.sort;F!=="asc"&&F!=="desc"&&(F=null);var Y=k.leafDepth!=null&&k.leafDepth<=B;if(R&&!Y)return I.viewChildren=[];V=e.filter(V,function(H){return!H.isRemoved()}),x(V,F);var q=A(P,V,F);if(q.sum===0)return I.viewChildren=[];if(q.sum=y(P,D,q.sum,F,V),q.sum===0)return I.viewChildren=[];for(var E=0,z=V.length;E<z;E++){var N=V[E].getValue()/q.sum*D;V[E].setLayout({area:N})}return Y&&(V.length&&I.setLayout({isLeafRoot:!0},!0),V.length=0),I.viewChildren=V,I.setLayout({dataExtent:q.dataExtent},!0),V}function y(I,P,D,k,R){if(!k)return D;for(var B=I.get("visibleMin"),V=R.length,F=V,Y=V-1;Y>=0;Y--){var q=R[k==="asc"?V-Y-1:Y].getValue();q/D*P<B&&(F=Y,D-=q)}return k==="asc"?R.splice(0,V-F):R.splice(F,V-F),D}function x(I,P){return P&&I.sort(function(D,k){var R=P==="asc"?D.getValue()-k.getValue():k.getValue()-D.getValue();return R===0?P==="asc"?D.dataIndex-k.dataIndex:k.dataIndex-D.dataIndex:R}),I}function A(I,P,D){for(var k=0,R=0,B=P.length;R<B;R++)k+=P[R].getValue();var V=I.get("visualDimension"),F;if(!P||!P.length)F=[NaN,NaN];else if(V==="value"&&D)F=[P[P.length-1].getValue(),P[0].getValue()],D==="asc"&&F.reverse();else{var F=[1/0,-1/0];u(P,function(q){var E=q.getValue(V);E<F[0]&&(F[0]=E),E>F[1]&&(F[1]=E)})}return{sum:k,dataExtent:F}}function w(I,P,D){for(var k=0,R=1/0,B=0,V,F=I.length;B<F;B++)V=I[B].getLayout().area,V&&(V<R&&(R=V),V>k&&(k=V));var Y=I.area*I.area,q=P*P*D;return Y?l(q*k/Y,Y/(q*R)):1/0}function b(I,P,D,k,R){var B=P===D.width?0:1,V=1-B,F=["x","y"],Y=["width","height"],q=D[F[B]],E=P?I.area/P:0;(R||E>D[Y[V]])&&(E=D[Y[V]]);for(var z=0,N=I.length;z<N;z++){var H=I[z],W={},U=E?H.getLayout().area/E:0,K=W[Y[V]]=l(E-2*k,0),Q=D[F[B]]+D[Y[B]]-q,j=z===N-1||Q<U?Q:U,se=W[Y[B]]=l(j-2*k,0);W[F[V]]=D[F[V]]+s(k,K/2),W[F[B]]=q+s(k,se/2),q+=j,H.setLayout(W,!0)}D[F[V]]+=E,D[Y[V]]-=E}function S(I,P,D,k,R){var B=(P||{}).node,V=[k,R];if(!B||B===D)return V;for(var F,Y=k*R,q=Y*I.option.zoomToNodeRatio;F=B.parentNode;){for(var E=0,z=F.children,N=0,H=z.length;N<H;N++)E+=z[N].getValue();var W=B.getValue();if(W===0)return V;q*=E/W;var U=F.getModel(),K=U.get(h),Q=Math.max(K,M(U));q+=4*K*K+(3*K+Q)*Math.pow(q,.5),q>a&&(q=a),B=F}q<Y&&(q=Y);var j=Math.pow(q/Y,.5);return[k*j,R*j]}function T(I,P,D){if(P)return{x:P.x,y:P.y};var k={x:0,y:0};if(!D)return k;var R=D.node,B=R.getLayout();if(!B)return k;for(var V=[B.width/2,B.height/2],F=R;F;){var Y=F.getLayout();V[0]+=Y.x,V[1]+=Y.y,F=F.parentNode}return{x:I.width/2-V[0],y:I.height/2-V[1]}}function C(I,P,D,k,R){var B=I.getLayout(),V=D[R],F=V&&V===I;if(!(V&&!F||R===D.length&&I!==k)){I.setLayout({isInView:!0,invisible:!F&&!P.intersect(B),isAboveViewRoot:F},!0);var Y=new t(P.x-B.x,P.y-B.y,P.width,P.height);u(I.viewChildren||[],function(q){C(q,Y,D,k,R+1)})}}function M(I){return I.get(v)?I.get(d):0}return Qp=m,Qp}var wM;function fj(){if(wM)return fM;wM=1;var e=Ge;aj(),oj(),sj();var t=lj(),r=uj();return e.registerVisual(t),e.registerLayout(r),fM}var SM={},Jp,bM;function cj(){if(bM)return Jp;bM=1;var e=ne,t=xa,r=t.enableClassCheck;function n(u){return"_EC_"+u}var a=function(u){this._directed=u||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},i=a.prototype;i.type="graph",i.isDirected=function(){return this._directed},i.addNode=function(u,h){u=u==null?""+h:""+u;var c=this._nodesMap;if(!c[n(u)]){var v=new o(u,h);return v.hostGraph=this,this.nodes.push(v),c[n(u)]=v,v}},i.getNodeByIndex=function(u){var h=this.data.getRawIndex(u);return this.nodes[h]},i.getNodeById=function(u){return this._nodesMap[n(u)]},i.addEdge=function(u,h,c){var v=this._nodesMap,d=this._edgesMap;if(typeof u=="number"&&(u=this.nodes[u]),typeof h=="number"&&(h=this.nodes[h]),o.isInstance(u)||(u=v[n(u)]),o.isInstance(h)||(h=v[n(h)]),!(!u||!h)){var m=u.id+"-"+h.id,g=new l(u,h,c);return g.hostGraph=this,this._directed&&(u.outEdges.push(g),h.inEdges.push(g)),u.edges.push(g),u!==h&&h.edges.push(g),this.edges.push(g),d[m]=g,g}},i.getEdgeByIndex=function(u){var h=this.edgeData.getRawIndex(u);return this.edges[h]},i.getEdge=function(u,h){o.isInstance(u)&&(u=u.id),o.isInstance(h)&&(h=h.id);var c=this._edgesMap;return this._directed?c[u+"-"+h]:c[u+"-"+h]||c[h+"-"+u]},i.eachNode=function(u,h){for(var c=this.nodes,v=c.length,d=0;d<v;d++)c[d].dataIndex>=0&&u.call(h,c[d],d)},i.eachEdge=function(u,h){for(var c=this.edges,v=c.length,d=0;d<v;d++)c[d].dataIndex>=0&&c[d].node1.dataIndex>=0&&c[d].node2.dataIndex>=0&&u.call(h,c[d],d)},i.breadthFirstTraverse=function(u,h,c,v){if(o.isInstance(h)||(h=this._nodesMap[n(h)]),!!h){for(var d=c==="out"?"outEdges":c==="in"?"inEdges":"edges",m=0;m<this.nodes.length;m++)this.nodes[m].__visited=!1;if(!u.call(v,h,null))for(var g=[h];g.length;)for(var p=g.shift(),y=p[d],m=0;m<y.length;m++){var x=y[m],A=x.node1===p?x.node2:x.node1;if(!A.__visited){if(u.call(v,A,p))return;g.push(A),A.__visited=!0}}}},i.update=function(){for(var u=this.data,h=this.edgeData,c=this.nodes,v=this.edges,d=0,m=c.length;d<m;d++)c[d].dataIndex=-1;for(var d=0,m=u.count();d<m;d++)c[u.getRawIndex(d)].dataIndex=d;h.filterSelf(function(g){var p=v[h.getRawIndex(g)];return p.node1.dataIndex>=0&&p.node2.dataIndex>=0});for(var d=0,m=v.length;d<m;d++)v[d].dataIndex=-1;for(var d=0,m=h.count();d<m;d++)v[h.getRawIndex(d)].dataIndex=d},i.clone=function(){for(var u=new a(this._directed),h=this.nodes,c=this.edges,v=0;v<h.length;v++)u.addNode(h[v].id,h[v].dataIndex);for(var v=0;v<c.length;v++){var d=c[v];u.addEdge(d.node1.id,d.node2.id,d.dataIndex)}return u};function o(u,h){this.id=u??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=h??-1}o.prototype={constructor:o,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(u){if(!(this.dataIndex<0)){var h=this.hostGraph,c=h.data.getItemModel(this.dataIndex);return c.getModel(u)}}};function l(u,h,c){this.node1=u,this.node2=h,this.dataIndex=c??-1}l.prototype.getModel=function(u){if(!(this.dataIndex<0)){var h=this.hostGraph,c=h.edgeData.getItemModel(this.dataIndex);return c.getModel(u)}};var s=function(u,h){return{getValue:function(c){var v=this[u][h];return v.get(v.getDimension(c||"value"),this.dataIndex)},setVisual:function(c,v){this.dataIndex>=0&&this[u][h].setItemVisual(this.dataIndex,c,v)},getVisual:function(c,v){return this[u][h].getItemVisual(this.dataIndex,c,v)},setLayout:function(c,v){this.dataIndex>=0&&this[u][h].setItemLayout(this.dataIndex,c,v)},getLayout:function(){return this[u][h].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[u][h].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[u][h].getRawIndex(this.dataIndex)}}};e.mixin(o,s("hostGraph","data")),e.mixin(l,s("hostGraph","edgeData")),a.Node=o,a.Edge=l,r(o),r(l);var f=a;return Jp=f,Jp}var jp,AM;function IN(){if(AM)return jp;AM=1;var e=ne,t=Ja(),r=cj(),n=MN(),a=al(),i=zn,o=yi();function l(s,f,u,h,c){for(var v=new r(h),d=0;d<s.length;d++)v.addNode(e.retrieve(s[d].id,s[d].name,d),d);for(var m=[],g=[],p=0,d=0;d<f.length;d++){var y=f[d],x=y.source,A=y.target;v.addEdge(x,A,p)&&(g.push(y),m.push(e.retrieve(y.id,x+" > "+A)),p++)}var w=u.get("coordinateSystem"),b;if(w==="cartesian2d"||w==="polar")b=o(s,u);else{var S=i.get(w),T=S&&S.type!=="view"?S.dimensions||[]:[];e.indexOf(T,"value")<0&&T.concat(["value"]);var C=a(s,{coordDimensions:T});b=new t(C,u),b.initData(s)}var M=new t(["value"],u);return M.initData(g,m),c&&c(b,M),n({mainData:b,struct:v,structAttr:"graph",datas:{node:b,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),v.update(),v}return jp=l,jp}var Hl={},TM;function Gh(){if(TM)return Hl;TM=1;var e=ne,t="-->",r=function(c){return c.get("autoCurveness")||null},n=function(c,v){var d=r(c),m=20,g=[];if(typeof d=="number")m=d;else if(e.isArray(d)){c.__curvenessList=d;return}v>m&&(m=v);var p=m%2?m+2:m+3;g=[];for(var y=0;y<p;y++)g.push((y%2?y+1:y)/10*(y%2?-1:1));c.__curvenessList=g},a=function(c,v,d){var m=[c.id,c.dataIndex].join("."),g=[v.id,v.dataIndex].join(".");return[d.uid,m,g].join(t)},i=function(c){var v=c.split(t);return[v[0],v[2],v[1]].join(t)},o=function(c,v){var d=a(c.node1,c.node2,v);return v.__edgeMap[d]},l=function(c,v){var d=s(a(c.node1,c.node2,v),v),m=s(a(c.node2,c.node1,v),v);return d+m},s=function(c,v){var d=v.__edgeMap;return d[c]?d[c].length:0};function f(c){r(c)&&(c.__curvenessList=[],c.__edgeMap={},n(c))}function u(c,v,d,m){if(r(d)){var g=a(c,v,d),p=d.__edgeMap,y=p[i(g)];p[g]&&!y?p[g].isForward=!0:y&&p[g]&&(y.isForward=!0,p[g].isForward=!1),p[g]=p[g]||[],p[g].push(m)}}function h(c,v,d,m){var g=r(v),p=e.isArray(g);if(!g)return null;var y=o(c,v);if(!y)return null;for(var x=-1,A=0;A<y.length;A++)if(y[A]===d){x=A;break}var w=l(c,v);n(v,w),c.lineStyle=c.lineStyle||{};var b=a(c.node1,c.node2,v),S=v.__curvenessList,T=p||w%2?0:1;if(y.isForward)return S[T+x];var C=i(b),M=s(C,v),I=S[x+M+T];return m?p?g&&g[0]===0?(M+T)%2?I:-I:((M%2?0:1)+T)%2?I:-I:(M+T)%2?I:-I:S[x+M+T]}return Hl.initCurvenessList=f,Hl.createEdgeMapForCurveness=u,Hl.getCurvenessForEdge=h,Hl}var em,CM;function hj(){if(CM)return em;CM=1;var e=Ge,t=Ja(),r=ne,n=lt,a=n.defaultEmphasis,i=br(),o=jt(),l=o.encodeHTML,s=IN(),f=Wu(),u=Gh(),h=u.initCurvenessList,c=u.createEdgeMapForCurveness,v=e.extendSeriesModel({type:"series.graph",init:function(m){v.superApply(this,"init",arguments);var g=this;function p(){return g._categoriesData}this.legendVisualProvider=new f(p,p),this.fillDataTextStyle(m.edges||m.links),this._updateCategoriesData()},mergeOption:function(m){v.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(m.edges||m.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(m){v.superApply(this,"mergeDefaultAndTheme",arguments),a(m,["edgeLabel"],["show"])},getInitialData:function(m,g){var p=m.edges||m.links||[],y=m.data||m.nodes||[],x=this;if(y&&p){h(this);var A=s(y,p,this,!0,w);return r.each(A.edges,function(b){c(b.node1,b.node2,this,b.dataIndex)},this),A.data}function w(b,S){b.wrapMethod("getItemModel",function(D){var k=x._categoriesModels,R=D.getShallow("category"),B=k[R];return B&&(B.parentModel=D.parentModel,D.parentModel=B),D});var T=x.getModel("edgeLabel"),C=new i({label:T.option},T.parentModel,g),M=x.getModel("emphasis.edgeLabel"),I=new i({emphasis:{label:M.option}},M.parentModel,g);S.wrapMethod("getItemModel",function(D){return D.customizeGetParent(P),D});function P(D){return D=this.parsePath(D),D&&D[0]==="label"?C:D&&D[0]==="emphasis"&&D[1]==="label"?I:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(m,g,p){if(p==="edge"){var y=this.getData(),x=this.getDataParams(m,p),A=y.graph.getEdgeByIndex(m),w=y.getName(A.node1.dataIndex),b=y.getName(A.node2.dataIndex),S=[];return w!=null&&S.push(w),b!=null&&S.push(b),S=l(S.join(" > ")),x.value&&(S+=" : "+l(x.value)),S}else return v.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var m=r.map(this.option.categories||[],function(p){return p.value!=null?p:r.extend({value:0},p)}),g=new t(["value"],this);g.initData(m),this._categoriesData=g,this._categoriesModels=g.mapArray(function(p){return g.getItemModel(p,!0)})},setZoom:function(m){this.option.zoom=m},setCenter:function(m){this.option.center=m},isAnimationEnabled:function(){return v.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),d=v;return em=d,em}var tm,MM;function vj(){if(MM)return tm;MM=1;var e=ke,t=sr(),r=e.Line.prototype,n=e.BezierCurve.prototype;function a(o){return isNaN(+o.cpx1)||isNaN(+o.cpy1)}var i=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(o,l){this[a(l)?"_buildPathLine":"_buildPathCurve"](o,l)},_buildPathLine:r.buildPath,_buildPathCurve:n.buildPath,pointAt:function(o){return this[a(this.shape)?"_pointAtLine":"_pointAtCurve"](o)},_pointAtLine:r.pointAt,_pointAtCurve:n.pointAt,tangentAt:function(o){var l=this.shape,s=a(l)?[l.x2-l.x1,l.y2-l.y1]:this._tangentAtCurve(o);return t.normalize(s,s)},_tangentAtCurve:n.tangentAt});return tm=i,tm}var rm,LM;function Ax(){if(LM)return rm;LM=1;var e=ne,t=sr(),r=ja(),n=vj(),a=ke,i=ht(),o=i.round,l=["fromSymbol","toSymbol"];function s(g){return"_"+g+"Type"}function f(g,p,y){var x=p.getItemVisual(y,g);if(!(!x||x==="none")){var A=p.getItemVisual(y,"color"),w=p.getItemVisual(y,g+"Size"),b=p.getItemVisual(y,g+"Rotate");e.isArray(w)||(w=[w,w]);var S=r.createSymbol(x,-w[0]/2,-w[1]/2,w[0],w[1],A);return S.__specifiedRotation=b==null||isNaN(b)?void 0:+b*Math.PI/180||0,S.name=g,S}}function u(g){var p=new n({name:"line",subPixelOptimize:!0});return h(p.shape,g),p}function h(g,p){g.x1=p[0][0],g.y1=p[0][1],g.x2=p[1][0],g.y2=p[1][1],g.percent=1;var y=p[2];y?(g.cpx1=y[0],g.cpy1=y[1]):(g.cpx1=NaN,g.cpy1=NaN)}function c(){var g=this,p=g.childOfName("fromSymbol"),y=g.childOfName("toSymbol"),x=g.childOfName("label");if(!(!p&&!y&&x.ignore)){for(var A=1,w=this.parent;w;)w.scale&&(A/=w.scale[0]),w=w.parent;var b=g.childOfName("line");if(!(!this.__dirty&&!b.__dirty)){var S=b.shape.percent,T=b.pointAt(0),C=b.pointAt(S),M=t.sub([],C,T);if(t.normalize(M,M),p){p.attr("position",T);var I=p.__specifiedRotation;if(I==null){var P=b.tangentAt(0);p.attr("rotation",Math.PI/2-Math.atan2(P[1],P[0]))}else p.attr("rotation",I);p.attr("scale",[A*S,A*S])}if(y){y.attr("position",C);var I=y.__specifiedRotation;if(I==null){var P=b.tangentAt(1);y.attr("rotation",-Math.PI/2-Math.atan2(P[1],P[0]))}else y.attr("rotation",I);y.attr("scale",[A*S,A*S])}if(!x.ignore){x.attr("position",C);var D,k,R,B,V=x.__labelDistance,F=V[0]*A,Y=V[1]*A,q=S/2,P=b.tangentAt(q),E=[P[1],-P[0]],z=b.pointAt(q);E[1]>0&&(E[0]=-E[0],E[1]=-E[1]);var N=P[0]<0?-1:1;if(x.__position!=="start"&&x.__position!=="end"){var H=-Math.atan2(P[1],P[0]);C[0]<T[0]&&(H=Math.PI+H),x.attr("rotation",H)}var W;switch(x.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":W=-Y,R="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":W=Y,R="top";break;default:W=0,R="middle"}switch(x.__position){case"end":D=[M[0]*F+C[0],M[1]*Y+C[1]],k=M[0]>.8?"left":M[0]<-.8?"right":"center",R=M[1]>.8?"top":M[1]<-.8?"bottom":"middle";break;case"start":D=[-M[0]*F+T[0],-M[1]*Y+T[1]],k=M[0]>.8?"right":M[0]<-.8?"left":"center",R=M[1]>.8?"bottom":M[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":D=[F*N+T[0],T[1]+W],k=P[0]<0?"right":"left",B=[-F*N,-W];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":D=[z[0],z[1]+W],k="center",B=[0,-W];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":D=[-F*N+C[0],C[1]+W],k=P[0]>=0?"right":"left",B=[F*N,-W];break}x.attr({style:{textVerticalAlign:x.__verticalAlign||R,textAlign:x.__textAlign||k},position:D,scale:[A,A],origin:B})}}}}function v(g,p,y){a.Group.call(this),this._createLine(g,p,y)}var d=v.prototype;d.beforeUpdate=c,d._createLine=function(g,p,y){var x=g.hostModel,A=g.getItemLayout(p),w=u(A);w.shape.percent=0,a.initProps(w,{shape:{percent:1}},x,p),this.add(w);var b=new a.Text({name:"label",lineLabelOriginalOpacity:1});this.add(b),e.each(l,function(S){var T=f(S,g,p);this.add(T),this[s(S)]=g.getItemVisual(p,S)},this),this._updateCommonStl(g,p,y)},d.updateData=function(g,p,y){var x=g.hostModel,A=this.childOfName("line"),w=g.getItemLayout(p),b={shape:{}};h(b.shape,w),a.updateProps(A,b,x,p),e.each(l,function(S){var T=g.getItemVisual(p,S),C=s(S);if(this[C]!==T){this.remove(this.childOfName(S));var M=f(S,g,p);this.add(M)}this[C]=T},this),this._updateCommonStl(g,p,y)},d._updateCommonStl=function(g,p,y){var x=g.hostModel,A=this.childOfName("line"),w=y&&y.lineStyle,b=y&&y.hoverLineStyle,S=y&&y.labelModel,T=y&&y.hoverLabelModel;if(!y||g.hasItemOption){var C=g.getItemModel(p);w=C.getModel("lineStyle").getLineStyle(),b=C.getModel("emphasis.lineStyle").getLineStyle(),S=C.getModel("label"),T=C.getModel("emphasis.label")}var M=g.getItemVisual(p,"color"),I=e.retrieve3(g.getItemVisual(p,"opacity"),w.opacity,1);A.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:M,opacity:I},w)),A.hoverStyle=b,e.each(l,function(z){var N=this.childOfName(z);N&&(N.setColor(M),N.setStyle({opacity:I}))},this);var P=S.getShallow("show"),D=T.getShallow("show"),k=this.childOfName("label"),R,B;if((P||D)&&(R=M||"#000",B=x.getFormattedLabel(p,"normal",g.dataType),B==null)){var V=x.getRawValue(p);B=V==null?g.getName(p):isFinite(V)?o(V):V}var F=P?B:null,Y=D?e.retrieve2(x.getFormattedLabel(p,"emphasis",g.dataType),B):null,q=k.style;if(F!=null||Y!=null){a.setTextStyle(k.style,S,{text:F},{autoColor:R}),k.__textAlign=q.textAlign,k.__verticalAlign=q.textVerticalAlign,k.__position=S.get("position")||"middle";var E=S.get("distance");e.isArray(E)||(E=[E,E]),k.__labelDistance=E}Y!=null?k.hoverStyle={text:Y,textFill:T.getTextColor(!0),fontStyle:T.getShallow("fontStyle"),fontWeight:T.getShallow("fontWeight"),fontSize:T.getShallow("fontSize"),fontFamily:T.getShallow("fontFamily")}:k.hoverStyle={text:null},k.ignore=!P&&!D,a.setHoverStyle(this)},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateLayout=function(g,p){this.setLinePoints(g.getItemLayout(p))},d.setLinePoints=function(g){var p=this.childOfName("line");h(p.shape,g),p.dirty()},e.inherits(v,a.Group);var m=v;return rm=m,rm}var am,IM;function Tx(){if(IM)return am;IM=1;var e=ke,t=Ax();function r(h){this._ctor=h||t,this.group=new e.Group}var n=r.prototype;n.isPersistent=function(){return!0},n.updateData=function(h){var c=this,v=c.group,d=c._lineData;c._lineData=h,d||v.removeAll();var m=l(h);h.diff(d).add(function(g){a(c,h,g,m)}).update(function(g,p){i(c,d,h,p,g,m)}).remove(function(g){v.remove(d.getItemGraphicEl(g))}).execute()};function a(h,c,v,d){var m=c.getItemLayout(v);if(f(m)){var g=new h._ctor(c,v,d);c.setItemGraphicEl(v,g),h.group.add(g)}}function i(h,c,v,d,m,g){var p=c.getItemGraphicEl(d);if(!f(v.getItemLayout(m))){h.group.remove(p);return}p?p.updateData(v,m,g):p=new h._ctor(v,m,g),v.setItemGraphicEl(m,p),h.group.add(p)}n.updateLayout=function(){var h=this._lineData;h&&h.eachItemGraphicEl(function(c,v){c.updateLayout(h,v)},this)},n.incrementalPrepareUpdate=function(h){this._seriesScope=l(h),this._lineData=null,this.group.removeAll()};function o(h){return h.animators&&h.animators.length>0}n.incrementalUpdate=function(h,c){function v(p){!p.isGroup&&!o(p)&&(p.incremental=p.useHoverLayer=!0)}for(var d=h.start;d<h.end;d++){var m=c.getItemLayout(d);if(f(m)){var g=new this._ctor(c,d,this._seriesScope);g.traverse(v),this.group.add(g),c.setItemGraphicEl(d,g)}}};function l(h){var c=h.hostModel;return{lineStyle:c.getModel("lineStyle").getLineStyle(),hoverLineStyle:c.getModel("emphasis.lineStyle").getLineStyle(),labelModel:c.getModel("label"),hoverLabelModel:c.getModel("emphasis.label")}}n.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n._clearIncremental=function(){var h=this._incremental;h&&h.clearDisplaybles()};function s(h){return isNaN(h[0])||isNaN(h[1])}function f(h){return!s(h[0])&&!s(h[1])}var u=r;return am=u,am}var xc={},PM;function Cx(){if(PM)return xc;PM=1;function e(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var a=r.option.nodeScaleRatio,i=n.scale,o=i&&i[0]||1,l=n.getZoom(),s=(l-1)*a+1;return s/o}function t(r){var n=r.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}return xc.getNodeGlobalScale=e,xc.getSymbolSize=t,xc}var nm,DM;function dj(){if(DM)return nm;DM=1;var e=Lr,t=sr(),r=Cx(),n=r.getSymbolSize,a=[],i=[],o=[],l=e.quadraticAt,s=t.distSquare,f=Math.abs;function u(c,v,d){for(var m=c[0],g=c[1],p=c[2],y=1/0,x,A=d*d,w=.1,b=.1;b<=.9;b+=.1){a[0]=l(m[0],g[0],p[0],b),a[1]=l(m[1],g[1],p[1],b);var S=f(s(a,v)-A);S<y&&(y=S,x=b)}for(var T=0;T<32;T++){var C=x+w;i[0]=l(m[0],g[0],p[0],x),i[1]=l(m[1],g[1],p[1],x),o[0]=l(m[0],g[0],p[0],C),o[1]=l(m[1],g[1],p[1],C);var S=s(i,v)-A;if(f(S)<.01)break;var M=s(o,v)-A;w/=2,S<0?M>=0?x=x+w:x=x-w:M>=0?x=x-w:x=x+w}return x}function h(c,v){var d=[],m=e.quadraticSubdivide,g=[[],[],[]],p=[[],[]],y=[];v/=2,c.eachEdge(function(x,A){var w=x.getLayout(),b=x.getVisual("fromSymbol"),S=x.getVisual("toSymbol");w.__original||(w.__original=[t.clone(w[0]),t.clone(w[1])],w[2]&&w.__original.push(t.clone(w[2])));var T=w.__original;if(w[2]!=null){if(t.copy(g[0],T[0]),t.copy(g[1],T[2]),t.copy(g[2],T[1]),b&&b!=="none"){var C=n(x.node1),M=u(g,T[0],C*v);m(g[0][0],g[1][0],g[2][0],M,d),g[0][0]=d[3],g[1][0]=d[4],m(g[0][1],g[1][1],g[2][1],M,d),g[0][1]=d[3],g[1][1]=d[4]}if(S&&S!=="none"){var C=n(x.node2),M=u(g,T[1],C*v);m(g[0][0],g[1][0],g[2][0],M,d),g[1][0]=d[1],g[2][0]=d[2],m(g[0][1],g[1][1],g[2][1],M,d),g[1][1]=d[1],g[2][1]=d[2]}t.copy(w[0],g[0]),t.copy(w[1],g[2]),t.copy(w[2],g[1])}else{if(t.copy(p[0],T[0]),t.copy(p[1],T[1]),t.sub(y,p[1],p[0]),t.normalize(y,y),b&&b!=="none"){var C=n(x.node1);t.scaleAndAdd(p[0],p[0],y,C*v)}if(S&&S!=="none"){var C=n(x.node2);t.scaleAndAdd(p[1],p[1],y,-C*v)}t.copy(w[0],p[0]),t.copy(w[1],p[1])}})}return nm=h,nm}var im,RM;function gj(){if(RM)return im;RM=1;var e=Ge,t=ne,r=Hu(),n=Tx(),a=Yu(),i=yx(),o=Uh(),l=o.onIrrelevantElement,s=ke,f=dj(),u=Cx(),h=u.getNodeGlobalScale,c="__focusNodeAdjacency",v="__unfocusNodeAdjacency",d=["itemStyle","opacity"],m=["lineStyle","opacity"];function g(A,w){var b=A.getVisual("opacity");return b??A.getModel().get(w)}function p(A,w,b){var S=A.getGraphicEl(),T=g(A,w);b!=null&&(T==null&&(T=1),T*=b),S.downplay&&S.downplay(),S.traverse(function(C){if(!C.isGroup){var M=C.lineLabelOriginalOpacity;(M==null||b!=null)&&(M=T),C.setStyle("opacity",M)}})}function y(A,w){var b=g(A,w),S=A.getGraphicEl();S.traverse(function(T){!T.isGroup&&T.setStyle("opacity",b)}),S.highlight&&S.highlight()}var x=e.extendChartView({type:"graph",init:function(A,w){var b=new r,S=new n,T=this.group;this._controller=new a(w.getZr()),this._controllerHost={target:T},T.add(b.group),T.add(S.group),this._symbolDraw=b,this._lineDraw=S,this._firstRender=!0},render:function(A,w,b){var S=this,T=A.coordinateSystem;this._model=A;var C=this._symbolDraw,M=this._lineDraw,I=this.group;if(T.type==="view"){var P={position:T.position,scale:T.scale};this._firstRender?I.attr(P):s.updateProps(I,P,A)}f(A.getGraph(),h(A));var D=A.getData();C.updateData(D);var k=A.getEdgeData();M.updateData(k),this._updateNodeAndLinkScale(),this._updateController(A,w,b),clearTimeout(this._layoutTimeout);var R=A.forceLayout,B=A.get("force.layoutAnimation");R&&this._startForceLayoutIteration(R,B),D.eachItemGraphicEl(function(q,E){var z=D.getItemModel(E);q.off("drag").off("dragend");var N=z.get("draggable");N&&q.on("drag",function(){R&&(R.warmUp(),!this._layouting&&this._startForceLayoutIteration(R,B),R.setFixed(E),D.setItemLayout(E,q.position))},this).on("dragend",function(){R&&R.setUnfixed(E)},this),q.setDraggable(N&&R),q[c]&&q.off("mouseover",q[c]),q[v]&&q.off("mouseout",q[v]),z.get("focusNodeAdjacency")&&(q.on("mouseover",q[c]=function(){S._clearTimer(),b.dispatchAction({type:"focusNodeAdjacency",seriesId:A.id,dataIndex:q.dataIndex})}),q.on("mouseout",q[v]=function(){S._dispatchUnfocus(b)}))},this),D.graph.eachEdge(function(q){var E=q.getGraphicEl();E[c]&&E.off("mouseover",E[c]),E[v]&&E.off("mouseout",E[v]),q.getModel().get("focusNodeAdjacency")&&(E.on("mouseover",E[c]=function(){S._clearTimer(),b.dispatchAction({type:"focusNodeAdjacency",seriesId:A.id,edgeDataIndex:q.dataIndex})}),E.on("mouseout",E[v]=function(){S._dispatchUnfocus(b)}))});var V=A.get("layout")==="circular"&&A.get("circular.rotateLabel"),F=D.getLayout("cx"),Y=D.getLayout("cy");D.eachItemGraphicEl(function(q,E){var z=D.getItemModel(E),N=z.get("label.rotate")||0,H=q.getSymbolPath();if(V){var W=D.getItemLayout(E),U=Math.atan2(W[1]-Y,W[0]-F);U<0&&(U=Math.PI*2+U);var K=W[0]<F;K&&(U=U-Math.PI);var Q=K?"left":"right";s.modifyLabelStyle(H,{textRotation:-U,textPosition:Q,textOrigin:"center"},{textPosition:Q})}else s.modifyLabelStyle(H,{textRotation:N*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(A,w){var b=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){b._unfocusDelayTimer=null,A.dispatchAction({type:"unfocusNodeAdjacency",seriesId:b._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(A,w,b,S){var T=A.getData(),C=T.graph,M=S.dataIndex,I=S.edgeDataIndex,P=C.getNodeByIndex(M),D=C.getEdgeByIndex(I);!P&&!D||(C.eachNode(function(k){p(k,d,.1)}),C.eachEdge(function(k){p(k,m,.1)}),P&&(y(P,d),t.each(P.edges,function(k){k.dataIndex<0||(y(k,m),y(k.node1,d),y(k.node2,d))})),D&&(y(D,m),y(D.node1,d),y(D.node2,d)))},unfocusNodeAdjacency:function(A,w,b,S){var T=A.getData().graph;T.eachNode(function(C){p(C,d)}),T.eachEdge(function(C){p(C,m)})},_startForceLayoutIteration:function(A,w){var b=this;(function S(){A.step(function(T){b.updateLayout(b._model),(b._layouting=!T)&&(w?b._layoutTimeout=setTimeout(S,16):S())})})()},_updateController:function(A,w,b){var S=this._controller,T=this._controllerHost,C=this.group;if(S.setPointerChecker(function(M,I,P){var D=C.getBoundingRect();return D.applyTransform(C.transform),D.contain(I,P)&&!l(M,b,A)}),A.coordinateSystem.type!=="view"){S.disable();return}S.enable(A.get("roam")),T.zoomLimit=A.get("scaleLimit"),T.zoom=A.coordinateSystem.getZoom(),S.off("pan").off("zoom").on("pan",function(M){i.updateViewOnPan(T,M.dx,M.dy),b.dispatchAction({seriesId:A.id,type:"graphRoam",dx:M.dx,dy:M.dy})}).on("zoom",function(M){i.updateViewOnZoom(T,M.scale,M.originX,M.originY),b.dispatchAction({seriesId:A.id,type:"graphRoam",zoom:M.scale,originX:M.originX,originY:M.originY}),this._updateNodeAndLinkScale(),f(A.getGraph(),h(A)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var A=this._model,w=A.getData(),b=h(A),S=[b,b];w.eachItemGraphicEl(function(T,C){T.attr("scale",S)})},updateLayout:function(A){f(A.getGraph(),h(A)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(A,w){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});return im=x,im}var EM={},kM={},OM;function PN(){if(OM)return kM;OM=1;var e=Ge;return e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),kM}var BM;function pj(){if(BM)return EM;BM=1;var e=Ge,t=_x(),r=t.updateCenterAndZoom;PN();var n={type:"graphRoam",event:"graphRoam",update:"none"};return e.registerAction(n,function(a,i){i.eachComponent({mainType:"series",query:a},function(o){var l=o.coordinateSystem,s=r(l,a);o.setCenter&&o.setCenter(s.center),o.setZoom&&o.setZoom(s.zoom)})}),EM}var om,NM;function mj(){if(NM)return om;NM=1;function e(t){var r=t.findComponents({mainType:"legend"});!r||!r.length||t.eachSeriesByType("graph",function(n){var a=n.getCategoriesData(),i=n.getGraph(),o=i.data,l=a.mapArray(a.getName);o.filterSelf(function(s){var f=o.getItemModel(s),u=f.getShallow("category");if(u!=null){typeof u=="number"&&(u=l[u]);for(var h=0;h<r.length;h++)if(!r[h].isSelected(u))return!1}return!0})},this)}return om=e,om}var sm,zM;function yj(){if(zM)return sm;zM=1;function e(t){var r={};t.eachSeriesByType("graph",function(n){var a=n.getCategoriesData(),i=n.getData(),o={};a.each(function(l){var s=a.getName(l);o["ec-"+s]=l;var f=a.getItemModel(l),u=f.get("itemStyle.color")||n.getColorFromPalette(s,r);a.setItemVisual(l,"color",u);for(var h=["opacity","symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++){var v=f.getShallow(h[c],!0);v!=null&&a.setItemVisual(l,h[c],v)}}),a.count()&&i.each(function(l){var s=i.getItemModel(l),f=s.getShallow("category");if(f!=null){typeof f=="string"&&(f=o["ec-"+f]);for(var u=["color","opacity","symbol","symbolSize","symbolKeepAspect"],h=0;h<u.length;h++)i.getItemVisual(l,u[h],!0)==null&&i.setItemVisual(l,u[h],a.getItemVisual(f,u[h]))}})})}return sm=e,sm}var lm,VM;function _j(){if(VM)return lm;VM=1;function e(r){return r instanceof Array||(r=[r,r]),r}function t(r){r.eachSeriesByType("graph",function(n){var a=n.getGraph(),i=n.getEdgeData(),o=e(n.get("edgeSymbol")),l=e(n.get("edgeSymbolSize")),s="lineStyle.color".split("."),f="lineStyle.opacity".split(".");i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",l&&l[0]),i.setVisual("toSymbolSize",l&&l[1]),i.setVisual("color",n.get(s)),i.setVisual("opacity",n.get(f)),i.each(function(u){var h=i.getItemModel(u),c=a.getEdgeByIndex(u),v=e(h.getShallow("symbol",!0)),d=e(h.getShallow("symbolSize",!0)),m=h.get(s),g=h.get(f);switch(m){case"source":m=c.node1.getVisual("color");break;case"target":m=c.node2.getVisual("color");break}v[0]&&c.setVisual("fromSymbol",v[0]),v[1]&&c.setVisual("toSymbol",v[1]),d[0]&&c.setVisual("fromSymbolSize",d[0]),d[1]&&c.setVisual("toSymbolSize",d[1]),c.setVisual("color",m),c.setVisual("opacity",g)})})}return lm=t,lm}var wc={},FM;function DN(){if(FM)return wc;FM=1;var e=sr(),t=ne,r=Gh(),n=r.getCurvenessForEdge;function a(o){var l=o.coordinateSystem;if(!(l&&l.type!=="view")){var s=o.getGraph();s.eachNode(function(f){var u=f.getModel();f.setLayout([+u.get("x"),+u.get("y")])}),i(s,o)}}function i(o,l){o.eachEdge(function(s,f){var u=t.retrieve3(s.getModel().get("lineStyle.curveness"),-n(s,l,f,!0),0),h=e.clone(s.node1.getLayout()),c=e.clone(s.node2.getLayout()),v=[h,c];+u&&v.push([(h[0]+c[0])/2-(h[1]-c[1])*u,(h[1]+c[1])/2-(c[0]-h[0])*u]),s.setLayout(v)})}return wc.simpleLayout=a,wc.simpleLayoutEdge=i,wc}var um,HM;function xj(){if(HM)return um;HM=1;var e=ne,t=e.each,r=DN(),n=r.simpleLayout,a=r.simpleLayoutEdge;function i(o,l){o.eachSeriesByType("graph",function(s){var f=s.get("layout"),u=s.coordinateSystem;if(u&&u.type!=="view"){var h=s.getData(),c=[];t(u.dimensions,function(y){c=c.concat(h.mapDimension(y,!0))});for(var v=0;v<h.count();v++){for(var d=[],m=!1,g=0;g<c.length;g++){var p=h.get(c[g],v);isNaN(p)||(m=!0),d.push(p)}m?h.setItemLayout(v,u.dataToPoint(d)):h.setItemLayout(v,[NaN,NaN])}a(h.graph,s)}else(!f||f==="none")&&n(s)})}return um=i,um}var fm={},qM;function RN(){if(qM)return fm;qM=1;var e=sr(),t=Cx(),r=t.getSymbolSize,n=t.getNodeGlobalScale,a=ne,i=Gh(),o=i.getCurvenessForEdge,l=Math.PI,s=[];function f(h,c){var v=h.coordinateSystem;if(!(v&&v.type!=="view")){var d=v.getBoundingRect(),m=h.getData(),g=m.graph,p=d.width/2+d.x,y=d.height/2+d.y,x=Math.min(d.width,d.height)/2,A=m.count();m.setLayout({cx:p,cy:y}),A&&(u[c](h,v,g,m,x,p,y,A),g.eachEdge(function(w,b){var S=a.retrieve3(w.getModel().get("lineStyle.curveness"),o(w,h,b),0),T=e.clone(w.node1.getLayout()),C=e.clone(w.node2.getLayout()),M,I=(T[0]+C[0])/2,P=(T[1]+C[1])/2;+S&&(S*=3,M=[p*S+I*(1-S),y*S+P*(1-S)]),w.setLayout([T,C,M])}))}}var u={value:function(h,c,v,d,m,g,p,y){var x=0,A=d.getSum("value"),w=Math.PI*2/(A||y);v.eachNode(function(b){var S=b.getValue("value"),T=w*(A?S:1)/2;x+=T,b.setLayout([m*Math.cos(x)+g,m*Math.sin(x)+p]),x+=T})},symbolSize:function(h,c,v,d,m,g,p,y){var x=0;s.length=y;var A=n(h);v.eachNode(function(S){var T=r(S);isNaN(T)&&(T=2),T<0&&(T=0),T*=A;var C=Math.asin(T/2/m);isNaN(C)&&(C=l/2),s[S.dataIndex]=C,x+=C*2});var w=(2*l-x)/y/2,b=0;v.eachNode(function(S){var T=w+s[S.dataIndex];b+=T,S.setLayout([m*Math.cos(b)+g,m*Math.sin(b)+p]),b+=T})}};return fm.circularLayout=f,fm}var cm,UM;function wj(){if(UM)return cm;UM=1;var e=RN(),t=e.circularLayout;function r(n){n.eachSeriesByType("graph",function(a){a.get("layout")==="circular"&&t(a,"symbolSize")})}return cm=r,cm}var hm={},GM;function Sj(){if(GM)return hm;GM=1;var e=sr(),t=e.scaleAndAdd;function r(n,a,i){for(var o=i.rect,l=o.width,s=o.height,f=[o.x+l/2,o.y+s/2],u=i.gravity==null?.1:i.gravity,h=0;h<n.length;h++){var c=n[h];c.p||(c.p=e.create(l*(Math.random()-.5)+f[0],s*(Math.random()-.5)+f[1])),c.pp=e.clone(c.p),c.edges=null}var v=i.friction==null?.6:i.friction,d=v;return{warmUp:function(){d=v*.8},setFixed:function(m){n[m].fixed=!0},setUnfixed:function(m){n[m].fixed=!1},step:function(m){for(var g=[],p=n.length,y=0;y<a.length;y++){var x=a[y];if(!x.ignoreForceLayout){var A=x.n1,w=x.n2;e.sub(g,w.p,A.p);var b=e.len(g)-x.d,S=w.w/(A.w+w.w);isNaN(S)&&(S=0),e.normalize(g,g),!A.fixed&&t(A.p,A.p,g,S*b*d),!w.fixed&&t(w.p,w.p,g,-(1-S)*b*d)}}for(var y=0;y<p;y++){var T=n[y];T.fixed||(e.sub(g,f,T.p),t(T.p,T.p,g,u*d))}for(var y=0;y<p;y++)for(var A=n[y],C=y+1;C<p;C++){var w=n[C];e.sub(g,w.p,A.p);var b=e.len(g);b===0&&(e.set(g,Math.random()-.5,Math.random()-.5),b=1);var M=(A.rep+w.rep)/b/b;!A.fixed&&t(A.pp,A.pp,g,M),!w.fixed&&t(w.pp,w.pp,g,-M)}for(var I=[],y=0;y<p;y++){var T=n[y];T.fixed||(e.sub(I,T.p,T.pp),t(T.p,T.p,I,d),e.copy(T.pp,T.p))}d=d*.992,m&&m(n,a,d<.01)}}}return hm.forceLayout=r,hm}var vm,WM;function bj(){if(WM)return vm;WM=1;var e=Sj(),t=e.forceLayout,r=DN(),n=r.simpleLayout,a=RN(),i=a.circularLayout,o=ht(),l=o.linearMap,s=sr(),f=ne,u=Gh(),h=u.getCurvenessForEdge;function c(v){v.eachSeriesByType("graph",function(d){var m=d.coordinateSystem;if(!(m&&m.type!=="view"))if(d.get("layout")==="force"){var g=d.preservedPoints||{},p=d.getGraph(),y=p.data,x=p.edgeData,A=d.getModel("force"),w=A.get("initLayout");d.preservedPoints?y.each(function(B){var V=y.getId(B);y.setItemLayout(B,g[V]||[NaN,NaN])}):!w||w==="none"?n(d):w==="circular"&&i(d,"value");var b=y.getDataExtent("value"),S=x.getDataExtent("value"),T=A.get("repulsion"),C=A.get("edgeLength");f.isArray(T)||(T=[T,T]),f.isArray(C)||(C=[C,C]),C=[C[1],C[0]];var M=y.mapArray("value",function(B,V){var F=y.getItemLayout(V),Y=l(B,b,T);return isNaN(Y)&&(Y=(T[0]+T[1])/2),{w:Y,rep:Y,fixed:y.getItemModel(V).get("fixed"),p:!F||isNaN(F[0])||isNaN(F[1])?null:F}}),I=x.mapArray("value",function(B,V){var F=p.getEdgeByIndex(V),Y=l(B,S,C);isNaN(Y)&&(Y=(C[0]+C[1])/2);var q=F.getModel(),E=f.retrieve3(q.get("lineStyle.curveness"),-h(F,d,V,!0),0);return{n1:M[F.node1.dataIndex],n2:M[F.node2.dataIndex],d:Y,curveness:E,ignoreForceLayout:q.get("ignoreForceLayout")}}),m=d.coordinateSystem,P=m.getBoundingRect(),D=t(M,I,{rect:P,gravity:A.get("gravity"),friction:A.get("friction")}),k=D.step;D.step=function(B){for(var V=0,F=M.length;V<F;V++)M[V].fixed&&s.copy(M[V].p,p.getNodeByIndex(V).getLayout());k(function(Y,q,E){for(var z=0,N=Y.length;z<N;z++)Y[z].fixed||p.getNodeByIndex(z).setLayout(Y[z].p),g[y.getId(z)]=Y[z].p;for(var z=0,N=q.length;z<N;z++){var H=q[z],W=p.getEdgeByIndex(z),U=H.n1.p,K=H.n2.p,Q=W.getLayout();Q=Q?Q.slice():[],Q[0]=Q[0]||[],Q[1]=Q[1]||[],s.copy(Q[0],U),s.copy(Q[1],K),+H.curveness&&(Q[2]=[(U[0]+K[0])/2-(U[1]-K[1])*H.curveness,(U[1]+K[1])/2-(K[0]-U[0])*H.curveness]),W.setLayout(Q)}B&&B(E)})},d.forceLayout=D,d.preservedPoints=g,D.step()}else d.forceLayout=null})}return vm=c,vm}var dm,$M;function Aj(){if($M)return dm;$M=1;var e=xx(),t=Tt,r=t.getLayoutRect,n=Du();function a(o,l,s){var f=o.getBoxLayoutParams();return f.aspect=s,r(f,{width:l.getWidth(),height:l.getHeight()})}function i(o,l){var s=[];return o.eachSeriesByType("graph",function(f){var u=f.get("coordinateSystem");if(!u||u==="view"){var h=f.getData(),c=h.mapArray(function(b){var S=h.getItemModel(b);return[+S.get("x"),+S.get("y")]}),v=[],d=[];n.fromPoints(c,v,d),d[0]-v[0]===0&&(d[0]+=1,v[0]-=1),d[1]-v[1]===0&&(d[1]+=1,v[1]-=1);var m=(d[0]-v[0])/(d[1]-v[1]),g=a(f,l,m);isNaN(m)&&(v=[g.x,g.y],d=[g.x+g.width,g.y+g.height]);var p=d[0]-v[0],y=d[1]-v[1],x=g.width,A=g.height,w=f.coordinateSystem=new e;w.zoomLimit=f.get("scaleLimit"),w.setBoundingRect(v[0],v[1],p,y),w.setViewRect(g.x,g.y,x,A),w.setCenter(f.get("center")),w.setZoom(f.get("zoom")),s.push(w)}}),s}return dm=i,dm}var YM;function Tj(){if(YM)return SM;YM=1;var e=Ge;hj(),gj(),pj();var t=mj(),r=Fo(),n=yj(),a=_j(),i=xj(),o=wj(),l=bj(),s=Aj();return e.registerProcessor(t),e.registerVisual(r("graph","circle",null)),e.registerVisual(n),e.registerVisual(a),e.registerLayout(i),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,o),e.registerLayout(l),e.registerCoordinateSystem("graphView",{create:s}),SM}var ZM={},gm,KM;function Cj(){if(KM)return gm;KM=1;var e=il(),t=Br,r=t.extend({type:"series.gauge",getInitialData:function(a,i){return e(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),n=r;return gm=n,gm}var pm,XM;function Mj(){if(XM)return pm;XM=1;var e=yr,t=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(r,n){var a=Math.cos,i=Math.sin,o=n.r,l=n.width,s=n.angle,f=n.x-a(s)*l*(l>=o/3?1:2),u=n.y-i(s)*l*(l>=o/3?1:2);s=n.angle-Math.PI/2,r.moveTo(f,u),r.lineTo(n.x+a(s)*l,n.y+i(s)*l),r.lineTo(n.x+a(n.angle)*o,n.y+i(n.angle)*o),r.lineTo(n.x-a(s)*l,n.y-i(s)*l),r.lineTo(f,u)}});return pm=t,pm}var mm,QM;function Lj(){if(QM)return mm;QM=1;var e=Mj(),t=ke,r=Vn,n=ht(),a=n.parsePercent,i=n.round,o=n.linearMap;function l(c,v){var d=c.get("center"),m=v.getWidth(),g=v.getHeight(),p=Math.min(m,g),y=a(d[0],v.getWidth()),x=a(d[1],v.getHeight()),A=a(c.get("radius"),p/2);return{cx:y,cy:x,r:A}}function s(c,v){return v&&(typeof v=="string"?c=v.replace("{value}",c??""):typeof v=="function"&&(c=v(c))),c}var f=Math.PI*2,u=r.extend({type:"gauge",render:function(c,v,d){this.group.removeAll();var m=c.get("axisLine.lineStyle.color"),g=l(c,d);this._renderMain(c,v,d,m,g)},dispose:function(){},_renderMain:function(c,v,d,m,g){for(var p=this.group,y=c.getModel("axisLine"),x=y.getModel("lineStyle"),A=c.get("clockwise"),w=-c.get("startAngle")/180*Math.PI,b=-c.get("endAngle")/180*Math.PI,S=(b-w)%f,T=w,C=x.get("width"),M=y.get("show"),I=0;M&&I<m.length;I++){var P=Math.min(Math.max(m[I][0],0),1),b=w+S*P,D=new t.Sector({shape:{startAngle:T,endAngle:b,cx:g.cx,cy:g.cy,clockwise:A,r0:g.r-C,r:g.r},silent:!0});D.setStyle({fill:m[I][1]}),D.setStyle(x.getLineStyle(["color","borderWidth","borderColor"])),p.add(D),T=b}var k=function(B){if(B<=0)return m[0][1];for(var V=0;V<m.length;V++)if(m[V][0]>=B&&(V===0?0:m[V-1][0])<B)return m[V][1];return m[V-1][1]};if(!A){var R=w;w=b,b=R}this._renderTicks(c,v,d,k,g,w,b,A),this._renderPointer(c,v,d,k,g,w,b,A),this._renderTitle(c,v,d,k,g),this._renderDetail(c,v,d,k,g)},_renderTicks:function(c,v,d,m,g,p,y,x){for(var A=this.group,w=g.cx,b=g.cy,S=g.r,T=+c.get("min"),C=+c.get("max"),M=c.getModel("splitLine"),I=c.getModel("axisTick"),P=c.getModel("axisLabel"),D=c.get("splitNumber"),k=I.get("splitNumber"),R=a(M.get("length"),S),B=a(I.get("length"),S),V=p,F=(y-p)/D,Y=F/k,q=M.getModel("lineStyle").getLineStyle(),E=I.getModel("lineStyle").getLineStyle(),z=0;z<=D;z++){var N=Math.cos(V),H=Math.sin(V);if(M.get("show")){var W=new t.Line({shape:{x1:N*S+w,y1:H*S+b,x2:N*(S-R)+w,y2:H*(S-R)+b},style:q,silent:!0});q.stroke==="auto"&&W.setStyle({stroke:m(z/D)}),A.add(W)}if(P.get("show")){var U=s(i(z/D*(C-T)+T),P.get("formatter")),K=P.get("distance"),Q=m(z/D);A.add(new t.Text({style:t.setTextStyle({},P,{text:U,x:N*(S-R-K)+w,y:H*(S-R-K)+b,textVerticalAlign:H<-.4?"top":H>.4?"bottom":"middle",textAlign:N<-.4?"left":N>.4?"right":"center"},{autoColor:Q}),silent:!0}))}if(I.get("show")&&z!==D){for(var j=0;j<=k;j++){var N=Math.cos(V),H=Math.sin(V),se=new t.Line({shape:{x1:N*S+w,y1:H*S+b,x2:N*(S-B)+w,y2:H*(S-B)+b},silent:!0,style:E});E.stroke==="auto"&&se.setStyle({stroke:m((z+j/k)/D)}),A.add(se),V+=Y}V-=Y}else V+=F}},_renderPointer:function(c,v,d,m,g,p,y,x){var A=this.group,w=this._data;if(!c.get("pointer.show")){w&&w.eachItemGraphicEl(function(M){A.remove(M)});return}var b=[+c.get("min"),+c.get("max")],S=[p,y],T=c.getData(),C=T.mapDimension("value");T.diff(w).add(function(M){var I=new e({shape:{angle:p}});t.initProps(I,{shape:{angle:o(T.get(C,M),b,S,!0)}},c),A.add(I),T.setItemGraphicEl(M,I)}).update(function(M,I){var P=w.getItemGraphicEl(I);t.updateProps(P,{shape:{angle:o(T.get(C,M),b,S,!0)}},c),A.add(P),T.setItemGraphicEl(M,P)}).remove(function(M){var I=w.getItemGraphicEl(M);A.remove(I)}).execute(),T.eachItemGraphicEl(function(M,I){var P=T.getItemModel(I),D=P.getModel("pointer");M.setShape({x:g.cx,y:g.cy,width:a(D.get("width"),g.r),r:a(D.get("length"),g.r)}),M.useStyle(P.getModel("itemStyle").getItemStyle()),M.style.fill==="auto"&&M.setStyle("fill",m(o(T.get(C,I),b,[0,1],!0))),t.setHoverStyle(M,P.getModel("emphasis.itemStyle").getItemStyle())}),this._data=T},_renderTitle:function(c,v,d,m,g){var p=c.getData(),y=p.mapDimension("value"),x=c.getModel("title");if(x.get("show")){var A=x.get("offsetCenter"),w=g.cx+a(A[0],g.r),b=g.cy+a(A[1],g.r),S=+c.get("min"),T=+c.get("max"),C=c.getData().get(y,0),M=m(o(C,[S,T],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},x,{x:w,y:b,text:p.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}},_renderDetail:function(c,v,d,m,g){var p=c.getModel("detail"),y=+c.get("min"),x=+c.get("max");if(p.get("show")){var A=p.get("offsetCenter"),w=g.cx+a(A[0],g.r),b=g.cy+a(A[1],g.r),S=a(p.get("width"),g.r),T=a(p.get("height"),g.r),C=c.getData(),M=C.get(C.mapDimension("value"),0),I=m(o(M,[y,x],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},p,{x:w,y:b,text:s(M,p.get("formatter")),textWidth:isNaN(S)?null:S,textHeight:isNaN(T)?null:T,textAlign:"center",textVerticalAlign:"middle"},{autoColor:I,forceRich:!0})}))}}}),h=u;return mm=h,mm}var JM;function Ij(){return JM||(JM=1,Cj(),Lj()),ZM}var jM={},ym,eL;function Pj(){if(eL)return ym;eL=1;var e=Ge,t=ne,r=il(),n=lt,a=n.defaultEmphasis,i=mi(),o=i.makeSeriesEncodeForNameBased,l=Wu(),s=e.extendSeriesModel({type:"series.funnel",init:function(u){s.superApply(this,"init",arguments),this.legendVisualProvider=new l(t.bind(this.getData,this),t.bind(this.getRawData,this)),this._defaultLabelLine(u)},getInitialData:function(u,h){return r(this,{coordDimensions:["value"],encodeDefaulter:t.curry(o,this)})},_defaultLabelLine:function(u){a(u,"labelLine",["show"]);var h=u.labelLine,c=u.emphasis.labelLine;h.show=h.show&&u.label.show,c.show=c.show&&u.emphasis.label.show},getDataParams:function(u){var h=this.getData(),c=s.superCall(this,"getDataParams",u),v=h.mapDimension("value"),d=h.getSum(v);return c.percent=d?+(h.get(v,u)/d*100).toFixed(2):0,c.$vars.push("percent"),c},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),f=s;return ym=f,ym}var _m,tL;function Dj(){if(tL)return _m;tL=1;var e=ke,t=ne,r=Vn;function n(s,f){e.Group.call(this);var u=new e.Polygon,h=new e.Polyline,c=new e.Text;this.add(u),this.add(h),this.add(c),this.highDownOnUpdate=function(v,d){d==="emphasis"?(h.ignore=h.hoverIgnore,c.ignore=c.hoverIgnore):(h.ignore=h.normalIgnore,c.ignore=c.normalIgnore)},this.updateData(s,f,!0)}var a=n.prototype,i=["itemStyle","opacity"];a.updateData=function(s,f,u){var h=this.childAt(0),c=s.hostModel,v=s.getItemModel(f),d=s.getItemLayout(f),m=s.getItemModel(f).get(i);m=m??1,h.useStyle({}),u?(h.setShape({points:d.points}),h.setStyle({opacity:0}),e.initProps(h,{style:{opacity:m}},c,f)):e.updateProps(h,{style:{opacity:m},shape:{points:d.points}},c,f);var g=v.getModel("itemStyle"),p=s.getItemVisual(f,"color");h.setStyle(t.defaults({lineJoin:"round",fill:p},g.getItemStyle(["opacity"]))),h.hoverStyle=g.getModel("emphasis").getItemStyle(),this._updateLabel(s,f),e.setHoverStyle(this)},a._updateLabel=function(s,f){var u=this.childAt(1),h=this.childAt(2),c=s.hostModel,v=s.getItemModel(f),d=s.getItemLayout(f),m=d.label,A=s.getItemVisual(f,"color");e.updateProps(u,{shape:{points:m.linePoints||m.linePoints}},c,f),e.updateProps(h,{style:{x:m.x,y:m.y}},c,f),h.attr({rotation:m.rotation,origin:[m.x,m.y],z2:10});var g=v.getModel("label"),p=v.getModel("emphasis.label"),y=v.getModel("labelLine"),x=v.getModel("emphasis.labelLine"),A=s.getItemVisual(f,"color");e.setLabelStyle(h.style,h.hoverStyle={},g,p,{labelFetcher:s.hostModel,labelDataIndex:f,defaultText:s.getName(f),autoColor:A,useInsideStyle:!!m.inside},{textAlign:m.textAlign,textVerticalAlign:m.verticalAlign}),h.ignore=h.normalIgnore=!g.get("show"),h.hoverIgnore=!p.get("show"),u.ignore=u.normalIgnore=!y.get("show"),u.hoverIgnore=!x.get("show"),u.setStyle({stroke:A}),u.setStyle(y.getModel("lineStyle").getLineStyle()),u.hoverStyle=x.getModel("lineStyle").getLineStyle()},t.inherits(n,e.Group);var o=r.extend({type:"funnel",render:function(s,f,u){var h=s.getData(),c=this._data,v=this.group;h.diff(c).add(function(d){var m=new n(h,d);h.setItemGraphicEl(d,m),v.add(m)}).update(function(d,m){var g=c.getItemGraphicEl(m);g.updateData(h,d),v.add(g),h.setItemGraphicEl(d,g)}).remove(function(d){var m=c.getItemGraphicEl(d);v.remove(m)}).execute(),this._data=h},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),l=o;return _m=l,_m}var xm,rL;function Rj(){if(rL)return xm;rL=1;var e=Tt,t=ht(),r=t.parsePercent,n=t.linearMap;function a(s,f){return e.getLayoutRect(s.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()})}function i(s,f){for(var u=s.mapDimension("value"),h=s.mapArray(u,function(g){return g}),c=[],v=f==="ascending",d=0,m=s.count();d<m;d++)c[d]=d;return typeof f=="function"?c.sort(f):f!=="none"&&c.sort(function(g,p){return v?h[g]-h[p]:h[p]-h[g]}),c}function o(s){s.each(function(f){var u=s.getItemModel(f),h=u.getModel("label"),c=h.get("position"),v=u.get("orient"),d=u.getModel("labelLine"),m=s.getItemLayout(f),g=m.points,p=c==="inner"||c==="inside"||c==="center"||c==="insideLeft"||c==="insideRight",y,x,A,w;if(p)c==="insideLeft"?(x=(g[0][0]+g[3][0])/2+5,A=(g[0][1]+g[3][1])/2,y="left"):c==="insideRight"?(x=(g[1][0]+g[2][0])/2-5,A=(g[1][1]+g[2][1])/2,y="right"):(x=(g[0][0]+g[1][0]+g[2][0]+g[3][0])/4,A=(g[0][1]+g[1][1]+g[2][1]+g[3][1])/4,y="center"),w=[[x,A],[x,A]];else{var b,S,T,C,M=d.get("length");c==="left"?(b=(g[3][0]+g[0][0])/2,S=(g[3][1]+g[0][1])/2,T=b-M,x=T-5,y="right"):c==="right"?(b=(g[1][0]+g[2][0])/2,S=(g[1][1]+g[2][1])/2,T=b+M,x=T+5,y="left"):c==="top"?(b=(g[3][0]+g[0][0])/2,S=(g[3][1]+g[0][1])/2,C=S-M,A=C-5,y="center"):c==="bottom"?(b=(g[1][0]+g[2][0])/2,S=(g[1][1]+g[2][1])/2,C=S+M,A=C+5,y="center"):c==="rightTop"?(b=v==="horizontal"?g[3][0]:g[1][0],S=v==="horizontal"?g[3][1]:g[1][1],v==="horizontal"?(C=S-M,A=C-5,y="center"):(T=b+M,x=T+5,y="top")):c==="rightBottom"?(b=g[2][0],S=g[2][1],v==="horizontal"?(C=S+M,A=C+5,y="center"):(T=b+M,x=T+5,y="bottom")):c==="leftTop"?(b=g[0][0],S=v==="horizontal"?g[0][1]:g[1][1],v==="horizontal"?(C=S-M,A=C-5,y="center"):(T=b-M,x=T-5,y="right")):c==="leftBottom"?(b=v==="horizontal"?g[1][0]:g[3][0],S=v==="horizontal"?g[1][1]:g[2][1],v==="horizontal"?(C=S+M,A=C+5,y="center"):(T=b-M,x=T-5,y="right")):(b=(g[1][0]+g[2][0])/2,S=(g[1][1]+g[2][1])/2,v==="horizontal"?(C=S+M,A=C+5,y="center"):(T=b+M,x=T+5,y="left")),v==="horizontal"?(T=b,x=T):(C=S,A=C),w=[[b,S],[T,C]]}m.label={linePoints:w,x,y:A,verticalAlign:"middle",textAlign:y,inside:p}})}function l(s,f,u){s.eachSeriesByType("funnel",function(h){var c=h.getData(),v=c.mapDimension("value"),d=h.get("sort"),m=a(h,f),g=i(c,d),p=h.get("orient"),y=m.width,x=m.height,A=m.x,w=m.y,b=p==="horizontal"?[r(h.get("minSize"),x),r(h.get("maxSize"),x)]:[r(h.get("minSize"),y),r(h.get("maxSize"),y)],S=c.getDataExtent(v),T=h.get("min"),C=h.get("max");T==null&&(T=Math.min(S[0],0)),C==null&&(C=S[1]);var M=h.get("funnelAlign"),I=h.get("gap"),P=p==="horizontal"?y:x,D=(P-I*(c.count()-1))/c.count(),k=function(N,H){if(p==="horizontal"){var K=c.get(v,N)||0,W=n(K,[T,C],b,!0),U;switch(M){case"top":U=w;break;case"center":U=w+(x-W)/2;break;case"bottom":U=w+(x-W);break}return[[H,U],[H,U+W]]}var K=c.get(v,N)||0,Q=n(K,[T,C],b,!0),j;switch(M){case"left":j=A;break;case"center":j=A+(y-Q)/2;break;case"right":j=A+y-Q;break}return[[j,H],[j+Q,H]]};d==="ascending"&&(D=-D,I=-I,p==="horizontal"?A+=y:w+=x,g=g.reverse());for(var R=0;R<g.length;R++){var B=g[R],V=g[R+1],F=c.getItemModel(B);if(p==="horizontal"){var Y=F.get("itemStyle.width");Y==null?Y=D:(Y=r(Y,y),d==="ascending"&&(Y=-Y));var q=k(B,A),E=k(V,A+Y);A+=Y+I,c.setItemLayout(B,{points:q.concat(E.slice().reverse())})}else{var z=F.get("itemStyle.height");z==null?z=D:(z=r(z,x),d==="ascending"&&(z=-z));var q=p==="horizontal"?k(B,A):k(B,w),E=p==="horizontal"?k(V,A+Y):k(V,w+z);w+=z+I,c.setItemLayout(B,{points:q.concat(E.slice().reverse())})}}o(c)})}return xm=l,xm}var aL;function Ej(){if(aL)return jM;aL=1;var e=Ge;Pj(),Dj();var t=Hh(),r=Rj(),n=$u();return e.registerVisual(t("funnel")),e.registerLayout(r),e.registerProcessor(n("funnel")),jM}var nL={},iL={},wm,oL;function kj(){if(oL)return wm;oL=1;var e=ne,t=lt;function r(i){n(i),a(i)}function n(i){if(!i.parallel){var o=!1;e.each(i.series,function(l){l&&l.type==="parallel"&&(o=!0)}),o&&(i.parallel=[{}])}}function a(i){var o=t.normalizeToArray(i.parallelAxis);e.each(o,function(l){if(e.isObject(l)){var s=l.parallelIndex||0,f=t.normalizeToArray(i.parallel)[s];f&&f.parallelAxisDefault&&e.merge(l,f.parallelAxisDefault,!1)}})}return wm=r,wm}var sL={},Sm,lL;function Oj(){if(lL)return Sm;lL=1;var e=ne,t=ro(),r=function(a,i,o,l,s){t.call(this,a,i,o),this.type=l||"value",this.axisIndex=s};r.prototype={constructor:r,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},e.inherits(r,t);var n=r;return Sm=n,Sm}var bm,uL;function ol(){if(uL)return bm;uL=1;function e(n,a,i,o,l,s){n=n||0;var f=i[1]-i[0];if(l!=null&&(l=r(l,[0,f])),s!=null&&(s=Math.max(s,l??0)),o==="all"){var u=Math.abs(a[1]-a[0]);u=r(u,[0,f]),l=s=r(u,[l,s]),o=0}a[0]=r(a[0],i),a[1]=r(a[1],i);var h=t(a,o);a[o]+=n;var c=l||0,v=i.slice();h.sign<0?v[0]+=c:v[1]-=c,a[o]=r(a[o],v);var d=t(a,o);l!=null&&(d.sign!==h.sign||d.span<l)&&(a[1-o]=a[o]+h.sign*l);var d=t(a,o);return s!=null&&d.span>s&&(a[1-o]=a[o]+d.sign*s),a}function t(n,a){var i=n[a]-n[1-a];return{span:Math.abs(i),sign:i>0?-1:i<0?1:a?-1:1}}function r(n,a){return Math.min(a[1]!=null?a[1]:1/0,Math.max(a[0]!=null?a[0]:-1/0,n))}return bm=e,bm}var Am,fL;function Bj(){if(fL)return Am;fL=1;var e=ne,t=la(),r=Tt,n=_n(),a=Oj(),i=ke,o=ht(),l=ol(),s=e.each,f=Math.min,u=Math.max,h=Math.floor,c=Math.ceil,v=o.round,d=Math.PI;function m(A,w,b){this._axesMap=e.createHashMap(),this._axesLayout={},this.dimensions=A.dimensions,this._rect,this._model=A,this._init(A,w,b)}m.prototype={type:"parallel",constructor:m,_init:function(A,w,b){var S=A.dimensions,T=A.parallelAxisIndex;s(S,function(C,M){var I=T[M],P=w.getComponent("parallelAxis",I),D=this._axesMap.set(C,new a(C,n.createScaleByModel(P),[0,0],P.get("type"),I)),k=D.type==="category";D.onBand=k&&P.get("boundaryGap"),D.inverse=P.get("inverse"),P.axis=D,D.model=P,D.coordinateSystem=P.coordinateSystem=this},this)},update:function(A,w){this._updateAxesFromSeries(this._model,A)},containPoint:function(A){var w=this._makeLayoutInfo(),b=w.axisBase,S=w.layoutBase,T=w.pixelDimIndex,C=A[1-T],M=A[T];return C>=b&&C<=b+w.axisLength&&M>=S&&M<=S+w.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(A,w){w.eachSeries(function(b){if(A.contains(b,w)){var S=b.getData();s(this.dimensions,function(T){var C=this._axesMap.get(T);C.scale.unionExtentFromData(S,S.mapDimension(T)),n.niceScaleExtent(C.scale,C.model)},this)}},this)},resize:function(A,w){this._rect=r.getLayoutRect(A.getBoxLayoutParams(),{width:w.getWidth(),height:w.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var A=this._model,w=this._rect,b=["x","y"],S=["width","height"],T=A.get("layout"),C=T==="horizontal"?0:1,M=w[S[C]],I=[0,M],P=this.dimensions.length,D=g(A.get("axisExpandWidth"),I),k=g(A.get("axisExpandCount")||0,[0,P]),R=A.get("axisExpandable")&&P>3&&P>k&&k>1&&D>0&&M>0,B=A.get("axisExpandWindow"),V;if(B)V=g(B[1]-B[0],I),B[1]=B[0]+V;else{V=g(D*(k-1),I);var F=A.get("axisExpandCenter")||h(P/2);B=[D*F-V/2],B[1]=B[0]+V}var Y=(M-V)/(P-k);Y<3&&(Y=0);var q=[h(v(B[0]/D,1))+1,c(v(B[1]/D,1))-1],E=Y/D*B[0];return{layout:T,pixelDimIndex:C,layoutBase:w[b[C]],layoutLength:M,axisBase:w[b[1-C]],axisLength:w[S[1-C]],axisExpandable:R,axisExpandWidth:D,axisCollapseWidth:Y,axisExpandWindow:B,axisCount:P,winInnerIndices:q,axisExpandWindow0Pos:E}},_layoutAxes:function(){var A=this._rect,w=this._axesMap,b=this.dimensions,S=this._makeLayoutInfo(),T=S.layout;w.each(function(C){var M=[0,S.axisLength],I=C.inverse?1:0;C.setExtent(M[I],M[1-I])}),s(b,function(C,M){var I=(S.axisExpandable?y:p)(M,S),P={horizontal:{x:I.position,y:S.axisLength},vertical:{x:0,y:I.position}},D={horizontal:d/2,vertical:0},k=[P[T].x+A.x,P[T].y+A.y],R=D[T],B=t.create();t.rotate(B,B,R),t.translate(B,B,k),this._axesLayout[C]={position:k,rotation:R,transform:B,axisNameAvailableWidth:I.axisNameAvailableWidth,axisLabelShow:I.axisLabelShow,nameTruncateMaxWidth:I.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(A){return this._axesMap.get(A)},dataToPoint:function(A,w){return this.axisCoordToPoint(this._axesMap.get(w).dataToCoord(A),w)},eachActiveState:function(A,w,b,S){b==null&&(b=0),S==null&&(S=A.count());var T=this._axesMap,C=this.dimensions,M=[],I=[];e.each(C,function(Y){M.push(A.mapDimension(Y)),I.push(T.get(Y).model)});for(var P=this.hasAxisBrushed(),D=b;D<S;D++){var k;if(!P)k="normal";else{k="active";for(var R=A.getValues(M,D),B=0,V=C.length;B<V;B++){var F=I[B].getActiveState(R[B]);if(F==="inactive"){k="inactive";break}}}w(k,D)}},hasAxisBrushed:function(){for(var A=this.dimensions,w=this._axesMap,b=!1,S=0,T=A.length;S<T;S++)w.get(A[S]).model.getActiveState()!=="normal"&&(b=!0);return b},axisCoordToPoint:function(A,w){var b=this._axesLayout[w];return i.applyTransform([A,0],b.transform)},getAxisLayout:function(A){return e.clone(this._axesLayout[A])},getSlidedAxisExpandWindow:function(A){var w=this._makeLayoutInfo(),b=w.pixelDimIndex,S=w.axisExpandWindow.slice(),T=S[1]-S[0],C=[0,w.axisExpandWidth*(w.axisCount-1)];if(!this.containPoint(A))return{behavior:"none",axisExpandWindow:S};var M=A[b]-w.layoutBase-w.axisExpandWindow0Pos,I,P="slide",D=w.axisCollapseWidth,k=this._model.get("axisExpandSlideTriggerArea"),R=k[0]!=null;if(D)R&&D&&M<T*k[0]?(P="jump",I=M-T*k[2]):R&&D&&M>T*(1-k[0])?(P="jump",I=M-T*(1-k[2])):(I=M-T*k[1])>=0&&(I=M-T*(1-k[1]))<=0&&(I=0),I*=w.axisExpandWidth/D,I?l(I,S,C,"all"):P="none";else{var T=S[1]-S[0],B=C[1]*M/T;S=[u(0,B-T/2)],S[1]=f(C[1],S[0]+T),S[0]=S[1]-T}return{axisExpandWindow:S,behavior:P}}};function g(A,w){return f(u(A,w[0]),w[1])}function p(A,w){var b=w.layoutLength/(w.axisCount-1);return{position:b*A,axisNameAvailableWidth:b,axisLabelShow:!0}}function y(A,w){var b=w.layoutLength,S=w.axisExpandWidth,T=w.axisCount,C=w.axisCollapseWidth,M=w.winInnerIndices,I,P=C,D=!1,k;return A<M[0]?(I=A*C,k=C):A<=M[1]?(I=w.axisExpandWindow0Pos+A*S-w.axisExpandWindow[0],P=S,D=!0):(I=b-(T-1-A)*C,k=C),{position:I,axisNameAvailableWidth:P,axisLabelShow:D,nameTruncateMaxWidth:k}}var x=m;return Am=x,Am}var cL;function EN(){if(cL)return sL;cL=1;var e=Bj(),t=zn;function r(n,a){var i=[];return n.eachComponent("parallel",function(o,l){var s=new e(o,n,a);s.name="parallel_"+l,s.resize(o,a),o.coordinateSystem=s,s.model=o,i.push(s)}),n.eachSeries(function(o){if(o.get("coordinateSystem")==="parallel"){var l=n.queryComponents({mainType:"parallel",index:o.get("parallelIndex"),id:o.get("parallelId")})[0];o.coordinateSystem=l.coordinateSystem}}),i}return t.register("parallel",{create:r}),sL}var Tm,hL;function Nj(){if(hL)return Tm;hL=1;var e=ne,t=Or,r=Xs(),n=Vh(),a=ht(),i=nl(),o=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(u){var h=this.activeIntervals=e.clone(u);if(h)for(var c=h.length-1;c>=0;c--)a.asc(h[c])},getActiveState:function(u){var h=this.activeIntervals;if(!h.length)return"normal";if(u==null||isNaN(u))return"inactive";if(h.length===1){var c=h[0];if(c[0]<=u&&u<=c[1])return"active"}else for(var v=0,d=h.length;v<d;v++)if(h[v][0]<=u&&u<=h[v][1])return"active";return"inactive"}}),l={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};e.merge(o.prototype,i);function s(u,h){return h.type||(h.data?"category":"value")}n("parallel",o,s,l);var f=o;return Tm=f,Tm}var Cm,vL;function zj(){if(vL)return Cm;vL=1;var e=ne,t=Or;Nj();var r=t.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(n){var a=this.option;n&&e.merge(a,n,!0),this._initDimensions()},contains:function(n,a){var i=n.get("parallelIndex");return i!=null&&a.getComponent("parallel",i)===this},setAxisExpand:function(n){e.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(a){n.hasOwnProperty(a)&&(this.option[a]=n[a])},this)},_initDimensions:function(){var n=this.dimensions=[],a=this.parallelAxisIndex=[],i=e.filter(this.dependentModels.parallelAxis,function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this);e.each(i,function(o){n.push("dim"+o.get("dim")),a.push(o.componentIndex)})}});return Cm=r,Cm}var dL={},gL={},pL;function Vj(){if(pL)return gL;pL=1;var e=Ge,t={type:"axisAreaSelect",event:"axisAreaSelected"};return e.registerAction(t,function(r,n){n.eachComponent({mainType:"parallelAxis",query:r},function(a){a.axis.model.setActiveIntervals(r.intervals)})}),e.registerAction("parallelAxisExpand",function(r,n){n.eachComponent({mainType:"parallel",query:r},function(a){a.setAxisExpand(r)})}),gL}var Mm,mL;function Mx(){if(mL)return Mm;mL=1;var e=ne,t=Oo,r=ke,n=AN(),a=Vo(),i=e.curry,o=e.each,l=e.map,s=Math.min,f=Math.max,u=Math.pow,h=1e4,c=6,v=6,d="globalPan",m={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},g={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},p={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},y=0;function x(re){t.call(this),this._zr=re,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+y++,this._handlers={},o($,function(ie,me){this._handlers[me]=e.bind(ie,this)},this)}x.prototype={constructor:x,enableBrush:function(re){return this._brushType&&w(this),re.brushType&&A(this,re),this},setPanels:function(re){if(re&&re.length){var ie=this._panels={};e.each(re,function(me){ie[me.panelId]=e.clone(me)})}else this._panels=null;return this},mount:function(re){re=re||{},this._enableGlobalPan=re.enableGlobalPan;var ie=this.group;return this._zr.add(ie),ie.attr({position:re.position||[0,0],rotation:re.rotation||0,scale:re.scale||[1,1]}),this._transform=ie.getLocalTransform(),this},eachCover:function(re,ie){o(this._covers,re,ie)},updateCovers:function(re){re=e.map(re,function(Xe){return e.merge(e.clone(p),Xe,!0)});var ie="\0-brush-index-",me=this._covers,Ce=this._covers=[],Le=this,Pe=this._creatingCover;return new a(me,re,Fe,Ie).add(Ne).update(Ne).remove(Ze).execute(),this;function Ie(Xe,Ye){return(Xe.id!=null?Xe.id:ie+Ye)+"-"+Xe.brushType}function Fe(Xe,Ye){return Ie(Xe.__brushOption,Ye)}function Ne(Xe,Ye){var mt=re[Xe];if(Ye!=null&&me[Ye]===Pe)Ce[Xe]=me[Ye];else{var Lt=Ce[Xe]=Ye!=null?(me[Ye].__brushOption=mt,me[Ye]):C(Le,T(Le,mt));P(Le,Lt)}}function Ze(Xe){me[Xe]!==Pe&&Le.group.remove(me[Xe])}},unmount:function(){return this.enableBrush(!1),B(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},e.mixin(x,t);function A(re,ie){var me=re._zr;re._enableGlobalPan||n.take(me,d,re._uid),b(me,re._handlers),re._brushType=ie.brushType,re._brushOption=e.merge(e.clone(p),ie,!0)}function w(re){var ie=re._zr;n.release(ie,d,re._uid),S(ie,re._handlers),re._brushType=re._brushOption=null}function b(re,ie){o(ie,function(me,Ce){re.on(Ce,me)})}function S(re,ie){o(ie,function(me,Ce){re.off(Ce,me)})}function T(re,ie){var me=oe[ie.brushType].createCover(re,ie);return me.__brushOption=ie,I(me,ie),re.group.add(me),me}function C(re,ie){var me=D(ie);return me.endCreating&&(me.endCreating(re,ie),I(ie,ie.__brushOption)),ie}function M(re,ie){var me=ie.__brushOption;D(ie).updateCoverShape(re,ie,me.range,me)}function I(re,ie){var me=ie.z;me==null&&(me=h),re.traverse(function(Ce){Ce.z=me,Ce.z2=me})}function P(re,ie){D(ie).updateCommon(re,ie),M(re,ie)}function D(re){return oe[re.__brushOption.brushType]}function k(re,ie,me){var Ce=re._panels;if(!Ce)return!0;var Le,Pe=re._transform;return o(Ce,function(Ie){Ie.isTargetByCursor(ie,me,Pe)&&(Le=Ie)}),Le}function R(re,ie){var me=re._panels;if(!me)return!0;var Ce=ie.__brushOption.panelId;return Ce!=null?me[Ce]:!0}function B(re){var ie=re._covers,me=ie.length;return o(ie,function(Ce){re.group.remove(Ce)},re),ie.length=0,!!me}function V(re,ie){var me=l(re._covers,function(Ce){var Le=Ce.__brushOption,Pe=e.clone(Le.range);return{brushType:Le.brushType,panelId:Le.panelId,range:Pe}});re.trigger("brush",me,{isEnd:!!ie.isEnd,removeOnClick:!!ie.removeOnClick})}function F(re){var ie=re._track;if(!ie.length)return!1;var me=ie[ie.length-1],Ce=ie[0],Le=me[0]-Ce[0],Pe=me[1]-Ce[1],Ie=u(Le*Le+Pe*Pe,.5);return Ie>c}function Y(re){var ie=re.length-1;return ie<0&&(ie=0),[re[0],re[ie]]}function q(re,ie,me,Ce){var Le=new r.Group;return Le.add(new r.Rect({name:"main",style:H(me),silent:!0,draggable:!0,cursor:"move",drift:i(re,ie,Le,"nswe"),ondragend:i(V,ie,{isEnd:!0})})),o(Ce,function(Pe){Le.add(new r.Rect({name:Pe,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:i(re,ie,Le,Pe),ondragend:i(V,ie,{isEnd:!0})}))}),Le}function E(re,ie,me,Ce){var Le=Ce.brushStyle.lineWidth||0,Pe=f(Le,v),Ie=me[0][0],Fe=me[1][0],Ne=Ie-Le/2,Ze=Fe-Le/2,Xe=me[0][1],Ye=me[1][1],mt=Xe-Pe+Le/2,Lt=Ye-Pe+Le/2,Gt=Xe-Ie,ce=Ye-Fe,_e=Gt+Le,be=ce+Le;N(re,ie,"main",Ie,Fe,Gt,ce),Ce.transformable&&(N(re,ie,"w",Ne,Ze,Pe,be),N(re,ie,"e",mt,Ze,Pe,be),N(re,ie,"n",Ne,Ze,_e,Pe),N(re,ie,"s",Ne,Lt,_e,Pe),N(re,ie,"nw",Ne,Ze,Pe,Pe),N(re,ie,"ne",mt,Ze,Pe,Pe),N(re,ie,"sw",Ne,Lt,Pe,Pe),N(re,ie,"se",mt,Lt,Pe,Pe))}function z(re,ie){var me=ie.__brushOption,Ce=me.transformable,Le=ie.childAt(0);Le.useStyle(H(me)),Le.attr({silent:!Ce,cursor:Ce?"move":"default"}),o(["w","e","n","s","se","sw","ne","nw"],function(Pe){var Ie=ie.childOfName(Pe),Fe=K(re,Pe);Ie&&Ie.attr({silent:!Ce,invisible:!Ce,cursor:Ce?g[Fe]+"-resize":null})})}function N(re,ie,me,Ce,Le,Pe,Ie){var Fe=ie.childOfName(me);Fe&&Fe.setShape(de(le(re,ie,[[Ce,Le],[Ce+Pe,Le+Ie]])))}function H(re){return e.defaults({strokeNoScale:!0},re.brushStyle)}function W(re,ie,me,Ce){var Le=[s(re,me),s(ie,Ce)],Pe=[f(re,me),f(ie,Ce)];return[[Le[0],Pe[0]],[Le[1],Pe[1]]]}function U(re){return r.getTransform(re.group)}function K(re,ie){if(ie.length>1){ie=ie.split("");var me=[K(re,ie[0]),K(re,ie[1])];return(me[0]==="e"||me[0]==="w")&&me.reverse(),me.join("")}else{var Ce={w:"left",e:"right",n:"top",s:"bottom"},Le={left:"w",right:"e",top:"n",bottom:"s"},me=r.transformDirection(Ce[ie],U(re));return Le[me]}}function Q(re,ie,me,Ce,Le,Pe,Ie,Fe){var Ne=Ce.__brushOption,Ze=re(Ne.range),Xe=se(me,Pe,Ie);o(Le.split(""),function(Ye){var mt=m[Ye];Ze[mt[0]][mt[1]]+=Xe[mt[0]]}),Ne.range=ie(W(Ze[0][0],Ze[1][0],Ze[0][1],Ze[1][1])),P(me,Ce),V(me,{isEnd:!1})}function j(re,ie,me,Ce,Le){var Pe=ie.__brushOption.range,Ie=se(re,me,Ce);o(Pe,function(Fe){Fe[0]+=Ie[0],Fe[1]+=Ie[1]}),P(re,ie),V(re,{isEnd:!1})}function se(re,ie,me){var Ce=re.group,Le=Ce.transformCoordToLocal(ie,me),Pe=Ce.transformCoordToLocal(0,0);return[Le[0]-Pe[0],Le[1]-Pe[1]]}function le(re,ie,me){var Ce=R(re,ie);return Ce&&Ce!==!0?Ce.clipPath(me,re._transform):e.clone(me)}function de(re){var ie=s(re[0][0],re[1][0]),me=s(re[0][1],re[1][1]),Ce=f(re[0][0],re[1][0]),Le=f(re[0][1],re[1][1]);return{x:ie,y:me,width:Ce-ie,height:Le-me}}function he(re,ie,me){if(!(!re._brushType||fe(re,ie))){var Ce=re._zr,Le=re._covers,Pe=k(re,ie,me);if(!re._dragging)for(var Ie=0;Ie<Le.length;Ie++){var Fe=Le[Ie].__brushOption;if(Pe&&(Pe===!0||Fe.panelId===Pe.panelId)&&oe[Fe.brushType].contain(Le[Ie],me[0],me[1]))return}Pe&&Ce.setCursorStyle("crosshair")}}function pe(re){var ie=re.event;ie.preventDefault&&ie.preventDefault()}function ye(re,ie,me){return re.childOfName("main").contain(ie,me)}function X(re,ie,me,Ce){var Le=re._creatingCover,Pe=re._creatingPanel,Ie=re._brushOption,Fe;if(re._track.push(me.slice()),F(re)||Le){if(Pe&&!Le){Ie.brushMode==="single"&&B(re);var Ne=e.clone(Ie);Ne.brushType=G(Ne.brushType,Pe),Ne.panelId=Pe===!0?null:Pe.panelId,Le=re._creatingCover=T(re,Ne),re._covers.push(Le)}if(Le){var Ze=oe[G(re._brushType,Pe)],Xe=Le.__brushOption;Xe.range=Ze.getCreatingRange(le(re,Le,re._track)),Ce&&(C(re,Le),Ze.updateCommon(re,Le)),M(re,Le),Fe={isEnd:Ce}}}else Ce&&Ie.brushMode==="single"&&Ie.removeOnClick&&k(re,ie,me)&&B(re)&&(Fe={isEnd:Ce,removeOnClick:!0});return Fe}function G(re,ie){return re==="auto"?ie.defaultBrushType:re}var $={mousedown:function(re){if(this._dragging)ee(this,re);else if(!re.target||!re.target.draggable){pe(re);var ie=this.group.transformCoordToLocal(re.offsetX,re.offsetY);this._creatingCover=null;var me=this._creatingPanel=k(this,re,ie);me&&(this._dragging=!0,this._track=[ie.slice()])}},mousemove:function(re){var ie=re.offsetX,me=re.offsetY,Ce=this.group.transformCoordToLocal(ie,me);if(he(this,re,Ce),this._dragging){pe(re);var Le=X(this,re,Ce,!1);Le&&V(this,Le)}},mouseup:function(re){ee(this,re)}};function ee(re,ie){if(re._dragging){pe(ie);var me=ie.offsetX,Ce=ie.offsetY,Le=re.group.transformCoordToLocal(me,Ce),Pe=X(re,ie,Le,!0);re._dragging=!1,re._track=[],re._creatingCover=null,Pe&&V(re,Pe)}}function fe(re,ie,me){var Ce=re._zr;return ie<0||ie>Ce.getWidth()||me<0||me>Ce.getHeight()}var oe={lineX:ve(0),lineY:ve(1),rect:{createCover:function(re,ie){return q(i(Q,function(me){return me},function(me){return me}),re,ie,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(re){var ie=Y(re);return W(ie[1][0],ie[1][1],ie[0][0],ie[0][1])},updateCoverShape:function(re,ie,me,Ce){E(re,ie,me,Ce)},updateCommon:z,contain:ye},polygon:{createCover:function(re,ie){var me=new r.Group;return me.add(new r.Polyline({name:"main",style:H(ie),silent:!0})),me},getCreatingRange:function(re){return re},endCreating:function(re,ie){ie.remove(ie.childAt(0)),ie.add(new r.Polygon({name:"main",draggable:!0,drift:i(j,re,ie),ondragend:i(V,re,{isEnd:!0})}))},updateCoverShape:function(re,ie,me,Ce){ie.childAt(0).setShape({points:le(re,ie,me)})},updateCommon:z,contain:ye}};function ve(re){return{createCover:function(ie,me){return q(i(Q,function(Ce){var Le=[Ce,[0,100]];return re&&Le.reverse(),Le},function(Ce){return Ce[re]}),ie,me,[["w","e"],["n","s"]][re])},getCreatingRange:function(ie){var me=Y(ie),Ce=s(me[0][re],me[1][re]),Le=f(me[0][re],me[1][re]);return[Ce,Le]},updateCoverShape:function(ie,me,Ce,Le){var Pe,Ie=R(ie,me);if(Ie!==!0&&Ie.getLinearBrushOtherExtent)Pe=Ie.getLinearBrushOtherExtent(re,ie._transform);else{var Fe=ie._zr;Pe=[0,[Fe.getWidth(),Fe.getHeight()][1-re]]}var Ne=[Ce,Pe];re&&Ne.reverse(),E(ie,me,Ne,Le)},updateCommon:z,contain:ye}}var Me=x;return Mm=Me,Mm}var ql={},yL;function kN(){if(yL)return ql;yL=1;var e=fr,t=Uh(),r=t.onIrrelevantElement,n=ke;function a(s){return s=l(s),function(f,u){return n.clipPointsByRect(f,s)}}function i(s,f){return s=l(s),function(u){var h=f??u,c=h?s.width:s.height,v=h?s.x:s.y;return[v,v+(c||0)]}}function o(s,f,u){return s=l(s),function(h,c,v){return s.contain(c[0],c[1])&&!r(h,f,u)}}function l(s){return e.create(s)}return ql.makeRectPanelClipPath=a,ql.makeLinearBrushOtherExtent=i,ql.makeRectIsTargetByCursor=o,ql}var Lm,_L;function Fj(){if(_L)return Lm;_L=1;var e=Ge,t=ne,r=ao(),n=Mx(),a=kN(),i=ke,o=["axisLine","axisTickLabel","axisName"],l=e.extendComponentView({type:"parallelAxis",init:function(c,v){l.superApply(this,"init",arguments),(this._brushController=new n(v.getZr())).on("brush",t.bind(this._onBrush,this))},render:function(c,v,d,m){if(!s(c,v,m)){this.axisModel=c,this.api=d,this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),!!c.get("show")){var p=u(c,v),y=p.coordinateSystem,x=c.getAreaSelectStyle(),A=x.width,w=c.axis.dim,b=y.getAxisLayout(w),S=t.extend({strokeContainThreshold:A},b),T=new r(c,S);t.each(o,T.add,T),this._axisGroup.add(T.getGroup()),this._refreshBrushController(S,x,c,p,A,d);var C=m&&m.animation===!1?null:c;i.groupTransition(g,this._axisGroup,C)}}},_refreshBrushController:function(c,v,d,m,g,p){var y=d.axis.getExtent(),x=y[1]-y[0],A=Math.min(30,Math.abs(x)*.1),w=i.BoundingRect.create({x:y[0],y:-g/2,width:x,height:g});w.x-=A,w.width+=2*A,this._brushController.mount({enableGlobalPan:!0,rotation:c.rotation,position:c.position}).setPanels([{panelId:"pl",clipPath:a.makeRectPanelClipPath(w),isTargetByCursor:a.makeRectIsTargetByCursor(w,p,m),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(w,0)}]).enableBrush({brushType:"lineX",brushStyle:v,removeOnClick:!0}).updateCovers(f(d))},_onBrush:function(c,v){var d=this.axisModel,m=d.axis,g=t.map(c,function(p){return[m.coordToData(p.range[0],!0),m.coordToData(p.range[1],!0)]});(!d.option.realtime===v.isEnd||v.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:d.id,intervals:g})},dispose:function(){this._brushController.dispose()}});function s(c,v,d){return d&&d.type==="axisAreaSelect"&&v.findComponents({mainType:"parallelAxis",query:d})[0]===c}function f(c){var v=c.axis;return t.map(c.activeIntervals,function(d){return{brushType:"lineX",panelId:"pl",range:[v.dataToCoord(d[0],!0),v.dataToCoord(d[1],!0)]}})}function u(c,v){return v.getComponent("parallel",c.get("parallelIndex"))}var h=l;return Lm=h,Lm}var xL;function Hj(){return xL||(xL=1,EN(),Vj(),Fj()),dL}var wL;function ON(){if(wL)return iL;wL=1;var e=Ge,t=ne,r=yn,n=kj();EN(),zj(),Hj();var a=5;e.extendComponentView({type:"parallel",render:function(l,s,f){this._model=l,this._api=f,this._handlers||(this._handlers={},t.each(i,function(u,h){f.getZr().on(h,this._handlers[h]=t.bind(u,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",l.get("axisExpandRate"),"fixRate")},dispose:function(l,s){t.each(this._handlers,function(f,u){s.getZr().off(u,f)}),this._handlers=null},_throttledDispatchExpand:function(l){this._dispatchExpand(l)},_dispatchExpand:function(l){l&&this._api.dispatchAction(t.extend({type:"parallelAxisExpand"},l))}});var i={mousedown:function(l){o(this,"click")&&(this._mouseDownPoint=[l.offsetX,l.offsetY])},mouseup:function(l){var s=this._mouseDownPoint;if(o(this,"click")&&s){var f=[l.offsetX,l.offsetY],u=Math.pow(s[0]-f[0],2)+Math.pow(s[1]-f[1],2);if(u>a)return;var h=this._model.coordinateSystem.getSlidedAxisExpandWindow([l.offsetX,l.offsetY]);h.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:h.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(l){if(!(this._mouseDownPoint||!o(this,"mousemove"))){var s=this._model,f=s.coordinateSystem.getSlidedAxisExpandWindow([l.offsetX,l.offsetY]),u=f.behavior;u==="jump"&&this._throttledDispatchExpand.debounceNextCall(s.get("axisExpandDebounce")),this._throttledDispatchExpand(u==="none"?null:{axisExpandWindow:f.axisExpandWindow,animation:u==="jump"?null:!1})}}};function o(l,s){var f=l._model;return f.get("axisExpandable")&&f.get("axisExpandTriggerOn")===s}return e.registerPreprocessor(n),iL}var Im,SL;function qj(){if(SL)return Im;SL=1;var e=ne,t=e.each,r=e.createHashMap,n=Br,a=yi(),i=n.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(s,f){var u=this.getSource();return o(u,this),a(u,this)},getRawIndicesByActiveState:function(s){var f=this.coordinateSystem,u=this.getData(),h=[];return f.eachActiveState(u,function(c,v){s===c&&h.push(u.getRawIndex(v))}),h},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function o(s,f){if(!s.encodeDefine){var u=f.ecModel.getComponent("parallel",f.get("parallelIndex"));if(u){var h=s.encodeDefine=r();t(u.dimensions,function(c){var v=l(c);h.set(c,v)})}}}function l(s){return+s.replace("dim","")}return Im=i,Im}var Pm,bL;function Uj(){if(bL)return Pm;bL=1;var e=ke,t=Vn,r=.3,n=t.extend({type:"parallel",init:function(){this._dataGroup=new e.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(h,c,v,d){var m=this._dataGroup,g=h.getData(),p=this._data,y=h.coordinateSystem,x=y.dimensions,A=l(h);g.diff(p).add(w).update(b).remove(S).execute();function w(C){var M=o(g,m,C,x,y);s(M,g,C,A)}function b(C,M){var I=p.getItemGraphicEl(M),P=i(g,C,x,y);g.setItemGraphicEl(C,I);var D=d&&d.animation===!1?null:h;e.updateProps(I,{shape:{points:P}},D,C),s(I,g,C,A)}function S(C){var M=p.getItemGraphicEl(C);m.remove(M)}if(!this._initialized){this._initialized=!0;var T=a(y,h,function(){setTimeout(function(){m.removeClipPath()})});m.setClipPath(T)}this._data=g},incrementalPrepareRender:function(h,c,v){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(h,c,v){for(var d=c.getData(),m=c.coordinateSystem,g=m.dimensions,p=l(c),y=h.start;y<h.end;y++){var x=o(d,this._dataGroup,y,g,m);x.incremental=!0,s(x,d,y,p)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function a(h,c,v){var d=h.model,m=h.getRect(),g=new e.Rect({shape:{x:m.x,y:m.y,width:m.width,height:m.height}}),p=d.get("layout")==="horizontal"?"width":"height";return g.setShape(p,0),e.initProps(g,{shape:{width:m.width,height:m.height}},c,v),g}function i(h,c,v,d){for(var m=[],g=0;g<v.length;g++){var p=v[g],y=h.get(h.mapDimension(p),c);f(y,d.getAxis(p).type)||m.push(d.dataToPoint(y,p))}return m}function o(h,c,v,d,m){var g=i(h,v,d,m),p=new e.Polyline({shape:{points:g},silent:!0,z2:10});return c.add(p),h.setItemGraphicEl(v,p),p}function l(h){var c=h.get("smooth",!0);return c===!0&&(c=r),{lineStyle:h.getModel("lineStyle").getLineStyle(),smooth:c??r}}function s(h,c,v,d){var m=d.lineStyle;if(c.hasItemOption){var g=c.getItemModel(v).getModel("lineStyle");m=g.getLineStyle()}h.useStyle(m);var p=h.style;p.fill=null,p.stroke=c.getItemVisual(v,"color"),p.opacity=c.getItemVisual(v,"opacity"),d.smooth&&(h.shape.smooth=d.smooth)}function f(h,c){return c==="category"?h==null:h==null||isNaN(h)}var u=n;return Pm=u,Pm}var Dm,AL;function Gj(){if(AL)return Dm;AL=1;var e=["lineStyle","normal","opacity"],t={seriesType:"parallel",reset:function(r,n,a){var i=r.getModel("itemStyle"),o=r.getModel("lineStyle"),l=n.get("color"),s=o.get("color")||i.get("color")||l[r.seriesIndex%l.length],f=r.get("inactiveOpacity"),u=r.get("activeOpacity"),h=r.getModel("lineStyle").getLineStyle(),c=r.coordinateSystem,v=r.getData(),d={normal:h.opacity,active:u,inactive:f};v.setVisual("color",s);function m(g,p){c.eachActiveState(p,function(y,x){var A=d[y];if(y==="normal"&&p.hasItemOption){var w=p.getItemModel(x).get(e,!0);w!=null&&(A=w)}p.setItemVisual(x,"opacity",A)},g.start,g.end)}return{progress:m}}};return Dm=t,Dm}var TL;function Wj(){if(TL)return nL;TL=1;var e=Ge;ON(),qj(),Uj();var t=Gj();return e.registerVisual(t),nL}var CL={},Rm,ML;function $j(){if(ML)return Rm;ML=1;var e=Br,t=IN(),r=jt(),n=r.encodeHTML,a=br(),i=e.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(l,s){for(var f=l.edges||l.links,u=l.data||l.nodes,h=l.levels,c=this.levelModels={},v=0;v<h.length;v++)h[v].depth!=null&&h[v].depth>=0&&(c[h[v].depth]=new a(h[v],this,s));if(u&&f){var d=t(u,f,this,!0,m);return d.data}function m(g,p){g.wrapMethod("getItemModel",function(y,x){return y.customizeGetParent(function(A){var w=this.parentModel,b=w.getData().getItemLayout(x).depth,S=w.levelModels[b];return S||this.parentModel}),y}),p.wrapMethod("getItemModel",function(y,x){return y.customizeGetParent(function(A){var w=this.parentModel,b=w.getGraph().getEdgeByIndex(x),S=b.node1.getLayout().depth,T=w.levelModels[S];return T||this.parentModel}),y})}},setNodePosition:function(l,s){var f=this.option.data[l];f.localX=s[0],f.localY=s[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(l,s,f){if(f==="edge"){var u=this.getDataParams(l,f),h=u.data,c=h.source+" -- "+h.target;return u.value&&(c+=" : "+u.value),n(c)}else if(f==="node"){var v=this.getGraph().getNodeByIndex(l),d=v.getLayout().value,m=this.getDataParams(l,f).data.name;if(d)var c=m+" : "+d;return n(c)}return i.superCall(this,"formatTooltip",l,s)},optionUpdated:function(){var l=this.option;l.focusNodeAdjacency===!0&&(l.focusNodeAdjacency="allEdges")},getDataParams:function(l,s){var f=i.superCall(this,"getDataParams",l,s);if(f.value==null&&s==="node"){var u=this.getGraph().getNodeByIndex(l),h=u.getLayout().value;f.value=h}return f},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),o=i;return Rm=o,Rm}var Em,LL;function Yj(){if(LL)return Em;LL=1;var e=ke,t=Ge,r=ne,n=["itemStyle","opacity"],a=["emphasis","itemStyle","opacity"],i=["lineStyle","opacity"],o=["emphasis","lineStyle","opacity"];function l(v,d){return v.getVisual("opacity")||v.getModel().get(d)}function s(v,d,m){var g=v.getGraphicEl(),p=l(v,d);m!=null&&(p==null&&(p=1),p*=m),g.downplay&&g.downplay(),g.traverse(function(y){y.type!=="group"&&y.setStyle("opacity",p)})}function f(v,d){var m=l(v,d),g=v.getGraphicEl();g.traverse(function(p){p.type!=="group"&&p.setStyle("opacity",m)}),g.highlight&&g.highlight()}var u=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(v,d){var m=d.extent;v.moveTo(d.x1,d.y1),v.bezierCurveTo(d.cpx1,d.cpy1,d.cpx2,d.cpy2,d.x2,d.y2),d.orient==="vertical"?(v.lineTo(d.x2+m,d.y2),v.bezierCurveTo(d.cpx2+m,d.cpy2,d.cpx1+m,d.cpy1,d.x1+m,d.y1)):(v.lineTo(d.x2,d.y2+m),v.bezierCurveTo(d.cpx2,d.cpy2+m,d.cpx1,d.cpy1+m,d.x1,d.y1+m)),v.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),h=t.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(v,d,m){var g=this,p=v.getGraph(),y=this.group,x=v.layoutInfo,A=x.width,w=x.height,b=v.getData(),S=v.getData("edge"),T=v.get("orient");this._model=v,y.removeAll(),y.attr("position",[x.x,x.y]),p.eachEdge(function(C){var M=new u;M.dataIndex=C.dataIndex,M.seriesIndex=v.seriesIndex,M.dataType="edge";var I=C.getModel("lineStyle"),P=I.get("curveness"),D=C.node1.getLayout(),k=C.node1.getModel(),R=k.get("localX"),B=k.get("localY"),V=C.node2.getLayout(),F=C.node2.getModel(),Y=F.get("localX"),q=F.get("localY"),E=C.getLayout(),z,N,H,W,U,K,Q,j;switch(M.shape.extent=Math.max(1,E.dy),M.shape.orient=T,T==="vertical"?(z=(R!=null?R*A:D.x)+E.sy,N=(B!=null?B*w:D.y)+D.dy,H=(Y!=null?Y*A:V.x)+E.ty,W=q!=null?q*w:V.y,U=z,K=N*(1-P)+W*P,Q=H,j=N*P+W*(1-P)):(z=(R!=null?R*A:D.x)+D.dx,N=(B!=null?B*w:D.y)+E.sy,H=Y!=null?Y*A:V.x,W=(q!=null?q*w:V.y)+E.ty,U=z*(1-P)+H*P,K=N,Q=z*P+H*(1-P),j=W),M.setShape({x1:z,y1:N,x2:H,y2:W,cpx1:U,cpy1:K,cpx2:Q,cpy2:j}),M.setStyle(I.getItemStyle()),M.style.fill){case"source":M.style.fill=C.node1.getVisual("color");break;case"target":M.style.fill=C.node2.getVisual("color");break}e.setHoverStyle(M,C.getModel("emphasis.lineStyle").getItemStyle()),y.add(M),S.setItemGraphicEl(C.dataIndex,M)}),p.eachNode(function(C){var M=C.getLayout(),I=C.getModel(),P=I.get("localX"),D=I.get("localY"),k=I.getModel("label"),R=I.getModel("emphasis.label"),B=new e.Rect({shape:{x:P!=null?P*A:M.x,y:D!=null?D*w:M.y,width:M.dx,height:M.dy},style:I.getModel("itemStyle").getItemStyle()}),V=C.getModel("emphasis.itemStyle").getItemStyle();e.setLabelStyle(B.style,V,k,R,{labelFetcher:v,labelDataIndex:C.dataIndex,defaultText:C.id,isRectText:!0}),B.setStyle("fill",C.getVisual("color")),e.setHoverStyle(B,V),y.add(B),b.setItemGraphicEl(C.dataIndex,B),B.dataType="node"}),b.eachItemGraphicEl(function(C,M){var I=b.getItemModel(M);I.get("draggable")&&(C.drift=function(P,D){g._focusAdjacencyDisabled=!0,this.shape.x+=P,this.shape.y+=D,this.dirty(),m.dispatchAction({type:"dragNode",seriesId:v.id,dataIndex:b.getRawIndex(M),localX:this.shape.x/A,localY:this.shape.y/w})},C.ondragend=function(){g._focusAdjacencyDisabled=!1},C.draggable=!0,C.cursor="move"),C.highlight=function(){this.trigger("emphasis")},C.downplay=function(){this.trigger("normal")},C.focusNodeAdjHandler&&C.off("mouseover",C.focusNodeAdjHandler),C.unfocusNodeAdjHandler&&C.off("mouseout",C.unfocusNodeAdjHandler),I.get("focusNodeAdjacency")&&(C.on("mouseover",C.focusNodeAdjHandler=function(){g._focusAdjacencyDisabled||(g._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:v.id,dataIndex:C.dataIndex}))}),C.on("mouseout",C.unfocusNodeAdjHandler=function(){g._focusAdjacencyDisabled||g._dispatchUnfocus(m)}))}),S.eachItemGraphicEl(function(C,M){var I=S.getItemModel(M);C.focusNodeAdjHandler&&C.off("mouseover",C.focusNodeAdjHandler),C.unfocusNodeAdjHandler&&C.off("mouseout",C.unfocusNodeAdjHandler),I.get("focusNodeAdjacency")&&(C.on("mouseover",C.focusNodeAdjHandler=function(){g._focusAdjacencyDisabled||(g._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:v.id,edgeDataIndex:C.dataIndex}))}),C.on("mouseout",C.unfocusNodeAdjHandler=function(){g._focusAdjacencyDisabled||g._dispatchUnfocus(m)}))}),!this._data&&v.get("animation")&&y.setClipPath(c(y.getBoundingRect(),v,function(){y.removeClipPath()})),this._data=v.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(v){var d=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){d._unfocusDelayTimer=null,v.dispatchAction({type:"unfocusNodeAdjacency",seriesId:d._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(v,d,m,g){var p=v.getData(),y=p.graph,x=g.dataIndex,A=p.getItemModel(x),w=g.edgeDataIndex;if(!(x==null&&w==null)){var b=y.getNodeByIndex(x),S=y.getEdgeByIndex(w);if(y.eachNode(function(C){s(C,n,.1)}),y.eachEdge(function(C){s(C,i,.1)}),b){f(b,a);var T=A.get("focusNodeAdjacency");T==="outEdges"?r.each(b.outEdges,function(C){C.dataIndex<0||(f(C,o),f(C.node2,a))}):T==="inEdges"?r.each(b.inEdges,function(C){C.dataIndex<0||(f(C,o),f(C.node1,a))}):T==="allEdges"&&r.each(b.edges,function(C){C.dataIndex<0||(f(C,o),C.node1!==b&&f(C.node1,a),C.node2!==b&&f(C.node2,a))})}S&&(f(S,o),f(S.node1,a),f(S.node2,a))}},unfocusNodeAdjacency:function(v,d,m,g){var p=v.getGraph();p.eachNode(function(y){s(y,n)}),p.eachEdge(function(y){s(y,i)})}});function c(v,d,m){var g=new e.Rect({shape:{x:v.x-10,y:v.y-10,width:0,height:v.height+20}});return e.initProps(g,{shape:{width:v.width+20}},d,m),g}return Em=h,Em}var IL={},PL;function Zj(){if(PL)return IL;PL=1;var e=Ge;return PN(),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),IL}var km,DL;function Kj(){if(DL)return km;DL=1;var e=Tt,t=ne,r=lt,n=r.groupData;function a(I,P,D){I.eachSeriesByType("sankey",function(k){var R=k.get("nodeWidth"),B=k.get("nodeGap"),V=i(k,P);k.layoutInfo=V;var F=V.width,Y=V.height,q=k.getGraph(),E=q.nodes,z=q.edges;l(E);var N=t.filter(E,function(K){return K.getLayout().value===0}),H=N.length!==0?0:k.get("layoutIterations"),W=k.get("orient"),U=k.get("nodeAlign");o(E,z,R,B,F,Y,H,W,U)})}function i(I,P){return e.getLayoutRect(I.getBoxLayoutParams(),{width:P.getWidth(),height:P.getHeight()})}function o(I,P,D,k,R,B,V,F,Y){s(I,P,D,R,B,F,Y),v(I,P,B,R,k,V,F),M(I,F)}function l(I){t.each(I,function(P){var D=T(P.outEdges,S),k=T(P.inEdges,S),R=P.getValue()||0,B=Math.max(D,k,R);P.setLayout({value:B},!0)})}function s(I,P,D,k,R,B,V){for(var F=[],Y=[],q=[],E=[],z=0,ye=0,N=0;N<P.length;N++)F[N]=1;for(N=0;N<I.length;N++)Y[N]=I[N].inEdges.length,Y[N]===0&&q.push(I[N]);for(var H=-1;q.length;){for(var W=0;W<q.length;W++){var U=q[W],K=U.hostGraph.data.getRawDataItem(U.dataIndex),Q=K.depth!=null&&K.depth>=0;Q&&K.depth>H&&(H=K.depth),U.setLayout({depth:Q?K.depth:z},!0),B==="vertical"?U.setLayout({dy:D},!0):U.setLayout({dx:D},!0);for(var j=0;j<U.outEdges.length;j++){var se=U.outEdges[j],le=P.indexOf(se);F[le]=0;var de=se.node2,he=I.indexOf(de);--Y[he]===0&&E.indexOf(de)<0&&E.push(de)}}++z,q=E,E=[]}for(N=0;N<F.length;N++)if(F[N]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var pe=H>z-1?H:z-1;V&&V!=="left"&&u(I,V,B,pe);var ye=B==="vertical"?(R-D)/pe:(k-D)/pe;c(I,ye,B)}function f(I){var P=I.hostGraph.data.getRawDataItem(I.dataIndex);return P.depth!=null&&P.depth>=0}function u(I,P,D,k){if(P==="right"){for(var R=[],B=I,V=0;B.length;){for(var F=0;F<B.length;F++){var Y=B[F];Y.setLayout({skNodeHeight:V},!0);for(var q=0;q<Y.inEdges.length;q++){var E=Y.inEdges[q];R.indexOf(E.node1)<0&&R.push(E.node1)}}B=R,R=[],++V}t.each(I,function(z){f(z)||z.setLayout({depth:Math.max(0,k-z.getLayout().skNodeHeight)},!0)})}else P==="justify"&&h(I,k)}function h(I,P){t.each(I,function(D){!f(D)&&!D.outEdges.length&&D.setLayout({depth:P},!0)})}function c(I,P,D){t.each(I,function(k){var R=k.getLayout().depth*P;D==="vertical"?k.setLayout({y:R},!0):k.setLayout({x:R},!0)})}function v(I,P,D,k,R,B,V){var F=d(I,V);m(F,P,D,k,R,V),g(F,R,D,k,V);for(var Y=1;B>0;B--)Y*=.99,p(F,Y,V),g(F,R,D,k,V),C(F,Y,V),g(F,R,D,k,V)}function d(I,P){var D=[],k=P==="vertical"?"y":"x",R=n(I,function(B){return B.getLayout()[k]});return R.keys.sort(function(B,V){return B-V}),t.each(R.keys,function(B){D.push(R.buckets.get(B))}),D}function m(I,P,D,k,R,B){var V=1/0;t.each(I,function(F){var Y=F.length,q=0;t.each(F,function(z){q+=z.getLayout().value});var E=B==="vertical"?(k-(Y-1)*R)/q:(D-(Y-1)*R)/q;E<V&&(V=E)}),t.each(I,function(F){t.each(F,function(Y,q){var E=Y.getLayout().value*V;B==="vertical"?(Y.setLayout({x:q},!0),Y.setLayout({dx:E},!0)):(Y.setLayout({y:q},!0),Y.setLayout({dy:E},!0))})}),t.each(P,function(F){var Y=+F.getValue()*V;F.setLayout({dy:Y},!0)})}function g(I,P,D,k,R){var B=R==="vertical"?"x":"y";t.each(I,function(V){V.sort(function(U,K){return U.getLayout()[B]-K.getLayout()[B]});for(var F,Y,q,E=0,z=V.length,N=R==="vertical"?"dx":"dy",H=0;H<z;H++)Y=V[H],q=E-Y.getLayout()[B],q>0&&(F=Y.getLayout()[B]+q,R==="vertical"?Y.setLayout({x:F},!0):Y.setLayout({y:F},!0)),E=Y.getLayout()[B]+Y.getLayout()[N]+P;var W=R==="vertical"?k:D;if(q=E-P-W,q>0)for(F=Y.getLayout()[B]-q,R==="vertical"?Y.setLayout({x:F},!0):Y.setLayout({y:F},!0),E=F,H=z-2;H>=0;--H)Y=V[H],q=Y.getLayout()[B]+Y.getLayout()[N]+P-E,q>0&&(F=Y.getLayout()[B]-q,R==="vertical"?Y.setLayout({x:F},!0):Y.setLayout({y:F},!0)),E=Y.getLayout()[B]})}function p(I,P,D){t.each(I.slice().reverse(),function(k){t.each(k,function(R){if(R.outEdges.length){var B=T(R.outEdges,y,D)/T(R.outEdges,S,D);if(isNaN(B)){var V=R.outEdges.length;B=V?T(R.outEdges,x,D)/V:0}if(D==="vertical"){var F=R.getLayout().x+(B-b(R,D))*P;R.setLayout({x:F},!0)}else{var Y=R.getLayout().y+(B-b(R,D))*P;R.setLayout({y:Y},!0)}}})})}function y(I,P){return b(I.node2,P)*I.getValue()}function x(I,P){return b(I.node2,P)}function A(I,P){return b(I.node1,P)*I.getValue()}function w(I,P){return b(I.node1,P)}function b(I,P){return P==="vertical"?I.getLayout().x+I.getLayout().dx/2:I.getLayout().y+I.getLayout().dy/2}function S(I){return I.getValue()}function T(I,P,D){for(var k=0,R=I.length,B=-1;++B<R;){var V=+P.call(I,I[B],D);isNaN(V)||(k+=V)}return k}function C(I,P,D){t.each(I,function(k){t.each(k,function(R){if(R.inEdges.length){var B=T(R.inEdges,A,D)/T(R.inEdges,S,D);if(isNaN(B)){var V=R.inEdges.length;B=V?T(R.inEdges,w,D)/V:0}if(D==="vertical"){var F=R.getLayout().x+(B-b(R,D))*P;R.setLayout({x:F},!0)}else{var Y=R.getLayout().y+(B-b(R,D))*P;R.setLayout({y:Y},!0)}}})})}function M(I,P){var D=P==="vertical"?"x":"y";t.each(I,function(k){k.outEdges.sort(function(R,B){return R.node2.getLayout()[D]-B.node2.getLayout()[D]}),k.inEdges.sort(function(R,B){return R.node1.getLayout()[D]-B.node1.getLayout()[D]})}),t.each(I,function(k){var R=0,B=0;t.each(k.outEdges,function(V){V.setLayout({sy:R},!0),R+=V.getLayout().dy}),t.each(k.inEdges,function(V){V.setLayout({ty:B},!0),B+=V.getLayout().dy})})}return km=a,km}var Om,RL;function Xj(){if(RL)return Om;RL=1;var e=Uo(),t=ne;function r(n,a){n.eachSeriesByType("sankey",function(i){var o=i.getGraph(),l=o.nodes;if(l.length){var s=1/0,f=-1/0;t.each(l,function(u){var h=u.getLayout().value;h<s&&(s=h),h>f&&(f=h)}),t.each(l,function(u){var h=new e({type:"color",mappingMethod:"linear",dataExtent:[s,f],visual:i.get("color")}),c=h.mapValueToVisual(u.getLayout().value),v=u.getModel().get("itemStyle.color");v!=null?u.setVisual("color",v):u.setVisual("color",c)})}})}return Om=r,Om}var EL;function Qj(){if(EL)return CL;EL=1;var e=Ge;$j(),Yj(),Zj();var t=Kj(),r=Xj();return e.registerLayout(t),e.registerVisual(r),CL}var kL={},Bm={},OL;function BN(){if(OL)return Bm;OL=1;var e=il(),t=ne,r=Fu(),n=r.getDimensionTypeByAxis,a=mi(),i=a.makeSeriesEncodeForAxisCoordSys,o={_baseAxisDim:null,getInitialData:function(l,s){var f,u=s.getComponent("xAxis",this.get("xAxisIndex")),h=s.getComponent("yAxis",this.get("yAxisIndex")),c=u.get("type"),v=h.get("type"),d;c==="category"?(l.layout="horizontal",f=u.getOrdinalMeta(),d=!0):v==="category"?(l.layout="vertical",f=h.getOrdinalMeta(),d=!0):l.layout=l.layout||"horizontal";var m=["x","y"],g=l.layout==="horizontal"?0:1,p=this._baseAxisDim=m[g],y=m[1-g],x=[u,h],A=x[g].get("type"),w=x[1-g].get("type"),b=l.data;if(b&&d){var S=[];t.each(b,function(M,I){var P;M.value&&t.isArray(M.value)?(P=M.value.slice(),M.value.unshift(I)):t.isArray(M)?(P=M.slice(),M.unshift(I)):P=M,S.push(P)}),l.data=S}var T=this.defaultValueDimensions,C=[{name:p,type:n(A),ordinalMeta:f,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:y,type:n(w),dimsDef:T.slice()}];return e(this,{coordDimensions:C,dimensionsCount:T.length+1,encodeDefaulter:t.curry(i,C,this)})},getBaseAxis:function(){var l=this._baseAxisDim;return this.ecModel.getComponent(l+"Axis",this.get(l+"AxisIndex")).axis}};return Bm.seriesModelMixin=o,Bm}var Nm,BL;function Jj(){if(BL)return Nm;BL=1;var e=ne,t=Br,r=BN(),n=r.seriesModelMixin,a=t.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(a,n,!0);var i=a;return Nm=i,Nm}var zm,NL;function jj(){if(NL)return zm;NL=1;var e=ne,t=Vn,r=ke,n=yr,a=["itemStyle"],i=["emphasis","itemStyle"],o=t.extend({type:"boxplot",render:function(c,v,d){var m=c.getData(),g=this.group,p=this._data;this._data||g.removeAll();var y=c.get("layout")==="horizontal"?1:0;m.diff(p).add(function(x){if(m.hasValue(x)){var A=m.getItemLayout(x),w=s(A,m,x,y,!0);m.setItemGraphicEl(x,w),g.add(w)}}).update(function(x,A){var w=p.getItemGraphicEl(A);if(!m.hasValue(x)){g.remove(w);return}var b=m.getItemLayout(x);w?f(b,w,m,x):w=s(b,m,x,y),g.add(w),m.setItemGraphicEl(x,w)}).remove(function(x){var A=p.getItemGraphicEl(x);A&&g.remove(A)}).execute(),this._data=m},remove:function(c){var v=this.group,d=this._data;this._data=null,d&&d.eachItemGraphicEl(function(m){m&&v.remove(m)})},dispose:e.noop}),l=n.extend({type:"boxplotBoxPath",shape:{},buildPath:function(c,v){var d=v.points,m=0;for(c.moveTo(d[m][0],d[m][1]),m++;m<4;m++)c.lineTo(d[m][0],d[m][1]);for(c.closePath();m<d.length;m++)c.moveTo(d[m][0],d[m][1]),m++,c.lineTo(d[m][0],d[m][1])}});function s(c,v,d,m,g){var p=c.ends,y=new l({shape:{points:g?u(p,m,c):p}});return f(c,y,v,d,g),y}function f(c,v,d,m,g){var p=d.hostModel,y=r[g?"initProps":"updateProps"];y(v,{shape:{points:c.ends}},p,m);var x=d.getItemModel(m),A=x.getModel(a),w=d.getItemVisual(m,"color"),b=A.getItemStyle(["borderColor"]);b.stroke=w,b.strokeNoScale=!0,v.useStyle(b),v.z2=100;var S=x.getModel(i).getItemStyle();r.setHoverStyle(v,S)}function u(c,v,d){return e.map(c,function(m){return m=m.slice(),m[v]=d.initBaseline,m})}var h=o;return zm=h,zm}var Vm,zL;function eee(){if(zL)return Vm;zL=1;var e=["itemStyle","borderColor"];function t(r,n){var a=r.get("color");r.eachRawSeriesByType("boxplot",function(i){var o=a[i.seriesIndex%a.length],l=i.getData();l.setVisual({legendSymbol:"roundRect",color:i.get(e)||o}),r.isSeriesFiltered(i)||l.each(function(s){var f=l.getItemModel(s);l.setItemVisual(s,{color:f.get(e,!0)})})})}return Vm=t,Vm}var Fm,VL;function tee(){if(VL)return Fm;VL=1;var e=ne,t=ht(),r=t.parsePercent,n=e.each;function a(s){var f=i(s);n(f,function(u){var h=u.seriesModels;h.length&&(o(u),n(h,function(c,v){l(c,u.boxOffsetList[v],u.boxWidthList[v])}))})}function i(s){var f=[],u=[];return s.eachSeriesByType("boxplot",function(h){var c=h.getBaseAxis(),v=e.indexOf(u,c);v<0&&(v=u.length,u[v]=c,f[v]={axis:c,seriesModels:[]}),f[v].seriesModels.push(h)}),f}function o(s){var f,u=s.axis,h=s.seriesModels,c=h.length,v=s.boxWidthList=[],d=s.boxOffsetList=[],m=[],g;if(u.type==="category")g=u.getBandWidth();else{var p=0;n(h,function(b){p=Math.max(p,b.getData().count())}),f=u.getExtent(),Math.abs(f[1]-f[0])/p}n(h,function(b){var S=b.get("boxWidth");e.isArray(S)||(S=[S,S]),m.push([r(S[0],g)||0,r(S[1],g)||0])});var y=g*.8-2,x=y/c*.3,A=(y-x*(c-1))/c,w=A/2-y/2;n(h,function(b,S){d.push(w),w+=x+A,v.push(Math.min(Math.max(A,m[S][0]),m[S][1]))})}function l(s,f,u){var h=s.coordinateSystem,c=s.getData(),v=u/2,d=s.get("layout")==="horizontal"?0:1,m=1-d,g=["x","y"],p=c.mapDimension(g[d]),y=c.mapDimension(g[m],!0);if(p==null||y.length<5)return;for(var x=0;x<c.count();x++){var A=c.get(p,x),w=I(A,y[2],x),b=I(A,y[0],x),S=I(A,y[1],x),T=I(A,y[3],x),C=I(A,y[4],x),M=[];P(M,S,0),P(M,T,1),M.push(b,S,C,T),D(M,b),D(M,C),D(M,w),c.setItemLayout(x,{initBaseline:w[m],ends:M})}function I(k,R,B){var V=c.get(R,B),F=[];F[d]=k,F[m]=V;var Y;return isNaN(k)||isNaN(V)?Y=[NaN,NaN]:(Y=h.dataToPoint(F),Y[d]+=f),Y}function P(k,R,B){var V=R.slice(),F=R.slice();V[d]+=v,F[d]-=v,B?k.push(V,F):k.push(F,V)}function D(k,R){var B=R.slice(),V=R.slice();B[d]-=v,V[d]+=v,k.push(B,V)}}return Fm=a,Fm}var FL;function ree(){if(FL)return kL;FL=1;var e=Ge;Jj(),jj();var t=eee(),r=tee();return e.registerVisual(t),e.registerLayout(r),kL}var HL={},Hm,qL;function aee(){if(qL)return Hm;qL=1;var e=ne,t=Br,r=BN(),n=r.seriesModelMixin,a=t.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(o,l,s){var f=l.getItemLayout(o);return f&&s.rect(f.brushRect)}});e.mixin(a,n,!0);var i=a;return Hm=i,Hm}var qm,UL;function nee(){if(UL)return qm;UL=1;var e=ne,t=Vn,r=ke,n=yr,a=qu(),i=a.createClipPath,o=["itemStyle"],l=["emphasis","itemStyle"],s=["color","color0","borderColor","borderColor0"],f=t.extend({type:"candlestick",render:function(x,A,w){this.group.removeClipPath(),this._updateDrawMode(x),this._isLargeDraw?this._renderLarge(x):this._renderNormal(x)},incrementalPrepareRender:function(x,A,w){this._clear(),this._updateDrawMode(x)},incrementalRender:function(x,A,w,b){this._isLargeDraw?this._incrementalRenderLarge(x,A):this._incrementalRenderNormal(x,A)},_updateDrawMode:function(x){var A=x.pipelineContext.large;(this._isLargeDraw==null||A^this._isLargeDraw)&&(this._isLargeDraw=A,this._clear())},_renderNormal:function(x){var A=x.getData(),w=this._data,b=this.group,S=A.getLayout("isSimpleBox"),T=x.get("clip",!0),C=x.coordinateSystem,M=C.getArea&&C.getArea();this._data||b.removeAll(),A.diff(w).add(function(I){if(A.hasValue(I)){var P,D=A.getItemLayout(I);if(T&&c(M,D))return;P=h(D,I,!0),r.initProps(P,{shape:{points:D.ends}},x,I),v(P,A,I,S),b.add(P),A.setItemGraphicEl(I,P)}}).update(function(I,P){var D=w.getItemGraphicEl(P);if(!A.hasValue(I)){b.remove(D);return}var k=A.getItemLayout(I);if(T&&c(M,k)){b.remove(D);return}D?r.updateProps(D,{shape:{points:k.ends}},x,I):D=h(k),v(D,A,I,S),b.add(D),A.setItemGraphicEl(I,D)}).remove(function(I){var P=w.getItemGraphicEl(I);P&&b.remove(P)}).execute(),this._data=A},_renderLarge:function(x){this._clear(),g(x,this.group);var A=x.get("clip",!0)?i(x.coordinateSystem,!1,x):null;A?this.group.setClipPath(A):this.group.removeClipPath()},_incrementalRenderNormal:function(x,A){for(var w=A.getData(),b=w.getLayout("isSimpleBox"),S;(S=x.next())!=null;){var T,C=w.getItemLayout(S);T=h(C),v(T,w,S,b),T.incremental=!0,this.group.add(T)}},_incrementalRenderLarge:function(x,A){g(A,this.group,!0)},remove:function(x){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:e.noop}),u=n.extend({type:"normalCandlestickBox",shape:{},buildPath:function(x,A){var w=A.points;this.__simpleBox?(x.moveTo(w[4][0],w[4][1]),x.lineTo(w[6][0],w[6][1])):(x.moveTo(w[0][0],w[0][1]),x.lineTo(w[1][0],w[1][1]),x.lineTo(w[2][0],w[2][1]),x.lineTo(w[3][0],w[3][1]),x.closePath(),x.moveTo(w[4][0],w[4][1]),x.lineTo(w[5][0],w[5][1]),x.moveTo(w[6][0],w[6][1]),x.lineTo(w[7][0],w[7][1]))}});function h(x,A,w){var b=x.ends;return new u({shape:{points:w?d(b,x):b},z2:100})}function c(x,A){for(var w=!0,b=0;b<A.ends.length;b++)if(x.contain(A.ends[b][0],A.ends[b][1])){w=!1;break}return w}function v(x,A,w,b){var S=A.getItemModel(w),T=S.getModel(o),C=A.getItemVisual(w,"color"),M=A.getItemVisual(w,"borderColor")||C,I=T.getItemStyle(s);x.useStyle(I),x.style.strokeNoScale=!0,x.style.fill=C,x.style.stroke=M,x.__simpleBox=b;var P=S.getModel(l).getItemStyle();r.setHoverStyle(x,P)}function d(x,A){return e.map(x,function(w){return w=w.slice(),w[1]=A.initBaseline,w})}var m=n.extend({type:"largeCandlestickBox",shape:{},buildPath:function(x,A){for(var w=A.points,b=0;b<w.length;)if(this.__sign===w[b++]){var S=w[b++];x.moveTo(S,w[b++]),x.lineTo(S,w[b++])}else b+=3}});function g(x,A,w){var b=x.getData(),S=b.getLayout("largePoints"),T=new m({shape:{points:S},__sign:1});A.add(T);var C=new m({shape:{points:S},__sign:-1});A.add(C),p(1,T,x,b),p(-1,C,x,b),w&&(T.incremental=!0,C.incremental=!0)}function p(x,A,w,b){var S=x>0?"P":"N",T=b.getVisual("borderColor"+S)||b.getVisual("color"+S),C=w.getModel(o).getItemStyle(s);A.useStyle(C),A.style.fill=null,A.style.stroke=T}var y=f;return qm=y,qm}var Um,GL;function iee(){if(GL)return Um;GL=1;var e=ne;function t(r){!r||!e.isArray(r.series)||e.each(r.series,function(n){e.isObject(n)&&n.type==="k"&&(n.type="candlestick")})}return Um=t,Um}var Gm,WL;function oee(){if(WL)return Gm;WL=1;var e=tl,t=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],n=["itemStyle","color"],a=["itemStyle","color0"],i={seriesType:"candlestick",plan:e(),performRawSeries:!0,reset:function(o,l){var s=o.getData();if(s.setVisual({legendSymbol:"roundRect",colorP:h(1,o),colorN:h(-1,o),borderColorP:c(1,o),borderColorN:c(-1,o)}),l.isSeriesFiltered(o))return;var f=o.pipelineContext.large;return!f&&{progress:u};function u(v,d){for(var m;(m=v.next())!=null;){var g=d.getItemModel(m),p=d.getItemLayout(m).sign;d.setItemVisual(m,{color:h(p,g),borderColor:c(p,g)})}}function h(v,d){return d.get(v>0?n:a)}function c(v,d){return d.get(v>0?t:r)}}};return Gm=i,Gm}var Wm,$L;function see(){if($L)return Wm;$L=1;var e=ke,t=e.subPixelOptimize,r=tl,n=ht(),a=n.parsePercent,i=ne,o=i.retrieve2,l=typeof Float32Array<"u"?Float32Array:Array,s={seriesType:"candlestick",plan:r(),reset:function(h){var c=h.coordinateSystem,v=h.getData(),d=u(h,v),m=0,g=1,p=["x","y"],y=v.mapDimension(p[m]),x=v.mapDimension(p[g],!0),A=x[0],w=x[1],b=x[2],S=x[3];if(v.setLayout({candleWidth:d,isSimpleBox:d<=1.3}),y==null||x.length<4)return;return{progress:h.pipelineContext.large?C:T};function T(M,I){for(var P;(P=M.next())!=null;){var D=I.get(y,P),k=I.get(A,P),R=I.get(w,P),B=I.get(b,P),V=I.get(S,P),F=Math.min(k,R),Y=Math.max(k,R),q=W(F,D),E=W(Y,D),z=W(B,D),N=W(V,D),H=[];U(H,E,0),U(H,q,1),H.push(Q(N),Q(E),Q(z),Q(q)),I.setItemLayout(P,{sign:f(I,P,k,R,w),initBaseline:k>R?E[g]:q[g],ends:H,brushRect:K(B,V,D)})}function W(j,se){var le=[];return le[m]=se,le[g]=j,isNaN(se)||isNaN(j)?[NaN,NaN]:c.dataToPoint(le)}function U(j,se,le){var de=se.slice(),he=se.slice();de[m]=t(de[m]+d/2,1,!1),he[m]=t(he[m]-d/2,1,!0),le?j.push(de,he):j.push(he,de)}function K(j,se,le){var de=W(j,le),he=W(se,le);return de[m]-=d/2,he[m]-=d/2,{x:de[0],y:de[1],width:d,height:he[1]-de[1]}}function Q(j){return j[m]=t(j[m],1),j}}function C(M,I){for(var P=new l(M.count*4),D=0,k,R=[],B=[],V;(V=M.next())!=null;){var F=I.get(y,V),Y=I.get(A,V),q=I.get(w,V),E=I.get(b,V),z=I.get(S,V);if(isNaN(F)||isNaN(E)||isNaN(z)){P[D++]=NaN,D+=3;continue}P[D++]=f(I,V,Y,q,w),R[m]=F,R[g]=E,k=c.dataToPoint(R,null,B),P[D++]=k?k[0]:NaN,P[D++]=k?k[1]:NaN,R[g]=z,k=c.dataToPoint(R,null,B),P[D++]=k?k[1]:NaN}I.setLayout("largePoints",P)}}};function f(h,c,v,d,m){var g;return v>d?g=-1:v<d?g=1:g=c>0?h.get(m,c-1)<=d?1:-1:1,g}function u(h,c){var v=h.getBaseAxis(),d,m=v.type==="category"?v.getBandWidth():(d=v.getExtent(),Math.abs(d[1]-d[0])/c.count()),g=a(o(h.get("barMaxWidth"),m),m),p=a(o(h.get("barMinWidth"),1),m),y=h.get("barWidth");return y!=null?a(y,m):Math.max(Math.min(m/2,g),p)}return Wm=s,Wm}var YL;function lee(){if(YL)return HL;YL=1;var e=Ge;aee(),nee();var t=iee(),r=oee(),n=see();return e.registerPreprocessor(t),e.registerVisual(r),e.registerLayout(n),HL}var ZL={},$m,KL;function uee(){if(KL)return $m;KL=1;var e=yi(),t=Br,r=t.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(n,a){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});return $m=r,$m}var Ym,XL;function fee(){if(XL)return Ym;XL=1;var e=ne,t=ja(),r=t.createSymbol,n=ke,a=n.Group,i=ht(),o=i.parsePercent,l=zh(),s=3;function f(d){return e.isArray(d)||(d=[+d,+d]),d}function u(d,m){var g=m.rippleEffectColor||m.color;d.eachChild(function(p){p.attr({z:m.z,zlevel:m.zlevel,style:{stroke:m.brushType==="stroke"?g:null,fill:m.brushType==="fill"?g:null}})})}function h(d,m){a.call(this);var g=new l(d,m),p=new a;this.add(g),this.add(p),p.beforeUpdate=function(){this.attr(g.getScale())},this.updateData(d,m)}var c=h.prototype;c.stopEffectAnimation=function(){this.childAt(1).removeAll()},c.startEffectAnimation=function(d){for(var m=d.symbolType,g=d.color,p=this.childAt(1),y=0;y<s;y++){var x=r(m,-1,-1,2,2,g);x.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var A=-y/s*d.period+d.effectOffset;x.animate("",!0).when(d.period,{scale:[d.rippleScale/2,d.rippleScale/2]}).delay(A).start(),x.animateStyle(!0).when(d.period,{opacity:0}).delay(A).start(),p.add(x)}u(p,d)},c.updateEffectAnimation=function(d){for(var m=this._effectCfg,g=this.childAt(1),p=["symbolType","period","rippleScale"],y=0;y<p.length;y++){var x=p[y];if(m[x]!==d[x]){this.stopEffectAnimation(),this.startEffectAnimation(d);return}}u(g,d)},c.highlight=function(){this.trigger("emphasis")},c.downplay=function(){this.trigger("normal")},c.updateData=function(d,m){var g=d.hostModel;this.childAt(0).updateData(d,m);var p=this.childAt(1),y=d.getItemModel(m),x=d.getItemVisual(m,"symbol"),A=f(d.getItemVisual(m,"symbolSize")),w=d.getItemVisual(m,"color");p.attr("scale",A),p.traverse(function(D){D.attr({fill:w})});var b=y.getShallow("symbolOffset");if(b){var S=p.position;S[0]=o(b[0],A[0]),S[1]=o(b[1],A[1])}var T=d.getItemVisual(m,"symbolRotate");p.rotation=(T||0)*Math.PI/180||0;var C={};if(C.showEffectOn=g.get("showEffectOn"),C.rippleScale=y.get("rippleEffect.scale"),C.brushType=y.get("rippleEffect.brushType"),C.period=y.get("rippleEffect.period")*1e3,C.effectOffset=m/d.count(),C.z=y.getShallow("z")||0,C.zlevel=y.getShallow("zlevel")||0,C.symbolType=x,C.color=w,C.rippleEffectColor=y.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),C.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(C):this.startEffectAnimation(C),this._effectCfg=C;else{this._effectCfg=null,this.stopEffectAnimation();var M=this.childAt(0),I=function(){M.highlight(),C.showEffectOn!=="render"&&this.startEffectAnimation(C)},P=function(){M.downplay(),C.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",I,this).on("mouseout",P,this).on("emphasis",I,this).on("normal",P,this)}this._effectCfg=C},c.fadeOut=function(d){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),d&&d()},e.inherits(h,a);var v=h;return Ym=v,Ym}var Zm,QL;function cee(){if(QL)return Zm;QL=1;var e=Ge,t=Hu(),r=fee(),n=la(),a=Uu(),i=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(r)},render:function(o,l,s){var f=o.getData(),u=this._symbolDraw;u.updateData(f),this.group.add(u.group)},updateTransform:function(o,l,s){var f=o.getData();this.group.dirty();var u=a().reset(o);u.progress&&u.progress({start:0,end:f.count()},f),this._symbolDraw.updateLayout(f)},_updateGroupTransform:function(o){var l=o.coordinateSystem;l&&l.getRoamTransform&&(this.group.transform=n.clone(l.getRoamTransform()),this.group.decomposeTransform())},remove:function(o,l){this._symbolDraw&&this._symbolDraw.remove(l)},dispose:function(){}});return Zm=i,Zm}var JL;function hee(){if(JL)return ZL;JL=1;var e=Ge;uee(),cee();var t=Fo(),r=Uu();return e.registerVisual(t("effectScatter","circle")),e.registerLayout(r("effectScatter")),ZL}var jL={},Km,eI;function vee(){if(eI)return Km;eI=1;var e=Br,t=Ja(),r=ne,n=r.concatArray,a=r.mergeAll,i=r.map,o=jt(),l=o.encodeHTML,s=typeof Uint32Array>"u"?Array:Uint32Array,f=typeof Float64Array>"u"?Array:Float64Array;function u(v){var d=v.data;d&&d[0]&&d[0][0]&&d[0][0].coord&&(v.data=i(d,function(m){var g=[m[0].coord,m[1].coord],p={coords:g};return m[0].name&&(p.fromName=m[0].name),m[1].name&&(p.toName=m[1].name),a([p,m[0],m[1]])}))}var h=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(v){v.data=v.data||[],u(v);var d=this._processFlatCoordsArray(v.data);this._flatCoords=d.flatCoords,this._flatCoordsOffset=d.flatCoordsOffset,d.flatCoords&&(v.data=new Float32Array(d.count)),h.superApply(this,"init",arguments)},mergeOption:function(v){if(u(v),v.data){var d=this._processFlatCoordsArray(v.data);this._flatCoords=d.flatCoords,this._flatCoordsOffset=d.flatCoordsOffset,d.flatCoords&&(v.data=new Float32Array(d.count))}h.superApply(this,"mergeOption",arguments)},appendData:function(v){var d=this._processFlatCoordsArray(v.data);d.flatCoords&&(this._flatCoords?(this._flatCoords=n(this._flatCoords,d.flatCoords),this._flatCoordsOffset=n(this._flatCoordsOffset,d.flatCoordsOffset)):(this._flatCoords=d.flatCoords,this._flatCoordsOffset=d.flatCoordsOffset),v.data=new Float32Array(d.count)),this.getRawData().appendData(v.data)},_getCoordsFromItemModel:function(v){var d=this.getData().getItemModel(v),m=d.option instanceof Array?d.option:d.getShallow("coords");return m},getLineCoordsCount:function(v){return this._flatCoordsOffset?this._flatCoordsOffset[v*2+1]:this._getCoordsFromItemModel(v).length},getLineCoords:function(v,d){if(this._flatCoordsOffset){for(var m=this._flatCoordsOffset[v*2],g=this._flatCoordsOffset[v*2+1],p=0;p<g;p++)d[p]=d[p]||[],d[p][0]=this._flatCoords[m+p*2],d[p][1]=this._flatCoords[m+p*2+1];return g}else{for(var y=this._getCoordsFromItemModel(v),p=0;p<y.length;p++)d[p]=d[p]||[],d[p][0]=y[p][0],d[p][1]=y[p][1];return y.length}},_processFlatCoordsArray:function(v){var d=0;if(this._flatCoords&&(d=this._flatCoords.length),typeof v[0]=="number"){for(var m=v.length,g=new s(m),p=new f(m),y=0,x=0,A=0,w=0;w<m;){A++;var b=v[w++];g[x++]=y+d,g[x++]=b;for(var S=0;S<b;S++){var T=v[w++],C=v[w++];p[y++]=T,p[y++]=C}}return{flatCoordsOffset:new Uint32Array(g.buffer,0,x),flatCoords:p,count:A}}return{flatCoordsOffset:null,flatCoords:null,count:v.length}},getInitialData:function(v,d){var m=new t(["value"],this);return m.hasItemOption=!1,m.initData(v.data,[],function(g,p,y,x){if(g instanceof Array)return NaN;m.hasItemOption=!0;var A=g.value;if(A!=null)return A instanceof Array?A[x]:A}),m},formatTooltip:function(v){var d=this.getData(),m=d.getItemModel(v),g=m.get("name");if(g)return g;var p=m.get("fromName"),y=m.get("toName"),x=[];return p!=null&&x.push(p),y!=null&&x.push(y),l(x.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var v=this.option.progressive;return v??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){var v=this.option.progressiveThreshold;return v??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),c=h;return Km=c,Km}var Xm,tI;function NN(){if(tI)return Xm;tI=1;var e=ke,t=Ax(),r=ne,n=ja(),a=n.createSymbol,i=sr(),o=Lr;function l(u,h,c){e.Group.call(this),this.add(this.createLine(u,h,c)),this._updateEffectSymbol(u,h)}var s=l.prototype;s.createLine=function(u,h,c){return new t(u,h,c)},s._updateEffectSymbol=function(u,h){var c=u.getItemModel(h),v=c.getModel("effect"),d=v.get("symbolSize"),m=v.get("symbol");r.isArray(d)||(d=[d,d]);var g=v.get("color")||u.getItemVisual(h,"color"),p=this.childAt(1);this._symbolType!==m&&(this.remove(p),p=a(m,-.5,-.5,1,1,g),p.z2=100,p.culling=!0,this.add(p)),p&&(p.setStyle("shadowColor",g),p.setStyle(v.getItemStyle(["color"])),p.attr("scale",d),p.setColor(g),p.attr("scale",d),this._symbolType=m,this._symbolScale=d,this._updateEffectAnimation(u,v,h))},s._updateEffectAnimation=function(u,h,c){var v=this.childAt(1);if(v){var d=this,m=u.getItemLayout(c),g=h.get("period")*1e3,p=h.get("loop"),y=h.get("constantSpeed"),x=r.retrieve(h.get("delay"),function(S){return S/u.count()*g/3}),A=typeof x=="function";if(v.ignore=!0,this.updateAnimationPoints(v,m),y>0&&(g=this.getLineLength(v)/y*1e3),g!==this._period||p!==this._loop){v.stopAnimation();var w=x;A&&(w=x(c)),v.__t>0&&(w=-g*v.__t),v.__t=0;var b=v.animate("",p).when(g,{__t:1}).delay(w).during(function(){d.updateSymbolPosition(v)});p||b.done(function(){d.remove(v)}),b.start()}this._period=g,this._loop=p}},s.getLineLength=function(u){return i.dist(u.__p1,u.__cp1)+i.dist(u.__cp1,u.__p2)},s.updateAnimationPoints=function(u,h){u.__p1=h[0],u.__p2=h[1],u.__cp1=h[2]||[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]},s.updateData=function(u,h,c){this.childAt(0).updateData(u,h,c),this._updateEffectSymbol(u,h)},s.updateSymbolPosition=function(u){var h=u.__p1,c=u.__p2,v=u.__cp1,d=u.__t,m=u.position,g=[m[0],m[1]],p=o.quadraticAt,y=o.quadraticDerivativeAt;m[0]=p(h[0],v[0],c[0],d),m[1]=p(h[1],v[1],c[1],d);var x=y(h[0],v[0],c[0],d),A=y(h[1],v[1],c[1],d);if(u.rotation=-Math.atan2(A,x)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(u.__lastT!==void 0&&u.__lastT<u.__t){var w=i.dist(g,m)*1.05;u.attr("scale",[u.scale[0],w]),d===1&&(m[0]=g[0]+(m[0]-g[0])/2,m[1]=g[1]+(m[1]-g[1])/2)}else if(u.__lastT===1){var w=2*i.dist(h,m);u.attr("scale",[u.scale[0],w])}else u.attr("scale",this._symbolScale);u.__lastT=u.__t,u.ignore=!1},s.updateLayout=function(u,h){this.childAt(0).updateLayout(u,h);var c=u.getItemModel(h).getModel("effect");this._updateEffectAnimation(u,c,h)},r.inherits(l,e.Group);var f=l;return Xm=f,Xm}var Qm,rI;function zN(){if(rI)return Qm;rI=1;var e=ke,t=ne;function r(i,o,l){e.Group.call(this),this._createPolyline(i,o,l)}var n=r.prototype;n._createPolyline=function(i,o,l){var s=i.getItemLayout(o),f=new e.Polyline({shape:{points:s}});this.add(f),this._updateCommonStl(i,o,l)},n.updateData=function(i,o,l){var s=i.hostModel,f=this.childAt(0),u={shape:{points:i.getItemLayout(o)}};e.updateProps(f,u,s,o),this._updateCommonStl(i,o,l)},n._updateCommonStl=function(i,o,l){var s=this.childAt(0),f=i.getItemModel(o),u=i.getItemVisual(o,"color"),h=l&&l.lineStyle,c=l&&l.hoverLineStyle;(!l||i.hasItemOption)&&(h=f.getModel("lineStyle").getLineStyle(),c=f.getModel("emphasis.lineStyle").getLineStyle()),s.useStyle(t.defaults({strokeNoScale:!0,fill:"none",stroke:u},h)),s.hoverStyle=c,e.setHoverStyle(this)},n.updateLayout=function(i,o){var l=this.childAt(0);l.setShape("points",i.getItemLayout(o))},t.inherits(r,e.Group);var a=r;return Qm=a,Qm}var Jm,aI;function dee(){if(aI)return Jm;aI=1;var e=zN(),t=ne,r=NN(),n=sr();function a(l,s,f){r.call(this,l,s,f),this._lastFrame=0,this._lastFramePercent=0}var i=a.prototype;i.createLine=function(l,s,f){return new e(l,s,f)},i.updateAnimationPoints=function(l,s){this._points=s;for(var f=[0],u=0,h=1;h<s.length;h++){var c=s[h-1],v=s[h];u+=n.dist(c,v),f.push(u)}if(u!==0){for(var h=0;h<f.length;h++)f[h]/=u;this._offsets=f,this._length=u}},i.getLineLength=function(l){return this._length},i.updateSymbolPosition=function(l){var s=l.__t,f=this._points,u=this._offsets,h=f.length;if(u){var c=this._lastFrame,v;if(s<this._lastFramePercent){var d=Math.min(c+1,h-1);for(v=d;v>=0&&!(u[v]<=s);v--);v=Math.min(v,h-2)}else{for(var v=c;v<h&&!(u[v]>s);v++);v=Math.min(v-1,h-2)}n.lerp(l.position,f[v],f[v+1],(s-u[v])/(u[v+1]-u[v]));var m=f[v+1][0]-f[v][0],g=f[v+1][1]-f[v][1];l.rotation=-Math.atan2(g,m)-Math.PI/2,this._lastFrame=v,this._lastFramePercent=s,l.ignore=!1}},t.inherits(a,r);var o=a;return Jm=o,Jm}var jm,nI;function gee(){if(nI)return jm;nI=1;var e=ke,t=X_,r=FO(),n=qO(),a=e.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(s,f){var u=f.segs,h=f.curveness;if(f.polyline)for(var c=0;c<u.length;){var v=u[c++];if(v>0){s.moveTo(u[c++],u[c++]);for(var d=1;d<v;d++)s.lineTo(u[c++],u[c++])}}else for(var c=0;c<u.length;){var m=u[c++],g=u[c++],p=u[c++],y=u[c++];if(s.moveTo(m,g),h>0){var x=(m+p)/2-(g-y)*h,A=(g+y)/2-(p-m)*h;s.quadraticCurveTo(x,A,p,y)}else s.lineTo(p,y)}},findDataIndex:function(s,f){var u=this.shape,h=u.segs,c=u.curveness;if(u.polyline)for(var v=0,d=0;d<h.length;){var m=h[d++];if(m>0)for(var g=h[d++],p=h[d++],y=1;y<m;y++){var x=h[d++],A=h[d++];if(r.containStroke(g,p,x,A))return v}v++}else for(var v=0,d=0;d<h.length;){var g=h[d++],p=h[d++],x=h[d++],A=h[d++];if(c>0){var w=(g+x)/2-(p-A)*c,b=(p+A)/2-(x-g)*c;if(n.containStroke(g,p,w,b,x,A))return v}else if(r.containStroke(g,p,x,A))return v;v++}return-1}});function i(){this.group=new e.Group}var o=i.prototype;o.isPersistent=function(){return!this._incremental},o.updateData=function(s){this.group.removeAll();var f=new a({rectHover:!0,cursor:"default"});f.setShape({segs:s.getLayout("linesPoints")}),this._setCommon(f,s),this.group.add(f),this._incremental=null},o.incrementalPrepareUpdate=function(s){this.group.removeAll(),this._clearIncremental(),s.count()>5e5?(this._incremental||(this._incremental=new t({silent:!0})),this.group.add(this._incremental)):this._incremental=null},o.incrementalUpdate=function(s,f){var u=new a;u.setShape({segs:f.getLayout("linesPoints")}),this._setCommon(u,f,!!this._incremental),this._incremental?this._incremental.addDisplayable(u,!0):(u.rectHover=!0,u.cursor="default",u.__startIndex=s.start,this.group.add(u))},o.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},o._setCommon=function(s,f,u){var h=f.hostModel;s.setShape({polyline:h.get("polyline"),curveness:h.get("lineStyle.curveness")}),s.useStyle(h.getModel("lineStyle").getLineStyle()),s.style.strokeNoScale=!0;var c=f.getVisual("color");c&&s.setStyle("stroke",c),s.setStyle("fill"),u||(s.seriesIndex=h.seriesIndex,s.on("mousemove",function(v){s.dataIndex=null;var d=s.findDataIndex(v.offsetX,v.offsetY);d>0&&(s.dataIndex=d+s.__startIndex)}))},o._clearIncremental=function(){var s=this._incremental;s&&s.clearDisplaybles()};var l=i;return jm=l,jm}var e0,iI;function VN(){if(iI)return e0;iI=1;var e=tl,t={seriesType:"lines",plan:e(),reset:function(r){var n=r.coordinateSystem,a=r.get("polyline"),i=r.pipelineContext.large;function o(l,s){var f=[];if(i){var u,h=l.end-l.start;if(a){for(var c=0,v=l.start;v<l.end;v++)c+=r.getLineCoordsCount(v);u=new Float32Array(h+c*2)}else u=new Float32Array(h*4);for(var d=0,m=[],v=l.start;v<l.end;v++){var g=r.getLineCoords(v,f);a&&(u[d++]=g);for(var p=0;p<g;p++)m=n.dataToPoint(f[p],!1,m),u[d++]=m[0],u[d++]=m[1]}s.setLayout("linesPoints",u)}else for(var v=l.start;v<l.end;v++){var y=s.getItemModel(v),g=r.getLineCoords(v,f),x=[];if(a)for(var A=0;A<g;A++)x.push(n.dataToPoint(f[A]));else{x[0]=n.dataToPoint(f[0]),x[1]=n.dataToPoint(f[1]);var w=y.get("lineStyle.curveness");+w&&(x[2]=[(x[0][0]+x[1][0])/2-(x[0][1]-x[1][1])*w,(x[0][1]+x[1][1])/2-(x[1][0]-x[0][0])*w])}s.setItemLayout(v,x)}}return{progress:o}}};return e0=t,e0}var t0,oI;function pee(){if(oI)return t0;oI=1;var e=Ge,t=Tx(),r=NN(),n=Ax(),a=zN(),i=dee(),o=gee(),l=VN(),s=qu(),f=s.createClipPath,u=e.extendChartView({type:"lines",init:function(){},render:function(h,c,v){var d=h.getData(),m=this._updateLineDraw(d,h),g=h.get("zlevel"),p=h.get("effect.trailLength"),y=v.getZr(),x=y.painter.getType()==="svg";x||y.painter.getLayer(g).clear(!0),this._lastZlevel!=null&&!x&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(h)&&p&&(x||y.configLayer(g,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(p/10+.9,1),0)})),m.updateData(d);var A=h.get("clip",!0)&&f(h.coordinateSystem,!1,h);A?this.group.setClipPath(A):this.group.removeClipPath(),this._lastZlevel=g,this._finished=!0},incrementalPrepareRender:function(h,c,v){var d=h.getData(),m=this._updateLineDraw(d,h);m.incrementalPrepareUpdate(d),this._clearLayer(v),this._finished=!1},incrementalRender:function(h,c,v){this._lineDraw.incrementalUpdate(h,c.getData()),this._finished=h.end===c.getData().count()},updateTransform:function(h,c,v){var d=h.getData(),m=h.pipelineContext;if(!this._finished||m.large||m.progressiveRender)return{update:!0};var g=l.reset(h);g.progress&&g.progress({start:0,end:d.count()},d),this._lineDraw.updateLayout(),this._clearLayer(v)},_updateLineDraw:function(h,c){var v=this._lineDraw,d=this._showEffect(c),m=!!c.get("polyline"),g=c.pipelineContext,p=g.large;return(!v||d!==this._hasEffet||m!==this._isPolyline||p!==this._isLargeDraw)&&(v&&v.remove(),v=this._lineDraw=p?new o:new t(m?d?i:a:d?r:n),this._hasEffet=d,this._isPolyline=m,this._isLargeDraw=p,this.group.removeAll()),this.group.add(v.group),v},_showEffect:function(h){return!!h.get("effect.show")},_clearLayer:function(h){var c=h.getZr(),v=c.painter.getType()==="svg";!v&&this._lastZlevel!=null&&c.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(h,c){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(c)},dispose:function(){}});return t0=u,t0}var r0,sI;function mee(){if(sI)return r0;sI=1;function e(n){return n instanceof Array||(n=[n,n]),n}var t="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(n,a,i){var o=e(n.get("symbol")),l=e(n.get("symbolSize")),s=n.getData();s.setVisual("fromSymbol",o&&o[0]),s.setVisual("toSymbol",o&&o[1]),s.setVisual("fromSymbolSize",l&&l[0]),s.setVisual("toSymbolSize",l&&l[1]),s.setVisual("opacity",n.get(t));function f(u,h){var c=u.getItemModel(h),v=e(c.getShallow("symbol",!0)),d=e(c.getShallow("symbolSize",!0)),m=c.get(t);v[0]&&u.setItemVisual(h,"fromSymbol",v[0]),v[1]&&u.setItemVisual(h,"toSymbol",v[1]),d[0]&&u.setItemVisual(h,"fromSymbolSize",d[0]),d[1]&&u.setItemVisual(h,"toSymbolSize",d[1]),u.setItemVisual(h,"opacity",m)}return{dataEach:s.hasItemOption?f:null}}};return r0=r,r0}var lI;function yee(){if(lI)return jL;lI=1;var e=Ge;vee(),pee();var t=VN(),r=mee();return e.registerLayout(t),e.registerVisual(r),jL}var uI={},a0,fI;function _ee(){if(fI)return a0;fI=1;var e=Br,t=yi(),r=zn,n=e.extend({type:"series.heatmap",getInitialData:function(a,i){return t(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var a=r.get(this.get("coordinateSystem"));if(a&&a.dimensions)return a.dimensions[0]==="lng"&&a.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});return a0=n,a0}var n0,cI;function xee(){if(cI)return n0;cI=1;var e=ne,t=256;function r(){var a=e.createCanvas();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(a,i,o,l,s,f){var u=this._getBrush(),h=this._getGradient(a,s,"inRange"),c=this._getGradient(a,s,"outOfRange"),v=this.pointSize+this.blurSize,d=this.canvas,m=d.getContext("2d"),g=a.length;d.width=i,d.height=o;for(var p=0;p<g;++p){var y=a[p],x=y[0],A=y[1],w=y[2],b=l(w);m.globalAlpha=b,m.drawImage(u,x-v,A-v)}if(!d.width||!d.height)return d;for(var S=m.getImageData(0,0,d.width,d.height),T=S.data,C=0,M=T.length,I=this.minOpacity,P=this.maxOpacity,D=P-I;C<M;){var b=T[C+3]/256,k=Math.floor(b*(t-1))*4;if(b>0){var R=f(b)?h:c;b>0&&(b=b*D+I),T[C++]=R[k],T[C++]=R[k+1],T[C++]=R[k+2],T[C++]=R[k+3]*b*256}else C+=4}return m.putImageData(S,0,0),d},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=e.createCanvas()),i=this.pointSize+this.blurSize,o=i*2;a.width=o,a.height=o;var l=a.getContext("2d");return l.clearRect(0,0,o,o),l.shadowOffsetX=o,l.shadowBlur=this.blurSize,l.shadowColor="#000",l.beginPath(),l.arc(-i,i,this.pointSize,0,Math.PI*2,!0),l.closePath(),l.fill(),a},_getGradient:function(a,i,o){for(var l=this._gradientPixels,s=l[o]||(l[o]=new Uint8ClampedArray(256*4)),f=[0,0,0,0],u=0,h=0;h<256;h++)i[o](h/255,!0,f),s[u++]=f[0],s[u++]=f[1],s[u++]=f[2],s[u++]=f[3];return s}};var n=r;return n0=n,n0}var i0,hI;function wee(){if(hI)return i0;hI=1;var e=Ge,t=ke,r=xee(),n=ne;function a(s,f,u){var h=s[1]-s[0];f=n.map(f,function(d){return{interval:[(d.interval[0]-s[0])/h,(d.interval[1]-s[0])/h]}});var c=f.length,v=0;return function(d){for(var m=v;m<c;m++){var g=f[m].interval;if(g[0]<=d&&d<=g[1]){v=m;break}}if(m===c)for(var m=v-1;m>=0;m--){var g=f[m].interval;if(g[0]<=d&&d<=g[1]){v=m;break}}return m>=0&&m<c&&u[m]}}function i(s,f){var u=s[1]-s[0];return f=[(f[0]-s[0])/u,(f[1]-s[0])/u],function(h){return h>=f[0]&&h<=f[1]}}function o(s){var f=s.dimensions;return f[0]==="lng"&&f[1]==="lat"}var l=e.extendChartView({type:"heatmap",render:function(s,f,u){var h;f.eachComponent("visualMap",function(v){v.eachTargetSeries(function(d){d===s&&(h=v)})}),this.group.removeAll(),this._incrementalDisplayable=null;var c=s.coordinateSystem;c.type==="cartesian2d"||c.type==="calendar"?this._renderOnCartesianAndCalendar(s,u,0,s.getData().count()):o(c)&&this._renderOnGeo(c,s,h,u)},incrementalPrepareRender:function(s,f,u){this.group.removeAll()},incrementalRender:function(s,f,u,h){var c=f.coordinateSystem;c&&this._renderOnCartesianAndCalendar(f,h,s.start,s.end,!0)},_renderOnCartesianAndCalendar:function(s,f,u,h,c){var v=s.coordinateSystem,d,m;if(v.type==="cartesian2d"){var g=v.getAxis("x"),p=v.getAxis("y");d=g.getBandWidth(),m=p.getBandWidth()}for(var y=this.group,x=s.getData(),A="itemStyle",w="emphasis.itemStyle",b="label",S="emphasis.label",T=s.getModel(A).getItemStyle(["color"]),C=s.getModel(w).getItemStyle(),M=s.getModel(b),I=s.getModel(S),P=v.type,D=P==="cartesian2d"?[x.mapDimension("x"),x.mapDimension("y"),x.mapDimension("value")]:[x.mapDimension("time"),x.mapDimension("value")],k=u;k<h;k++){var R;if(P==="cartesian2d"){if(isNaN(x.get(D[2],k)))continue;var B=v.dataToPoint([x.get(D[0],k),x.get(D[1],k)]);R=new t.Rect({shape:{x:Math.floor(Math.round(B[0])-d/2),y:Math.floor(Math.round(B[1])-m/2),width:Math.ceil(d),height:Math.ceil(m)},style:{fill:x.getItemVisual(k,"color"),opacity:x.getItemVisual(k,"opacity")}})}else{if(isNaN(x.get(D[1],k)))continue;R=new t.Rect({z2:1,shape:v.dataToRect([x.get(D[0],k)]).contentShape,style:{fill:x.getItemVisual(k,"color"),opacity:x.getItemVisual(k,"opacity")}})}var V=x.getItemModel(k);x.hasItemOption&&(T=V.getModel(A).getItemStyle(["color"]),C=V.getModel(w).getItemStyle(),M=V.getModel(b),I=V.getModel(S));var F=s.getRawValue(k),Y="-";F&&F[2]!=null&&(Y=F[2]),t.setLabelStyle(T,C,M,I,{labelFetcher:s,labelDataIndex:k,defaultText:Y,isRectText:!0}),R.setStyle(T),t.setHoverStyle(R,x.hasItemOption?C:n.extend({},C)),R.incremental=c,c&&(R.useHoverLayer=!0),y.add(R),x.setItemGraphicEl(k,R)}},_renderOnGeo:function(s,f,u,h){var c=u.targetVisuals.inRange,v=u.targetVisuals.outOfRange,d=f.getData(),m=this._hmLayer||this._hmLayer||new r;m.blurSize=f.get("blurSize"),m.pointSize=f.get("pointSize"),m.minOpacity=f.get("minOpacity"),m.maxOpacity=f.get("maxOpacity");var g=s.getViewRect().clone(),p=s.getRoamTransform();g.applyTransform(p);var y=Math.max(g.x,0),x=Math.max(g.y,0),A=Math.min(g.width+g.x,h.getWidth()),w=Math.min(g.height+g.y,h.getHeight()),b=A-y,S=w-x,T=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],C=d.mapArray(T,function(D,k,R){var B=s.dataToPoint([D,k]);return B[0]-=y,B[1]-=x,B.push(R),B}),M=u.getExtent(),I=u.type==="visualMap.continuous"?i(M,u.option.range):a(M,u.getPieceList(),u.option.selected);m.update(C,b,S,c.color.getNormalizer(),{inRange:c.color.getColorMapper(),outOfRange:v.color.getColorMapper()},I);var P=new t.Image({style:{width:b,height:S,x:y,y:x,image:m.canvas},silent:!0});this.group.add(P)},dispose:function(){}});return i0=l,i0}var vI;function See(){return vI||(vI=1,_ee(),wee()),uI}var dI={},o0,gI;function bee(){if(gI)return o0;gI=1;var e=wN(),t=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(n){return n.stack=null,t.superApply(this,"getInitialData",arguments)}}),r=t;return o0=r,o0}var s0,pI;function Aee(){if(pI)return s0;pI=1;var e=Ge,t=ne,r=ke,n=ja(),a=n.createSymbol,i=ht(),o=i.parsePercent,l=i.isNumeric,s=SN(),f=s.setLabel,u=["itemStyle","borderWidth"],h=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],c=new r.Circle,v=e.extendChartView({type:"pictorialBar",render:function(z,N,H){var W=this.group,U=z.getData(),K=this._data,Q=z.coordinateSystem,j=Q.getBaseAxis(),se=!!j.isHorizontal(),le=Q.grid.getRect(),de={ecSize:{width:H.getWidth(),height:H.getHeight()},seriesModel:z,coordSys:Q,coordSysExtent:[[le.x,le.x+le.width],[le.y,le.y+le.height]],isHorizontal:se,valueDim:h[+se],categoryDim:h[1-se]};return U.diff(K).add(function(he){if(U.hasValue(he)){var pe=C(U,he),ye=d(U,he,pe,de),X=D(U,de,ye);U.setItemGraphicEl(he,X),W.add(X),Y(X,de,ye)}}).update(function(he,pe){var ye=K.getItemGraphicEl(pe);if(!U.hasValue(he)){W.remove(ye);return}var X=C(U,he),G=d(U,he,X,de),$=B(U,G);ye&&$!==ye.__pictorialShapeStr&&(W.remove(ye),U.setItemGraphicEl(he,null),ye=null),ye?k(ye,de,G):ye=D(U,de,G,!0),U.setItemGraphicEl(he,ye),ye.__pictorialSymbolMeta=G,W.add(ye),Y(ye,de,G)}).remove(function(he){var pe=K.getItemGraphicEl(he);pe&&R(K,he,pe.__pictorialSymbolMeta.animationModel,pe)}).execute(),this._data=U,this.group},dispose:t.noop,remove:function(z,N){var H=this.group,W=this._data;z.get("animation")?W&&W.eachItemGraphicEl(function(U){R(W,U.dataIndex,z,U)}):H.removeAll()}});function d(z,N,H,W){var U=z.getItemLayout(N),K=H.get("symbolRepeat"),Q=H.get("symbolClip"),j=H.get("symbolPosition")||"start",se=H.get("symbolRotate"),le=(se||0)*Math.PI/180||0,de=H.get("symbolPatternSize")||2,he=H.isAnimationEnabled(),pe={dataIndex:N,layout:U,itemModel:H,symbolType:z.getItemVisual(N,"symbol")||"circle",color:z.getItemVisual(N,"color"),symbolClip:Q,symbolRepeat:K,symbolRepeatDirection:H.get("symbolRepeatDirection"),symbolPatternSize:de,rotation:le,animationModel:he?H:null,hoverAnimation:he&&H.get("hoverAnimation"),z2:H.getShallow("z",!0)||0};m(H,K,U,W,pe),p(z,N,U,K,Q,pe.boundingLength,pe.pxSign,de,W,pe),y(H,pe.symbolScale,le,W,pe);var ye=pe.symbolSize,X=H.get("symbolOffset");return t.isArray(X)&&(X=[o(X[0],ye[0]),o(X[1],ye[1])]),x(H,ye,U,K,Q,X,j,pe.valueLineWidth,pe.boundingLength,pe.repeatCutLength,W,pe),pe}function m(z,N,H,W,U){var K=W.valueDim,Q=z.get("symbolBoundingData"),j=W.coordSys.getOtherAxis(W.coordSys.getBaseAxis()),se=j.toGlobalCoord(j.dataToCoord(0)),le=1-+(H[K.wh]<=0),de;if(t.isArray(Q)){var he=[g(j,Q[0])-se,g(j,Q[1])-se];he[1]<he[0]&&he.reverse(),de=he[le]}else Q!=null?de=g(j,Q)-se:N?de=W.coordSysExtent[K.index][le]-se:de=H[K.wh];U.boundingLength=de,N&&(U.repeatCutLength=H[K.wh]),U.pxSign=de>0?1:de<0?-1:0}function g(z,N){return z.toGlobalCoord(z.dataToCoord(z.scale.parse(N)))}function p(z,N,H,W,U,K,Q,j,se,le){var de=se.valueDim,he=se.categoryDim,pe=Math.abs(H[he.wh]),ye=z.getItemVisual(N,"symbolSize");t.isArray(ye)?ye=ye.slice():(ye==null&&(ye="100%"),ye=[ye,ye]),ye[he.index]=o(ye[he.index],pe),ye[de.index]=o(ye[de.index],W?pe:Math.abs(K)),le.symbolSize=ye;var X=le.symbolScale=[ye[0]/j,ye[1]/j];X[de.index]*=(se.isHorizontal?-1:1)*Q}function y(z,N,H,W,U){var K=z.get(u)||0;K&&(c.attr({scale:N.slice(),rotation:H}),c.updateTransform(),K/=c.getLineScale(),K*=N[W.valueDim.index]),U.valueLineWidth=K}function x(z,N,H,W,U,K,Q,j,se,le,de,he){var pe=de.categoryDim,ye=de.valueDim,X=he.pxSign,G=Math.max(N[ye.index]+j,0),$=G;if(W){var ee=Math.abs(se),fe=t.retrieve(z.get("symbolMargin"),"15%")+"",oe=!1;fe.lastIndexOf("!")===fe.length-1&&(oe=!0,fe=fe.slice(0,fe.length-1)),fe=o(fe,N[ye.index]);var ve=Math.max(G+fe*2,0),Me=oe?0:fe*2,re=l(W),ie=re?W:q((ee+Me)/ve),me=ee-ie*G;fe=me/2/(oe?ie:ie-1),ve=G+fe*2,Me=oe?0:fe*2,!re&&W!=="fixed"&&(ie=le?q((Math.abs(le)+Me)/ve):0),$=ie*ve-Me,he.repeatTimes=ie,he.symbolMargin=fe}var Ce=X*($/2),Le=he.pathPosition=[];Le[pe.index]=H[pe.wh]/2,Le[ye.index]=Q==="start"?Ce:Q==="end"?se-Ce:se/2,K&&(Le[0]+=K[0],Le[1]+=K[1]);var Pe=he.bundlePosition=[];Pe[pe.index]=H[pe.xy],Pe[ye.index]=H[ye.xy];var Ie=he.barRectShape=t.extend({},H);Ie[ye.wh]=X*Math.max(Math.abs(H[ye.wh]),Math.abs(Le[ye.index]+Ce)),Ie[pe.wh]=H[pe.wh];var Fe=he.clipShape={};Fe[pe.xy]=-H[pe.xy],Fe[pe.wh]=de.ecSize[pe.wh],Fe[ye.xy]=0,Fe[ye.wh]=H[ye.wh]}function A(z){var N=z.symbolPatternSize,H=a(z.symbolType,-N/2,-N/2,N,N,z.color);return H.attr({culling:!0}),H.type!=="image"&&H.setStyle({strokeNoScale:!0}),H}function w(z,N,H,W){var U=z.__pictorialBundle,K=H.symbolSize,Q=H.valueLineWidth,j=H.pathPosition,se=N.valueDim,le=H.repeatTimes||0,de=0,he=K[N.valueDim.index]+Q+H.symbolMargin*2;for(V(z,function(ee){ee.__pictorialAnimationIndex=de,ee.__pictorialRepeatTimes=le,de<le?F(ee,null,X(de),H,W):F(ee,null,{scale:[0,0]},H,W,function(){U.remove(ee)}),P(ee,H),de++});de<le;de++){var pe=A(H);pe.__pictorialAnimationIndex=de,pe.__pictorialRepeatTimes=le,U.add(pe);var ye=X(de);F(pe,{position:ye.position,scale:[0,0]},{scale:ye.scale,rotation:ye.rotation},H,W),pe.on("mouseover",G).on("mouseout",$),P(pe,H)}function X(ee){var fe=j.slice(),oe=H.pxSign,ve=ee;return(H.symbolRepeatDirection==="start"?oe>0:oe<0)&&(ve=le-1-ee),fe[se.index]=he*(ve-le/2+.5)+j[se.index],{position:fe,scale:H.symbolScale.slice(),rotation:H.rotation}}function G(){V(z,function(ee){ee.trigger("emphasis")})}function $(){V(z,function(ee){ee.trigger("normal")})}}function b(z,N,H,W){var U=z.__pictorialBundle,K=z.__pictorialMainPath;K?F(K,null,{position:H.pathPosition.slice(),scale:H.symbolScale.slice(),rotation:H.rotation},H,W):(K=z.__pictorialMainPath=A(H),U.add(K),F(K,{position:H.pathPosition.slice(),scale:[0,0],rotation:H.rotation},{scale:H.symbolScale.slice()},H,W),K.on("mouseover",Q).on("mouseout",j)),P(K,H);function Q(){this.trigger("emphasis")}function j(){this.trigger("normal")}}function S(z,N,H){var W=t.extend({},N.barRectShape),U=z.__pictorialBarRect;U?F(U,null,{shape:W},N,H):(U=z.__pictorialBarRect=new r.Rect({z2:2,shape:W,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),z.add(U))}function T(z,N,H,W){if(H.symbolClip){var U=z.__pictorialClipPath,K=t.extend({},H.clipShape),Q=N.valueDim,j=H.animationModel,se=H.dataIndex;if(U)r.updateProps(U,{shape:K},j,se);else{K[Q.wh]=0,U=new r.Rect({shape:K}),z.__pictorialBundle.setClipPath(U),z.__pictorialClipPath=U;var le={};le[Q.wh]=H.clipShape[Q.wh],r[W?"updateProps":"initProps"](U,{shape:le},j,se)}}}function C(z,N){var H=z.getItemModel(N);return H.getAnimationDelayParams=M,H.isAnimationEnabled=I,H}function M(z){return{index:z.__pictorialAnimationIndex,count:z.__pictorialRepeatTimes}}function I(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function P(z,N){z.off("emphasis").off("normal");var H=N.symbolScale.slice();N.hoverAnimation&&z.on("emphasis",function(){this.animateTo({scale:[H[0]*1.1,H[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:H.slice()},400,"elasticOut")})}function D(z,N,H,W){var U=new r.Group,K=new r.Group;return U.add(K),U.__pictorialBundle=K,K.attr("position",H.bundlePosition.slice()),H.symbolRepeat?w(U,N,H):b(U,N,H),S(U,H,W),T(U,N,H,W),U.__pictorialShapeStr=B(z,H),U.__pictorialSymbolMeta=H,U}function k(z,N,H){var W=H.animationModel,U=H.dataIndex,K=z.__pictorialBundle;r.updateProps(K,{position:H.bundlePosition.slice()},W,U),H.symbolRepeat?w(z,N,H,!0):b(z,N,H,!0),S(z,H,!0),T(z,N,H,!0)}function R(z,N,H,W){var U=W.__pictorialBarRect;U&&(U.style.text=null);var K=[];V(W,function(Q){K.push(Q)}),W.__pictorialMainPath&&K.push(W.__pictorialMainPath),W.__pictorialClipPath&&(H=null),t.each(K,function(Q){r.updateProps(Q,{scale:[0,0]},H,N,function(){W.parent&&W.parent.remove(W)})}),z.setItemGraphicEl(N,null)}function B(z,N){return[z.getItemVisual(N.dataIndex,"symbol")||"none",!!N.symbolRepeat,!!N.symbolClip].join(":")}function V(z,N,H){t.each(z.__pictorialBundle.children(),function(W){W!==z.__pictorialBarRect&&N.call(H,W)})}function F(z,N,H,W,U,K){N&&z.attr(N),W.symbolClip&&!U?H&&z.attr(H):H&&r[U?"updateProps":"initProps"](z,H,W.animationModel,W.dataIndex,K)}function Y(z,N,H){var W=H.color,U=H.dataIndex,K=H.itemModel,Q=K.getModel("itemStyle").getItemStyle(["color"]),j=K.getModel("emphasis.itemStyle").getItemStyle(),se=K.getShallow("cursor");V(z,function(pe){pe.setColor(W),pe.setStyle(t.defaults({fill:W,opacity:H.opacity},Q)),r.setHoverStyle(pe,j),se&&(pe.cursor=se),pe.z2=H.z2});var le={},de=N.valueDim.posDesc[+(H.boundingLength>0)],he=z.__pictorialBarRect;f(he.style,le,K,W,N.seriesModel,U,de),r.setHoverStyle(he,le)}function q(z){var N=Math.round(z);return Math.abs(z-N)<1e-4?N:Math.ceil(z)}var E=v;return s0=E,s0}var mI;function Tee(){if(mI)return dI;mI=1;var e=Ge,t=ne;px(),bee(),Aee();var r=Nh(),n=r.layout,a=Fo();return Gu(),e.registerLayout(t.curry(n,"pictorialBar")),e.registerVisual(a("pictorialBar","roundRect")),dI}var yI={},_I={},xI={},l0,wI;function Cee(){if(wI)return l0;wI=1;var e=ne,t=ro(),r=function(a,i,o,l,s){t.call(this,a,i,o),this.type=l||"value",this.position=s||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var a=this.position;return a==="top"||a==="bottom"},pointToData:function(a,i){return this.coordinateSystem.pointToData(a,i)[0]},toGlobalCoord:null,toLocalCoord:null},e.inherits(r,t);var n=r;return l0=n,l0}var u0,SI;function Mee(){if(SI)return u0;SI=1;var e=Cee(),t=_n(),r=Tt,n=r.getLayoutRect,a=ne,i=a.each;function o(s,f,u){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(s,f,u),this.model=s}o.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:o,_init:function(s,f,u){var h=this.dimension,c=new e(h,t.createScaleByModel(s),[0,0],s.get("type"),s.get("position")),v=c.type==="category";c.onBand=v&&s.get("boundaryGap"),c.inverse=s.get("inverse"),c.orient=s.get("orient"),s.axis=c,c.model=s,c.coordinateSystem=this,this._axis=c},update:function(s,f){s.eachSeries(function(u){if(u.coordinateSystem===this){var h=u.getData();i(h.mapDimension(this.dimension,!0),function(c){this._axis.scale.unionExtentFromData(h,c)},this),t.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(s,f){this._rect=n({left:s.get("left"),top:s.get("top"),right:s.get("right"),bottom:s.get("bottom"),width:s.get("width"),height:s.get("height")},{width:f.getWidth(),height:f.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var s=this._rect,f=this._axis,u=f.isHorizontal(),h=u?[0,s.width]:[0,s.height],c=f.reverse?1:0;f.setExtent(h[c],h[1-c]),this._updateAxisTransform(f,u?s.x:s.y)},_updateAxisTransform:function(s,f){var u=s.getExtent(),h=u[0]+u[1],c=s.isHorizontal();s.toGlobalCoord=c?function(v){return v+f}:function(v){return h-v+f},s.toLocalCoord=c?function(v){return v-f}:function(v){return h-v+f}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(s){var f=this.getRect(),u=this.getAxis(),h=u.orient;return h==="horizontal"?u.contain(u.toLocalCoord(s[0]))&&s[1]>=f.y&&s[1]<=f.y+f.height:u.contain(u.toLocalCoord(s[1]))&&s[0]>=f.y&&s[0]<=f.y+f.height},pointToData:function(s){var f=this.getAxis();return[f.coordToData(f.toLocalCoord(s[f.orient==="horizontal"?0:1]))]},dataToPoint:function(s){var f=this.getAxis(),u=this.getRect(),h=[],c=f.orient==="horizontal"?0:1;return s instanceof Array&&(s=s[0]),h[c]=f.toGlobalCoord(f.dataToCoord(+s)),h[1-c]=c===0?u.y+u.height/2:u.x+u.width/2,h}};var l=o;return u0=l,u0}var bI;function Lee(){if(bI)return xI;bI=1;var e=Mee(),t=zn;function r(n,a){var i=[];return n.eachComponent("singleAxis",function(o,l){var s=new e(o,n,a);s.name="single_"+l,s.resize(o,a),o.coordinateSystem=s,i.push(s)}),n.eachSeries(function(o){if(o.get("coordinateSystem")==="singleAxis"){var l=n.queryComponents({mainType:"singleAxis",index:o.get("singleAxisIndex"),id:o.get("singleAxisId")})[0];o.coordinateSystem=l&&l.coordinateSystem}}),i}return t.register("single",{create:r,dimensions:e.prototype.dimensions}),xI}var f0={},AI;function FN(){if(AI)return f0;AI=1;var e=ne;function t(r,n){n=n||{};var a=r.coordinateSystem,i=r.axis,o={},l=i.position,s=i.orient,f=a.getRect(),u=[f.x,f.x+f.width,f.y,f.y+f.height],h={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};o.position=[s==="vertical"?h.vertical[l]:u[0],s==="horizontal"?h.horizontal[l]:u[3]];var c={horizontal:0,vertical:1};o.rotation=Math.PI/2*c[s];var v={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=v[l],r.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),e.retrieve(n.labelInside,r.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var d=n.rotate;return d==null&&(d=r.get("axisLabel.rotate")),o.labelRotation=l==="top"?-d:d,o.z2=1,o}return f0.layout=t,f0}var c0,TI;function Iee(){if(TI)return c0;TI=1;var e=ne,t=ao(),r=ke,n=FN(),a=Ho(),i=xN(),o=i.rectCoordAxisBuildSplitArea,l=i.rectCoordAxisHandleRemove,s=["axisLine","axisTickLabel","axisName"],f=["splitArea","splitLine"],u=a.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(c,v,d,m){var g=this.group;g.removeAll();var p=this._axisGroup;this._axisGroup=new r.Group;var y=n.layout(c),x=new t(c,y);e.each(s,x.add,x),g.add(this._axisGroup),g.add(x.getGroup()),e.each(f,function(A){c.get(A+".show")&&this["_"+A](c)},this),r.groupTransition(p,this._axisGroup,c),u.superCall(this,"render",c,v,d,m)},remove:function(){l(this)},_splitLine:function(c){var v=c.axis;if(!v.scale.isBlank()){var d=c.getModel("splitLine"),m=d.getModel("lineStyle"),g=m.get("width"),p=m.get("color");p=p instanceof Array?p:[p];for(var y=c.coordinateSystem.getRect(),x=v.isHorizontal(),A=[],w=0,b=v.getTicksCoords({tickModel:d}),S=[],T=[],C=0;C<b.length;++C){var M=v.toGlobalCoord(b[C].coord);x?(S[0]=M,S[1]=y.y,T[0]=M,T[1]=y.y+y.height):(S[0]=y.x,S[1]=M,T[0]=y.x+y.width,T[1]=M);var I=w++%p.length;A[I]=A[I]||[],A[I].push(new r.Line({subPixelOptimize:!0,shape:{x1:S[0],y1:S[1],x2:T[0],y2:T[1]},style:{lineWidth:g},silent:!0}))}for(var C=0;C<A.length;++C)this.group.add(r.mergePath(A[C],{style:{stroke:p[C%p.length],lineDash:m.getLineDash(g),lineWidth:g},silent:!0}))}},_splitArea:function(c){o(this,this._axisGroup,c,c)}}),h=u;return c0=h,c0}var h0,CI;function Pee(){if(CI)return h0;CI=1;var e=ne,t=Or,r=Vh(),n=nl(),a=t.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),i={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function o(s,f){return f.type||(f.data?"category":"value")}e.merge(a.prototype,n),r("single",a,o,i);var l=a;return h0=l,h0}var MI={},v0,LI;function HN(){if(LI)return v0;LI=1;var e=ne,t=lt;function r(n,a){var i=[],o=n.seriesIndex,l;if(o==null||!(l=a.getSeriesByIndex(o)))return{point:[]};var s=l.getData(),f=t.queryDataIndex(s,n);if(f==null||f<0||e.isArray(f))return{point:[]};var u=s.getItemGraphicEl(f),h=l.coordinateSystem;if(l.getTooltipPosition)i=l.getTooltipPosition(f)||[];else if(h&&h.dataToPoint)i=h.dataToPoint(s.getValues(e.map(h.dimensions,function(v){return s.mapDimension(v)}),f,!0))||[];else if(u){var c=u.getBoundingRect().clone();c.applyTransform(u.transform),i=[c.x+c.width/2,c.y+c.height/2]}return{point:i,el:u}}return v0=r,v0}var d0,II;function Dee(){if(II)return d0;II=1;var e=ne,t=lt,r=t.makeInner,n=Fh(),a=HN(),i=e.each,o=e.curry,l=r();function s(x,A,w){var b=x.currTrigger,S=[x.x,x.y],T=x,C=x.dispatchAction||e.bind(w.dispatchAction,w),M=A.getComponent("axisPointer").coordSysAxesInfo;if(M){y(S)&&(S=a({seriesIndex:T.seriesIndex,dataIndex:T.dataIndex},A).point);var I=y(S),P=T.axesInfo,D=M.axesInfo,k=b==="leave"||y(S),R={},B={},V={list:[],map:{}},F={showPointer:o(h,B),showTooltip:o(c,V)};i(M.coordSysMap,function(q,E){var z=I||q.containPoint(S);i(M.coordSysAxesInfo[E],function(N,H){var W=N.axis,U=g(P,N);if(!k&&z&&(!P||U)){var K=U&&U.value;K==null&&!I&&(K=W.pointToData(S)),K!=null&&f(N,K,F,!1,R)}})});var Y={};return i(D,function(q,E){var z=q.linkGroup;z&&!B[E]&&i(z.axesInfo,function(N,H){var W=B[H];if(N!==q&&W){var U=W.value;z.mapper&&(U=q.axis.scale.parse(z.mapper(U,p(N),p(q)))),Y[q.key]=U}})}),i(Y,function(q,E){f(D[E],q,F,!0,R)}),v(B,D,R),d(V,S,x,C),m(D,C,w),R}}function f(x,A,w,b,S){var T=x.axis;if(!(T.scale.isBlank()||!T.containData(A))){if(!x.involveSeries){w.showPointer(x,A);return}var C=u(A,x),M=C.payloadBatch,I=C.snapToValue;M[0]&&S.seriesIndex==null&&e.extend(S,M[0]),!b&&x.snap&&T.containData(I)&&I!=null&&(A=I),w.showPointer(x,A,M,S),w.showTooltip(x,C,I)}}function u(x,A){var w=A.axis,b=w.dim,S=x,T=[],C=Number.MAX_VALUE,M=-1;return i(A.seriesModels,function(I,P){var D=I.getData().mapDimension(b,!0),k,R;if(I.getAxisTooltipData){var B=I.getAxisTooltipData(D,x,w);R=B.dataIndices,k=B.nestestValue}else{if(R=I.getData().indicesOfNearest(D[0],x,w.type==="category"?.5:null),!R.length)return;k=I.getData().get(D[0],R[0])}if(!(k==null||!isFinite(k))){var V=x-k,F=Math.abs(V);F<=C&&((F<C||V>=0&&M<0)&&(C=F,M=V,S=k,T.length=0),i(R,function(Y){T.push({seriesIndex:I.seriesIndex,dataIndexInside:Y,dataIndex:I.getData().getRawIndex(Y)})}))}}),{payloadBatch:T,snapToValue:S}}function h(x,A,w,b){x[A.key]={value:w,payloadBatch:b}}function c(x,A,w,b){var S=w.payloadBatch,T=A.axis,C=T.model,M=A.axisPointerModel;if(!(!A.triggerTooltip||!S.length)){var I=A.coordSys.model,P=n.makeKey(I),D=x.map[P];D||(D=x.map[P]={coordSysId:I.id,coordSysIndex:I.componentIndex,coordSysType:I.type,coordSysMainType:I.mainType,dataByAxis:[]},x.list.push(D)),D.dataByAxis.push({axisDim:T.dim,axisIndex:C.componentIndex,axisType:C.type,axisId:C.id,value:b,valueLabelOpt:{precision:M.get("label.precision"),formatter:M.get("label.formatter")},seriesDataIndices:S.slice()})}}function v(x,A,w){var b=w.axesInfo=[];i(A,function(S,T){var C=S.axisPointerModel.option,M=x[T];M?(!S.useHandle&&(C.status="show"),C.value=M.value,C.seriesDataIndices=(M.payloadBatch||[]).slice()):!S.useHandle&&(C.status="hide"),C.status==="show"&&b.push({axisDim:S.axis.dim,axisIndex:S.axis.model.componentIndex,value:C.value})})}function d(x,A,w,b){if(y(A)||!x.list.length){b({type:"hideTip"});return}var S=((x.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};b({type:"showTip",escapeConnect:!0,x:A[0],y:A[1],tooltipOption:w.tooltipOption,position:w.position,dataIndexInside:S.dataIndexInside,dataIndex:S.dataIndex,seriesIndex:S.seriesIndex,dataByCoordSys:x.list})}function m(x,A,w){var b=w.getZr(),S="axisPointerLastHighlights",T=l(b)[S]||{},C=l(b)[S]={};i(x,function(P,D){var k=P.axisPointerModel.option;k.status==="show"&&i(k.seriesDataIndices,function(R){var B=R.seriesIndex+" | "+R.dataIndex;C[B]=R})});var M=[],I=[];e.each(T,function(P,D){!C[D]&&I.push(P)}),e.each(C,function(P,D){!T[D]&&M.push(P)}),I.length&&w.dispatchAction({type:"downplay",escapeConnect:!0,batch:I}),M.length&&w.dispatchAction({type:"highlight",escapeConnect:!0,batch:M})}function g(x,A){for(var w=0;w<(x||[]).length;w++){var b=x[w];if(A.axis.dim===b.axisDim&&A.axis.model.componentIndex===b.axisIndex)return b}}function p(x){var A=x.axis.model,w={},b=w.axisDim=x.axis.dim;return w.axisIndex=w[b+"AxisIndex"]=A.componentIndex,w.axisName=w[b+"AxisName"]=A.name,w.axisId=w[b+"AxisId"]=A.id,w}function y(x){return!x||x[0]==null||isNaN(x[0])||x[1]==null||isNaN(x[1])}return d0=s,d0}var g0,PI;function Ree(){if(PI)return g0;PI=1;var e=Ge,t=e.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=t;return g0=r,g0}var Sc={},DI;function qN(){if(DI)return Sc;DI=1;var e=ne,t=Sr,r=lt,n=r.makeInner,a=n(),i=e.each;function o(v,d,m){if(!t.node){var g=d.getZr();a(g).records||(a(g).records={}),l(g,d);var p=a(g).records[v]||(a(g).records[v]={});p.handler=m}}function l(v,d){if(a(v).initialized)return;a(v).initialized=!0,m("click",e.curry(u,"click")),m("mousemove",e.curry(u,"mousemove")),m("globalout",f);function m(g,p){v.on(g,function(y){var x=h(d);i(a(v).records,function(A){A&&p(A,y,x.dispatchAction)}),s(x.pendings,d)})}}function s(v,d){var m=v.showTip.length,g=v.hideTip.length,p;m?p=v.showTip[m-1]:g&&(p=v.hideTip[g-1]),p&&(p.dispatchAction=null,d.dispatchAction(p))}function f(v,d,m){v.handler("leave",null,m)}function u(v,d,m,g){d.handler(v,m,g)}function h(v){var d={showTip:[],hideTip:[]},m=function(g){var p=d[g.type];p?p.push(g):(g.dispatchAction=m,v.dispatchAction(g))};return{dispatchAction:m,pendings:d}}function c(v,d){if(!t.node){var m=d.getZr(),g=(a(m).records||{})[v];g&&(a(m).records[v]=null)}}return Sc.register=o,Sc.unregister=c,Sc}var p0,RI;function Eee(){if(RI)return p0;RI=1;var e=Ge,t=qN(),r=e.extendComponentView({type:"axisPointer",render:function(a,i,o){var l=i.getComponent("tooltip"),s=a.get("triggerOn")||l&&l.get("triggerOn")||"mousemove|click";t.register("axisPointer",o,function(f,u,h){s!=="none"&&(f==="leave"||s.indexOf(f)>=0)&&h({type:"updateAxisPointer",currTrigger:f,x:u&&u.offsetX,y:u&&u.offsetY})})},remove:function(a,i){t.unregister(i.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(a,i){t.unregister("axisPointer",i),r.superApply(this._model,"dispose",arguments)}}),n=r;return p0=n,p0}var m0,EI;function Lx(){if(EI)return m0;EI=1;var e=ne,t=xa,r=ke,n=Fh(),a=kr,i=yn,o=lt,l=o.makeInner,s=l(),f=e.clone,u=e.bind;function h(){}h.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(y,x,A,w){var b=x.get("value"),S=x.get("status");if(this._axisModel=y,this._axisPointerModel=x,this._api=A,!(!w&&this._lastValue===b&&this._lastStatus===S)){this._lastValue=b,this._lastStatus=S;var T=this._group,C=this._handle;if(!S||S==="hide"){T&&T.hide(),C&&C.hide();return}T&&T.show(),C&&C.show();var M={};this.makeElOption(M,b,y,x,A);var I=M.graphicKey;I!==this._lastGraphicKey&&this.clear(A),this._lastGraphicKey=I;var P=this._moveAnimation=this.determineAnimation(y,x);if(!T)T=this._group=new r.Group,this.createPointerEl(T,M,y,x),this.createLabelEl(T,M,y,x),A.getZr().add(T);else{var D=e.curry(c,x,P);this.updatePointerEl(T,M,D,x),this.updateLabelEl(T,M,D,x)}g(T,x,!0),this._renderHandle(b)}},remove:function(y){this.clear(y)},dispose:function(y){this.clear(y)},determineAnimation:function(y,x){var A=x.get("animation"),w=y.axis,b=w.type==="category",S=x.get("snap");if(!S&&!b)return!1;if(A==="auto"||A==null){var T=this.animationThreshold;if(b&&w.getBandWidth()>T)return!0;if(S){var C=n.getAxisInfo(y).seriesDataCount,M=w.getExtent();return Math.abs(M[0]-M[1])/C>T}return!1}return A===!0},makeElOption:function(y,x,A,w,b){},createPointerEl:function(y,x,A,w){var b=x.pointer;if(b){var S=s(y).pointerEl=new r[b.type](f(x.pointer));y.add(S)}},createLabelEl:function(y,x,A,w){if(x.label){var b=s(y).labelEl=new r.Rect(f(x.label));y.add(b),d(b,w)}},updatePointerEl:function(y,x,A){var w=s(y).pointerEl;w&&x.pointer&&(w.setStyle(x.pointer.style),A(w,{shape:x.pointer.shape}))},updateLabelEl:function(y,x,A,w){var b=s(y).labelEl;b&&(b.setStyle(x.label.style),A(b,{shape:x.label.shape,position:x.label.position}),d(b,w))},_renderHandle:function(y){if(!(this._dragging||!this.updateHandleTransform)){var x=this._axisPointerModel,A=this._api.getZr(),w=this._handle,b=x.getModel("handle"),S=x.get("status");if(!b.get("show")||!S||S==="hide"){w&&A.remove(w),this._handle=null;return}var T;this._handle||(T=!0,w=this._handle=r.createIcon(b.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(I){a.stop(I.event)},onmousedown:u(this._onHandleDragMove,this,0,0),drift:u(this._onHandleDragMove,this),ondragend:u(this._onHandleDragEnd,this)}),A.add(w)),g(w,x,!1);var C=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];w.setStyle(b.getItemStyle(null,C));var M=b.get("size");e.isArray(M)||(M=[M,M]),w.attr("scale",[M[0]/2,M[1]/2]),i.createOrUpdate(this,"_doDispatchAxisPointer",b.get("throttle")||0,"fixRate"),this._moveHandleToValue(y,T)}},_moveHandleToValue:function(y,x){c(this._axisPointerModel,!x&&this._moveAnimation,this._handle,m(this.getHandleTransform(y,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(y,x){var A=this._handle;if(A){this._dragging=!0;var w=this.updateHandleTransform(m(A),[y,x],this._axisModel,this._axisPointerModel);this._payloadInfo=w,A.stopAnimation(),A.attr(m(w)),s(A).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var y=this._handle;if(y){var x=this._payloadInfo,A=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:x.cursorPoint[0],y:x.cursorPoint[1],tooltipOption:x.tooltipOption,axesInfo:[{axisDim:A.axis.dim,axisIndex:A.componentIndex}]})}},_onHandleDragEnd:function(y){this._dragging=!1;var x=this._handle;if(x){var A=this._axisPointerModel.get("value");this._moveHandleToValue(A),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(y){this._lastValue=null,this._lastStatus=null;var x=y.getZr(),A=this._group,w=this._handle;x&&A&&(this._lastGraphicKey=null,A&&x.remove(A),w&&x.remove(w),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(y,x,A){return A=A||0,{x:y[A],y:y[1-A],width:x[A],height:x[1-A]}}},h.prototype.constructor=h;function c(y,x,A,w){v(s(A).lastProp,w)||(s(A).lastProp=w,x?r.updateProps(A,w,y):(A.stopAnimation(),A.attr(w)))}function v(y,x){if(e.isObject(y)&&e.isObject(x)){var A=!0;return e.each(x,function(w,b){A=A&&v(y[b],w)}),!!A}else return y===x}function d(y,x){y[x.get("label.show")?"show":"hide"]()}function m(y){return{position:y.position.slice(),rotation:y.rotation||0}}function g(y,x,A){var w=x.get("z"),b=x.get("zlevel");y&&y.traverse(function(S){S.type!=="group"&&(w!=null&&(S.z=w),b!=null&&(S.zlevel=b),S.silent=A)})}t.enableClassExtend(h);var p=h;return m0=p,m0}var Ln={},kI;function Wh(){if(kI)return Ln;kI=1;var e=ne,t=ke,r=ir,n=jt(),a=la(),i=_n(),o=ao();function l(g){var p=g.get("type"),y=g.getModel(p+"Style"),x;return p==="line"?(x=y.getLineStyle(),x.fill=null):p==="shadow"&&(x=y.getAreaStyle(),x.stroke=null),x}function s(g,p,y,x,A){var w=y.get("value"),b=u(w,p.axis,p.ecModel,y.get("seriesDataIndices"),{precision:y.get("label.precision"),formatter:y.get("label.formatter")}),S=y.getModel("label"),T=n.normalizeCssArray(S.get("padding")||0),C=S.getFont(),M=r.getBoundingRect(b,C),I=A.position,P=M.width+T[1]+T[3],D=M.height+T[0]+T[2],k=A.align;k==="right"&&(I[0]-=P),k==="center"&&(I[0]-=P/2);var R=A.verticalAlign;R==="bottom"&&(I[1]-=D),R==="middle"&&(I[1]-=D/2),f(I,P,D,x);var B=S.get("backgroundColor");(!B||B==="auto")&&(B=p.get("axisLine.lineStyle.color")),g.label={shape:{x:0,y:0,width:P,height:D,r:S.get("borderRadius")},position:I.slice(),style:{text:b,textFont:C,textFill:S.getTextColor(),textPosition:"inside",textPadding:T,fill:B,stroke:S.get("borderColor")||"transparent",lineWidth:S.get("borderWidth")||0,shadowBlur:S.get("shadowBlur"),shadowColor:S.get("shadowColor"),shadowOffsetX:S.get("shadowOffsetX"),shadowOffsetY:S.get("shadowOffsetY")},z2:10}}function f(g,p,y,x){var A=x.getWidth(),w=x.getHeight();g[0]=Math.min(g[0]+p,A)-p,g[1]=Math.min(g[1]+y,w)-y,g[0]=Math.max(g[0],0),g[1]=Math.max(g[1],0)}function u(g,p,y,x,A){g=p.scale.parse(g);var w=p.scale.getLabel(g,{precision:A.precision}),b=A.formatter;if(b){var S={value:i.getAxisRawValue(p,g),axisDimension:p.dim,axisIndex:p.index,seriesData:[]};e.each(x,function(T){var C=y.getSeriesByIndex(T.seriesIndex),M=T.dataIndexInside,I=C&&C.getDataParams(M);I&&S.seriesData.push(I)}),e.isString(b)?w=b.replace("{value}",w):e.isFunction(b)&&(w=b(S))}return w}function h(g,p,y){var x=a.create();return a.rotate(x,x,y.rotation),a.translate(x,x,y.position),t.applyTransform([g.dataToCoord(p),(y.labelOffset||0)+(y.labelDirection||1)*(y.labelMargin||0)],x)}function c(g,p,y,x,A,w){var b=o.innerTextLayout(y.rotation,0,y.labelDirection);y.labelMargin=A.get("label.margin"),s(p,x,A,w,{position:h(x.axis,g,y),align:b.textAlign,verticalAlign:b.textVerticalAlign})}function v(g,p,y){return y=y||0,{x1:g[y],y1:g[1-y],x2:p[y],y2:p[1-y]}}function d(g,p,y){return y=y||0,{x:g[y],y:g[1-y],width:p[y],height:p[1-y]}}function m(g,p,y,x,A,w){return{cx:g,cy:p,r0:y,r:x,startAngle:A,endAngle:w,clockwise:!0}}return Ln.buildElStyle=l,Ln.buildLabelElOption=s,Ln.getValueLabel=u,Ln.getTransformedPosition=h,Ln.buildCartesianSingleLabelElOption=c,Ln.makeLineShape=v,Ln.makeRectShape=d,Ln.makeSectorShape=m,Ln}var y0,OI;function UN(){if(OI)return y0;OI=1;var e=Lx(),t=Wh(),r=_N(),n=Ho(),a=e.extend({makeElOption:function(f,u,h,c,v){var d=h.axis,m=d.grid,g=c.get("type"),p=i(m,d).getOtherAxis(d).getGlobalExtent(),y=d.toGlobalCoord(d.dataToCoord(u,!0));if(g&&g!=="none"){var x=t.buildElStyle(c),A=o[g](d,y,p);A.style=x,f.graphicKey=A.type,f.pointer=A}var w=r.layout(m.model,h);t.buildCartesianSingleLabelElOption(u,f,w,h,c,v)},getHandleTransform:function(f,u,h){var c=r.layout(u.axis.grid.model,u,{labelInside:!1});return c.labelMargin=h.get("handle.margin"),{position:t.getTransformedPosition(u.axis,f,c),rotation:c.rotation+(c.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(f,u,h,c){var v=h.axis,d=v.grid,m=v.getGlobalExtent(!0),g=i(d,v).getOtherAxis(v).getGlobalExtent(),p=v.dim==="x"?0:1,y=f.position;y[p]+=u[p],y[p]=Math.min(m[1],y[p]),y[p]=Math.max(m[0],y[p]);var x=(g[1]+g[0])/2,A=[x,x];A[p]=y[p];var w=[{verticalAlign:"middle"},{align:"center"}];return{position:y,rotation:f.rotation,cursorPoint:A,tooltipOption:w[p]}}});function i(f,u){var h={};return h[u.dim+"AxisIndex"]=u.index,f.getCartesian(h)}var o={line:function(f,u,h){var c=t.makeLineShape([u,h[0]],[u,h[1]],l(f));return{type:"Line",subPixelOptimize:!0,shape:c}},shadow:function(f,u,h){var c=Math.max(1,f.getBandWidth()),v=h[1]-h[0];return{type:"Rect",shape:t.makeRectShape([u-c/2,h[0]],[c,v],l(f))}}};function l(f){return f.dim==="x"?0:1}n.registerAxisPointerClass("CartesianAxisPointer",a);var s=a;return y0=s,y0}var BI;function Zu(){if(BI)return MI;BI=1;var e=Ge,t=ne,r=Fh(),n=Dee();return Ree(),Eee(),UN(),e.registerPreprocessor(function(a){if(a){(!a.axisPointer||a.axisPointer.length===0)&&(a.axisPointer={});var i=a.axisPointer.link;i&&!t.isArray(i)&&(a.axisPointer.link=[i])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(a,i){a.getComponent("axisPointer").coordSysAxesInfo=r.collect(a,i)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},n),MI}var _0,NI;function kee(){if(NI)return _0;NI=1;var e=Lx(),t=Wh(),r=FN(),n=Ho(),a=["x","y"],i=["width","height"],o=e.extend({makeElOption:function(h,c,v,d,m){var g=v.axis,p=g.coordinateSystem,y=f(p,1-s(g)),x=p.dataToPoint(c)[0],A=d.get("type");if(A&&A!=="none"){var w=t.buildElStyle(d),b=l[A](g,x,y);b.style=w,h.graphicKey=b.type,h.pointer=b}var S=r.layout(v);t.buildCartesianSingleLabelElOption(c,h,S,v,d,m)},getHandleTransform:function(h,c,v){var d=r.layout(c,{labelInside:!1});return d.labelMargin=v.get("handle.margin"),{position:t.getTransformedPosition(c.axis,h,d),rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,c,v,d){var m=v.axis,g=m.coordinateSystem,p=s(m),y=f(g,p),x=h.position;x[p]+=c[p],x[p]=Math.min(y[1],x[p]),x[p]=Math.max(y[0],x[p]);var A=f(g,1-p),w=(A[1]+A[0])/2,b=[w,w];return b[p]=x[p],{position:x,rotation:h.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}}}),l={line:function(h,c,v){var d=t.makeLineShape([c,v[0]],[c,v[1]],s(h));return{type:"Line",subPixelOptimize:!0,shape:d}},shadow:function(h,c,v){var d=h.getBandWidth(),m=v[1]-v[0];return{type:"Rect",shape:t.makeRectShape([c-d/2,v[0]],[d,m],s(h))}}};function s(h){return h.isHorizontal()?0:1}function f(h,c){var v=h.getRect();return[v[a[c]],v[a[c]]+v[i[c]]]}n.registerAxisPointerClass("SingleAxisPointer",o);var u=o;return _0=u,_0}var zI;function GN(){if(zI)return _I;zI=1;var e=Ge;return Lee(),Iee(),Pee(),Zu(),kee(),e.extendComponentView({type:"single"}),_I}var x0,VI;function Oee(){if(VI)return x0;VI=1;var e=Br,t=al(),r=Fu(),n=r.getDimensionTypeByAxis,a=Ja(),i=ne,o=lt,l=o.groupData,s=jt(),f=s.encodeHTML,u=Wu(),h=2,c=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(d){c.superApply(this,"init",arguments),this.legendVisualProvider=new u(i.bind(this.getData,this),i.bind(this.getRawData,this))},fixData:function(d){var m=d.length,g={},p=l(d,function(T){return g.hasOwnProperty(T[0])||(g[T[0]]=-1),T[2]}),y=[];p.buckets.each(function(T,C){y.push({name:C,dataList:T})});for(var x=y.length,A=0;A<x;++A){for(var w=y[A].name,b=0;b<y[A].dataList.length;++b){var S=y[A].dataList[b][0];g[S]=A}for(var S in g)g.hasOwnProperty(S)&&g[S]!==A&&(g[S]=A,d[m]=[],d[m][0]=S,d[m][1]=0,d[m][2]=w,m++)}return d},getInitialData:function(d,m){for(var g=m.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],p=g.get("type"),y=i.filter(d.data,function(M){return M[2]!==void 0}),x=this.fixData(y||[]),A=[],w=this.nameMap=i.createHashMap(),b=0,S=0;S<x.length;++S)A.push(x[S][h]),w.get(x[S][h])||(w.set(x[S][h],b),b++);var T=t(x,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:n(p)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),C=new a(T,this);return C.initData(x),C},getLayerSeries:function(){for(var d=this.getData(),m=d.count(),g=[],p=0;p<m;++p)g[p]=p;var y=d.mapDimension("single"),x=l(g,function(w){return d.get("name",w)}),A=[];return x.buckets.each(function(w,b){w.sort(function(S,T){return d.get(y,S)-d.get(y,T)}),A.push({name:b,indices:w})}),A},getAxisTooltipData:function(d,m,g){i.isArray(d)||(d=d?[d]:[]);for(var p=this.getData(),y=this.getLayerSeries(),x=[],A=y.length,w,b=0;b<A;++b){for(var S=Number.MAX_VALUE,T=-1,C=y[b].indices.length,M=0;M<C;++M){var I=p.get(d[0],y[b].indices[M]),P=Math.abs(I-m);P<=S&&(w=I,S=P,T=y[b].indices[M])}x.push(T)}return{dataIndices:x,nestestValue:w}},formatTooltip:function(d){var m=this.getData(),g=m.getName(d),p=m.get(m.mapDimension("value"),d);return(isNaN(p)||p==null)&&(p="-"),f(g+" : "+p)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),v=c;return x0=v,x0}var w0,FI;function Bee(){if(FI)return w0;FI=1;var e=Ge,t=pN(),r=t.Polygon,n=ke,a=ne,i=a.bind,o=a.extend,l=Vo(),s=e.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(u,h,c){var v=u.getData(),d=this.group,m=u.getLayerSeries(),g=v.getLayout("layoutInfo"),p=g.rect,y=g.boundaryGap;d.attr("position",[0,p.y+y[0]]);function x(S){return S.name}var A=new l(this._layersSeries||[],m,x,x),w={};A.add(i(b,this,"add")).update(i(b,this,"update")).remove(i(b,this,"remove")).execute();function b(S,T,C){var M=this._layers;if(S==="remove"){d.remove(M[T]);return}for(var I=[],P=[],D,k=m[T].indices,R=0;R<k.length;R++){var B=v.getItemLayout(k[R]),V=B.x,F=B.y0,Y=B.y;I.push([V,F]),P.push([V,F+Y]),D=v.getItemVisual(k[R],"color")}var q,E,z=v.getItemLayout(k[0]),N=v.getItemModel(k[R-1]),H=N.getModel("label"),W=H.get("margin");if(S==="add"){var U=w[T]=new n.Group;q=new r({shape:{points:I,stackedOnPoints:P,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),E=new n.Text({style:{x:z.x-W,y:z.y0+z.y/2}}),U.add(q),U.add(E),d.add(U),q.setClipPath(f(q.getBoundingRect(),u,function(){q.removeClipPath()}))}else{var U=M[C];q=U.childAt(0),E=U.childAt(1),d.add(U),w[T]=U,n.updateProps(q,{shape:{points:I,stackedOnPoints:P}},u),n.updateProps(E,{style:{x:z.x-W,y:z.y0+z.y/2}},u)}var K=N.getModel("emphasis.itemStyle"),Q=N.getModel("itemStyle");n.setTextStyle(E.style,H,{text:H.get("show")?u.getFormattedLabel(k[R-1],"normal")||v.getName(k[R-1]):null,textVerticalAlign:"middle"}),q.setStyle(o({fill:D},Q.getItemStyle(["color"]))),n.setHoverStyle(q,K.getItemStyle())}this._layersSeries=m,this._layers=w},dispose:function(){}});function f(u,h,c){var v=new n.Rect({shape:{x:u.x-10,y:u.y-10,width:0,height:u.height+20}});return n.initProps(v,{shape:{width:u.width+20,height:u.height+20}},h,c),v}return w0=s,w0}var S0,HI;function Nee(){if(HI)return S0;HI=1;var e=ne,t=ht();function r(i,o){i.eachSeriesByType("themeRiver",function(l){var s=l.getData(),f=l.coordinateSystem,u={},h=f.getRect();u.rect=h;var c=l.get("boundaryGap"),v=f.getAxis();if(u.boundaryGap=c,v.orient==="horizontal"){c[0]=t.parsePercent(c[0],h.height),c[1]=t.parsePercent(c[1],h.height);var d=h.height-c[0]-c[1];n(s,l,d)}else{c[0]=t.parsePercent(c[0],h.width),c[1]=t.parsePercent(c[1],h.width);var m=h.width-c[0]-c[1];n(s,l,m)}s.setLayout("layoutInfo",u)})}function n(i,o,l){if(i.count())for(var s=o.coordinateSystem,f=o.getLayerSeries(),u=i.mapDimension("single"),h=i.mapDimension("value"),c=e.map(f,function(w){return e.map(w.indices,function(b){var S=s.dataToPoint(i.get(u,b));return S[1]=i.get(h,b),S})}),v=a(c),d=v.y0,m=l/v.max,g=f.length,p=f[0].indices.length,y,x=0;x<p;++x){y=d[x]*m,i.setItemLayout(f[0].indices[x],{layerIndex:0,x:c[0][x][0],y0:y,y:c[0][x][1]*m});for(var A=1;A<g;++A)y+=c[A-1][x][1]*m,i.setItemLayout(f[A].indices[x],{layerIndex:A,x:c[A][x][0],y0:y,y:c[A][x][1]*m})}}function a(i){for(var o=i.length,l=i[0].length,s=[],f=[],u=0,h,c={},v=0;v<l;++v){for(var d=0,h=0;d<o;++d)h+=i[d][v][1];h>u&&(u=h),s.push(h)}for(var m=0;m<l;++m)f[m]=(u-s[m])/2;u=0;for(var g=0;g<l;++g){var p=s[g]+f[g];p>u&&(u=p)}return c.y0=f,c.max=u,c}return S0=r,S0}var b0,qI;function zee(){if(qI)return b0;qI=1;var e=ne,t=e.createHashMap;function r(n){n.eachSeriesByType("themeRiver",function(a){var i=a.getData(),o=a.getRawData(),l=a.get("color"),s=t();i.each(function(f){s.set(i.getRawIndex(f),f)}),o.each(function(f){var u=o.getName(f),h=l[(a.nameMap.get(u)-1)%l.length];o.setItemVisual(f,"color",h);var c=s.get(f);c!=null&&i.setItemVisual(c,"color",h)})})}return b0=r,b0}var UI;function Vee(){if(UI)return yI;UI=1;var e=Ge;GN(),Oee(),Bee();var t=Nee(),r=zee(),n=$u();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(n("themeRiver")),yI}var GI={},A0,WI;function Fee(){if(WI)return A0;WI=1;var e=ne,t=Br,r=bx(),n=br(),a=qo(),i=a.wrapTreePathInfo,o=t.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(s,f){var u={name:s.name,children:s.data};l(u);var h=e.map(s.levels||[],function(d){return new n(d,this,f)},this),c=r.createTree(u,this,v);function v(d){d.wrapMethod("getItemModel",function(m,g){var p=c.getNodeByDataIndex(g),y=h[p.depth];return y&&(m.parentModel=y),m})}return c.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(s){var f=t.prototype.getDataParams.apply(this,arguments),u=this.getData().tree.getNodeByDataIndex(s);return f.treePathInfo=i(u,this),f},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(s){s?this._viewRoot=s:s=this._viewRoot;var f=this.getRawData().tree.root;(!s||s!==f&&!f.contains(s))&&(this._viewRoot=f)}});function l(s){var f=0;e.each(s.children,function(h){l(h);var c=h.value;e.isArray(c)&&(c=c[0]),f+=c});var u=s.value;e.isArray(u)&&(u=u[0]),(u==null||isNaN(u))&&(u=f),u<0&&(u=0),e.isArray(s.value)?s.value[0]=u:s.value=u}return A0=o,A0}var T0,$I;function Hee(){if($I)return T0;$I=1;var e=ne,t=ke,r={NONE:"none",ANCESTOR:"ancestor",SELF:"self"},n=2,a=4;function i(c,v,d){t.Group.call(this);var m=new t.Sector({z2:n});m.seriesIndex=v.seriesIndex;var g=new t.Text({z2:a,silent:c.getModel("label").get("silent")});this.add(m),this.add(g),this.updateData(!0,c,"normal",v,d);function p(){g.ignore=g.hoverIgnore}function y(){g.ignore=g.normalIgnore}this.on("emphasis",p).on("normal",y).on("mouseover",p).on("mouseout",y)}var o=i.prototype;o.updateData=function(c,v,d,m,g){this.node=v,v.piece=this,m=m||this._seriesModel,g=g||this._ecModel;var p=this.childAt(0);p.dataIndex=v.dataIndex;var y=v.getModel(),x=v.getLayout(),A=e.extend({},x);A.label=null;var w=s(v,m,g);h(v,m,w);var b=y.getModel("itemStyle").getItemStyle(),S;if(d==="normal")S=b;else{var T=y.getModel(d+".itemStyle").getItemStyle();S=e.merge(T,b)}S=e.defaults({lineJoin:"bevel",fill:S.fill||w},S),c?(p.setShape(A),p.shape.r=x.r0,t.updateProps(p,{shape:{r:x.r}},m,v.dataIndex),p.useStyle(S)):typeof S.fill=="object"&&S.fill.type||typeof p.style.fill=="object"&&p.style.fill.type?(t.updateProps(p,{shape:A},m),p.useStyle(S)):t.updateProps(p,{shape:A,style:S},m),this._updateLabel(m,w,d);var C=y.getShallow("cursor");if(C&&p.attr("cursor",C),c){var M=m.getShallow("highlightPolicy");this._initEvents(p,v,m,M)}this._seriesModel=m||this._seriesModel,this._ecModel=g||this._ecModel,t.setHoverStyle(this)},o.onEmphasis=function(c){var v=this;this.node.hostTree.root.eachNode(function(d){d.piece&&(v.node===d?d.piece.updateData(!1,d,"emphasis"):u(d,v.node,c)?d.piece.childAt(0).trigger("highlight"):c!==r.NONE&&d.piece.childAt(0).trigger("downplay"))})},o.onNormal=function(){this.node.hostTree.root.eachNode(function(c){c.piece&&c.piece.updateData(!1,c,"normal")})},o.onHighlight=function(){this.updateData(!1,this.node,"highlight")},o.onDownplay=function(){this.updateData(!1,this.node,"downplay")},o._updateLabel=function(c,v,d){var m=this.node.getModel(),g=m.getModel("label"),p=d==="normal"||d==="emphasis"?g:m.getModel(d+".label"),y=m.getModel("emphasis.label"),x=p.get("formatter"),A=x?d:"normal",w=e.retrieve(c.getFormattedLabel(this.node.dataIndex,A,null,null,"label"),this.node.name);E("show")===!1&&(w="");var b=this.node.getLayout(),S=p.get("minAngle");S==null&&(S=g.get("minAngle")),S=S/180*Math.PI;var T=b.endAngle-b.startAngle;S!=null&&Math.abs(T)<S&&(w="");var C=this.childAt(1);t.setLabelStyle(C.style,C.hoverStyle||{},g,y,{defaultText:p.getShallow("show")?w:null,autoColor:v,useInsideStyle:!0});var M=(b.startAngle+b.endAngle)/2,I=Math.cos(M),P=Math.sin(M),D,k=E("position"),R=E("distance")||0,B=E("align");k==="outside"?(D=b.r+R,B=M>Math.PI/2?"right":"left"):!B||B==="center"?(D=(b.r+b.r0)/2,B="center"):B==="left"?(D=b.r0+R,M>Math.PI/2&&(B="right")):B==="right"&&(D=b.r-R,M>Math.PI/2&&(B="left")),C.attr("style",{text:w,textAlign:B,textVerticalAlign:E("verticalAlign")||"middle",opacity:E("opacity")});var V=D*I+b.cx,F=D*P+b.cy;C.attr("position",[V,F]);var Y=E("rotate"),q=0;Y==="radial"?(q=-M,q<-Math.PI/2&&(q+=Math.PI)):Y==="tangential"?(q=Math.PI/2-M,q>Math.PI/2?q-=Math.PI:q<-Math.PI/2&&(q+=Math.PI)):typeof Y=="number"&&(q=Y*Math.PI/180),C.attr("rotation",q);function E(z){var N=p.get(z);return N??g.get(z)}},o._initEvents=function(c,v,d,m){c.off("mouseover").off("mouseout").off("emphasis").off("normal");var g=this,p=function(){g.onEmphasis(m)},y=function(){g.onNormal()},x=function(){g.onDownplay()},A=function(){g.onHighlight()};d.isAnimationEnabled()&&c.on("mouseover",p).on("mouseout",y).on("emphasis",p).on("normal",y).on("downplay",x).on("highlight",A)},e.inherits(i,t.Group);var l=i;function s(c,v,d){var m=c.getVisual("color"),g=c.getVisual("visualMeta");(!g||g.length===0)&&(m=null);var p=c.getModel("itemStyle").get("color");if(p)return p;if(m)return m;if(c.depth===0)return d.option.color[0];var y=d.option.color.length;return p=d.option.color[f(c)%y],p}function f(c){for(var v=c;v.depth>1;)v=v.parentNode;var d=c.getAncestors()[0];return e.indexOf(d.children,v)}function u(c,v,d){return d===r.NONE?!1:d===r.SELF?c===v:d===r.ANCESTOR?c===v||c.isAncestorOf(v):c===v||c.isDescendantOf(v)}function h(c,v,d){var m=v.getData();m.setItemVisual(c.dataIndex,"color",d)}return T0=l,T0}var C0,YI;function qee(){if(YI)return C0;YI=1;var e=ne,t=Vn,r=Hee(),n=Vo(),a=jt(),i=a.windowOpen,o="sunburstRootToNode",l=t.extend({type:"sunburst",init:function(){},render:function(f,u,h,c){var v=this;this.seriesModel=f,this.api=h,this.ecModel=u;var d=f.getData(),m=d.tree.root,g=f.getViewRoot(),p=this.group,y=f.get("renderLabelForZeroData"),x=[];g.eachNode(function(I){x.push(I)});var A=this._oldChildren||[];if(S(x,A),M(m,g),c&&c.highlight&&c.highlight.piece){var w=f.getShallow("highlightPolicy");c.highlight.piece.onEmphasis(w)}else if(c&&c.unhighlight){var b=this.virtualPiece;!b&&m.children.length&&(b=m.children[0].piece),b&&b.onNormal()}this._initEvents(),this._oldChildren=x;function S(I,P){if(I.length===0&&P.length===0)return;new n(P,I,D,D).add(k).update(k).remove(e.curry(k,null)).execute();function D(R){return R.getId()}function k(R,B){var V=R==null?null:I[R],F=B==null?null:P[B];T(V,F)}}function T(I,P){if(!y&&I&&!I.getValue()&&(I=null),I!==m&&P!==m){if(P&&P.piece)I?(P.piece.updateData(!1,I,"normal",f,u),d.setItemGraphicEl(I.dataIndex,P.piece)):C(P);else if(I){var D=new r(I,f,u);p.add(D),d.setItemGraphicEl(I.dataIndex,D)}}}function C(I){I&&I.piece&&(p.remove(I.piece),I.piece=null)}function M(I,P){if(P.depth>0){v.virtualPiece?v.virtualPiece.updateData(!1,I,"normal",f,u):(v.virtualPiece=new r(I,f,u),p.add(v.virtualPiece)),P.piece._onclickEvent&&P.piece.off("click",P.piece._onclickEvent);var D=function(k){v._rootToNode(P.parentNode)};P.piece._onclickEvent=D,v.virtualPiece.on("click",D)}else v.virtualPiece&&(p.remove(v.virtualPiece),v.virtualPiece=null)}},dispose:function(){},_initEvents:function(){var f=this,u=function(h){var c=!1,v=f.seriesModel.getViewRoot();v.eachNode(function(d){if(!c&&d.piece&&d.piece.childAt(0)===h.target){var m=d.getModel().get("nodeClick");if(m==="rootToNode")f._rootToNode(d);else if(m==="link"){var g=d.getModel(),p=g.get("link");if(p){var y=g.get("target",!0)||"_blank";i(p,y)}}c=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",u),this.group._onclickEvent=u},_rootToNode:function(f){f!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:o,from:this.uid,seriesId:this.seriesModel.id,targetNode:f})},containPoint:function(f,u){var h=u.getData(),c=h.getItemLayout(0);if(c){var v=f[0]-c.cx,d=f[1]-c.cy,m=Math.sqrt(v*v+d*d);return m<=c.r&&m>=c.r0}}}),s=l;return C0=s,C0}var ZI={},KI;function Uee(){if(KI)return ZI;KI=1;var e=Ge,t=qo(),r="sunburstRootToNode";e.registerAction({type:r,update:"updateView"},function(i,o){o.eachComponent({mainType:"series",subType:"sunburst",query:i},l);function l(s,f){var u=t.retrieveTargetInfo(i,[r],s);if(u){var h=s.getViewRoot();h&&(i.direction=t.aboveViewRoot(h,u.node)?"rollUp":"drillDown"),s.resetViewRoot(u.node)}}});var n="sunburstHighlight";e.registerAction({type:n,update:"updateView"},function(i,o){o.eachComponent({mainType:"series",subType:"sunburst",query:i},l);function l(s,f){var u=t.retrieveTargetInfo(i,[n],s);u&&(i.highlight=u.node)}});var a="sunburstUnhighlight";return e.registerAction({type:a,update:"updateView"},function(i,o){o.eachComponent({mainType:"series",subType:"sunburst",query:i},l);function l(s,f){i.unhighlight=!0}}),ZI}var M0,XI;function Gee(){if(XI)return M0;XI=1;var e=ht(),t=e.parsePercent,r=ne,n=Math.PI/180;function a(l,s,f,u){s.eachSeriesByType(l,function(h){var c=h.get("center"),v=h.get("radius");r.isArray(v)||(v=[0,v]),r.isArray(c)||(c=[c,c]);var d=f.getWidth(),m=f.getHeight(),g=Math.min(d,m),p=t(c[0],d),y=t(c[1],m),x=t(v[0],g/2),A=t(v[1],g/2),w=-h.get("startAngle")*n,b=h.get("minAngle")*n,S=h.getData().tree.root,T=h.getViewRoot(),C=T.depth,M=h.get("sort");M!=null&&i(T,M);var I=0;r.each(T.children,function(H){!isNaN(H.getValue())&&I++});var P=T.getValue(),D=Math.PI/(P||I)*2,k=T.depth>0,R=T.height-(k?-1:1),B=(A-x)/(R||1),V=h.get("clockwise"),F=h.get("stillShowZeroSum"),Y=V?1:-1,q=function(H,W){if(H){var U=W;if(H!==S){var K=H.getValue(),Q=P===0&&F?D:K*D;Q<b&&(Q=b),U=W+Y*Q;var j=H.depth-C-(k?-1:1),se=x+B*j,le=x+B*(j+1),de=H.getModel();de.get("r0")!=null&&(se=t(de.get("r0"),g/2)),de.get("r")!=null&&(le=t(de.get("r"),g/2)),H.setLayout({angle:Q,startAngle:W,endAngle:U,clockwise:V,cx:p,cy:y,r0:se,r:le})}if(H.children&&H.children.length){var he=0;r.each(H.children,function(pe){he+=q(pe,W+he)})}return U-W}};if(k){var E=x,z=x+B,N=Math.PI*2;S.setLayout({angle:N,startAngle:w,endAngle:w+N,clockwise:V,cx:p,cy:y,r0:E,r:z})}q(T,w)})}function i(l,s){var f=l.children||[];l.children=o(f,s),f.length&&r.each(l.children,function(u){i(u,s)})}function o(l,s){if(typeof s=="function")return l.sort(s);var f=s==="asc";return l.sort(function(u,h){var c=(u.getValue()-h.getValue())*(f?1:-1);return c===0?(u.dataIndex-h.dataIndex)*(f?-1:1):c})}return M0=a,M0}var QI;function Wee(){if(QI)return GI;QI=1;var e=Ge,t=ne;Fee(),qee(),Uee();var r=Hh(),n=Gee(),a=$u();return e.registerVisual(t.curry(r,"sunburst")),e.registerLayout(t.curry(n,"sunburst")),e.registerProcessor(t.curry(a,"sunburst")),GI}var JI={},L0,jI;function $ee(){if(jI)return L0;jI=1;var e=ne;function t(n,a){return a=a||[0,0],e.map(["x","y"],function(i,o){var l=this.getAxis(i),s=a[o],f=n[o]/2;return l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(s-f)-l.dataToCoord(s+f))},this)}function r(n){var a=n.grid.getRect();return{coordSys:{type:"cartesian2d",x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(i){return n.dataToPoint(i)},size:e.bind(t,n)}}}return L0=r,L0}var I0,eP;function Yee(){if(eP)return I0;eP=1;var e=ne;function t(n,a){return a=a||[0,0],e.map([0,1],function(i){var o=a[i],l=n[i]/2,s=[],f=[];return s[i]=o-l,f[i]=o+l,s[1-i]=f[1-i]=a[1-i],Math.abs(this.dataToPoint(s)[i]-this.dataToPoint(f)[i])},this)}function r(n){var a=n.getBoundingRect();return{coordSys:{type:"geo",x:a.x,y:a.y,width:a.width,height:a.height,zoom:n.getZoom()},api:{coord:function(i){return n.dataToPoint(i)},size:e.bind(t,n)}}}return I0=r,I0}var P0,tP;function Zee(){if(tP)return P0;tP=1;var e=ne;function t(n,a){var i=this.getAxis(),o=a instanceof Array?a[0]:a,l=(n instanceof Array?n[0]:n)/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-l)-i.dataToCoord(o+l))}function r(n){var a=n.getRect();return{coordSys:{type:"singleAxis",x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(i){return n.dataToPoint(i)},size:e.bind(t,n)}}}return P0=r,P0}var D0,rP;function Kee(){if(rP)return D0;rP=1;var e=ne;function t(n,a){return e.map(["Radius","Angle"],function(i,o){var l=this["get"+i+"Axis"](),s=a[o],f=n[o]/2,u="dataTo"+i,h=l.type==="category"?l.getBandWidth():Math.abs(l[u](s-f)-l[u](s+f));return i==="Angle"&&(h=h*Math.PI/180),h},this)}function r(n){var a=n.getRadiusAxis(),i=n.getAngleAxis(),o=a.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:o[1],r0:o[0]},api:{coord:e.bind(function(l){var s=a.dataToRadius(l[0]),f=i.dataToAngle(l[1]),u=n.coordToPoint([s,f]);return u.push(s,f*Math.PI/180),u}),size:e.bind(t,n)}}}return D0=r,D0}var R0,aP;function Xee(){if(aP)return R0;aP=1;function e(t){var r=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(a,i){return t.dataToPoint(a,i)}}}}return R0=e,R0}var nP;function Qee(){if(nP)return JI;nP=1;var e=ne,t=ke,r=gx(),n=r.getDefaultLabel,a=yi(),i=Nh(),o=i.getLayoutOnAxis,l=Vo(),s=Br,f=br(),u=Vn,h=qu(),c=h.createClipPath,v=$ee(),d=Yee(),m=Zee(),g=Kee(),p=Xee(),y=t.CACHED_LABEL_STYLE_PROPERTIES,x=["itemStyle"],A=["emphasis","itemStyle"],w=["label"],b=["emphasis","label"],S="e\0\0",T={cartesian2d:v,geo:d,singleAxis:m,polar:g,calendar:p};s.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(U,K){return a(this.getSource(),this)},getDataParams:function(U,K,Q){var j=s.prototype.getDataParams.apply(this,arguments);return Q&&(j.info=Q.info),j}}),u.extend({type:"custom",_data:null,render:function(U,K,Q,j){var se=this._data,le=U.getData(),de=this.group,he=P(U,le,K,Q);le.diff(se).add(function(ye){k(null,ye,he(ye,j),U,de,le)}).update(function(ye,X){var G=se.getItemGraphicEl(X);k(G,ye,he(ye,j),U,de,le)}).remove(function(ye){var X=se.getItemGraphicEl(ye);X&&de.remove(X)}).execute();var pe=U.get("clip",!0)?c(U.coordinateSystem,!1,U):null;pe?de.setClipPath(pe):de.removeClipPath(),this._data=le},incrementalPrepareRender:function(U,K,Q){this.group.removeAll(),this._data=null},incrementalRender:function(U,K,Q,j,se){var le=K.getData(),de=P(K,le,Q,j);function he(X){X.isGroup||(X.incremental=!0,X.useHoverLayer=!0)}for(var pe=U.start;pe<U.end;pe++){var ye=k(null,pe,de(pe,se),K,this.group,le);ye.traverse(he)}},dispose:e.noop,filterForExposedEvent:function(U,K,Q,j){var se=K.element;if(se==null||Q.name===se)return!0;for(;(Q=Q.parent)&&Q!==this.group;)if(Q.name===se)return!0;return!1}});function C(U){var K=U.type,Q;if(K==="path"){var j=U.shape,se=j.width!=null&&j.height!=null?{x:j.x||0,y:j.y||0,width:j.width,height:j.height}:null,le=N(j);Q=t.makePath(le,null,se,j.layout||"center"),Q.__customPathData=le}else if(K==="image")Q=new t.Image({}),Q.__customImagePath=U.style.image;else if(K==="text")Q=new t.Text({}),Q.__customText=U.style.text;else if(K==="group")Q=new t.Group;else{if(K==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var de=t.getShapeClass(K);Q=new de}return Q.__customGraphicType=K,Q.name=U.name,Q}function M(U,K,Q,j,se,le,de){var he={},pe=Q.style||{};if(Q.shape&&(he.shape=e.clone(Q.shape)),Q.position&&(he.position=Q.position.slice()),Q.scale&&(he.scale=Q.scale.slice()),Q.origin&&(he.origin=Q.origin.slice()),Q.rotation&&(he.rotation=Q.rotation),U.type==="image"&&Q.style){var ye=he.style={};e.each(["x","y","width","height"],function($){I($,ye,pe,U.style,le)})}if(U.type==="text"&&Q.style){var ye=he.style={};e.each(["x","y"],function(ee){I(ee,ye,pe,U.style,le)}),!pe.hasOwnProperty("textFill")&&pe.fill&&(pe.textFill=pe.fill),!pe.hasOwnProperty("textStroke")&&pe.stroke&&(pe.textStroke=pe.stroke)}if(U.type!=="group"&&(U.useStyle(pe),le)){U.style.opacity=0;var X=pe.opacity;X==null&&(X=1),t.initProps(U,{style:{opacity:X}},j,K)}le?U.attr(he):t.updateProps(U,he,j,K),Q.hasOwnProperty("z2")&&U.attr("z2",Q.z2||0),Q.hasOwnProperty("silent")&&U.attr("silent",Q.silent),Q.hasOwnProperty("invisible")&&U.attr("invisible",Q.invisible),Q.hasOwnProperty("ignore")&&U.attr("ignore",Q.ignore),Q.hasOwnProperty("info")&&U.attr("info",Q.info);var G=Q.styleEmphasis;t.setElementHoverStyle(U,G),de&&t.setAsHighDownDispatcher(U,G!==!1)}function I(U,K,Q,j,se){Q[U]!=null&&!se&&(K[U]=Q[U],Q[U]=j[U])}function P(U,K,Q,j){var se=U.get("renderItem"),le=U.coordinateSystem,de={};le&&(de=le.prepareCustoms?le.prepareCustoms():T[le.type](le));var he=e.defaults({getWidth:j.getWidth,getHeight:j.getHeight,getZr:j.getZr,getDevicePixelRatio:j.getDevicePixelRatio,value:ve,style:Me,styleEmphasis:re,visual:ie,barLayout:me,currentSeriesIndices:Ce,font:Le},de.api||{}),pe={context:{},seriesId:U.id,seriesName:U.name,seriesIndex:U.seriesIndex,coordSys:de.coordSys,dataInsideLength:K.count(),encode:D(U.getData())},ye,X=!0,G,$,ee,fe;return function(Pe,Ie){return ye=Pe,X=!0,se&&se(e.defaults({dataIndexInside:Pe,dataIndex:K.getRawIndex(Pe),actionType:Ie?Ie.type:null},pe),he)};function oe(Pe){Pe==null&&(Pe=ye),X&&(G=K.getItemModel(Pe),$=G.getModel(w),ee=G.getModel(b),fe=K.getItemVisual(Pe,"color"),X=!1)}function ve(Pe,Ie){return Ie==null&&(Ie=ye),K.get(K.getDimension(Pe||0),Ie)}function Me(Pe,Ie){Ie==null&&(Ie=ye),oe(Ie);var Fe=G.getModel(x).getItemStyle();fe!=null&&(Fe.fill=fe);var Ne=K.getItemVisual(Ie,"opacity");Ne!=null&&(Fe.opacity=Ne);var Ze=Pe?q(Pe,$):$;return t.setTextStyle(Fe,Ze,null,{autoColor:fe,isRectText:!0}),Fe.text=Ze.getShallow("show")?e.retrieve2(U.getFormattedLabel(Ie,"normal"),n(K,Ie)):null,Pe&&E(Fe,Pe),Fe}function re(Pe,Ie){Ie==null&&(Ie=ye),oe(Ie);var Fe=G.getModel(A).getItemStyle(),Ne=Pe?q(Pe,ee):ee;return t.setTextStyle(Fe,Ne,null,{isRectText:!0},!0),Fe.text=Ne.getShallow("show")?e.retrieve3(U.getFormattedLabel(Ie,"emphasis"),U.getFormattedLabel(Ie,"normal"),n(K,Ie)):null,Pe&&E(Fe,Pe),Fe}function ie(Pe,Ie){return Ie==null&&(Ie=ye),K.getItemVisual(Ie,Pe)}function me(Pe){if(le.getBaseAxis){var Ie=le.getBaseAxis();return o(e.defaults({axis:Ie},Pe),j)}}function Ce(){return Q.getCurrentSeriesIndices()}function Le(Pe){return t.getFont(Pe,Q)}}function D(U){var K={};return e.each(U.dimensions,function(Q,j){var se=U.getDimensionInfo(Q);if(!se.isExtraCoord){var le=se.coordDim,de=K[le]=K[le]||[];de[se.coordDimIndex]=j}}),K}function k(U,K,Q,j,se,le){return U=R(U,K,Q,j,se,le,!0),U&&le.setItemGraphicEl(K,U),U}function R(U,K,Q,j,se,le,de){var he=!Q;Q=Q||{};var pe=Q.type,ye=Q.shape,X=Q.style;if(U&&(he||pe!=null&&pe!==U.__customGraphicType||pe==="path"&&H(ye)&&N(ye)!==U.__customPathData||pe==="image"&&W(X,"image")&&X.image!==U.__customImagePath||pe==="text"&&W(ye,"text")&&X.text!==U.__customText)&&(se.remove(U),U=null),!he){var G=!U;return!U&&(U=C(Q)),M(U,K,Q,j,le,G,de),pe==="group"&&B(U,K,Q,j,le),se.add(U),U}}function B(U,K,Q,j,se){var le=Q.children,de=le?le.length:0,he=Q.$mergeChildren,pe=he==="byName"||Q.diffChildrenByName,ye=he===!1;if(!(!de&&!pe&&!ye)){if(pe){V({oldChildren:U.children()||[],newChildren:le||[],dataIndex:K,animatableModel:j,group:U,data:se});return}ye&&U.removeAll();for(var X=0;X<de;X++)le[X]&&R(U.childAt(X),K,le[X],j,U,se)}}function V(U){new l(U.oldChildren,U.newChildren,F,F,U).add(Y).update(Y).remove(z).execute()}function F(U,K){var Q=U&&U.name;return Q??S+K}function Y(U,K){var Q=this.context,j=U!=null?Q.newChildren[U]:null,se=K!=null?Q.oldChildren[K]:null;R(se,Q.dataIndex,j,Q.animatableModel,Q.group,Q.data)}function q(U,K){var Q=new f({},K);return e.each(y,function(j,se){U.hasOwnProperty(j)&&(Q.option[se]=U[j])}),Q}function E(U,K){for(var Q in K)(K.hasOwnProperty(Q)||!y.hasOwnProperty(Q))&&(U[Q]=K[Q])}function z(U){var K=this.context,Q=K.oldChildren[U];Q&&K.group.remove(Q)}function N(U){return U&&(U.pathData||U.d)}function H(U){return U&&(U.hasOwnProperty("pathData")||U.hasOwnProperty("d"))}function W(U,K){return U&&U.hasOwnProperty(K)}return JI}var iP={},oP;function Jee(){return oP||(oP=1,Gu(),UN(),Zu()),iP}var sP={},E0,lP;function jee(){if(lP)return E0;lP=1;var e=ne,t=ht(),r=t.parsePercent,n=Fn(),a=n.isDimensionStacked;function i(u){return u.get("stack")||"__ec_stack_"+u.seriesIndex}function o(u,h){return h.dim+u.model.componentIndex}function l(u,h,c){var v={},d=s(e.filter(h.getSeriesByType(u),function(m){return!h.isSeriesFiltered(m)&&m.coordinateSystem&&m.coordinateSystem.type==="polar"}));h.eachSeriesByType(u,function(m){if(m.coordinateSystem.type==="polar"){var g=m.getData(),p=m.coordinateSystem,y=p.getBaseAxis(),x=o(p,y),A=i(m),w=d[x][A],b=w.offset,S=w.width,T=p.getOtherAxis(y),C=m.coordinateSystem.cx,M=m.coordinateSystem.cy,I=m.get("barMinHeight")||0,P=m.get("barMinAngle")||0;v[A]=v[A]||[];for(var D=g.mapDimension(T.dim),k=g.mapDimension(y.dim),R=a(g,D),B=y.dim!=="radius"||!m.get("roundCap",!0),V=T.dim==="radius"?T.dataToRadius(0):T.dataToAngle(0),F=0,Y=g.count();F<Y;F++){var q=g.get(D,F),E=g.get(k,F),z=q>=0?"p":"n",N=V;R&&(v[A][E]||(v[A][E]={p:V,n:V}),N=v[A][E][z]);var H,W,U,K;if(T.dim==="radius"){var Q=T.dataToRadius(q)-V,j=y.dataToAngle(E);Math.abs(Q)<I&&(Q=(Q<0?-1:1)*I),H=N,W=N+Q,U=j-b,K=U-S,R&&(v[A][E][z]=W)}else{var se=T.dataToAngle(q,B)-V,le=y.dataToRadius(E);Math.abs(se)<P&&(se=(se<0?-1:1)*P),H=le+b,W=H+S,U=N,K=N+se,R&&(v[A][E][z]=K)}g.setItemLayout(F,{cx:C,cy:M,r0:H,r:W,startAngle:-U*Math.PI/180,endAngle:-K*Math.PI/180})}}},this)}function s(u,h){var c={};e.each(u,function(d,m){var g=d.getData(),p=d.coordinateSystem,y=p.getBaseAxis(),x=o(p,y),A=y.getExtent(),w=y.type==="category"?y.getBandWidth():Math.abs(A[1]-A[0])/g.count(),b=c[x]||{bandWidth:w,remainedWidth:w,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},S=b.stacks;c[x]=b;var T=i(d);S[T]||b.autoWidthCount++,S[T]=S[T]||{width:0,maxWidth:0};var C=r(d.get("barWidth"),w),M=r(d.get("barMaxWidth"),w),I=d.get("barGap"),P=d.get("barCategoryGap");C&&!S[T].width&&(C=Math.min(b.remainedWidth,C),S[T].width=C,b.remainedWidth-=C),M&&(S[T].maxWidth=M),I!=null&&(b.gap=I),P!=null&&(b.categoryGap=P)});var v={};return e.each(c,function(d,m){v[m]={};var g=d.stacks,p=d.bandWidth,y=r(d.categoryGap,p),x=r(d.gap,1),A=d.remainedWidth,w=d.autoWidthCount,b=(A-y)/(w+(w-1)*x);b=Math.max(b,0),e.each(g,function(M,I){var P=M.maxWidth;P&&P<b&&(P=Math.min(P,A),M.width&&(P=Math.min(P,M.width)),A-=P,M.width=P,w--)}),b=(A-y)/(w+(w-1)*x),b=Math.max(b,0);var S=0,T;e.each(g,function(M,I){M.width||(M.width=b),T=M,S+=M.width*(1+x)}),T&&(S-=T.width*x);var C=-S/2;e.each(g,function(M,I){v[m][I]=v[m][I]||{offset:C,width:M.width},C+=M.width*(1+x)})}),v}var f=l;return E0=f,E0}var uP={},k0,fP;function ete(){if(fP)return k0;fP=1;var e=ne,t=ro();function r(a,i){t.call(this,"radius",a,i),this.type="category"}r.prototype={constructor:r,pointToData:function(a,i){return this.polar.pointToData(a,i)[this.dim==="radius"?0:1]},dataToRadius:t.prototype.dataToCoord,radiusToData:t.prototype.coordToData},e.inherits(r,t);var n=r;return k0=n,k0}var O0,cP;function tte(){if(cP)return O0;cP=1;var e=ne,t=ir,r=ro(),n=lt,a=n.makeInner,i=a();function o(s,f){f=f||[0,360],r.call(this,"angle",s,f),this.type="category"}o.prototype={constructor:o,pointToData:function(s,f){return this.polar.pointToData(s,f)[this.dim==="radius"?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var s=this,f=s.getLabelModel(),u=s.scale,h=u.getExtent(),c=u.count();if(h[1]-h[0]<1)return 0;var v=h[0],d=s.dataToCoord(v+1)-s.dataToCoord(v),m=Math.abs(d),g=t.getBoundingRect(v,f.getFont(),"center","top"),p=Math.max(g.height,7),y=p/m;isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(y)),A=i(s.model),w=A.lastAutoInterval,b=A.lastTickCount;return w!=null&&b!=null&&Math.abs(w-x)<=1&&Math.abs(b-c)<=1&&w>x?x=w:(A.lastTickCount=c,A.lastAutoInterval=x),x}},e.inherits(o,r);var l=o;return O0=l,O0}var B0,hP;function rte(){if(hP)return B0;hP=1;var e=ete(),t=tte(),r=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new e,this._angleAxis=new t,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(a){var i=this.pointToCoord(a);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(a){var i=[],o=this._angleAxis,l=this._radiusAxis;return o.scale.type===a&&i.push(o),l.scale.type===a&&i.push(l),i},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var i=this._angleAxis;return a===i?this._radiusAxis:i},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){var i=a!=null&&a!=="auto"?this.getAxis(a):this.getBaseAxis();return{baseAxes:[i],otherAxes:[this.getOtherAxis(i)]}},dataToPoint:function(a,i){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],i),this._angleAxis.dataToAngle(a[1],i)])},pointToData:function(a,i){var o=this.pointToCoord(a);return[this._radiusAxis.radiusToData(o[0],i),this._angleAxis.angleToData(o[1],i)]},pointToCoord:function(a){var i=a[0]-this.cx,o=a[1]-this.cy,l=this.getAngleAxis(),s=l.getExtent(),f=Math.min(s[0],s[1]),u=Math.max(s[0],s[1]);l.inverse?f=u-360:u=f+360;var h=Math.sqrt(i*i+o*o);i/=h,o/=h;for(var c=Math.atan2(-o,i)/Math.PI*180,v=c<f?1:-1;c<f||c>u;)c+=v*360;return[h,c]},coordToPoint:function(a){var i=a[0],o=a[1]/180*Math.PI,l=Math.cos(o)*i+this.cx,s=-Math.sin(o)*i+this.cy;return[l,s]},getArea:function(){var a=this.getAngleAxis(),i=this.getRadiusAxis(),o=i.getExtent().slice();o[0]>o[1]&&o.reverse();var l=a.getExtent(),s=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-l[0]*s,endAngle:-l[1]*s,clockwise:a.inverse,contain:function(f,u){var h=f-this.cx,c=u-this.cy,v=h*h+c*c,d=this.r,m=this.r0;return v<=d*d&&v>=m*m}}}};var n=r;return B0=n,B0}var vP={},dP;function ate(){if(dP)return vP;dP=1;var e=ne,t=Or,r=Vh(),n=nl(),a=t.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(a.prototype,n);var i={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function o(l,s){return s.type||(s.data?"category":"value")}return r("angle",a,o,i.angle),r("radius",a,o,i.radius),vP}var N0,gP;function nte(){if(gP)return N0;gP=1;var e=Ge;ate();var t=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(r){var n,a=this.ecModel;return a.eachComponent(r,function(i){i.getCoordSysModel()===this&&(n=i)},this),n},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});return N0=t,N0}var pP;function Ix(){if(pP)return uP;pP=1;var e=ne,t=rte(),r=ht(),n=r.parsePercent,a=_n(),i=a.createScaleByModel,o=a.niceScaleExtent,l=zn,s=Fn(),f=s.getStackedDimension;nte();function u(d,m,g){var p=m.get("center"),y=g.getWidth(),x=g.getHeight();d.cx=n(p[0],y),d.cy=n(p[1],x);var A=d.getRadiusAxis(),w=Math.min(y,x)/2,b=m.get("radius");b==null?b=[0,"100%"]:e.isArray(b)||(b=[0,b]),b=[n(b[0],w),n(b[1],w)],A.inverse?A.setExtent(b[1],b[0]):A.setExtent(b[0],b[1])}function h(d,m){var g=this,p=g.getAngleAxis(),y=g.getRadiusAxis();if(p.scale.setExtent(1/0,-1/0),y.scale.setExtent(1/0,-1/0),d.eachSeries(function(w){if(w.coordinateSystem===g){var b=w.getData();e.each(b.mapDimension("radius",!0),function(S){y.scale.unionExtentFromData(b,f(b,S))}),e.each(b.mapDimension("angle",!0),function(S){p.scale.unionExtentFromData(b,f(b,S))})}}),o(p.scale,p.model),o(y.scale,y.model),p.type==="category"&&!p.onBand){var x=p.getExtent(),A=360/p.scale.count();p.inverse?x[1]+=A:x[1]-=A,p.setExtent(x[0],x[1])}}function c(d,m){if(d.type=m.get("type"),d.scale=i(m),d.onBand=m.get("boundaryGap")&&d.type==="category",d.inverse=m.get("inverse"),m.mainType==="angleAxis"){d.inverse^=m.get("clockwise");var g=m.get("startAngle");d.setExtent(g,g+(d.inverse?-360:360))}m.axis=d,d.model=m}var v={dimensions:t.prototype.dimensions,create:function(d,m){var g=[];return d.eachComponent("polar",function(p,y){var x=new t(y);x.update=h;var A=x.getRadiusAxis(),w=x.getAngleAxis(),b=p.findAxisModel("radiusAxis"),S=p.findAxisModel("angleAxis");c(A,b),c(w,S),u(x,p,m),g.push(x),p.coordinateSystem=x,x.model=p}),d.eachSeries(function(p){if(p.get("coordinateSystem")==="polar"){var y=d.queryComponents({mainType:"polar",index:p.get("polarIndex"),id:p.get("polarId")})[0];p.coordinateSystem=y.coordinateSystem}}),g}};return l.register("polar",v),uP}var mP={},z0,yP;function ite(){if(yP)return z0;yP=1;var e=ne,t=ke,r=br(),n=Ho(),a=ao(),i=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function o(u,h,c){h[1]>h[0]&&(h=h.slice().reverse());var v=u.coordToPoint([h[0],c]),d=u.coordToPoint([h[1],c]);return{x1:v[0],y1:v[1],x2:d[0],y2:d[1]}}function l(u){var h=u.getRadiusAxis();return h.inverse?0:1}function s(u){var h=u[0],c=u[u.length-1];h&&c&&Math.abs(Math.abs(h.coord-c.coord)-360)<1e-4&&u.pop()}var f=n.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(u,h){if(this.group.removeAll(),!!u.get("show")){var c=u.axis,v=c.polar,d=v.getRadiusAxis().getExtent(),m=c.getTicksCoords(),g=c.getMinorTicksCoords(),p=e.map(c.getViewLabels(),function(x){var x=e.clone(x);return x.coord=c.dataToCoord(x.tickValue),x});s(p),s(m),e.each(i,function(y){u.get(y+".show")&&(!c.scale.isBlank()||y==="axisLine")&&this["_"+y](u,v,m,g,d,p)},this)}},_axisLine:function(u,h,c,v,d){var m=u.getModel("axisLine.lineStyle"),g=l(h),p=g?0:1,y;d[p]===0?y=new t.Circle({shape:{cx:h.cx,cy:h.cy,r:d[g]},style:m.getLineStyle(),z2:1,silent:!0}):y=new t.Ring({shape:{cx:h.cx,cy:h.cy,r:d[g],r0:d[p]},style:m.getLineStyle(),z2:1,silent:!0}),y.style.fill=null,this.group.add(y)},_axisTick:function(u,h,c,v,d){var m=u.getModel("axisTick"),g=(m.get("inside")?-1:1)*m.get("length"),p=d[l(h)],y=e.map(c,function(x){return new t.Line({shape:o(h,[p,p+g],x.coord)})});this.group.add(t.mergePath(y,{style:e.defaults(m.getModel("lineStyle").getLineStyle(),{stroke:u.get("axisLine.lineStyle.color")})}))},_minorTick:function(u,h,c,v,d){if(v.length){for(var m=u.getModel("axisTick"),g=u.getModel("minorTick"),p=(m.get("inside")?-1:1)*g.get("length"),y=d[l(h)],x=[],A=0;A<v.length;A++)for(var w=0;w<v[A].length;w++)x.push(new t.Line({shape:o(h,[y,y+p],v[A][w].coord)}));this.group.add(t.mergePath(x,{style:e.defaults(g.getModel("lineStyle").getLineStyle(),e.defaults(m.getLineStyle(),{stroke:u.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(u,h,c,v,d,m){var g=u.getCategories(!0),p=u.getModel("axisLabel"),y=p.get("margin"),x=u.get("triggerEvent");e.each(m,function(A,w){var b=p,S=A.tickValue,T=d[l(h)],C=h.coordToPoint([T+y,A.coord]),M=h.cx,I=h.cy,P=Math.abs(C[0]-M)/T<.3?"center":C[0]>M?"left":"right",D=Math.abs(C[1]-I)/T<.3?"middle":C[1]>I?"top":"bottom";g&&g[S]&&g[S].textStyle&&(b=new r(g[S].textStyle,p,p.ecModel));var k=new t.Text({silent:a.isLabelSilent(u)});this.group.add(k),t.setTextStyle(k.style,b,{x:C[0],y:C[1],textFill:b.getTextColor()||u.get("axisLine.lineStyle.color"),text:A.formattedLabel,textAlign:P,textVerticalAlign:D}),x&&(k.eventData=a.makeAxisEventDataBase(u),k.eventData.targetType="axisLabel",k.eventData.value=A.rawLabel)},this)},_splitLine:function(u,h,c,v,d){var m=u.getModel("splitLine"),g=m.getModel("lineStyle"),p=g.get("color"),y=0;p=p instanceof Array?p:[p];for(var x=[],A=0;A<c.length;A++){var w=y++%p.length;x[w]=x[w]||[],x[w].push(new t.Line({shape:o(h,d,c[A].coord)}))}for(var A=0;A<x.length;A++)this.group.add(t.mergePath(x[A],{style:e.defaults({stroke:p[A%p.length]},g.getLineStyle()),silent:!0,z:u.get("z")}))},_minorSplitLine:function(u,h,c,v,d){if(v.length){for(var m=u.getModel("minorSplitLine"),g=m.getModel("lineStyle"),p=[],y=0;y<v.length;y++)for(var x=0;x<v[y].length;x++)p.push(new t.Line({shape:o(h,d,v[y][x].coord)}));this.group.add(t.mergePath(p,{style:g.getLineStyle(),silent:!0,z:u.get("z")}))}},_splitArea:function(u,h,c,v,d){if(c.length){var m=u.getModel("splitArea"),g=m.getModel("areaStyle"),p=g.get("color"),y=0;p=p instanceof Array?p:[p];for(var x=[],A=Math.PI/180,w=-c[0].coord*A,b=Math.min(d[0],d[1]),S=Math.max(d[0],d[1]),T=u.get("clockwise"),C=1;C<c.length;C++){var M=y++%p.length;x[M]=x[M]||[],x[M].push(new t.Sector({shape:{cx:h.cx,cy:h.cy,r0:b,r:S,startAngle:w,endAngle:-c[C].coord*A,clockwise:T},silent:!0})),w=-c[C].coord*A}for(var C=0;C<x.length;C++)this.group.add(t.mergePath(x[C],{style:e.defaults({fill:p[C%p.length]},g.getAreaStyle()),silent:!0}))}}});return z0=f,z0}var _P;function ote(){return _P||(_P=1,Ix(),ite()),mP}var xP={},V0,wP;function ste(){if(wP)return V0;wP=1;var e=ne,t=ke,r=ao(),n=Ho(),a=["axisLine","axisTickLabel","axisName"],i=["splitLine","splitArea","minorSplitLine"],o=n.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(s,f){if(this.group.removeAll(),!!s.get("show")){var u=s.axis,h=u.polar,c=h.getAngleAxis(),v=u.getTicksCoords(),d=u.getMinorTicksCoords(),m=c.getExtent()[0],g=u.getExtent(),p=l(h,s,m),y=new r(s,p);e.each(a,y.add,y),this.group.add(y.getGroup()),e.each(i,function(x){s.get(x+".show")&&!u.scale.isBlank()&&this["_"+x](s,h,m,g,v,d)},this)}},_splitLine:function(s,f,u,h,c){var v=s.getModel("splitLine"),d=v.getModel("lineStyle"),m=d.get("color"),g=0;m=m instanceof Array?m:[m];for(var p=[],y=0;y<c.length;y++){var x=g++%m.length;p[x]=p[x]||[],p[x].push(new t.Circle({shape:{cx:f.cx,cy:f.cy,r:c[y].coord}}))}for(var y=0;y<p.length;y++)this.group.add(t.mergePath(p[y],{style:e.defaults({stroke:m[y%m.length],fill:null},d.getLineStyle()),silent:!0}))},_minorSplitLine:function(s,f,u,h,c,v){if(v.length){for(var d=s.getModel("minorSplitLine"),m=d.getModel("lineStyle"),g=[],p=0;p<v.length;p++)for(var y=0;y<v[p].length;y++)g.push(new t.Circle({shape:{cx:f.cx,cy:f.cy,r:v[p][y].coord}}));this.group.add(t.mergePath(g,{style:e.defaults({fill:null},m.getLineStyle()),silent:!0}))}},_splitArea:function(s,f,u,h,c){if(c.length){var v=s.getModel("splitArea"),d=v.getModel("areaStyle"),m=d.get("color"),g=0;m=m instanceof Array?m:[m];for(var p=[],y=c[0].coord,x=1;x<c.length;x++){var A=g++%m.length;p[A]=p[A]||[],p[A].push(new t.Sector({shape:{cx:f.cx,cy:f.cy,r0:y,r:c[x].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=c[x].coord}for(var x=0;x<p.length;x++)this.group.add(t.mergePath(p[x],{style:e.defaults({fill:m[x%m.length]},d.getAreaStyle()),silent:!0}))}}});function l(s,f,u){return{position:[s.cx,s.cy],rotation:u/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:f.getModel("axisLabel").get("rotate"),z2:1}}return V0=o,V0}var SP;function lte(){return SP||(SP=1,Ix(),ste()),xP}var F0,bP;function ute(){if(bP)return F0;bP=1;var e=jt(),t=Lx(),r=ke,n=Wh(),a=la(),i=ao(),o=Ho(),l=t.extend({makeElOption:function(h,c,v,d,m){var g=v.axis;g.dim==="angle"&&(this.animationThreshold=Math.PI/18);var p=g.polar,y=p.getOtherAxis(g),x=y.getExtent(),A;A=g["dataTo"+e.capitalFirst(g.dim)](c);var w=d.get("type");if(w&&w!=="none"){var b=n.buildElStyle(d),S=f[w](g,p,A,x,b);S.style=b,h.graphicKey=S.type,h.pointer=S}var T=d.get("label.margin"),C=s(c,v,d,p,T);n.buildLabelElOption(h,v,d,m,C)}});function s(h,c,v,d,m){var g=c.axis,p=g.dataToCoord(h),y=d.getAngleAxis().getExtent()[0];y=y/180*Math.PI;var x=d.getRadiusAxis().getExtent(),A,w,b;if(g.dim==="radius"){var S=a.create();a.rotate(S,S,y),a.translate(S,S,[d.cx,d.cy]),A=r.applyTransform([p,-m],S);var T=c.getModel("axisLabel").get("rotate")||0,C=i.innerTextLayout(y,T*Math.PI/180,-1);w=C.textAlign,b=C.textVerticalAlign}else{var M=x[1];A=d.coordToPoint([M+m,p]);var I=d.cx,P=d.cy;w=Math.abs(A[0]-I)/M<.3?"center":A[0]>I?"left":"right",b=Math.abs(A[1]-P)/M<.3?"middle":A[1]>P?"top":"bottom"}return{position:A,align:w,verticalAlign:b}}var f={line:function(h,c,v,d,m){return h.dim==="angle"?{type:"Line",shape:n.makeLineShape(c.coordToPoint([d[0],v]),c.coordToPoint([d[1],v]))}:{type:"Circle",shape:{cx:c.cx,cy:c.cy,r:v}}},shadow:function(h,c,v,d,m){var g=Math.max(1,h.getBandWidth()),p=Math.PI/180;return h.dim==="angle"?{type:"Sector",shape:n.makeSectorShape(c.cx,c.cy,d[0],d[1],(-v-g/2)*p,(-v+g/2)*p)}:{type:"Sector",shape:n.makeSectorShape(c.cx,c.cy,v-g/2,v+g/2,0,Math.PI*2)}}};o.registerAxisPointerClass("PolarAxisPointer",l);var u=l;return F0=u,F0}var AP;function fte(){if(AP)return sP;AP=1;var e=Ge,t=ne,r=jee();return Ix(),ote(),lte(),Zu(),ute(),e.registerLayout(t.curry(r,"bar")),e.extendComponentView({type:"polar"}),sP}var TP={},H0,CP;function cte(){if(CP)return H0;CP=1;var e=ne,t=lt,r=Or,n=br(),a=mx(),i=Sx(),o=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(s){r.prototype.init.apply(this,arguments),t.defaultEmphasis(s,"label",["show"])},optionUpdated:function(){var s=this.option,f=this;s.regions=i.getFilledRegions(s.regions,s.map,s.nameMap),this._optionModelMap=e.reduce(s.regions||[],function(u,h){return h.name&&u.set(h.name,new n(h,f)),u},e.createHashMap()),this.updateSelectedMap(s.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(s){return this._optionModelMap.get(s)||new n(null,this,this.ecModel)},getFormattedLabel:function(s,f){f=f||"normal";var u=this.getRegionModel(s),h=u.get((f==="normal"?"":f+".")+"label.formatter"),c={name:s};if(typeof h=="function")return c.status=f,h(c);if(typeof h=="string")return h.replace("{a}",s??"")},setZoom:function(s){this.option.zoom=s},setCenter:function(s){this.option.center=s}});e.mixin(o,a);var l=o;return H0=l,H0}var q0,MP;function hte(){if(MP)return q0;MP=1;var e=TN(),t=Ge,r=t.extendComponentView({type:"geo",init:function(n,a){var i=new e(a,!0);this._mapDraw=i,this.group.add(i.group)},render:function(n,a,i,o){if(!(o&&o.type==="geoToggleSelect"&&o.from===this.uid)){var l=this._mapDraw;n.get("show")?l.draw(n,a,i,this,o):this._mapDraw.group.removeAll(),this.group.silent=n.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});return q0=r,q0}var LP;function vte(){if(LP)return TP;LP=1;var e=Ge,t=ne;cte(),Sx(),hte(),CN();function r(n,a){a.update="updateView",e.registerAction(a,function(i,o){var l={};return o.eachComponent({mainType:"geo",query:i},function(s){s[n](i.name);var f=s.coordinateSystem;t.each(f.regions,function(u){l[u.name]=s.isSelected(u.name)||!1})}),{selected:l,name:i.name}})}return r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),TP}var IP={},U0,PP;function dte(){if(PP)return U0;PP=1;var e=ne,t=Tt,r=ht(),n=zn,a=864e5;function i(s,f,u){this._model=s}i.prototype={constructor:i,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(s){s=r.parseDate(s);var f=s.getFullYear(),u=s.getMonth()+1;u=u<10?"0"+u:u;var h=s.getDate();h=h<10?"0"+h:h;var c=s.getDay();return c=Math.abs((c+7-this.getFirstDayOfWeek())%7),{y:f,m:u,d:h,day:c,time:s.getTime(),formatedDate:f+"-"+u+"-"+h,date:s}},getNextNDay:function(s,f){return f=f||0,f===0?this.getDateInfo(s):(s=new Date(this.getDateInfo(s).time),s.setDate(s.getDate()+f),this.getDateInfo(s))},update:function(s,f){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var u=this._rangeInfo.weeks||1,h=["width","height"],c=this._model.get("cellSize").slice(),v=this._model.getBoxLayoutParams(),d=this._orient==="horizontal"?[u,7]:[7,u];e.each([0,1],function(y){p(c,y)&&(v[h[y]]=c[y]*d[y])});var m={width:f.getWidth(),height:f.getHeight()},g=this._rect=t.getLayoutRect(v,m);e.each([0,1],function(y){p(c,y)||(c[y]=g[h[y]]/d[y])});function p(y,x){return y[x]!=null&&y[x]!=="auto"}this._sw=c[0],this._sh=c[1]},dataToPoint:function(s,f){e.isArray(s)&&(s=s[0]),f==null&&(f=!0);var u=this.getDateInfo(s),h=this._rangeInfo,c=u.formatedDate;if(f&&!(u.time>=h.start.time&&u.time<h.end.time+a))return[NaN,NaN];var v=u.day,d=this._getRangeInfo([h.start.time,c]).nthWeek;return this._orient==="vertical"?[this._rect.x+v*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]:[this._rect.x+d*this._sw+this._sw/2,this._rect.y+v*this._sh+this._sh/2]},pointToData:function(s){var f=this.pointToDate(s);return f&&f.time},dataToRect:function(s,f){var u=this.dataToPoint(s,f);return{contentShape:{x:u[0]-(this._sw-this._lineWidth)/2,y:u[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:u,tl:[u[0]-this._sw/2,u[1]-this._sh/2],tr:[u[0]+this._sw/2,u[1]-this._sh/2],br:[u[0]+this._sw/2,u[1]+this._sh/2],bl:[u[0]-this._sw/2,u[1]+this._sh/2]}},pointToDate:function(s){var f=Math.floor((s[0]-this._rect.x)/this._sw)+1,u=Math.floor((s[1]-this._rect.y)/this._sh)+1,h=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(u,f-1,h):this._getDateByWeeksAndDay(f,u-1,h)},convertToPixel:e.curry(o,"dataToPoint"),convertFromPixel:e.curry(o,"pointToData"),_initRangeOption:function(){var s=this._model.get("range"),f=s;if(e.isArray(f)&&f.length===1&&(f=f[0]),/^\d{4}$/.test(f)&&(s=[f+"-01-01",f+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(f)){var u=this.getDateInfo(f),h=u.date;h.setMonth(h.getMonth()+1);var c=this.getNextNDay(h,-1);s=[u.formatedDate,c.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(f)&&(s=[f,f]);var v=this._getRangeInfo(s);return v.start.time>v.end.time&&s.reverse(),s},_getRangeInfo:function(s){s=[this.getDateInfo(s[0]),this.getDateInfo(s[1])];var f;s[0].time>s[1].time&&(f=!0,s.reverse());var u=Math.floor(s[1].time/a)-Math.floor(s[0].time/a)+1,h=new Date(s[0].time),c=h.getDate(),v=s[1].date.getDate();h.setDate(c+u-1);var d=h.getDate();if(d!==v)for(var m=h.getTime()-s[1].time>0?1:-1;(d=h.getDate())!==v&&(h.getTime()-s[1].time)*m>0;)u-=m,h.setDate(d-m);var g=Math.floor((u+s[0].day+6)/7),p=f?-g+1:g-1;return f&&s.reverse(),{range:[s[0].formatedDate,s[1].formatedDate],start:s[0],end:s[1],allDay:u,weeks:g,nthWeek:p,fweek:s[0].day,lweek:s[1].day}},_getDateByWeeksAndDay:function(s,f,u){var h=this._getRangeInfo(u);if(s>h.weeks||s===0&&f<h.fweek||s===h.weeks&&f>h.lweek)return!1;var c=(s-1)*7-h.fweek+f,v=new Date(h.start.time);return v.setDate(h.start.d+c),this.getDateInfo(v)}},i.dimensions=i.prototype.dimensions,i.getDimensionsInfo=i.prototype.getDimensionsInfo,i.create=function(s,f){var u=[];return s.eachComponent("calendar",function(h){var c=new i(h);u.push(c),h.coordinateSystem=c}),s.eachSeries(function(h){h.get("coordinateSystem")==="calendar"&&(h.coordinateSystem=u[h.get("calendarIndex")||0])}),u};function o(s,f,u,h){var c=u.calendarModel,v=u.seriesModel,d=c?c.coordinateSystem:v?v.coordinateSystem:null;return d===this?d[s](h):null}n.register("calendar",i);var l=i;return U0=l,U0}var G0,DP;function gte(){if(DP)return G0;DP=1;var e=ne,t=Or,r=Tt,n=r.getLayoutParams,a=r.sizeCalculable,i=r.mergeLayoutParam,o=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(f,u,h,c){var v=n(f);o.superApply(this,"init",arguments),l(f,v)},mergeOption:function(f,u){o.superApply(this,"mergeOption",arguments),l(this.option,f)}});function l(f,u){var h=f.cellSize;e.isArray(h)?h.length===1&&(h[1]=h[0]):h=f.cellSize=[h,h];var c=e.map([0,1],function(v){return a(u,v)&&(h[v]="auto"),h[v]!=null&&h[v]!=="auto"});i(f,u,{type:"box",ignoreSize:c})}var s=o;return G0=s,G0}var W0,RP;function pte(){if(RP)return W0;RP=1;var e=Ge,t=ne,r=ke,n=jt(),a=ht(),i={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},o={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},l=e.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(s,f,u){var h=this.group;h.removeAll();var c=s.coordinateSystem,v=c.getRangeInfo(),d=c.getOrient();this._renderDayRect(s,v,h),this._renderLines(s,v,d,h),this._renderYearText(s,v,d,h),this._renderMonthText(s,d,h),this._renderWeekText(s,v,d,h)},_renderDayRect:function(s,f,u){for(var h=s.coordinateSystem,c=s.getModel("itemStyle").getItemStyle(),v=h.getCellWidth(),d=h.getCellHeight(),m=f.start.time;m<=f.end.time;m=h.getNextNDay(m,1).time){var g=h.dataToRect([m],!1).tl,p=new r.Rect({shape:{x:g[0],y:g[1],width:v,height:d},cursor:"default",style:c});u.add(p)}},_renderLines:function(s,f,u,h){var c=this,v=s.coordinateSystem,d=s.getModel("splitLine.lineStyle").getLineStyle(),m=s.get("splitLine.show"),g=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var p=f.start,y=0;p.time<=f.end.time;y++){A(p.formatedDate),y===0&&(p=v.getDateInfo(f.start.y+"-"+f.start.m));var x=p.date;x.setMonth(x.getMonth()+1),p=v.getDateInfo(x)}A(v.getNextNDay(f.end.time,1).formatedDate);function A(w){c._firstDayOfMonth.push(v.getDateInfo(w)),c._firstDayPoints.push(v.dataToRect([w],!1).tl);var b=c._getLinePointsOfOneWeek(s,w,u);c._tlpoints.push(b[0]),c._blpoints.push(b[b.length-1]),m&&c._drawSplitline(b,d,h)}m&&this._drawSplitline(c._getEdgesPoints(c._tlpoints,g,u),d,h),m&&this._drawSplitline(c._getEdgesPoints(c._blpoints,g,u),d,h)},_getEdgesPoints:function(s,f,u){var h=[s[0].slice(),s[s.length-1].slice()],c=u==="horizontal"?0:1;return h[0][c]=h[0][c]-f/2,h[1][c]=h[1][c]+f/2,h},_drawSplitline:function(s,f,u){var h=new r.Polyline({z2:20,shape:{points:s},style:f});u.add(h)},_getLinePointsOfOneWeek:function(s,f,u){var h=s.coordinateSystem;f=h.getDateInfo(f);for(var c=[],v=0;v<7;v++){var d=h.getNextNDay(f.time,v),m=h.dataToRect([d.time],!1);c[2*d.day]=m.tl,c[2*d.day+1]=m[u==="horizontal"?"bl":"tr"]}return c},_formatterLabel:function(s,f){return typeof s=="string"&&s?n.formatTplSimple(s,f):typeof s=="function"?s(f):f.nameMap},_yearTextPositionControl:function(s,f,u,h,c){f=f.slice();var v=["center","bottom"];h==="bottom"?(f[1]+=c,v=["center","top"]):h==="left"?f[0]-=c:h==="right"?(f[0]+=c,v=["center","top"]):f[1]-=c;var d=0;return(h==="left"||h==="right")&&(d=Math.PI/2),{rotation:d,position:f,style:{textAlign:v[0],textVerticalAlign:v[1]}}},_renderYearText:function(s,f,u,h){var c=s.getModel("yearLabel");if(c.get("show")){var v=c.get("margin"),d=c.get("position");d||(d=u!=="horizontal"?"top":"left");var m=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(m[0][0]+m[1][0])/2,p=(m[0][1]+m[1][1])/2,y=u==="horizontal"?0:1,x={top:[g,m[y][1]],bottom:[g,m[1-y][1]],left:[m[1-y][0],p],right:[m[y][0],p]},A=f.start.y;+f.end.y>+f.start.y&&(A=A+"-"+f.end.y);var w=c.get("formatter"),b={start:f.start.y,end:f.end.y,nameMap:A},S=this._formatterLabel(w,b),T=new r.Text({z2:30});r.setTextStyle(T.style,c,{text:S}),T.attr(this._yearTextPositionControl(T,x[d],u,d,v)),h.add(T)}},_monthTextPositionControl:function(s,f,u,h,c){var v="left",d="top",m=s[0],g=s[1];return u==="horizontal"?(g=g+c,f&&(v="center"),h==="start"&&(d="bottom")):(m=m+c,f&&(d="middle"),h==="start"&&(v="right")),{x:m,y:g,textAlign:v,textVerticalAlign:d}},_renderMonthText:function(s,f,u){var h=s.getModel("monthLabel");if(h.get("show")){var c=h.get("nameMap"),v=h.get("margin"),d=h.get("position"),m=h.get("align"),g=[this._tlpoints,this._blpoints];t.isString(c)&&(c=i[c.toUpperCase()]||[]);var p=d==="start"?0:1,y=f==="horizontal"?0:1;v=d==="start"?-v:v;for(var x=m==="center",A=0;A<g[p].length-1;A++){var w=g[p][A].slice(),b=this._firstDayOfMonth[A];if(x){var S=this._firstDayPoints[A];w[y]=(S[y]+g[0][A+1][y])/2}var T=h.get("formatter"),C=c[+b.m-1],M={yyyy:b.y,yy:(b.y+"").slice(2),MM:b.m,M:+b.m,nameMap:C},I=this._formatterLabel(T,M),P=new r.Text({z2:30});t.extend(r.setTextStyle(P.style,h,{text:I}),this._monthTextPositionControl(w,x,f,d,v)),u.add(P)}}},_weekTextPositionControl:function(s,f,u,h,c){var v="center",d="middle",m=s[0],g=s[1],p=u==="start";return f==="horizontal"?(m=m+h+(p?1:-1)*c[0]/2,v=p?"right":"left"):(g=g+h+(p?1:-1)*c[1]/2,d=p?"bottom":"top"),{x:m,y:g,textAlign:v,textVerticalAlign:d}},_renderWeekText:function(s,f,u,h){var c=s.getModel("dayLabel");if(c.get("show")){var v=s.coordinateSystem,d=c.get("position"),m=c.get("nameMap"),g=c.get("margin"),p=v.getFirstDayOfWeek();t.isString(m)&&(m=o[m.toUpperCase()]||[]);var y=v.getNextNDay(f.end.time,7-f.lweek).time,x=[v.getCellWidth(),v.getCellHeight()];g=a.parsePercent(g,x[u==="horizontal"?0:1]),d==="start"&&(y=v.getNextNDay(f.start.time,-(7+f.fweek)).time,g=-g);for(var A=0;A<7;A++){var w=v.getNextNDay(y,A),b=v.dataToRect([w.time],!1).center,S=A;S=Math.abs((A+p)%7);var T=new r.Text({z2:30});t.extend(r.setTextStyle(T.style,c,{text:m[S]}),this._weekTextPositionControl(b,u,d,g,x)),h.add(T)}}}});return W0=l,W0}var EP;function mte(){return EP||(EP=1,dte(),gte(),pte()),IP}var kP={},OP;function yte(){if(OP)return kP;OP=1;var e=Ge,t=ne,r=lt,n=ke,a=Tt,i=ht(),o=i.parsePercent,l={path:null,compoundPath:null,group:n.Group,image:n.Image,text:n.Text};e.registerPreprocessor(function(p){var y=p.graphic;t.isArray(y)?!y[0]||!y[0].elements?p.graphic=[{elements:y}]:p.graphic=[p.graphic[0]]:y&&!y.elements&&(p.graphic=[{elements:[y]}])});var s=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(p){var y=this.option.elements;this.option.elements=null,s.superApply(this,"mergeOption",arguments),this.option.elements=y},optionUpdated:function(p,y){var x=this.option,A=(y?x:p).elements,w=x.elements=y?[]:x.elements,b=[];this._flatten(A,b);var S=r.mappingToExists(w,b);r.makeIdAndName(S);var T=this._elOptionsToUpdate=[];t.each(S,function(M,I){var P=M.option;P&&(T.push(P),v(M,P),d(w,I,P),m(w[I],P))},this);for(var C=w.length-1;C>=0;C--)w[C]==null?w.splice(C,1):delete w[C].$action},_flatten:function(p,y,x){t.each(p,function(A){if(A){x&&(A.parentOption=x),y.push(A);var w=A.children;A.type==="group"&&w&&this._flatten(w,y,A),delete A.children}},this)},useElOptionsToUpdate:function(){var p=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,p}});e.extendComponentView({type:"graphic",init:function(p,y){this._elMap=t.createHashMap(),this._lastGraphicModel},render:function(p,y,x){p!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=p,this._updateElements(p),this._relocate(p,x)},_updateElements:function(p){var y=p.useElOptionsToUpdate();if(y){var x=this._elMap,A=this.group;t.each(y,function(w){var b=w.$action,S=w.id,T=x.get(S),C=w.parentId,M=C!=null?x.get(C):A,I=w.style;w.type==="text"&&I&&(w.hv&&w.hv[1]&&(I.textVerticalAlign=I.textBaseline=null),!I.hasOwnProperty("textFill")&&I.fill&&(I.textFill=I.fill),!I.hasOwnProperty("textStroke")&&I.stroke&&(I.textStroke=I.stroke));var P=h(w);!b||b==="merge"?T?T.attr(P):f(S,M,P,x):b==="replace"?(u(T,x),f(S,M,P,x)):b==="remove"&&u(T,x);var D=x.get(S);D&&(D.__ecGraphicWidthOption=w.width,D.__ecGraphicHeightOption=w.height,g(D,p))})}},_relocate:function(p,y){for(var x=p.option.elements,A=this.group,w=this._elMap,b=y.getWidth(),S=y.getHeight(),T=0;T<x.length;T++){var C=x[T],M=w.get(C.id);if(!(!M||!M.isGroup)){var I=M.parent,P=I===A;M.__ecGraphicWidth=o(M.__ecGraphicWidthOption,P?b:I.__ecGraphicWidth)||0,M.__ecGraphicHeight=o(M.__ecGraphicHeightOption,P?S:I.__ecGraphicHeight)||0}}for(var T=x.length-1;T>=0;T--){var C=x[T],M=w.get(C.id);if(M){var I=M.parent,D=I===A?{width:b,height:S}:{width:I.__ecGraphicWidth,height:I.__ecGraphicHeight};a.positionElement(M,C,D,null,{hv:C.hv,boundingMode:C.bounding})}}},_clear:function(){var p=this._elMap;p.each(function(y){u(y,p)}),this._elMap=t.createHashMap()},dispose:function(){this._clear()}});function f(p,y,x,A){var w=x.type,b=l.hasOwnProperty(w)?l[w]:n.getShapeClass(w),S=new b(x);y.add(S),A.set(p,S),S.__ecGraphicId=p}function u(p,y){var x=p&&p.parent;x&&(p.type==="group"&&p.traverse(function(A){u(A,y)}),y.removeKey(p.__ecGraphicId),x.remove(p))}function h(p){return p=t.extend({},p),t.each(["id","parentId","$action","hv","bounding"].concat(a.LOCATION_PARAMS),function(y){delete p[y]}),p}function c(p,y){var x;return t.each(y,function(A){p[A]!=null&&p[A]!=="auto"&&(x=!0)}),x}function v(p,y){var x=p.exist;if(y.id=p.keyInfo.id,!y.type&&x&&(y.type=x.type),y.parentId==null){var A=y.parentOption;A?y.parentId=A.id:x&&(y.parentId=x.parentId)}y.parentOption=null}function d(p,y,x){var A=t.extend({},x),w=p[y],b=x.$action||"merge";b==="merge"?w?(t.merge(w,A,!0),a.mergeLayoutParam(w,A,{ignoreSize:!0}),a.copyLayoutParams(x,w)):p[y]=A:b==="replace"?p[y]=A:b==="remove"&&w&&(p[y]=null)}function m(p,y){p&&(p.hv=y.hv=[c(y,["left","right"]),c(y,["top","bottom"])],p.type==="group"&&(p.width==null&&(p.width=y.width=0),p.height==null&&(p.height=y.height=0)))}function g(p,y,x){var A=p.eventData;!p.silent&&!p.ignore&&!A&&(A=p.eventData={componentType:"graphic",componentIndex:y.componentIndex,name:p.name}),A&&(A.info=p.info)}return kP}var BP={},bc={},NP;function no(){if(NP)return bc;NP=1;var e={};function t(n,a){e[n]=a}function r(n){return e[n]}return bc.register=t,bc.get=r,bc}var $0,zP;function _te(){if(zP)return $0;zP=1;var e=Ge,t=ne,r=no(),n=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){n.superApply(this,"optionUpdated",arguments),t.each(this.option.feature,function(i,o){var l=r.get(o);l&&t.merge(i,l.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),a=n;return $0=a,$0}var Ac={},VP;function WN(){if(VP)return Ac;VP=1;var e=Tt,t=e.getLayoutRect,r=e.box,n=e.positionElement,a=jt(),i=ke;function o(s,f,u){var h=f.getBoxLayoutParams(),c=f.get("padding"),v={width:u.getWidth(),height:u.getHeight()},d=t(h,v,c);r(f.get("orient"),s,f.get("itemGap"),d.width,d.height),n(s,h,v,c)}function l(c,f){var u=a.normalizeCssArray(f.get("padding")),h=f.getItemStyle(["color","opacity"]);h.fill=f.get("backgroundColor");var c=new i.Rect({shape:{x:c.x-u[3],y:c.y-u[0],width:c.width+u[1]+u[3],height:c.height+u[0]+u[2],r:f.get("borderRadius")},style:h,silent:!0,z2:-1});return c}return Ac.layout=o,Ac.makeBackground=l,Ac}var Y0,FP;function xte(){if(FP)return Y0;FP=1;var e=Ge,t=ne,r=ir,n=no(),a=ke,i=br(),o=Vo(),l=WN(),s=e.extendComponentView({type:"toolbox",render:function(u,h,c,v){var d=this.group;if(d.removeAll(),!u.get("show"))return;var m=+u.get("itemSize"),g=u.get("feature")||{},p=this._features||(this._features={}),y=[];t.each(g,function(w,b){y.push(b)}),new o(this._featureNames||[],y).add(x).update(x).remove(t.curry(x,null)).execute(),this._featureNames=y;function x(w,b){var S=y[w],T=y[b],C=g[S],M=new i(C,u,u.ecModel),I;if(v&&v.newTitle!=null&&v.featureName===S&&(C.title=v.newTitle),S&&!T){if(f(S))I={model:M,onclick:M.option.onclick,featureName:S};else{var P=n.get(S);if(!P)return;I=new P(M,h,c)}p[S]=I}else{if(I=p[T],!I)return;I.model=M,I.ecModel=h,I.api=c}if(!S&&T){I.dispose&&I.dispose(h,c);return}if(!M.get("show")||I.unusable){I.remove&&I.remove(h,c);return}A(M,I,S),M.setIconStatus=function(D,k){var R=this.option,B=this.iconPaths;R.iconStatus=R.iconStatus||{},R.iconStatus[D]=k,B[D]&&B[D].trigger(k)},I.render&&I.render(M,h,c,v)}function A(w,b,S){var T=w.getModel("iconStyle"),C=w.getModel("emphasis.iconStyle"),M=b.getIcons?b.getIcons():w.get("icon"),I=w.get("title")||{};if(typeof M=="string"){var P=M,D=I;M={},I={},M[S]=P,I[S]=D}var k=w.iconPaths={};t.each(M,function(R,B){var V=a.createIcon(R,{},{x:-m/2,y:-m/2,width:m,height:m});V.setStyle(T.getItemStyle()),V.hoverStyle=C.getItemStyle(),V.setStyle({text:I[B],textAlign:C.get("textAlign"),textBorderRadius:C.get("textBorderRadius"),textPadding:C.get("textPadding"),textFill:null});var F=u.getModel("tooltip");F&&F.get("show")&&V.attr("tooltip",t.extend({content:I[B],formatter:F.get("formatter",!0)||function(){return I[B]},formatterParams:{componentType:"toolbox",name:B,title:I[B],$vars:["name","title"]},position:F.get("position",!0)||"bottom"},F.option)),a.setHoverStyle(V),u.get("showTitle")&&(V.__title=I[B],V.on("mouseover",function(){var Y=C.getItemStyle(),q=u.get("orient")==="vertical"?u.get("right")==null?"right":"left":u.get("bottom")==null?"bottom":"top";V.setStyle({textFill:C.get("textFill")||Y.fill||Y.stroke||"#000",textBackgroundColor:C.get("textBackgroundColor"),textPosition:C.get("textPosition")||q})}).on("mouseout",function(){V.setStyle({textFill:null,textBackgroundColor:null})})),V.trigger(w.get("iconStatus."+B)||"normal"),d.add(V),V.on("click",t.bind(b.onclick,b,h,c,B)),k[B]=V})}l.layout(d,u,c),d.add(l.makeBackground(d.getBoundingRect(),u)),d.eachChild(function(w){var b=w.__title,S=w.hoverStyle;if(S&&b){var T=r.getBoundingRect(b,r.makeFont(S)),C=w.position[0]+d.position[0],M=w.position[1]+d.position[1]+m,I=!1;M+T.height>c.getHeight()&&(S.textPosition="top",I=!0);var P=I?-5-T.height:m+8;C+T.width/2>c.getWidth()?(S.textPosition=["100%",P],S.textAlign="right"):C-T.width/2<0&&(S.textPosition=[0,P],S.textAlign="left")}})},updateView:function(u,h,c,v){t.each(this._features,function(d){d.updateView&&d.updateView(d.model,h,c,v)})},remove:function(u,h){t.each(this._features,function(c){c.remove&&c.remove(u,h)}),this.group.removeAll()},dispose:function(u,h){t.each(this._features,function(c){c.dispose&&c.dispose(u,h)})}});function f(u){return u.indexOf("my")===0}return Y0=s,Y0}var Z0,HP;function wte(){if(HP)return Z0;HP=1;var e=Sr,t=to,r=no(),n=t.toolbox.saveAsImage;function a(l){this.model=l}a.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:n.lang.slice()},a.prototype.unusable=!e.canvasSupported;var i=a.prototype;i.onclick=function(l,s){var f=this.model,u=f.get("name")||l.get("title.0.text")||"echarts",h=s.getZr().painter.getType()==="svg",c=h?"svg":f.get("type",!0)||"png",v=s.getConnectedDataURL({type:c,backgroundColor:f.get("backgroundColor",!0)||l.get("backgroundColor")||"#fff",connectedBackgroundColor:f.get("connectedBackgroundColor"),excludeComponents:f.get("excludeComponents"),pixelRatio:f.get("pixelRatio")});if(typeof MouseEvent=="function"&&!e.browser.ie&&!e.browser.edge){var d=document.createElement("a");d.download=u+"."+c,d.target="_blank",d.href=v;var m=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});d.dispatchEvent(m)}else if(window.navigator.msSaveOrOpenBlob){for(var g=atob(v.split(",")[1]),p=g.length,y=new Uint8Array(p);p--;)y[p]=g.charCodeAt(p);var x=new Blob([y]);window.navigator.msSaveOrOpenBlob(x,u+"."+c)}else{var A=f.get("lang"),w='<body style="margin:0;"><img src="'+v+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',b=window.open();b.document.write(w)}},r.register("saveAsImage",a);var o=a;return Z0=o,Z0}var K0,qP;function Ste(){if(qP)return K0;qP=1;var e=Ge,t=ne,r=to,n=no(),a=r.toolbox.magicType,i="__ec_magicType_stack__";function o(h){this.model=h}o.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.clone(a.title),option:{},seriesIndex:{}};var l=o.prototype;l.getIcons=function(){var h=this.model,c=h.get("icon"),v={};return t.each(h.get("type"),function(d){c[d]&&(v[d]=c[d])}),v};var s={line:function(h,c,v,d){if(h==="bar")return t.merge({id:c,type:"line",data:v.get("data"),stack:v.get("stack"),markPoint:v.get("markPoint"),markLine:v.get("markLine")},d.get("option.line")||{},!0)},bar:function(h,c,v,d){if(h==="line")return t.merge({id:c,type:"bar",data:v.get("data"),stack:v.get("stack"),markPoint:v.get("markPoint"),markLine:v.get("markLine")},d.get("option.bar")||{},!0)},stack:function(h,c,v,d){var m=v.get("stack")===i;if(h==="line"||h==="bar")return d.setIconStatus("stack",m?"normal":"emphasis"),t.merge({id:c,stack:m?"":i},d.get("option.stack")||{},!0)}},f=[["line","bar"],["stack"]];l.onclick=function(h,c,v){var d=this.model,m=d.get("seriesIndex."+v);if(s[v]){var g={series:[]},p=function(A){var w=A.subType,b=A.id,S=s[v](w,b,A,d);S&&(t.defaults(S,A.option),g.series.push(S));var T=A.coordinateSystem;if(T&&T.type==="cartesian2d"&&(v==="line"||v==="bar")){var C=T.getAxesByScale("ordinal")[0];if(C){var M=C.dim,I=M+"Axis",P=h.queryComponents({mainType:I,index:A.get(name+"Index"),id:A.get(name+"Id")})[0],D=P.componentIndex;g[I]=g[I]||[];for(var k=0;k<=D;k++)g[I][D]=g[I][D]||{};g[I][D].boundaryGap=v==="bar"}}};t.each(f,function(A){t.indexOf(A,v)>=0&&t.each(A,function(w){d.setIconStatus(w,"normal")})}),d.setIconStatus(v,"emphasis"),h.eachComponent({mainType:"series",query:m==null?null:{seriesIndex:m}},p);var y;if(v==="stack"){var x=g.series&&g.series[0]&&g.series[0].stack===i;y=x?t.merge({stack:a.title.tiled},a.title):t.clone(a.title)}c.dispatchAction({type:"changeMagicType",currentType:v,newOption:g,newTitle:y,featureName:"magicType"})}},e.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(h,c){c.mergeOption(h.newOption)}),n.register("magicType",o);var u=o;return K0=u,K0}var X0,UP;function bte(){if(UP)return X0;UP=1;var e=Ge,t=ne,r=kr,n=to,a=no(),i=n.toolbox.dataView,o=new Array(60).join("-"),l="	";function s(w){var b={},S=[],T=[];return w.eachRawSeries(function(C){var M=C.coordinateSystem;if(M&&(M.type==="cartesian2d"||M.type==="polar")){var I=M.getBaseAxis();if(I.type==="category"){var P=I.dim+"_"+I.index;b[P]||(b[P]={categoryAxis:I,valueAxis:M.getOtherAxis(I),series:[]},T.push({axisDim:I.dim,axisIndex:I.index})),b[P].series.push(C)}else S.push(C)}else S.push(C)}),{seriesGroupByCategoryAxis:b,other:S,meta:T}}function f(w){var b=[];return t.each(w,function(S,T){var C=S.categoryAxis,M=S.valueAxis,I=M.dim,P=[" "].concat(t.map(S.series,function(F){return F.name})),D=[C.model.getCategories()];t.each(S.series,function(F){var Y=F.getRawData();D.push(F.getRawData().mapArray(Y.mapDimension(I),function(q){return q}))});for(var k=[P.join(l)],R=0;R<D[0].length;R++){for(var B=[],V=0;V<D.length;V++)B.push(D[V][R]);k.push(B.join(l))}b.push(k.join(`
`))}),b.join(`

`+o+`

`)}function u(w){return t.map(w,function(b){var S=b.getRawData(),T=[b.name],C=[];return S.each(S.dimensions,function(){for(var M=arguments.length,I=arguments[M-1],P=S.getName(I),D=0;D<M-1;D++)C[D]=arguments[D];T.push((P?P+l:"")+C.join(l))}),T.join(`
`)}).join(`

`+o+`

`)}function h(w){var b=s(w);return{value:t.filter([f(b.seriesGroupByCategoryAxis),u(b.other)],function(S){return S.replace(/[\n\t\s]/g,"")}).join(`

`+o+`

`),meta:b.meta}}function c(w){return w.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function v(w){var b=w.slice(0,w.indexOf(`
`));if(b.indexOf(l)>=0)return!0}var d=new RegExp("["+l+"]+","g");function m(w){for(var b=w.split(/\n+/g),S=c(b.shift()).split(d),T=[],C=t.map(S,function(D){return{name:D,data:[]}}),M=0;M<b.length;M++){var I=c(b[M]).split(d);T.push(I.shift());for(var P=0;P<I.length;P++)C[P]&&(C[P].data[M]=I[P])}return{series:C,categories:T}}function g(w){for(var b=w.split(/\n+/g),S=c(b.shift()),T=[],C=0;C<b.length;C++){var M=c(b[C]);if(M){var I=M.split(d),P="",D,k=!1;isNaN(I[0])?(k=!0,P=I[0],I=I.slice(1),T[C]={name:P,value:[]},D=T[C].value):D=T[C]=[];for(var R=0;R<I.length;R++)D.push(+I[R]);D.length===1&&(k?T[C].value=D[0]:T[C]=D[0])}}return{name:S,data:T}}function p(w,b){var S=w.split(new RegExp(`
*`+o+`
*`,"g")),T={series:[]};return t.each(S,function(C,M){if(v(C)){var I=m(C),P=b[M],D=P.axisDim+"Axis";P&&(T[D]=T[D]||[],T[D][P.axisIndex]={data:I.categories},T.series=T.series.concat(I.series))}else{var I=g(C);T.series.push(I)}}),T}function y(w){this._dom=null,this.model=w}y.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.clone(i.title),lang:t.clone(i.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},y.prototype.onclick=function(w,b){var S=b.getDom(),T=this.model;this._dom&&S.removeChild(this._dom);var C=document.createElement("div");C.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",C.style.backgroundColor=T.get("backgroundColor")||"#fff";var M=document.createElement("h4"),I=T.get("lang")||[];M.innerHTML=I[0]||T.get("title"),M.style.cssText="margin: 10px 20px;",M.style.color=T.get("textColor");var P=document.createElement("div"),D=document.createElement("textarea");P.style.cssText="display:block;width:100%;overflow:auto;";var k=T.get("optionToContent"),R=T.get("contentToOption"),B=h(w);if(typeof k=="function"){var V=k(b.getOption());typeof V=="string"?P.innerHTML=V:t.isDom(V)&&P.appendChild(V)}else P.appendChild(D),D.readOnly=T.get("readOnly"),D.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",D.style.color=T.get("textColor"),D.style.borderColor=T.get("textareaBorderColor"),D.style.backgroundColor=T.get("textareaColor"),D.value=B.value;var F=B.meta,Y=document.createElement("div");Y.style.cssText="position:absolute;bottom:0;left:0;right:0;";var q="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",E=document.createElement("div"),z=document.createElement("div");q+=";background-color:"+T.get("buttonColor"),q+=";color:"+T.get("buttonTextColor");var N=this;function H(){S.removeChild(C),N._dom=null}r.addEventListener(E,"click",H),r.addEventListener(z,"click",function(){var W;try{typeof R=="function"?W=R(P,b.getOption()):W=p(D.value,F)}catch(U){throw H(),new Error("Data view format error "+U)}W&&b.dispatchAction({type:"changeDataView",newOption:W}),H()}),E.innerHTML=I[1],z.innerHTML=I[2],z.style.cssText=q,E.style.cssText=q,!T.get("readOnly")&&Y.appendChild(z),Y.appendChild(E),C.appendChild(M),C.appendChild(P),C.appendChild(Y),P.style.height=S.clientHeight-80+"px",S.appendChild(C),this._dom=C},y.prototype.remove=function(w,b){this._dom&&b.getDom().removeChild(this._dom)},y.prototype.dispose=function(w,b){this.remove(w,b)};function x(w,b){return t.map(w,function(S,T){var C=b&&b[T];if(t.isObject(C)&&!t.isArray(C)){var M=t.isObject(S)&&!t.isArray(S);M||(S={value:S});var I=C.name!=null&&S.name==null;return S=t.defaults(S,C),I&&delete S.name,S}else return S})}a.register("dataView",y),e.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(w,b){var S=[];t.each(w.newOption.series,function(T){var C=b.getSeriesByName(T.name)[0];if(!C)S.push(t.extend({type:"scatter"},T));else{var M=C.get("data");S.push({name:T.name,data:x(T.data,M)})}}),b.mergeOption(t.defaults({series:S},w.newOption))});var A=y;return X0=A,X0}var Q0,GP;function $N(){if(GP)return Q0;GP=1;var e=ne,t=ke,r=lt,n=kN(),a=e.each,i=e.indexOf,o=e.curry,l=["dataToPoint","pointToData"],s=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function f(S,T,C){var M=this._targetInfoList=[],I={},P=c(T,S);a(v,function(D,k){(!C||!C.include||i(C.include,k)>=0)&&D(P,M,I)})}var u=f.prototype;u.setOutputRanges=function(S,T){this.matchOutputRanges(S,T,function(C,M,I){if((C.coordRanges||(C.coordRanges=[])).push(M),!C.coordRange){C.coordRange=M;var P=g[C.brushType](0,I,M);C.__rangeOffset={offset:y[C.brushType](P.values,C.range,[1,1]),xyMinMax:P.xyMinMax}}})},u.matchOutputRanges=function(S,T,C){a(S,function(M){var I=this.findTargetInfo(M,T);I&&I!==!0&&e.each(I.coordSyses,function(P){var D=g[M.brushType](1,P,M.range);C(M,D.values,P,T)})},this)},u.setInputRanges=function(S,T){a(S,function(C){var M=this.findTargetInfo(C,T);if(C.range=C.range||[],M&&M!==!0){C.panelId=M.panelId;var I=g[C.brushType](0,M.coordSys,C.coordRange),P=C.__rangeOffset;C.range=P?y[C.brushType](I.values,P.offset,A(I.xyMinMax,P.xyMinMax)):I.values}},this)},u.makePanelOpts=function(S,T){return e.map(this._targetInfoList,function(C){var M=C.getPanelRect();return{panelId:C.panelId,defaultBrushType:T&&T(C),clipPath:n.makeRectPanelClipPath(M),isTargetByCursor:n.makeRectIsTargetByCursor(M,S,C.coordSysModel),getLinearBrushOtherExtent:n.makeLinearBrushOtherExtent(M)}})},u.controlSeries=function(S,T,C){var M=this.findTargetInfo(S,C);return M===!0||M&&i(M.coordSyses,T.coordinateSystem)>=0},u.findTargetInfo=function(S,T){for(var C=this._targetInfoList,M=c(T,S),I=0;I<C.length;I++){var P=C[I],D=S.panelId;if(D){if(P.panelId===D)return P}else for(var I=0;I<d.length;I++)if(d[I](M,P))return P}return!0};function h(S){return S[0]>S[1]&&S.reverse(),S}function c(S,T){return r.parseFinder(S,T,{includeMainTypes:s})}var v={grid:function(S,T){var C=S.xAxisModels,M=S.yAxisModels,I=S.gridModels,P=e.createHashMap(),D={},k={};!C&&!M&&!I||(a(C,function(R){var B=R.axis.grid.model;P.set(B.id,B),D[B.id]=!0}),a(M,function(R){var B=R.axis.grid.model;P.set(B.id,B),k[B.id]=!0}),a(I,function(R){P.set(R.id,R),D[R.id]=!0,k[R.id]=!0}),P.each(function(R){var B=R.coordinateSystem,V=[];a(B.getCartesians(),function(F,Y){(i(C,F.getAxis("x").model)>=0||i(M,F.getAxis("y").model)>=0)&&V.push(F)}),T.push({panelId:"grid--"+R.id,gridModel:R,coordSysModel:R,coordSys:V[0],coordSyses:V,getPanelRect:m.grid,xAxisDeclared:D[R.id],yAxisDeclared:k[R.id]})}))},geo:function(S,T){a(S.geoModels,function(C){var M=C.coordinateSystem;T.push({panelId:"geo--"+C.id,geoModel:C,coordSysModel:C,coordSys:M,coordSyses:[M],getPanelRect:m.geo})})}},d=[function(S,T){var C=S.xAxisModel,M=S.yAxisModel,I=S.gridModel;return!I&&C&&(I=C.axis.grid.model),!I&&M&&(I=M.axis.grid.model),I&&I===T.gridModel},function(S,T){var C=S.geoModel;return C&&C===T.geoModel}],m={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var S=this.coordSys,T=S.getBoundingRect().clone();return T.applyTransform(t.getTransform(S)),T}},g={lineX:o(p,0),lineY:o(p,1),rect:function(S,T,C){var M=T[l[S]]([C[0][0],C[1][0]]),I=T[l[S]]([C[0][1],C[1][1]]),P=[h([M[0],I[0]]),h([M[1],I[1]])];return{values:P,xyMinMax:P}},polygon:function(S,T,C){var M=[[1/0,-1/0],[1/0,-1/0]],I=e.map(C,function(P){var D=T[l[S]](P);return M[0][0]=Math.min(M[0][0],D[0]),M[1][0]=Math.min(M[1][0],D[1]),M[0][1]=Math.max(M[0][1],D[0]),M[1][1]=Math.max(M[1][1],D[1]),D});return{values:I,xyMinMax:M}}};function p(S,T,C,M){var I=C.getAxis(["x","y"][S]),P=h(e.map([0,1],function(k){return T?I.coordToData(I.toLocalCoord(M[k])):I.toGlobalCoord(I.dataToCoord(M[k]))})),D=[];return D[S]=P,D[1-S]=[NaN,NaN],{values:P,xyMinMax:D}}var y={lineX:o(x,0),lineY:o(x,1),rect:function(S,T,C){return[[S[0][0]-C[0]*T[0][0],S[0][1]-C[0]*T[0][1]],[S[1][0]-C[1]*T[1][0],S[1][1]-C[1]*T[1][1]]]},polygon:function(S,T,C){return e.map(S,function(M,I){return[M[0]-C[0]*T[I][0],M[1]-C[1]*T[I][1]]})}};function x(S,T,C,M){return[T[0]-M[S]*C[0],T[1]-M[S]*C[1]]}function A(S,T){var C=w(S),M=w(T),I=[C[0]/M[0],C[1]/M[1]];return isNaN(I[0])&&(I[0]=1),isNaN(I[1])&&(I[1]=1),I}function w(S){return S?[S[0][1]-S[0][0],S[1][1]-S[1][0]]:[NaN,NaN]}var b=f;return Q0=b,Q0}var hs={},WP;function YN(){if(WP)return hs;WP=1;var e=ne,t=e.each,r="\0_ec_hist_store";function n(s,f){var u=l(s);t(f,function(h,c){for(var v=u.length-1;v>=0;v--){var d=u[v];if(d[c])break}if(v<0){var m=s.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0];if(m){var g=m.getPercentRange();u[0][c]={dataZoomId:c,start:g[0],end:g[1]}}}}),u.push(f)}function a(s){var f=l(s),u=f[f.length-1];f.length>1&&f.pop();var h={};return t(u,function(c,v){for(var d=f.length-1;d>=0;d--){var c=f[d][v];if(c){h[v]=c;break}}}),h}function i(s){s[r]=null}function o(s){return l(s).length}function l(s){var f=s[r];return f||(f=s[r]=[{}]),f}return hs.push=n,hs.pop=a,hs.clear=i,hs.count=o,hs}var $P={},YP={},ZP;function Px(){if(ZP)return YP;ZP=1;var e=Or;return e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),YP}var vs={},KP;function Dx(){if(KP)return vs;KP=1;var e=ne,t=jt(),r=["x","y","z","radius","angle","single"],n=["cartesian2d","polar","singleAxis"];function a(s){return e.indexOf(n,s)>=0}function i(s,f){s=s.slice();var u=e.map(s,t.capitalFirst);f=(f||[]).slice();var h=e.map(f,t.capitalFirst);return function(c,v){e.each(s,function(d,m){for(var g={name:d,capital:u[m]},p=0;p<f.length;p++)g[f[p]]=d+h[p];c.call(v,g)})}}var o=i(r,["axisIndex","axis","index","id"]);function l(s,f,u){return function(d){var m={nodes:[],records:{}};if(f(function(y){m.records[y.name]={}}),!d)return m;v(d,m);var g;do g=!1,s(p);while(g);function p(y){!h(y,m)&&c(y,m)&&(v(y,m),g=!0)}return m};function h(d,m){return e.indexOf(m.nodes,d)>=0}function c(d,m){var g=!1;return f(function(p){e.each(u(d,p)||[],function(y){m.records[p.name][y]&&(g=!0)})}),g}function v(d,m){m.nodes.push(d),f(function(g){e.each(u(d,g)||[],function(p){m.records[g.name][p]=!0})})}}return vs.isCoordSupported=a,vs.createNameEach=i,vs.eachAxisDim=o,vs.createLinkedNodesFinder=l,vs}var J0,XP;function Ate(){if(XP)return J0;XP=1;var e=ne,t=ht(),r=Dx(),n=ol(),a=e.each,i=t.asc,o=function(c,v,d,m){this._dimName=c,this._axisIndex=v,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=m,this._dataZoomModel=d};o.prototype={constructor:o,hostedBy:function(c){return this._dataZoomModel===c},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var c=[],v=this.ecModel;return v.eachSeries(function(d){if(r.isCoordSupported(d.get("coordinateSystem"))){var m=this._dimName,g=v.queryComponents({mainType:m+"Axis",index:d.get(m+"AxisIndex"),id:d.get(m+"AxisId")})[0];this._axisIndex===(g&&g.componentIndex)&&c.push(d)}},this),c},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var c=this._dimName,v=this.ecModel,d=this.getAxisModel(),m=c==="x"||c==="y",g,p;m?(p="gridIndex",g=c==="x"?"y":"x"):(p="polarIndex",g=c==="angle"?"radius":"angle");var y;return v.eachComponent(g+"Axis",function(x){(x.get(p)||0)===(d.get(p)||0)&&(y=x)}),y},getMinMaxSpan:function(){return e.clone(this._minMaxSpan)},calculateDataWindow:function(c){var v=this._dataExtent,d=this.getAxisModel(),m=d.axis.scale,g=this._dataZoomModel.getRangePropMode(),p=[0,100],y=[],x=[],A;a(["start","end"],function(S,T){var C=c[S],M=c[S+"Value"];g[T]==="percent"?(C==null&&(C=p[T]),M=m.parse(t.linearMap(C,p,v))):(A=!0,M=M==null?v[T]:m.parse(M),C=t.linearMap(M,v,p)),x[T]=M,y[T]=C}),i(x),i(y);var w=this._minMaxSpan;A?b(x,y,v,p,!1):b(y,x,p,v,!0);function b(S,T,C,M,I){var P=I?"Span":"ValueSpan";n(0,S,C,"all",w["min"+P],w["max"+P]);for(var D=0;D<2;D++)T[D]=t.linearMap(S[D],C,M,!0),I&&(T[D]=m.parse(T[D]))}return{valueWindow:x,percentWindow:y}},reset:function(c){if(c===this._dataZoomModel){var v=this.getTargetSeriesModels();this._dataExtent=l(this,this._dimName,v),u(this);var d=this.calculateDataWindow(c.settledOption);this._valueWindow=d.valueWindow,this._percentWindow=d.percentWindow,f(this)}},restore:function(c){c===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,f(this,!0))},filterData:function(c,v){if(c!==this._dataZoomModel)return;var d=this._dimName,m=this.getTargetSeriesModels(),g=c.get("filterMode"),p=this._valueWindow;if(g==="none")return;a(m,function(x){var A=x.getData(),w=A.mapDimension(d,!0);w.length&&(g==="weakFilter"?A.filterSelf(function(b){for(var S,T,C,M=0;M<w.length;M++){var I=A.get(w[M],b),P=!isNaN(I),D=I<p[0],k=I>p[1];if(P&&!D&&!k)return!0;P&&(C=!0),D&&(S=!0),k&&(T=!0)}return C&&S&&T}):a(w,function(b){if(g==="empty")x.setData(A=A.map(b,function(T){return y(T)?T:NaN}));else{var S={};S[b]=p,A.selectRange(S)}}),a(w,function(b){A.setApproximateExtent(p,b)}))});function y(x){return x>=p[0]&&x<=p[1]}}};function l(c,v,d){var m=[1/0,-1/0];return a(d,function(g){var p=g.getData();p&&a(p.mapDimension(v,!0),function(y){var x=p.getApproximateExtent(y);x[0]<m[0]&&(m[0]=x[0]),x[1]>m[1]&&(m[1]=x[1])})}),m[1]<m[0]&&(m=[NaN,NaN]),s(c,m),m}function s(c,v){var d=c.getAxisModel(),m=d.getMin(!0),g=d.get("type")==="category",p=g&&d.getCategories().length;m!=null&&m!=="dataMin"&&typeof m!="function"?v[0]=m:g&&(v[0]=p>0?0:NaN);var y=d.getMax(!0);return y!=null&&y!=="dataMax"&&typeof y!="function"?v[1]=y:g&&(v[1]=p>0?p-1:NaN),d.get("scale",!0)||(v[0]>0&&(v[0]=0),v[1]<0&&(v[1]=0)),v}function f(c,v){var d=c.getAxisModel(),m=c._percentWindow,g=c._valueWindow;if(m){var p=t.getPixelPrecision(g,[0,500]);p=Math.min(p,20);var y=v||m[0]===0&&m[1]===100;d.setRange(y?null:+g[0].toFixed(p),y?null:+g[1].toFixed(p))}}function u(c){var v=c._minMaxSpan={},d=c._dataZoomModel,m=c._dataExtent;a(["min","max"],function(g){var p=d.get(g+"Span"),y=d.get(g+"ValueSpan");y!=null&&(y=c.getAxisModel().axis.scale.parse(y)),y!=null?p=t.linearMap(m[0]+y,m,[0,100],!0):p!=null&&(y=t.linearMap(p,[0,100],m,!0)-m[0]),v[g+"Span"]=p,v[g+"ValueSpan"]=y})}var h=o;return J0=h,J0}var j0,QP;function sl(){if(QP)return j0;QP=1;var e=Ge,t=ne,r=Sr,n=lt,a=Dx(),i=Ate(),o=t.each,l=a.eachAxisDim,s=e.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(c,v,d){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var m=f(c);this.settledOption=m,this.mergeDefaultAndTheme(c,d),this.doInit(m)},mergeOption:function(c){var v=f(c);t.merge(this.option,c,!0),t.merge(this.settledOption,v,!0),this.doInit(v)},doInit:function(c){var v=this.option;r.canvasSupported||(v.realtime=!1),this._setDefaultThrottle(c),u(this,c);var d=this.settledOption;o([["start","startValue"],["end","endValue"]],function(m,g){this._rangePropMode[g]==="value"&&(v[m[0]]=d[m[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var c=this._axisProxies;this.eachTargetAxis(function(v,d,m,g){var p=this.dependentModels[v.axis][d],y=p.__dzAxisProxy||(p.__dzAxisProxy=new i(v.name,d,this,g));c[v.name+"_"+d]=y},this)},_resetTarget:function(){var c=this.option,v=this._judgeAutoMode();l(function(d){var m=d.axisIndex;c[m]=n.normalizeToArray(c[m])},this),v==="axisIndex"?this._autoSetAxisIndex():v==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var c=this.option,v=!1;l(function(m){c[m.axisIndex]!=null&&(v=!0)},this);var d=c.orient;if(d==null&&v)return"orient";if(!v)return d==null&&(c.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var c=!0,v=this.get("orient",!0),d=this.option,m=this.dependentModels;if(c){var g=v==="vertical"?"y":"x";m[g+"Axis"].length?(d[g+"AxisIndex"]=[0],c=!1):o(m.singleAxis,function(p){c&&p.get("orient",!0)===v&&(d.singleAxisIndex=[p.componentIndex],c=!1)})}c&&l(function(p){if(c){var y=[],x=this.dependentModels[p.axis];if(x.length&&!y.length)for(var A=0,w=x.length;A<w;A++)x[A].get("type")==="category"&&y.push(A);d[p.axisIndex]=y,y.length&&(c=!1)}},this),c&&this.ecModel.eachSeries(function(p){this._isSeriesHasAllAxesTypeOf(p,"value")&&l(function(y){var x=d[y.axisIndex],A=p.get(y.axisIndex),w=p.get(y.axisId),b=p.ecModel.queryComponents({mainType:y.axis,index:A,id:w})[0];A=b.componentIndex,t.indexOf(x,A)<0&&x.push(A)})},this)},_autoSetOrient:function(){var c;this.eachTargetAxis(function(v){!c&&(c=v.name)},this),this.option.orient=c==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(c,v){var d=!0;return l(function(m){var g=c.get(m.axisIndex),p=this.dependentModels[m.axis][g];(!p||p.get("type")!==v)&&(d=!1)},this),d},_setDefaultThrottle:function(c){if(c.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var v=this.ecModel.option;this.option.throttle=v.animation&&v.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var c;return l(function(v){if(c==null){var d=this.get(v.axisIndex);d.length&&(c=this.dependentModels[v.axis][d[0]])}},this),c},eachTargetAxis:function(c,v){var d=this.ecModel;l(function(m){o(this.get(m.axisIndex),function(g){c.call(v,m,g,this,d)},this)},this)},getAxisProxy:function(c,v){return this._axisProxies[c+"_"+v]},getAxisModel:function(c,v){var d=this.getAxisProxy(c,v);return d&&d.getAxisModel()},setRawRange:function(c){var v=this.option,d=this.settledOption;o([["start","startValue"],["end","endValue"]],function(m){(c[m[0]]!=null||c[m[1]]!=null)&&(v[m[0]]=d[m[0]]=c[m[0]],v[m[1]]=d[m[1]]=c[m[1]])},this),u(this,c)},setCalculatedRange:function(c){var v=this.option;o(["start","startValue","end","endValue"],function(d){v[d]=c[d]})},getPercentRange:function(){var c=this.findRepresentativeAxisProxy();if(c)return c.getDataPercentWindow()},getValueRange:function(c,v){if(c==null&&v==null){var d=this.findRepresentativeAxisProxy();if(d)return d.getDataValueWindow()}else return this.getAxisProxy(c,v).getDataValueWindow()},findRepresentativeAxisProxy:function(c){if(c)return c.__dzAxisProxy;var v=this._axisProxies;for(var d in v)if(v.hasOwnProperty(d)&&v[d].hostedBy(this))return v[d];for(var d in v)if(v.hasOwnProperty(d)&&!v[d].hostedBy(this))return v[d]},getRangePropMode:function(){return this._rangePropMode.slice()}});function f(c){var v={};return o(["start","end","startValue","endValue","throttle"],function(d){c.hasOwnProperty(d)&&(v[d]=c[d])}),v}function u(c,v){var d=c._rangePropMode,m=c.get("rangeMode");o([["start","startValue"],["end","endValue"]],function(g,p){var y=v[g[0]]!=null,x=v[g[1]]!=null;y&&!x?d[p]="percent":!y&&x?d[p]="value":m?d[p]=m[p]:y&&(d[p]="percent")})}var h=s;return j0=h,j0}var ey,JP;function ll(){if(JP)return ey;JP=1;var e=Dh,t=e.extend({type:"dataZoom",render:function(r,n,a,i){this.dataZoomModel=r,this.ecModel=n,this.api=a},getTargetCoordInfo:function(){var r=this.dataZoomModel,n=this.ecModel,a={};r.eachTargetAxis(function(o,l){var s=n.getComponent(o.axis,l);if(s){var f=s.getCoordSysModel();f&&i(f,s,a[f.mainType]||(a[f.mainType]=[]),f.componentIndex)}},this);function i(o,l,s,f){for(var u,h=0;h<s.length;h++)if(s[h].model===o){u=s[h];break}u||s.push(u={model:o,axisModels:[],coordIndex:f}),u.axisModels.push(l)}return a}});return ey=t,ey}var ty,jP;function Tte(){if(jP)return ty;jP=1;var e=sl(),t=e.extend({type:"dataZoom.select"});return ty=t,ty}var ry,eD;function Cte(){if(eD)return ry;eD=1;var e=ll(),t=e.extend({type:"dataZoom.select"});return ry=t,ry}var tD={},rD;function Rx(){if(rD)return tD;rD=1;var e=Ge,t=ne,r=t.createHashMap,n=t.each;return e.registerProcessor({getTargetSeries:function(a){var i=r();return a.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(l,s,f){var u=f.getAxisProxy(l.name,s);n(u.getTargetSeriesModels(),function(h){i.set(h.uid,h)})})}),i},modifyOutputEnd:!0,overallReset:function(a,i){a.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(l,s,f){f.getAxisProxy(l.name,s).reset(f,i)}),o.eachTargetAxis(function(l,s,f){f.getAxisProxy(l.name,s).filterData(f,i)})}),a.eachComponent("dataZoom",function(o){var l=o.findRepresentativeAxisProxy(),s=l.getDataPercentWindow(),f=l.getDataValueWindow();o.setCalculatedRange({start:s[0],end:s[1],startValue:f[0],endValue:f[1]})})}}),tD}var aD={},nD;function Ex(){if(nD)return aD;nD=1;var e=Ge,t=ne,r=Dx();return e.registerAction("dataZoom",function(n,a){var i=r.createLinkedNodesFinder(t.bind(a.eachComponent,a,"dataZoom"),r.eachAxisDim,function(l,s){return l.get(s.axisIndex)}),o=[];a.eachComponent({mainType:"dataZoom",query:n},function(l,s){o.push.apply(o,i(l).nodes)}),t.each(o,function(l,s){l.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})}),aD}var iD;function Mte(){return iD||(iD=1,Px(),sl(),ll(),Tte(),Cte(),Rx(),Ex()),$P}var ay,oD;function Lte(){if(oD)return ay;oD=1;var e=Ge,t=ne,r=Mx(),n=$N(),a=YN(),i=ol(),o=to,l=no();Mte();var s=o.toolbox.dataZoom,f=t.each,u="\0_ec_\0toolbox-dataZoom_";function h(y,x,A){(this._brushController=new r(A.getZr())).on("brush",t.bind(this._onBrush,this)).mount(),this._isZoomActive}h.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.clone(s.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var c=h.prototype;c.render=function(y,x,A,w){this.model=y,this.ecModel=x,this.api=A,g(y,x,this,w,A),m(y,x)},c.onclick=function(y,x,A){v[A].call(this)},c.remove=function(y,x){this._brushController.unmount()},c.dispose=function(y,x){this._brushController.dispose()};var v={zoom:function(){var y=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:y})},back:function(){this._dispatchZoomAction(a.pop(this.ecModel))}};c._onBrush=function(y,x){if(!x.isEnd||!y.length)return;var A={},w=this.ecModel;this._brushController.updateCovers([]);var b=new n(d(this.model.option),w,{include:["grid"]});b.matchOutputRanges(y,w,function(C,M,I){if(I.type==="cartesian2d"){var P=C.brushType;P==="rect"?(S("x",I,M[0]),S("y",I,M[1])):S({lineX:"x",lineY:"y"}[P],I,M)}}),a.push(w,A),this._dispatchZoomAction(A);function S(C,M,I){var P=M.getAxis(C),D=P.model,k=T(C,D,w),R=k.findRepresentativeAxisProxy(D).getMinMaxSpan();(R.minValueSpan!=null||R.maxValueSpan!=null)&&(I=i(0,I.slice(),P.scale.getExtent(),0,R.minValueSpan,R.maxValueSpan)),k&&(A[k.id]={dataZoomId:k.id,startValue:I[0],endValue:I[1]})}function T(C,M,I){var P;return I.eachComponent({mainType:"dataZoom",subType:"select"},function(D){var k=D.getAxisModel(C,M.componentIndex);k&&(P=D)}),P}},c._dispatchZoomAction=function(y){var x=[];f(y,function(A,w){x.push(t.clone(A))}),x.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:x})};function d(y){var x={};return t.each(["xAxisIndex","yAxisIndex"],function(A){x[A]=y[A],x[A]==null&&(x[A]="all"),(x[A]===!1||x[A]==="none")&&(x[A]=[])}),x}function m(y,x){y.setIconStatus("back",a.count(x)>1?"emphasis":"normal")}function g(y,x,A,w,b){var S=A._isZoomActive;w&&w.type==="takeGlobalCursor"&&(S=w.key==="dataZoomSelect"?w.dataZoomSelectActive:!1),A._isZoomActive=S,y.setIconStatus("zoom",S?"emphasis":"normal");var T=new n(d(y.option),x,{include:["grid"]});A._brushController.setPanels(T.makePanelOpts(b,function(C){return C.xAxisDeclared&&!C.yAxisDeclared?"lineX":!C.xAxisDeclared&&C.yAxisDeclared?"lineY":"rect"})).enableBrush(S?{brushType:"auto",brushStyle:y.getModel("brushStyle").getItemStyle()}:!1)}l.register("dataZoom",h),e.registerPreprocessor(function(y){if(!y)return;var x=y.dataZoom||(y.dataZoom=[]);t.isArray(x)||(y.dataZoom=x=[x]);var A=y.toolbox;if(A&&(t.isArray(A)&&(A=A[0]),A&&A.feature)){var w=A.feature.dataZoom;b("xAxis",w),b("yAxis",w)}function b(T,C){if(C){var M=T+"Index",I=C[M];I!=null&&I!=="all"&&!t.isArray(I)&&(I=I===!1||I==="none"?[]:[I]),S(T,function(P,D){if(!(I!=null&&I!=="all"&&t.indexOf(I,D)===-1)){var k={type:"select",$fromToolbox:!0,filterMode:C.filterMode||"filter",id:u+T+D};k[M]=D,x.push(k)}})}}function S(T,C){var M=y[T];t.isArray(M)||(M=M?[M]:[]),f(M,C)}});var p=h;return ay=p,ay}var ny,sD;function Ite(){if(sD)return ny;sD=1;var e=Ge,t=YN(),r=to,n=no(),a=r.toolbox.restore;function i(s){this.model=s}i.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.title};var o=i.prototype;o.onclick=function(s,f,u){t.clear(s),f.dispatchAction({type:"restore",from:this.uid})},n.register("restore",i),e.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(s,f){f.resetOption("recreate")});var l=i;return ny=l,ny}var lD;function Pte(){return lD||(lD=1,_te(),xte(),wte(),Ste(),bte(),Lte(),Ite()),BP}var uD={},iy,fD;function Dte(){if(fD)return iy;fD=1;var e=Ge,t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});return iy=t,iy}var oy,cD;function Rte(){if(cD)return oy;cD=1;var e=ne,t=Mr,r=kr,n=Su,a=Sr,i=jt(),o=e.each,l=i.toCamelCase,s=["","-webkit-","-moz-","-o-"],f="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function u(g){var p="cubic-bezier(0.23, 1, 0.32, 1)",y="left "+g+"s "+p+",top "+g+"s "+p;return e.map(s,function(x){return x+"transition:"+y}).join(";")}function h(g){var p=[],y=g.get("fontSize"),x=g.getTextColor();x&&p.push("color:"+x),p.push("font:"+g.getFont());var A=g.get("lineHeight");A==null&&(A=Math.round(y*3/2)),y&&p.push("line-height:"+A+"px");var w=g.get("textShadowColor"),b=g.get("textShadowBlur")||0,S=g.get("textShadowOffsetX")||0,T=g.get("textShadowOffsetY")||0;return b&&p.push("text-shadow:"+S+"px "+T+"px "+b+"px "+w),o(["decoration","align"],function(C){var M=g.get(C);M&&p.push("text-"+C+":"+M)}),p.join(";")}function c(g){var p=[],y=g.get("transitionDuration"),x=g.get("backgroundColor"),A=g.getModel("textStyle"),w=g.get("padding");return y&&p.push(u(y)),x&&(a.canvasSupported?p.push("background-Color:"+x):(p.push("background-Color:#"+t.toHex(x)),p.push("filter:alpha(opacity=70)"))),o(["width","color","radius"],function(b){var S="border-"+b,T=l(S),C=g.get(T);C!=null&&p.push(S+":"+C+(b==="color"?"":"px"))}),p.push(h(A)),w!=null&&p.push("padding:"+i.normalizeCssArray(w).join("px ")+"px"),p.join(";")+";"}function v(g,p,y,x,A){var w=p&&p.painter;if(y){var b=w&&w.getViewportRoot();b&&n.transformLocalCoord(g,b,document.body,x,A)}else{g[0]=x,g[1]=A;var S=w&&w.getViewportRootOffset();S&&(g[0]+=S.offsetLeft,g[1]+=S.offsetTop)}g[2]=g[0]/p.getWidth(),g[3]=g[1]/p.getHeight()}function d(g,p,y){if(a.wxa)return null;var x=document.createElement("div");x.domBelongToZr=!0,this.el=x;var A=this._zr=p.getZr(),w=this._appendToBody=y&&y.appendToBody;this._styleCoord=[0,0,0,0],v(this._styleCoord,A,w,p.getWidth()/2,p.getHeight()/2),w?document.body.appendChild(x):g.appendChild(x),this._container=g,this._show=!1,this._hideTimeout;var b=this;x.onmouseenter=function(){b._enterable&&(clearTimeout(b._hideTimeout),b._show=!0),b._inContent=!0},x.onmousemove=function(S){if(S=S||window.event,!b._enterable){var T=A.handler,C=A.painter.getViewportRoot();r.normalizeEvent(C,S,!0),T.dispatch("mousemove",S)}},x.onmouseleave=function(){b._enterable&&b._show&&b.hideLater(b._hideDelay),b._inContent=!1}}d.prototype={constructor:d,_enterable:!0,update:function(g){var p=this._container,y=p.currentStyle||document.defaultView.getComputedStyle(p),x=p.style;x.position!=="absolute"&&y.position!=="absolute"&&(x.position="relative");var A=g.get("alwaysShowContent");A&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var g=this._styleCoord[2],p=this._styleCoord[3],y=g*this._zr.getWidth(),x=p*this._zr.getHeight();this.moveTo(y,x)},show:function(g){clearTimeout(this._hideTimeout);var p=this.el,y=this._styleCoord;p.style.cssText=f+c(g)+";left:"+y[0]+"px;top:"+y[1]+"px;"+(g.get("extraCssText")||""),p.style.display=p.innerHTML?"block":"none",p.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(g){this.el.innerHTML=g??""},setEnterable:function(g){this._enterable=g},getSize:function(){var g=this.el;return[g.clientWidth,g.clientHeight]},moveTo:function(g,p){var y=this._styleCoord;v(y,this._zr,this._appendToBody,g,p);var x=this.el.style;x.left=y[0]+"px",x.top=y[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(g){this._show&&!(this._inContent&&this._enterable)&&(g?(this._hideDelay=g,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),g)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var g=this.el.clientWidth,p=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var y=document.defaultView.getComputedStyle(this.el);y&&(g+=parseInt(y.borderLeftWidth,10)+parseInt(y.borderRightWidth,10),p+=parseInt(y.borderTopWidth,10)+parseInt(y.borderBottomWidth,10))}return{width:g,height:p}}};var m=d;return oy=m,oy}var sy,hD;function Ete(){if(hD)return sy;hD=1;var e=ne,t=No,r=ke;function n(o,l,s,f){o[0]=s,o[1]=f,o[2]=o[0]/l.getWidth(),o[3]=o[1]/l.getHeight()}function a(o){var l=this._zr=o.getZr();this._styleCoord=[0,0,0,0],n(this._styleCoord,l,o.getWidth()/2,o.getHeight()/2),this._show=!1,this._hideTimeout}a.prototype={constructor:a,_enterable:!0,update:function(o){var l=o.get("alwaysShowContent");l&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var o=this._styleCoord[2],l=this._styleCoord[3],s=o*this._zr.getWidth(),f=l*this._zr.getHeight();this.moveTo(s,f)},show:function(o){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(o,l,s){this.el&&this._zr.remove(this.el);for(var f={},u=o,h="{marker",c="|}",v=u.indexOf(h);v>=0;){var d=u.indexOf(c),m=u.substr(v+h.length,d-v-h.length);m.indexOf("sub")>-1?f["marker"+m]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:l[m],textOffset:[3,0]}:f["marker"+m]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:l[m]},u=u.substr(d+1),v=u.indexOf("{marker")}var g=s.getModel("textStyle"),p=g.get("fontSize"),y=s.get("textLineHeight");y==null&&(y=Math.round(p*3/2)),this.el=new t({style:r.setTextStyle({},g,{rich:f,text:o,textBackgroundColor:s.get("backgroundColor"),textBorderRadius:s.get("borderRadius"),textFill:s.get("textStyle.color"),textPadding:s.get("padding"),textLineHeight:y}),z:s.get("z")}),this._zr.add(this.el);var x=this;this.el.on("mouseover",function(){x._enterable&&(clearTimeout(x._hideTimeout),x._show=!0),x._inContent=!0}),this.el.on("mouseout",function(){x._enterable&&x._show&&x.hideLater(x._hideDelay),x._inContent=!1})},setEnterable:function(o){this._enterable=o},getSize:function(){var o=this.el.getBoundingRect();return[o.width,o.height]},moveTo:function(o,l){if(this.el){var s=this._styleCoord;n(s,this._zr,o,l),this.el.attr("position",[s[0],s[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(o){this._show&&!(this._inContent&&this._enterable)&&(o?(this._hideDelay=o,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),o)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var o=this.getSize();return{width:o[0],height:o[1]}}};var i=a;return sy=i,sy}var ly,vD;function kte(){if(vD)return ly;vD=1;var e=Ge,t=ne,r=Sr,n=Rte(),a=Ete(),i=jt(),o=ht(),l=ke,s=HN(),f=Tt,u=br(),h=qN(),c=_n(),v=Wh(),d=lt,m=d.getTooltipRenderMode,g=t.bind,p=t.each,y=o.parsePercent,x=new l.Rect({shape:{x:-1,y:-1,width:2,height:2}}),A=e.extendComponentView({type:"tooltip",init:function(I,P){if(!r.node){var D=I.getComponent("tooltip"),k=D.get("renderMode");this._renderMode=m(k);var R;this._renderMode==="html"?(R=new n(P.getDom(),P,{appendToBody:D.get("appendToBody",!0)}),this._newLine="<br/>"):(R=new a(P),this._newLine=`
`),this._tooltipContent=R}},render:function(I,P,D){if(!r.node){this.group.removeAll(),this._tooltipModel=I,this._ecModel=P,this._api=D,this._lastDataByCoordSys=null,this._alwaysShowContent=I.get("alwaysShowContent");var k=this._tooltipContent;k.update(I),k.setEnterable(I.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var I=this._tooltipModel,P=I.get("triggerOn");h.register("itemTooltip",this._api,g(function(D,k,R){P!=="none"&&(P.indexOf(D)>=0?this._tryShow(k,R):D==="leave"&&this._hide(R))},this))},_keepShow:function(){var I=this._tooltipModel,P=this._ecModel,D=this._api;if(this._lastX!=null&&this._lastY!=null&&I.get("triggerOn")!=="none"){var k=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!D.isDisposed()&&k.manuallyShowTip(I,P,D,{x:k._lastX,y:k._lastY})})}},manuallyShowTip:function(I,P,D,k){if(!(k.from===this.uid||r.node)){var R=b(k,D);this._ticket="";var B=k.dataByCoordSys;if(k.tooltip&&k.x!=null&&k.y!=null){var V=x;V.position=[k.x,k.y],V.update(),V.tooltip=k.tooltip,this._tryShow({offsetX:k.x,offsetY:k.y,target:V},R)}else if(B)this._tryShow({offsetX:k.x,offsetY:k.y,position:k.position,dataByCoordSys:k.dataByCoordSys,tooltipOption:k.tooltipOption},R);else if(k.seriesIndex!=null){if(this._manuallyAxisShowTip(I,P,D,k))return;var F=s(k,P),Y=F.point[0],q=F.point[1];Y!=null&&q!=null&&this._tryShow({offsetX:Y,offsetY:q,position:k.position,target:F.el},R)}else k.x!=null&&k.y!=null&&(D.dispatchAction({type:"updateAxisPointer",x:k.x,y:k.y}),this._tryShow({offsetX:k.x,offsetY:k.y,position:k.position,target:D.getZr().findHover(k.x,k.y).target},R))}},manuallyHideTip:function(I,P,D,k){var R=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&R.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,k.from!==this.uid&&this._hide(b(k,D))},_manuallyAxisShowTip:function(q,P,D,k){var R=k.seriesIndex,B=k.dataIndex,V=P.getComponent("axisPointer").coordSysAxesInfo;if(!(R==null||B==null||V==null)){var F=P.getSeriesByIndex(R);if(F){var Y=F.getData(),q=w([Y.getItemModel(B),F,(F.coordinateSystem||{}).model,q]);if(q.get("trigger")==="axis")return D.dispatchAction({type:"updateAxisPointer",seriesIndex:R,dataIndex:B,position:k.position}),!0}}},_tryShow:function(I,P){var D=I.target,k=this._tooltipModel;if(k){this._lastX=I.offsetX,this._lastY=I.offsetY;var R=I.dataByCoordSys;R&&R.length?this._showAxisTooltip(R,I):D&&D.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(I,D,P)):D&&D.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(I,D,P)):(this._lastDataByCoordSys=null,this._hide(P))}},_showOrMove:function(I,P){var D=I.get("showDelay");P=t.bind(P,this),clearTimeout(this._showTimout),D>0?this._showTimout=setTimeout(P,D):P()},_showAxisTooltip:function(I,P){var D=this._ecModel,k=this._tooltipModel,R=[P.offsetX,P.offsetY],B=[],V=[],F=w([P.tooltipOption,k]),Y=this._renderMode,q=this._newLine,E={};p(I,function(N){p(N.dataByAxis,function(H){var W=D.getComponent(H.axisDim+"Axis",H.axisIndex),U=H.value,K=[];if(!(!W||U==null)){var Q=v.getValueLabel(U,W.axis,D,H.seriesDataIndices,H.valueLabelOpt);t.each(H.seriesDataIndices,function(se){var le=D.getSeriesByIndex(se.seriesIndex),de=se.dataIndexInside,he=le&&le.getDataParams(de);if(he.axisDim=H.axisDim,he.axisIndex=H.axisIndex,he.axisType=H.axisType,he.axisId=H.axisId,he.axisValue=c.getAxisRawValue(W.axis,U),he.axisValueLabel=Q,he){V.push(he);var pe=le.formatTooltip(de,!0,null,Y),ye;if(t.isObject(pe)){ye=pe.html;var X=pe.markers;t.merge(E,X)}else ye=pe;K.push(ye)}});var j=Q;Y!=="html"?B.push(K.join(q)):B.push((j?i.encodeHTML(j)+q:"")+K.join(q))}})},this),B.reverse(),B=B.join(this._newLine+this._newLine);var z=P.position;this._showOrMove(F,function(){this._updateContentNotChangedOnAxis(I)?this._updatePosition(F,z,R[0],R[1],this._tooltipContent,V):this._showTooltipContent(F,B,V,Math.random(),R[0],R[1],z,void 0,E)})},_showSeriesItemTooltip:function(I,P,D){var k=this._ecModel,R=P.seriesIndex,B=k.getSeriesByIndex(R),V=P.dataModel||B,F=P.dataIndex,Y=P.dataType,q=V.getData(Y),E=w([q.getItemModel(F),V,B&&(B.coordinateSystem||{}).model,this._tooltipModel]),z=E.get("trigger");if(!(z!=null&&z!=="item")){var N=V.getDataParams(F,Y),H=V.formatTooltip(F,!1,Y,this._renderMode),W,U;t.isObject(H)?(W=H.html,U=H.markers):(W=H,U=null);var K="item_"+V.name+"_"+F;this._showOrMove(E,function(){this._showTooltipContent(E,W,N,K,I.offsetX,I.offsetY,I.position,I.target,U)}),D({type:"showTip",dataIndexInside:F,dataIndex:q.getRawIndex(F),seriesIndex:R,from:this.uid})}},_showComponentItemTooltip:function(I,P,D){var k=P.tooltip;if(typeof k=="string"){var R=k;k={content:R,formatter:R}}var B=new u(k,this._tooltipModel,this._ecModel),V=B.get("content"),F=Math.random();this._showOrMove(B,function(){this._showTooltipContent(B,V,B.get("formatterParams")||{},F,I.offsetX,I.offsetY,I.position,P)}),D({type:"showTip",from:this.uid})},_showTooltipContent:function(I,P,D,k,R,B,V,F,Y){if(this._ticket="",!(!I.get("showContent")||!I.get("show"))){var q=this._tooltipContent,E=I.get("formatter");V=V||I.get("position");var z=P;if(E&&typeof E=="string")z=i.formatTpl(E,D,!0);else if(typeof E=="function"){var N=g(function(H,W){H===this._ticket&&(q.setContent(W,Y,I),this._updatePosition(I,V,R,B,q,D,F))},this);this._ticket=k,z=E(D,k,N)}q.setContent(z,Y,I),q.show(I),this._updatePosition(I,V,R,B,q,D,F)}},_updatePosition:function(I,P,D,k,R,B,V){var F=this._api.getWidth(),Y=this._api.getHeight();P=P||I.get("position");var q=R.getSize(),E=I.get("align"),z=I.get("verticalAlign"),N=V&&V.getBoundingRect().clone();if(V&&N.applyTransform(V.transform),typeof P=="function"&&(P=P([D,k],B,R.el,N,{viewSize:[F,Y],contentSize:q.slice()})),t.isArray(P))D=y(P[0],F),k=y(P[1],Y);else if(t.isObject(P)){P.width=q[0],P.height=q[1];var H=f.getLayoutRect(P,{width:F,height:Y});D=H.x,k=H.y,E=null,z=null}else if(typeof P=="string"&&V){var W=C(P,N,q);D=W[0],k=W[1]}else{var W=S(D,k,R,F,Y,E?null:20,z?null:20);D=W[0],k=W[1]}if(E&&(D-=M(E)?q[0]/2:E==="right"?q[0]:0),z&&(k-=M(z)?q[1]/2:z==="bottom"?q[1]:0),I.get("confine")){var W=T(D,k,R,F,Y);D=W[0],k=W[1]}R.moveTo(D,k)},_updateContentNotChangedOnAxis:function(I){var P=this._lastDataByCoordSys,D=!!P&&P.length===I.length;return D&&p(P,function(k,R){var B=k.dataByAxis||{},V=I[R]||{},F=V.dataByAxis||[];D&=B.length===F.length,D&&p(B,function(Y,q){var E=F[q]||{},z=Y.seriesDataIndices||[],N=E.seriesDataIndices||[];D&=Y.value===E.value&&Y.axisType===E.axisType&&Y.axisId===E.axisId&&z.length===N.length,D&&p(z,function(H,W){var U=N[W];D&=H.seriesIndex===U.seriesIndex&&H.dataIndex===U.dataIndex})})}),this._lastDataByCoordSys=I,!!D},_hide:function(I){this._lastDataByCoordSys=null,I({type:"hideTip",from:this.uid})},dispose:function(I,P){r.node||(this._tooltipContent.dispose(),h.unregister("itemTooltip",P))}});function w(I){for(var P=I.pop();I.length;){var D=I.pop();D&&(u.isInstance(D)&&(D=D.get("tooltip",!0)),typeof D=="string"&&(D={formatter:D}),P=new u(D,P,P.ecModel))}return P}function b(I,P){return I.dispatchAction||t.bind(P.dispatchAction,P)}function S(I,P,D,k,R,B,V){var F=D.getOuterSize(),Y=F.width,q=F.height;return B!=null&&(I+Y+B>k?I-=Y+B:I+=B),V!=null&&(P+q+V>R?P-=q+V:P+=V),[I,P]}function T(I,P,D,k,R){var B=D.getOuterSize(),V=B.width,F=B.height;return I=Math.min(I+V,k)-V,P=Math.min(P+F,R)-F,I=Math.max(I,0),P=Math.max(P,0),[I,P]}function C(I,P,D){var k=D[0],R=D[1],B=5,V=0,F=0,Y=P.width,q=P.height;switch(I){case"inside":V=P.x+Y/2-k/2,F=P.y+q/2-R/2;break;case"top":V=P.x+Y/2-k/2,F=P.y-R-B;break;case"bottom":V=P.x+Y/2-k/2,F=P.y+q+B;break;case"left":V=P.x-k-B,F=P.y+q/2-R/2;break;case"right":V=P.x+Y+B,F=P.y+q/2-R/2}return[V,F]}function M(I){return I==="center"||I==="middle"}return ly=A,ly}var dD;function Ote(){if(dD)return uD;dD=1;var e=Ge;return Zu(),Dte(),kte(),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),uD}var gD={},uy,pD;function Bte(){if(pD)return uy;pD=1;var e=ne,t=["rect","polygon","keep","clear"];function r(a,i){var o=a&&a.brush;if(e.isArray(o)||(o=o?[o]:[]),!!o.length){var l=[];e.each(o,function(c){var v=c.hasOwnProperty("toolbox")?c.toolbox:[];v instanceof Array&&(l=l.concat(v))});var s=a&&a.toolbox;e.isArray(s)&&(s=s[0]),s||(s={feature:{}},a.toolbox=[s]);var f=s.feature||(s.feature={}),u=f.brush||(f.brush={}),h=u.type||(u.type=[]);h.push.apply(h,l),n(h),i&&!h.length&&h.push.apply(h,t)}}function n(a){var i={};e.each(a,function(o){i[o]=1}),a.length=0,e.each(i,function(o,l){a.push(l)})}return uy=r,uy}var fy={},ds={},mD;function $h(){if(mD)return ds;mD=1;var e=ne,t=Uo(),r=e.each;function n(s){if(s){for(var f in s)if(s.hasOwnProperty(f))return!0}}function a(s,f,u){var h={};return r(f,function(v){var d=h[v]=c();r(s[v],function(m,g){if(t.isValidType(g)){var p={type:g,visual:m};u&&u(p,v),d[g]=new t(p),g==="opacity"&&(p=e.clone(p),p.type="colorAlpha",d.__hidden.__alphaForOpacity=new t(p))}})}),h;function c(){var v=function(){};v.prototype.__hidden=v.prototype;var d=new v;return d}}function i(s,f,u){var h;e.each(u,function(c){f.hasOwnProperty(c)&&n(f[c])&&(h=!0)}),h&&e.each(u,function(c){f.hasOwnProperty(c)&&n(f[c])?s[c]=e.clone(f[c]):delete s[c]})}function o(s,f,u,h,c,v){var d={};e.each(s,function(x){var A=t.prepareVisualTypes(f[x]);d[x]=A});var m;function g(x){return u.getItemVisual(m,x)}function p(x,A){u.setItemVisual(m,x,A)}v==null?u.each(y):u.each([v],y);function y(x,A){m=v==null?x:A;var w=u.getRawDataItem(m);if(!(w&&w.visualMap===!1))for(var b=h.call(c,x),S=f[b],T=d[b],C=0,M=T.length;C<M;C++){var I=T[C];S[I]&&S[I].applyVisual(x,g,p)}}}function l(s,f,u,h){var c={};e.each(s,function(d){var m=t.prepareVisualTypes(f[d]);c[d]=m});function v(d,m){h!=null&&(h=m.getDimension(h));function g(I){return m.getItemVisual(y,I)}function p(I,P){m.setItemVisual(y,I,P)}for(var y;(y=d.next())!=null;){var x=m.getRawDataItem(y);if(!(x&&x.visualMap===!1))for(var A=h!=null?m.get(h,y,!0):y,w=u(A),b=f[w],S=c[w],T=0,C=S.length;T<C;T++){var M=S[T];b[M]&&b[M].applyVisual(A,g,p)}}}return{progress:v}}return ds.createVisualMappings=a,ds.replaceVisualOption=i,ds.applyVisual=o,ds.incrementalApplyVisual=l,ds}var cy,yD;function Nte(){if(yD)return cy;yD=1;var e=cN(),t=fr,r=ke,n=r.linePolygonIntersect,a={lineX:i(0),lineY:i(1),rect:{point:function(s,f,u){return s&&u.boundingRect.contain(s[0],s[1])},rect:function(s,f,u){return s&&u.boundingRect.intersect(s)}},polygon:{point:function(s,f,u){return s&&u.boundingRect.contain(s[0],s[1])&&e.contain(u.range,s[0],s[1])},rect:function(s,f,u){var h=u.range;if(!s||h.length<=1)return!1;var c=s.x,v=s.y,d=s.width,m=s.height,g=h[0];if(e.contain(h,c,v)||e.contain(h,c+d,v)||e.contain(h,c,v+m)||e.contain(h,c+d,v+m)||t.create(s).contain(g[0],g[1])||n(c,v,c+d,v,h)||n(c,v,c,v+m,h)||n(c+d,v,c+d,v+m,h)||n(c,v+m,c+d,v+m,h))return!0}}};function i(s){var f=["x","y"],u=["width","height"];return{point:function(h,c,v){if(h){var d=v.range,m=h[s];return o(m,d)}},rect:function(h,c,v){if(h){var d=v.range,m=[h[f[s]],h[f[s]]+h[u[s]]];return m[1]<m[0]&&m.reverse(),o(m[0],d)||o(m[1],d)||o(d[0],m)||o(d[1],m)}}}}function o(s,f){return f[0]<=s&&s<=f[1]}var l=a;return cy=l,cy}var _D;function ZN(){if(_D)return fy;_D=1;var e=Ge,t=ne,r=fr,n=$h(),a=Nte(),i=yn,o=$N(),l=["inBrush","outOfBrush"],s="__ecBrushSelect",f="__ecInBrushSelectEvent",u=e.PRIORITY.VISUAL.BRUSH;e.registerLayout(u,function(A,w,b){A.eachComponent({mainType:"brush"},function(S){b&&b.type==="takeGlobalCursor"&&S.setBrushOption(b.key==="brush"?b.brushOption:{brushType:!1})}),h(A)});function h(A){A.eachComponent({mainType:"brush"},function(w){var b=w.brushTargetManager=new o(w.option,A);b.setInputRanges(w.areas,A)})}e.registerVisual(u,function(A,w,b){var S=[],T,C;A.eachComponent({mainType:"brush"},function(M,I){var P={brushId:M.id,brushIndex:I,brushName:M.name,areas:t.clone(M.areas),selected:[]};S.push(P);var D=M.option,k=D.brushLink,R=[],B=[],V=[],F=0;I||(T=D.throttleType,C=D.throttleDelay);var Y=t.map(M.areas,function(W){return p(t.defaults({boundingRect:y[W.brushType](W)},W))}),q=n.createVisualMappings(M.option,l,function(W){W.mappingMethod="fixed"});t.isArray(k)&&t.each(k,function(W){R[W]=1});function E(W){return k==="all"||R[W]}function z(W){return!!W.length}A.eachSeries(function(W,U){var K=V[U]=[];W.subType==="parallel"?N(W,U):H(W,U,K)});function N(W,U){var K=W.coordinateSystem;F|=K.hasAxisBrushed(),E(U)&&K.eachActiveState(W.getData(),function(Q,j){Q==="active"&&(B[j]=1)})}function H(W,U,K){var Q=m(W);if(!(!Q||g(M,U))&&(t.each(Y,function(se){Q[se.brushType]&&M.brushTargetManager.controlSeries(se,W,A)&&K.push(se),F|=z(K)}),E(U)&&z(K))){var j=W.getData();j.each(function(se){d(Q,K,j,se)&&(B[se]=1)})}}A.eachSeries(function(W,U){var K={seriesId:W.id,seriesIndex:U,seriesName:W.name,dataIndex:[]};P.selected.push(K);var Q=m(W),j=V[U],se=W.getData(),le=E(U)?function(de){return B[de]?(K.dataIndex.push(se.getRawIndex(de)),"inBrush"):"outOfBrush"}:function(de){return d(Q,j,se,de)?(K.dataIndex.push(se.getRawIndex(de)),"inBrush"):"outOfBrush"};(E(U)?F:z(j))&&n.applyVisual(l,q,se,le)})}),c(w,T,C,S,b)});function c(A,w,b,S,T){if(T){var C=A.getZr();if(!C[f]){C[s]||(C[s]=v);var M=i.createOrUpdate(C,s,b,w);M(A,S)}}}function v(A,w){if(!A.isDisposed()){var b=A.getZr();b[f]=!0,A.dispatchAction({type:"brushSelect",batch:w}),b[f]=!1}}function d(A,w,b,S){for(var T=0,C=w.length;T<C;T++){var M=w[T];if(A[M.brushType](S,b,M.selectors,M))return!0}}function m(A){var w=A.brushSelector;if(t.isString(w)){var b=[];return t.each(a,function(T,C){b[C]=function(M,I,P,D){var k=I.getItemLayout(M);return T[w](k,P,D)}}),b}else if(t.isFunction(w)){var S={};return t.each(a,function(T,C){S[C]=w}),S}return w}function g(A,w){var b=A.option.seriesIndex;return b!=null&&b!=="all"&&(t.isArray(b)?t.indexOf(b,w)<0:w!==b)}function p(A){var w=A.selectors={};return t.each(a[A.brushType],function(b,S){w[S]=function(T){return b(T,w,A)}}),A}var y={lineX:t.noop,lineY:t.noop,rect:function(A){return x(A.range)},polygon:function(A){for(var w,b=A.range,S=0,T=b.length;S<T;S++){w=w||[[1/0,-1/0],[1/0,-1/0]];var C=b[S];C[0]<w[0][0]&&(w[0][0]=C[0]),C[0]>w[0][1]&&(w[0][1]=C[0]),C[1]<w[1][0]&&(w[1][0]=C[1]),C[1]>w[1][1]&&(w[1][1]=C[1])}return w&&x(w)}};function x(A){return new r(A[0][0],A[1][0],A[0][1]-A[0][0],A[1][1]-A[1][0])}return fy.layoutCovers=h,fy}var hy,xD;function zte(){if(xD)return hy;xD=1;var e=Ge,t=ne,r=$h(),n=br(),a=["#ddd"],i=e.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(s,f){var u=this.option;!f&&r.replaceVisualOption(u,s,["inBrush","outOfBrush"]);var h=u.inBrush=u.inBrush||{};u.outOfBrush=u.outOfBrush||{color:a},h.hasOwnProperty("liftZ")||(h.liftZ=5)},setAreas:function(s){s&&(this.areas=t.map(s,function(f){return o(this.option,f)},this))},setBrushOption:function(s){this.brushOption=o(this.option,s),this.brushType=this.brushOption.brushType}});function o(s,f){return t.merge({brushType:s.brushType,brushMode:s.brushMode,transformable:s.transformable,brushStyle:new n(s.brushStyle).getItemStyle(),removeOnClick:s.removeOnClick,z:s.z},f,!0)}var l=i;return hy=l,hy}var vy,wD;function Vte(){if(wD)return vy;wD=1;var e=Ge,t=ne,r=Mx(),n=ZN(),a=n.layoutCovers,i=e.extendComponentView({type:"brush",init:function(l,s){this.ecModel=l,this.api=s,this.model,(this._brushController=new r(s.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(l){return this.model=l,o.apply(this,arguments)},updateTransform:function(l,s){return a(s),o.apply(this,arguments)},updateView:o,dispose:function(){this._brushController.dispose()},_onBrush:function(l,s){var f=this.model.id;this.model.brushTargetManager.setOutputRanges(l,this.ecModel),(!s.isEnd||s.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:f,areas:t.clone(l),$from:f}),s.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:f,areas:t.clone(l),$from:f})}});function o(l,s,f,u){(!u||u.$from!==l.id)&&this._brushController.setPanels(l.brushTargetManager.makePanelOpts(f)).enableBrush(l.brushOption).updateCovers(l.areas.slice())}return vy=i,vy}var SD={},bD;function Fte(){if(bD)return SD;bD=1;var e=Ge;return e.registerAction({type:"brush",event:"brush"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),SD}var dy,AD;function Hte(){if(AD)return dy;AD=1;var e=ne,t=no(),r=to,n=r.toolbox.brush;function a(l,s,f){this.model=l,this.ecModel=s,this.api=f,this._brushType,this._brushMode}a.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.clone(n.title)};var i=a.prototype;i.render=i.updateView=function(l,s,f){var u,h,c;s.eachComponent({mainType:"brush"},function(v){u=v.brushType,h=v.brushOption.brushMode||"single",c|=v.areas.length}),this._brushType=u,this._brushMode=h,e.each(l.get("type",!0),function(v){l.setIconStatus(v,(v==="keep"?h==="multiple":v==="clear"?c:v===u)?"emphasis":"normal")})},i.getIcons=function(){var l=this.model,s=l.get("icon",!0),f={};return e.each(l.get("type",!0),function(u){s[u]&&(f[u]=s[u])}),f},i.onclick=function(l,s,f){var u=this._brushType,h=this._brushMode;f==="clear"?(s.dispatchAction({type:"axisAreaSelect",intervals:[]}),s.dispatchAction({type:"brush",command:"clear",areas:[]})):s.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:f==="keep"?u:u===f?!1:f,brushMode:f==="keep"?h==="multiple"?"single":"multiple":h}})},t.register("brush",a);var o=a;return dy=o,dy}var TD;function qte(){if(TD)return gD;TD=1;var e=Ge,t=Bte();return ZN(),zte(),Vte(),Fte(),Hte(),e.registerPreprocessor(t),gD}var CD={},MD;function Ute(){if(MD)return CD;MD=1;var e=ne,t=Ge,r=ke,n=Tt,a=n.getLayoutRect,i=jt(),o=i.windowOpen;return t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(l,s,f){if(this.group.removeAll(),!!l.get("show")){var u=this.group,h=l.getModel("textStyle"),c=l.getModel("subtextStyle"),v=l.get("textAlign"),d=e.retrieve2(l.get("textBaseline"),l.get("textVerticalAlign")),m=new r.Text({style:r.setTextStyle({},h,{text:l.get("text"),textFill:h.getTextColor()},{disableBox:!0}),z2:10}),g=m.getBoundingRect(),p=l.get("subtext"),y=new r.Text({style:r.setTextStyle({},c,{text:p,textFill:c.getTextColor(),y:g.height+l.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),x=l.get("link"),A=l.get("sublink"),w=l.get("triggerEvent",!0);m.silent=!x&&!w,y.silent=!A&&!w,x&&m.on("click",function(){o(x,"_"+l.get("target"))}),A&&y.on("click",function(){o(A,"_"+l.get("subtarget"))}),m.eventData=y.eventData=w?{componentType:"title",componentIndex:l.componentIndex}:null,u.add(m),p&&u.add(y);var b=u.getBoundingRect(),S=l.getBoxLayoutParams();S.width=b.width,S.height=b.height;var T=a(S,{width:f.getWidth(),height:f.getHeight()},l.get("padding"));v||(v=l.get("left")||l.get("right"),v==="middle"&&(v="center"),v==="right"?T.x+=T.width:v==="center"&&(T.x+=T.width/2)),d||(d=l.get("top")||l.get("bottom"),d==="center"&&(d="middle"),d==="bottom"?T.y+=T.height:d==="middle"&&(T.y+=T.height/2),d=d||"top"),u.attr("position",[T.x,T.y]);var C={textAlign:v,textVerticalAlign:d};m.setStyle(C),y.setStyle(C),b=u.getBoundingRect();var M=T.margin,I=l.getItemStyle(["color","opacity"]);I.fill=l.get("backgroundColor");var P=new r.Rect({shape:{x:b.x-M[3],y:b.y-M[0],width:b.width+M[1]+M[3],height:b.height+M[0]+M[2],r:l.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});u.add(P)}}}),CD}var LD={},gy,ID;function Gte(){if(ID)return gy;ID=1;var e=ne;function t(i){var o=i&&i.timeline;e.isArray(o)||(o=o?[o]:[]),e.each(o,function(l){l&&r(l)})}function r(i){var o=i.type,l={number:"value",time:"time"};if(l[o]&&(i.axisType=l[o],delete i.type),n(i),a(i,"controlPosition")){var s=i.controlStyle||(i.controlStyle={});a(s,"position")||(s.position=i.controlPosition),s.position==="none"&&!a(s,"show")&&(s.show=!1,delete s.position),delete i.controlPosition}e.each(i.data||[],function(f){e.isObject(f)&&!e.isArray(f)&&(!a(f,"value")&&a(f,"name")&&(f.value=f.name),n(f))})}function n(i){var o=i.itemStyle||(i.itemStyle={}),l=o.emphasis||(o.emphasis={}),s=i.label||i.label||{},f=s.normal||(s.normal={}),u={normal:1,emphasis:1};e.each(s,function(h,c){!u[c]&&!a(f,c)&&(f[c]=h)}),l.label&&!a(s,"emphasis")&&(s.emphasis=l.label,delete l.label)}function a(i,o){return i.hasOwnProperty(o)}return gy=t,gy}var PD={},DD;function Wte(){if(DD)return PD;DD=1;var e=Or;return e.registerSubTypeDefaulter("timeline",function(){return"slider"}),PD}var RD={},ED;function $te(){if(ED)return RD;ED=1;var e=Ge,t=ne;return e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,n){var a=n.getComponent("timeline");return a&&r.currentIndex!=null&&(a.setCurrentIndex(r.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.setPlayState(!1)),n.resetOption("timeline"),t.defaults({currentIndex:a.option.currentIndex},r)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,n){var a=n.getComponent("timeline");a&&r.playState!=null&&a.setPlayState(r.playState)}),RD}var py,kD;function Yte(){if(kD)return py;kD=1;var e=ne,t=Or,r=Ja(),n=lt,a=t.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(o,l,s){this._data,this._names,this.mergeDefaultAndTheme(o,s),this._initData()},mergeOption:function(o){a.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(o){o==null&&(o=this.option.currentIndex);var l=this._data.count();this.option.loop?o=(o%l+l)%l:(o>=l&&(o=l-1),o<0&&(o=0)),this.option.currentIndex=o},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(o){this.option.autoPlay=!!o},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var o=this.option,l=o.data||[],s=o.axisType,f=this._names=[];if(s==="category"){var u=[];e.each(l,function(v,d){var m=n.getDataItemValue(v),g;e.isObject(v)?(g=e.clone(v),g.value=d):g=d,u.push(g),!e.isString(m)&&(m==null||isNaN(m))&&(m=""),f.push(m+"")}),l=u}var h={category:"ordinal",time:"time"}[s]||"number",c=this._data=new r([{name:"value",type:h}],this);c.initData(l,f)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),i=a;return py=i,py}var my,OD;function Zte(){if(OD)return my;OD=1;var e=ne,t=Yte(),r=fx,n=t.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});e.mixin(n,r);var a=n;return my=a,my}var yy,BD;function Kte(){if(BD)return yy;BD=1;var e=Dh,t=e.extend({type:"timeline"});return yy=t,yy}var _y,ND;function Xte(){if(ND)return _y;ND=1;var e=ne,t=ro(),r=function(a,i,o,l){t.call(this,a,i,o),this.type=l||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}},e.inherits(r,t);var n=r;return _y=n,_y}var xy,zD;function Qte(){if(zD)return xy;zD=1;var e=ne,t=fr,r=la(),n=ke,a=Tt,i=Kte(),o=Xte(),l=ja(),s=l.createSymbol,f=_n(),u=ht(),h=jt(),c=h.encodeHTML,v=e.bind,d=e.each,m=Math.PI,g=i.extend({type:"timeline.slider",init:function(w,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(w,b,S,T){if(this.model=w,this.api=S,this.ecModel=b,this.group.removeAll(),w.get("show",!0)){var C=this._layout(w,S),M=this._createGroup("mainGroup"),I=this._createGroup("labelGroup"),P=this._axis=this._createAxis(C,w);w.formatTooltip=function(D){return c(P.scale.getLabel(D))},d(["AxisLine","AxisTick","Control","CurrentPointer"],function(D){this["_render"+D](C,M,P,w)},this),this._renderAxisLabel(C,I,P,w),this._position(C,w)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(w,b){var S=w.get("label.position"),T=w.get("orient"),C=p(w,b);S==null||S==="auto"?S=T==="horizontal"?C.y+C.height/2<b.getHeight()/2?"-":"+":C.x+C.width/2<b.getWidth()/2?"+":"-":isNaN(S)&&(S={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[T][S]);var M={horizontal:"center",vertical:S>=0||S==="+"?"left":"right"},I={horizontal:S>=0||S==="+"?"top":"bottom",vertical:"middle"},P={horizontal:0,vertical:m/2},D=T==="vertical"?C.height:C.width,k=w.getModel("controlStyle"),R=k.get("show",!0),B=R?k.get("itemSize"):0,V=R?k.get("itemGap"):0,F=B+V,Y=w.get("label.rotate")||0;Y=Y*m/180;var q,E,z,N,H=k.get("position",!0),W=R&&k.get("showPlayBtn",!0),U=R&&k.get("showPrevBtn",!0),K=R&&k.get("showNextBtn",!0),Q=0,j=D;return H==="left"||H==="bottom"?(W&&(q=[0,0],Q+=F),U&&(E=[Q,0],Q+=F),K&&(z=[j-B,0],j-=F)):(W&&(q=[j-B,0],j-=F),U&&(E=[0,0],Q+=F),K&&(z=[j-B,0],j-=F)),N=[Q,j],w.get("inverse")&&N.reverse(),{viewRect:C,mainLength:D,orient:T,rotation:P[T],labelRotation:Y,labelPosOpt:S,labelAlign:w.get("label.align")||M[T],labelBaseline:w.get("label.verticalAlign")||w.get("label.baseline")||I[T],playPosition:q,prevBtnPosition:E,nextBtnPosition:z,axisExtent:N,controlSize:B,controlGap:V}},_position:function(w,b){var S=this._mainGroup,T=this._labelGroup,C=w.viewRect;if(w.orient==="vertical"){var M=r.create(),I=C.x,P=C.y+C.height;r.translate(M,M,[-I,-P]),r.rotate(M,M,-m/2),r.translate(M,M,[I,P]),C=C.clone(),C.applyTransform(M)}var D=E(C),k=E(S.getBoundingRect()),R=E(T.getBoundingRect()),B=S.position,V=T.position;V[0]=B[0]=D[0][0];var F=w.labelPosOpt;if(isNaN(F)){var Y=F==="+"?0:1;z(B,k,D,1,Y),z(V,R,D,1,1-Y)}else{var Y=F>=0?0:1;z(B,k,D,1,Y),V[1]=B[1]+F}S.attr("position",B),T.attr("position",V),S.rotation=T.rotation=w.rotation,q(S),q(T);function q(N){var H=N.position;N.origin=[D[0][0]-H[0],D[1][0]-H[1]]}function E(N){return[[N.x,N.x+N.width],[N.y,N.y+N.height]]}function z(N,H,W,U,K){N[U]+=W[U][K]-H[U][K]}},_createAxis:function(w,b){var S=b.getData(),T=b.get("axisType"),C=f.createScaleByModel(b,T);C.getTicks=function(){return S.mapArray(["value"],function(P){return P})};var M=S.getDataExtent("value");C.setExtent(M[0],M[1]),C.niceTicks();var I=new o("value",C,w.axisExtent,T);return I.model=b,I},_createGroup:function(w){var b=this["_"+w]=new n.Group;return this.group.add(b),b},_renderAxisLine:function(w,b,S,T){var C=S.getExtent();T.get("lineStyle.show")&&b.add(new n.Line({shape:{x1:C[0],y1:0,x2:C[1],y2:0},style:e.extend({lineCap:"round"},T.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(w,b,S,T){var C=T.getData(),M=S.scale.getTicks();d(M,function(I){var P=S.dataToCoord(I),D=C.getItemModel(I),k=D.getModel("itemStyle"),R=D.getModel("emphasis.itemStyle"),B={position:[P,0],onclick:v(this._changeTimeline,this,I)},V=x(D,k,b,B);n.setHoverStyle(V,R.getItemStyle()),D.get("tooltip")?(V.dataIndex=I,V.dataModel=T):V.dataIndex=V.dataModel=null},this)},_renderAxisLabel:function(w,b,S,T){var C=S.getLabelModel();if(C.get("show")){var M=T.getData(),I=S.getViewLabels();d(I,function(P){var D=P.tickValue,k=M.getItemModel(D),R=k.getModel("label"),B=k.getModel("emphasis.label"),V=S.dataToCoord(P.tickValue),F=new n.Text({position:[V,0],rotation:w.labelRotation-w.rotation,onclick:v(this._changeTimeline,this,D),silent:!1});n.setTextStyle(F.style,R,{text:P.formattedLabel,textAlign:w.labelAlign,textVerticalAlign:w.labelBaseline}),b.add(F),n.setHoverStyle(F,n.setTextStyle({},B))},this)}},_renderControl:function(w,b,S,T){var C=w.controlSize,M=w.rotation,I=T.getModel("controlStyle").getItemStyle(),P=T.getModel("emphasis.controlStyle").getItemStyle(),D=[0,-C/2,C,C],k=T.getPlayState(),R=T.get("inverse",!0);B(w.nextBtnPosition,"controlStyle.nextIcon",v(this._changeTimeline,this,R?"-":"+")),B(w.prevBtnPosition,"controlStyle.prevIcon",v(this._changeTimeline,this,R?"+":"-")),B(w.playPosition,"controlStyle."+(k?"stopIcon":"playIcon"),v(this._handlePlayClick,this,!k),!0);function B(V,F,Y,q){if(V){var E={position:V,origin:[C/2,0],rotation:q?-M:0,rectHover:!0,style:I,onclick:Y},z=y(T,F,D,E);b.add(z),n.setHoverStyle(z,P)}}},_renderCurrentPointer:function(w,b,S,T){var C=T.getData(),M=T.getCurrentIndex(),I=C.getItemModel(M).getModel("checkpointStyle"),P=this,D={onCreate:function(k){k.draggable=!0,k.drift=v(P._handlePointerDrag,P),k.ondragend=v(P._handlePointerDragend,P),A(k,M,S,T,!0)},onUpdate:function(k){A(k,M,S,T)}};this._currentPointer=x(I,I,this._mainGroup,{},this._currentPointer,D)},_handlePlayClick:function(w){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:w,from:this.uid})},_handlePointerDrag:function(w,b,S){this._clearTimer(),this._pointerChangeTimeline([S.offsetX,S.offsetY])},_handlePointerDragend:function(w){this._pointerChangeTimeline([w.offsetX,w.offsetY],!0)},_pointerChangeTimeline:function(w,b){var S=this._toAxisCoord(w)[0],T=this._axis,C=u.asc(T.getExtent().slice());S>C[1]&&(S=C[1]),S<C[0]&&(S=C[0]),this._currentPointer.position[0]=S,this._currentPointer.dirty();var M=this._findNearestTick(S),I=this.model;(b||M!==I.getCurrentIndex()&&I.get("realtime"))&&this._changeTimeline(M)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(v(w,this),this.model.get("playInterval")));function w(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}},_toAxisCoord:function(w){var b=this._mainGroup.getLocalTransform();return n.applyTransform(w,b,!0)},_findNearestTick:function(w){var b=this.model.getData(),S=1/0,T,C=this._axis;return b.each(["value"],function(M,I){var P=C.dataToCoord(M),D=Math.abs(P-w);D<S&&(S=D,T=I)}),T},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(w){var b=this.model.getCurrentIndex();w==="+"?w=b+1:w==="-"&&(w=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:w,from:this.uid})}});function p(w,b){return a.getLayoutRect(w.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},w.get("padding"))}function y(w,b,S,T){var C=T.style,M=n.createIcon(w.get(b),T||{},new t(S[0],S[1],S[2],S[3]));return C&&M.setStyle(C),M}function x(w,b,S,T,C,M){var I=b.get("color");if(C)C.setColor(I),S.add(C),M&&M.onUpdate(C);else{var P=w.get("symbol");C=s(P,-1,-1,2,2,I),C.setStyle("strokeNoScale",!0),S.add(C),M&&M.onCreate(C)}var D=b.getItemStyle(["color","symbol","symbolSize"]);C.setStyle(D),T=e.merge({rectHover:!0,z2:100},T,!0);var k=w.get("symbolSize");k=k instanceof Array?k.slice():[+k,+k],k[0]/=2,k[1]/=2,T.scale=k;var R=w.get("symbolOffset");if(R){var B=T.position=T.position||[0,0];B[0]+=u.parsePercent(R[0],k[0]),B[1]+=u.parsePercent(R[1],k[1])}var V=w.get("symbolRotate");return T.rotation=(V||0)*Math.PI/180||0,C.attr(T),C.updateTransform(),C}function A(w,b,S,T,C){if(!w.dragging){var M=T.getModel("checkpointStyle"),I=S.dataToCoord(T.getData().get(["value"],b));C||!M.get("animation",!0)?w.attr({position:[I,0]}):(w.stopAnimation(!0),w.animateTo({position:[I,0]},M.get("animationDuration",!0),M.get("animationEasing",!0)))}}return xy=g,xy}var VD;function Jte(){if(VD)return LD;VD=1;var e=Ge,t=Gte();return Wte(),$te(),Zte(),Qte(),e.registerPreprocessor(t),LD}var FD={},wy,HD;function kx(){if(HD)return wy;HD=1;var e=Ge,t=ne,r=Sr,n=lt,a=jt(),i=fx,o=a.addCommas,l=a.encodeHTML;function s(h){n.defaultEmphasis(h,"label",["show"])}var f=e.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(h,c,v){this.mergeDefaultAndTheme(h,v),this._mergeOption(h,v,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var h=this.__hostSeries;return this.getShallow("animation")&&h&&h.isAnimationEnabled()},mergeOption:function(h,c){this._mergeOption(h,c,!1,!1)},_mergeOption:function(h,c,v,d){var m=this.constructor,g=this.mainType+"Model";v||c.eachSeries(function(p){var y=p.get(this.mainType,!0),x=p[g];if(!y||!y.data){p[g]=null;return}x?x._mergeOption(y,c,!0):(d&&s(y),t.each(y.data,function(A){A instanceof Array?(s(A[0]),s(A[1])):s(A)}),x=new m(y,this,c),t.extend(x,{mainType:this.mainType,seriesIndex:p.seriesIndex,name:p.name,createdBySelf:!0}),x.__hostSeries=p),p[g]=x},this)},formatTooltip:function(h,c,v,d){var m=this.getData(),g=this.getRawValue(h),p=t.isArray(g)?t.map(g,o).join(", "):o(g),y=m.getName(h),x=l(this.name),A=d==="html"?"<br/>":`
`;return(g!=null||y)&&(x+=A),y&&(x+=l(y),g!=null&&(x+=" : ")),g!=null&&(x+=l(p)),x},getData:function(){return this._data},setData:function(h){this._data=h}});t.mixin(f,i);var u=f;return wy=u,wy}var Sy,qD;function jte(){if(qD)return Sy;qD=1;var e=kx(),t=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});return Sy=t,Sy}var Co={},UD;function Ox(){if(UD)return Co;UD=1;var e=ne,t=ht(),r=Fn(),n=r.isDimensionStacked,a=e.indexOf;function i(g){return!(isNaN(parseFloat(g.x))&&isNaN(parseFloat(g.y)))}function o(g){return!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y))}function l(g,p,y,x,A,w){var b=[],S=n(p,x),T=S?p.getCalculationInfo("stackResultDimension"):x,C=m(p,T,g),M=p.indicesOfNearest(T,C)[0];b[A]=p.get(y,M),b[w]=p.get(T,M);var I=p.get(x,M),P=t.getPrecision(p.get(x,M));return P=Math.min(P,20),P>=0&&(b[w]=+b[w].toFixed(P)),[b,I]}var s=e.curry,f={min:s(l,"min"),max:s(l,"max"),average:s(l,"average")};function u(g,p){var y=g.getData(),x=g.coordinateSystem;if(p&&!o(p)&&!e.isArray(p.coord)&&x){var A=x.dimensions,w=h(p,y,x,g);if(p=e.clone(p),p.type&&f[p.type]&&w.baseAxis&&w.valueAxis){var b=a(A,w.baseAxis.dim),S=a(A,w.valueAxis.dim),T=f[p.type](y,w.baseDataDim,w.valueDataDim,b,S);p.coord=T[0],p.value=T[1]}else{for(var C=[p.xAxis!=null?p.xAxis:p.radiusAxis,p.yAxis!=null?p.yAxis:p.angleAxis],M=0;M<2;M++)f[C[M]]&&(C[M]=m(y,y.mapDimension(A[M]),C[M]));p.coord=C}}return p}function h(g,p,y,x){var A={};return g.valueIndex!=null||g.valueDim!=null?(A.valueDataDim=g.valueIndex!=null?p.getDimension(g.valueIndex):g.valueDim,A.valueAxis=y.getAxis(c(x,A.valueDataDim)),A.baseAxis=y.getOtherAxis(A.valueAxis),A.baseDataDim=p.mapDimension(A.baseAxis.dim)):(A.baseAxis=x.getBaseAxis(),A.valueAxis=y.getOtherAxis(A.baseAxis),A.baseDataDim=p.mapDimension(A.baseAxis.dim),A.valueDataDim=p.mapDimension(A.valueAxis.dim)),A}function c(g,p){var y=g.getData(),x=y.dimensions;p=y.getDimension(p);for(var A=0;A<x.length;A++){var w=y.getDimensionInfo(x[A]);if(w.name===p)return w.coordDim}}function v(g,p){return g&&g.containData&&p.coord&&!i(p)?g.containData(p.coord):!0}function d(g,p,y,x){return x<2?g.coord&&g.coord[x]:g.value}function m(g,p,y){if(y==="average"){var x=0,A=0;return g.each(p,function(w,b){isNaN(w)||(x+=w,A++)}),x/A}else return y==="median"?g.getMedian(p):g.getDataExtent(p,!0)[y==="max"?1:0]}return Co.dataTransform=u,Co.getAxisInfo=h,Co.dataFilter=v,Co.dimValueGetter=d,Co.numCalculate=m,Co}var by,GD;function Bx(){if(GD)return by;GD=1;var e=Ge,t=ne,r=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=t.createHashMap()},render:function(n,a,i){var o=this.markerGroupMap;o.each(function(s){s.__keep=!1});var l=this.type+"Model";a.eachSeries(function(s){var f=s[l];f&&this.renderSeries(s,f,a,i)},this),o.each(function(s){!s.__keep&&this.group.remove(s.group)},this)},renderSeries:function(){}});return by=r,by}var Ay,WD;function ere(){if(WD)return Ay;WD=1;var e=ne,t=Hu(),r=ht(),n=Ja(),a=Ox(),i=Bx();function o(f,u,h){var c=u.coordinateSystem;f.each(function(v){var d=f.getItemModel(v),m,g=r.parsePercent(d.get("x"),h.getWidth()),p=r.parsePercent(d.get("y"),h.getHeight());if(!isNaN(g)&&!isNaN(p))m=[g,p];else if(u.getMarkerPosition)m=u.getMarkerPosition(f.getValues(f.dimensions,v));else if(c){var y=f.get(c.dimensions[0],v),x=f.get(c.dimensions[1],v);m=c.dataToPoint([y,x])}isNaN(g)||(m[0]=g),isNaN(p)||(m[1]=p),f.setItemLayout(v,m)})}var l=i.extend({type:"markPoint",updateTransform:function(f,u,h){u.eachSeries(function(c){var v=c.markPointModel;v&&(o(v.getData(),c,h),this.markerGroupMap.get(c.id).updateLayout(v))},this)},renderSeries:function(f,u,h,c){var v=f.coordinateSystem,d=f.id,m=f.getData(),g=this.markerGroupMap,p=g.get(d)||g.set(d,new t),y=s(v,f,u);u.setData(y),o(u.getData(),f,c),y.each(function(x){var A=y.getItemModel(x),w=A.getShallow("symbol"),b=A.getShallow("symbolSize"),S=A.getShallow("symbolRotate"),T=e.isFunction(w),C=e.isFunction(b),M=e.isFunction(S);if(T||C||M){var I=u.getRawValue(x),P=u.getDataParams(x);T&&(w=w(I,P)),C&&(b=b(I,P)),M&&(S=S(I,P))}y.setItemVisual(x,{symbol:w,symbolSize:b,symbolRotate:S,color:A.get("itemStyle.color")||m.getVisual("color")})}),p.updateData(y),this.group.add(p.group),y.eachItemGraphicEl(function(x){x.traverse(function(A){A.dataModel=u})}),p.__keep=!0,p.group.silent=u.get("silent")||f.get("silent")}});function s(f,u,h){var c;f?c=e.map(f&&f.dimensions,function(m){var g=u.getData().getDimensionInfo(u.getData().mapDimension(m))||{};return e.defaults({name:m},g)}):c=[{name:"value",type:"float"}];var v=new n(c,h),d=e.map(h.get("data"),e.curry(a.dataTransform,u));return f&&(d=e.filter(d,e.curry(a.dataFilter,f))),v.initData(d,null,f?a.dimValueGetter:function(m){return m.value}),v}return Ay=l,Ay}var $D;function tre(){if($D)return FD;$D=1;var e=Ge;return jte(),ere(),e.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),FD}var YD={},Ty,ZD;function rre(){if(ZD)return Ty;ZD=1;var e=kx(),t=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});return Ty=t,Ty}var Cy,KD;function are(){if(KD)return Cy;KD=1;var e=ne,t=Ja(),r=ht(),n=Ox(),a=Tx(),i=Bx(),o=Fn(),l=o.getStackedDimension,s=function(m,g,p,y){var x=m.getData(),A=y.type;if(!e.isArray(y)&&(A==="min"||A==="max"||A==="average"||A==="median"||y.xAxis!=null||y.yAxis!=null)){var w,b;if(y.yAxis!=null||y.xAxis!=null)w=g.getAxis(y.yAxis!=null?"y":"x"),b=e.retrieve(y.yAxis,y.xAxis);else{var S=n.getAxisInfo(y,x,g,m);w=S.valueAxis;var T=l(x,S.valueDataDim);b=n.numCalculate(x,T,A)}var C=w.dim==="x"?0:1,M=1-C,I=e.clone(y),P={};I.type=null,I.coord=[],P.coord=[],I.coord[M]=-1/0,P.coord[M]=1/0;var D=p.get("precision");D>=0&&typeof b=="number"&&(b=+b.toFixed(Math.min(D,20))),I.coord[C]=P.coord[C]=b,y=[I,P,{type:A,valueIndex:y.valueIndex,value:b}]}return y=[n.dataTransform(m,y[0]),n.dataTransform(m,y[1]),e.extend({},y[2])],y[2].type=y[2].type||"",e.merge(y[2],y[0]),e.merge(y[2],y[1]),y};function f(m){return!isNaN(m)&&!isFinite(m)}function u(m,g,p,y){var x=1-m,A=y.dimensions[m];return f(g[x])&&f(p[x])&&g[m]===p[m]&&y.getAxis(A).containData(g[m])}function h(m,g){if(m.type==="cartesian2d"){var p=g[0].coord,y=g[1].coord;if(p&&y&&(u(1,p,y,m)||u(0,p,y,m)))return!0}return n.dataFilter(m,g[0])&&n.dataFilter(m,g[1])}function c(m,g,p,y,x){var A=y.coordinateSystem,w=m.getItemModel(g),b,S=r.parsePercent(w.get("x"),x.getWidth()),T=r.parsePercent(w.get("y"),x.getHeight());if(!isNaN(S)&&!isNaN(T))b=[S,T];else{if(y.getMarkerPosition)b=y.getMarkerPosition(m.getValues(m.dimensions,g));else{var C=A.dimensions,M=m.get(C[0],g),I=m.get(C[1],g);b=A.dataToPoint([M,I])}if(A.type==="cartesian2d"){var P=A.getAxis("x"),D=A.getAxis("y"),C=A.dimensions;f(m.get(C[0],g))?b[0]=P.toGlobalCoord(P.getExtent()[p?0:1]):f(m.get(C[1],g))&&(b[1]=D.toGlobalCoord(D.getExtent()[p?0:1]))}isNaN(S)||(b[0]=S),isNaN(T)||(b[1]=T)}m.setItemLayout(g,b)}var v=i.extend({type:"markLine",updateTransform:function(m,g,p){g.eachSeries(function(y){var x=y.markLineModel;if(x){var A=x.getData(),w=x.__from,b=x.__to;w.each(function(S){c(w,S,!0,y,p),c(b,S,!1,y,p)}),A.each(function(S){A.setItemLayout(S,[w.getItemLayout(S),b.getItemLayout(S)])}),this.markerGroupMap.get(y.id).updateLayout()}},this)},renderSeries:function(m,g,p,y){var x=m.coordinateSystem,A=m.id,w=m.getData(),b=this.markerGroupMap,S=b.get(A)||b.set(A,new a);this.group.add(S.group);var T=d(x,m,g),C=T.from,M=T.to,I=T.line;g.__from=C,g.__to=M,g.setData(I);var P=g.get("symbol"),D=g.get("symbolSize");e.isArray(P)||(P=[P,P]),typeof D=="number"&&(D=[D,D]),T.from.each(function(R){k(C,R,!0),k(M,R,!1)}),I.each(function(R){var B=I.getItemModel(R).get("lineStyle.color");I.setItemVisual(R,{color:B||C.getItemVisual(R,"color")}),I.setItemLayout(R,[C.getItemLayout(R),M.getItemLayout(R)]),I.setItemVisual(R,{fromSymbolRotate:C.getItemVisual(R,"symbolRotate"),fromSymbolSize:C.getItemVisual(R,"symbolSize"),fromSymbol:C.getItemVisual(R,"symbol"),toSymbolRotate:M.getItemVisual(R,"symbolRotate"),toSymbolSize:M.getItemVisual(R,"symbolSize"),toSymbol:M.getItemVisual(R,"symbol")})}),S.updateData(I),T.line.eachItemGraphicEl(function(R,B){R.traverse(function(V){V.dataModel=g})});function k(R,B,V){var F=R.getItemModel(B);c(R,B,V,m,y),R.setItemVisual(B,{symbolRotate:F.get("symbolRotate"),symbolSize:F.get("symbolSize")||D[V?0:1],symbol:F.get("symbol",!0)||P[V?0:1],color:F.get("itemStyle.color")||w.getVisual("color")})}S.__keep=!0,S.group.silent=g.get("silent")||m.get("silent")}});function d(m,g,p){var y;m?y=e.map(m&&m.dimensions,function(T){var C=g.getData().getDimensionInfo(g.getData().mapDimension(T))||{};return e.defaults({name:T},C)}):y=[{name:"value",type:"float"}];var x=new t(y,p),A=new t(y,p),w=new t([],p),b=e.map(p.get("data"),e.curry(s,g,m,p));m&&(b=e.filter(b,e.curry(h,m)));var S=m?n.dimValueGetter:function(T){return T.value};return x.initData(e.map(b,function(T){return T[0]}),null,S),A.initData(e.map(b,function(T){return T[1]}),null,S),w.initData(e.map(b,function(T){return T[2]})),w.hasItemOption=!0,{from:x,to:A,line:w}}return Cy=v,Cy}var XD;function nre(){if(XD)return YD;XD=1;var e=Ge;return rre(),are(),e.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),YD}var QD={},My,JD;function ire(){if(JD)return My;JD=1;var e=kx(),t=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});return My=t,My}var jD={},eR;function ore(){if(eR)return jD;eR=1;var e=ne,t=Mr,r=Ja(),n=ht(),a=ke,i=Ox(),o=Bx(),l=function(d,m,g,p){var y=i.dataTransform(d,p[0]),x=i.dataTransform(d,p[1]),A=e.retrieve,w=y.coord,b=x.coord;w[0]=A(w[0],-1/0),w[1]=A(w[1],-1/0),b[0]=A(b[0],1/0),b[1]=A(b[1],1/0);var S=e.mergeAll([{},y,x]);return S.coord=[y.coord,x.coord],S.x0=y.x,S.y0=y.y,S.x1=x.x,S.y1=x.y,S};function s(d){return!isNaN(d)&&!isFinite(d)}function f(d,m,g,p){var y=1-d;return s(m[y])&&s(g[y])}function u(d,m){var g=m.coord[0],p=m.coord[1];return d.type==="cartesian2d"&&g&&p&&(f(1,g,p)||f(0,g,p))?!0:i.dataFilter(d,{coord:g,x:m.x0,y:m.y0})||i.dataFilter(d,{coord:p,x:m.x1,y:m.y1})}function h(d,m,g,p,y){var x=p.coordinateSystem,A=d.getItemModel(m),w,b=n.parsePercent(A.get(g[0]),y.getWidth()),S=n.parsePercent(A.get(g[1]),y.getHeight());if(!isNaN(b)&&!isNaN(S))w=[b,S];else{if(p.getMarkerPosition)w=p.getMarkerPosition(d.getValues(g,m));else{var T=d.get(g[0],m),C=d.get(g[1],m),M=[T,C];x.clampData&&x.clampData(M,M),w=x.dataToPoint(M,!0)}if(x.type==="cartesian2d"){var I=x.getAxis("x"),P=x.getAxis("y"),T=d.get(g[0],m),C=d.get(g[1],m);s(T)?w[0]=I.toGlobalCoord(I.getExtent()[g[0]==="x0"?0:1]):s(C)&&(w[1]=P.toGlobalCoord(P.getExtent()[g[1]==="y0"?0:1]))}isNaN(b)||(w[0]=b),isNaN(S)||(w[1]=S)}return w}var c=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];o.extend({type:"markArea",updateTransform:function(d,m,g){m.eachSeries(function(p){var y=p.markAreaModel;if(y){var x=y.getData();x.each(function(A){var w=e.map(c,function(S){return h(x,A,S,p,g)});x.setItemLayout(A,w);var b=x.getItemGraphicEl(A);b.setShape("points",w)})}},this)},renderSeries:function(d,m,g,p){var y=d.coordinateSystem,x=d.id,A=d.getData(),w=this.markerGroupMap,b=w.get(x)||w.set(x,{group:new a.Group});this.group.add(b.group),b.__keep=!0;var S=v(y,d,m);m.setData(S),S.each(function(T){var C=e.map(c,function(I){return h(S,T,I,d,p)}),M=!0;e.each(c,function(I){if(M){var P=S.get(I[0],T),D=S.get(I[1],T);(s(P)||y.getAxis("x").containData(P))&&(s(D)||y.getAxis("y").containData(D))&&(M=!1)}}),S.setItemLayout(T,{points:C,allClipped:M}),S.setItemVisual(T,{color:A.getVisual("color")})}),S.diff(b.__data).add(function(T){var C=S.getItemLayout(T);if(!C.allClipped){var M=new a.Polygon({shape:{points:C.points}});S.setItemGraphicEl(T,M),b.group.add(M)}}).update(function(T,C){var M=b.__data.getItemGraphicEl(C),I=S.getItemLayout(T);I.allClipped?M&&b.group.remove(M):(M?a.updateProps(M,{shape:{points:I.points}},m,T):M=new a.Polygon({shape:{points:I.points}}),S.setItemGraphicEl(T,M),b.group.add(M))}).remove(function(T){var C=b.__data.getItemGraphicEl(T);b.group.remove(C)}).execute(),S.eachItemGraphicEl(function(T,C){var M=S.getItemModel(C),I=M.getModel("label"),P=M.getModel("emphasis.label"),D=S.getItemVisual(C,"color");T.useStyle(e.defaults(M.getModel("itemStyle").getItemStyle(),{fill:t.modifyAlpha(D,.4),stroke:D})),T.hoverStyle=M.getModel("emphasis.itemStyle").getItemStyle(),a.setLabelStyle(T.style,T.hoverStyle,I,P,{labelFetcher:m,labelDataIndex:C,defaultText:S.getName(C)||"",isRectText:!0,autoColor:D}),a.setHoverStyle(T,{}),T.dataModel=m}),b.__data=S,b.group.silent=m.get("silent")||d.get("silent")}});function v(d,m,g){var p,y,x=["x0","y0","x1","y1"];d?(p=e.map(d&&d.dimensions,function(b){var S=m.getData(),T=S.getDimensionInfo(S.mapDimension(b))||{};return e.defaults({name:b},T)}),y=new r(e.map(x,function(b,S){return{name:b,type:p[S%2].type}}),g)):(p=[{name:"value",type:"float"}],y=new r(p,g));var A=e.map(g.get("data"),e.curry(l,m,d,g));d&&(A=e.filter(A,e.curry(u,d)));var w=d?function(b,S,T,C){return b.coord[Math.floor(C/2)][C%2]}:function(b){return b.value};return y.initData(A,null,w),y.hasItemOption=!0,y}return jD}var tR;function sre(){if(tR)return QD;tR=1;var e=Ge;return ire(),ore(),e.registerPreprocessor(function(t){t.markArea=t.markArea||{}}),QD}var rR={},aR={},Ly,nR;function KN(){if(nR)return Ly;nR=1;var e=Ge,t=ne,r=br(),n=lt,a=n.isNameSpecified,i=to,o=i.legend.selector,l={all:{type:"all",title:t.clone(o.all)},inverse:{type:"inverse",title:t.clone(o.inverse)}},s=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(u,h,c){this.mergeDefaultAndTheme(u,c),u.selected=u.selected||{},this._updateSelector(u)},mergeOption:function(u){s.superCall(this,"mergeOption",u),this._updateSelector(u)},_updateSelector:function(u){var h=u.selector;h===!0&&(h=u.selector=["all","inverse"]),t.isArray(h)&&t.each(h,function(c,v){t.isString(c)&&(c={type:c}),h[v]=t.merge(c,l[c.type])})},optionUpdated:function(){this._updateData(this.ecModel);var u=this._data;if(u[0]&&this.get("selectedMode")==="single"){for(var h=!1,c=0;c<u.length;c++){var v=u[c].get("name");if(this.isSelected(v)){this.select(v),h=!0;break}}!h&&this.select(u[0].get("name"))}},_updateData:function(u){var h=[],c=[];u.eachRawSeries(function(m){var g=m.name;c.push(g);var p;if(m.legendVisualProvider){var y=m.legendVisualProvider,x=y.getAllNames();u.isSeriesFiltered(m)||(c=c.concat(x)),x.length?h=h.concat(x):p=!0}else p=!0;p&&a(m)&&h.push(m.name)}),this._availableNames=c;var v=this.get("data")||h,d=t.map(v,function(m){return(typeof m=="string"||typeof m=="number")&&(m={name:m}),new r(m,this,this.ecModel)},this);this._data=d},getData:function(){return this._data},select:function(u){var h=this.option.selected,c=this.get("selectedMode");if(c==="single"){var v=this._data;t.each(v,function(d){h[d.get("name")]=!1})}h[u]=!0},unSelect:function(u){this.get("selectedMode")!=="single"&&(this.option.selected[u]=!1)},toggleSelected:function(u){var h=this.option.selected;h.hasOwnProperty(u)||(h[u]=!0),this[h[u]?"unSelect":"select"](u)},allSelect:function(){var u=this._data,h=this.option.selected;t.each(u,function(c){h[c.get("name",!0)]=!0})},inverseSelect:function(){var u=this._data,h=this.option.selected;t.each(u,function(c){var v=c.get("name",!0);h.hasOwnProperty(v)||(h[v]=!0),h[v]=!h[v]})},isSelected:function(u){var h=this.option.selected;return!(h.hasOwnProperty(u)&&!h[u])&&t.indexOf(this._availableNames,u)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),f=s;return Ly=f,Ly}var iR={},oR;function lre(){if(oR)return iR;oR=1;var e=Ge,t=ne;function r(n,a,i){var o={},l=n==="toggleSelected",s;return i.eachComponent("legend",function(f){l&&s!=null?f[s?"select":"unSelect"](a.name):n==="allSelect"||n==="inverseSelect"?f[n]():(f[n](a.name),s=f.isSelected(a.name));var u=f.getData();t.each(u,function(h){var c=h.get("name");if(!(c===`
`||c==="")){var v=f.isSelected(c);o.hasOwnProperty(c)?o[c]=o[c]&&v:o[c]=v}})}),n==="allSelect"||n==="inverseSelect"?{selected:o}:{name:a.name,selected:o}}return e.registerAction("legendToggleSelect","legendselectchanged",t.curry(r,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",t.curry(r,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",t.curry(r,"inverseSelect")),e.registerAction("legendSelect","legendselected",t.curry(r,"select")),e.registerAction("legendUnSelect","legendunselected",t.curry(r,"unSelect")),iR}var Iy,sR;function XN(){if(sR)return Iy;sR=1;var e=Ge,t=ne,r=ja(),n=r.createSymbol,a=ke,i=WN(),o=i.makeBackground,l=Tt,s=t.curry,f=t.each,u=a.Group,h=e.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new u),this._backgroundEl,this.group.add(this._selectorGroup=new u),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(g,p,y){var x=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!g.get("show",!0)){var A=g.get("align"),w=g.get("orient");(!A||A==="auto")&&(A=g.get("left")==="right"&&w==="vertical"?"right":"left");var b=g.get("selector",!0),S=g.get("selectorPosition",!0);b&&(!S||S==="auto")&&(S=w==="horizontal"?"end":"start"),this.renderInner(A,g,p,y,b,w,S);var T=g.getBoxLayoutParams(),C={width:y.getWidth(),height:y.getHeight()},M=g.get("padding"),I=l.getLayoutRect(T,C,M),P=this.layoutInner(g,A,I,x,b,S),D=l.getLayoutRect(t.defaults({width:P.width,height:P.height},T),C,M);this.group.attr("position",[D.x-P.x,D.y-P.y]),this.group.add(this._backgroundEl=o(P,g))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(g,p,y,x,A,w,b){var S=this.getContentGroup(),T=t.createHashMap(),C=p.get("selectedMode"),M=[];y.eachRawSeries(function(I){!I.get("legendHoverLink")&&M.push(I.id)}),f(p.getData(),function(I,P){var D=I.get("name");if(!this.newlineDisabled&&(D===""||D===`
`)){S.add(new u({newline:!0}));return}var k=y.getSeriesByName(D)[0];if(!T.get(D))if(k){var R=k.getData(),B=R.getVisual("color"),V=R.getVisual("borderColor");typeof B=="function"&&(B=B(k.getDataParams(0))),typeof V=="function"&&(V=V(k.getDataParams(0)));var F=R.getVisual("legendSymbol")||"roundRect",Y=R.getVisual("symbol"),q=this._createItem(D,P,I,p,F,Y,g,B,V,C);q.on("click",s(v,D,null,x,M)).on("mouseover",s(d,k.name,null,x,M)).on("mouseout",s(m,k.name,null,x,M)),T.set(D,!0)}else y.eachRawSeries(function(E){if(!T.get(D)&&E.legendVisualProvider){var z=E.legendVisualProvider;if(!z.containName(D))return;var N=z.indexOfName(D),H=z.getItemVisual(N,"color"),W=z.getItemVisual(N,"borderColor"),U="roundRect",K=this._createItem(D,P,I,p,U,null,g,H,W,C);K.on("click",s(v,null,D,x,M)).on("mouseover",s(d,null,D,x,M)).on("mouseout",s(m,null,D,x,M)),T.set(D,!0)}},this)},this),A&&this._createSelector(A,p,x,w,b)},_createSelector:function(g,p,y,x,A){var w=this.getSelectorGroup();f(g,function(S){b(S)});function b(S){var T=S.type,C=new a.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){y.dispatchAction({type:T==="all"?"legendAllSelect":"legendInverseSelect"})}});w.add(C);var M=p.getModel("selectorLabel"),I=p.getModel("emphasis.selectorLabel");a.setLabelStyle(C.style,C.hoverStyle={},M,I,{defaultText:S.title,isRectText:!1}),a.setHoverStyle(C)}},_createItem:function(g,p,y,x,A,w,b,S,T,C){var M=x.get("itemWidth"),I=x.get("itemHeight"),P=x.get("inactiveColor"),D=x.get("inactiveBorderColor"),k=x.get("symbolKeepAspect"),R=x.getModel("itemStyle"),B=x.isSelected(g),V=new u,F=y.getModel("textStyle"),Y=y.get("icon"),q=y.getModel("tooltip"),E=q.parentModel;A=Y||A;var z=n(A,0,0,M,I,B?S:P,k??!0);if(V.add(c(z,A,R,T,D,B)),!Y&&w&&(w!==A||w==="none")){var N=I*.8;w==="none"&&(w="circle");var H=n(w,(M-N)/2,(I-N)/2,N,N,B?S:P,k??!0);V.add(c(H,w,R,T,D,B))}var W=b==="left"?M+5:-5,U=b,K=x.get("formatter"),Q=g;typeof K=="string"&&K?Q=K.replace("{name}",g??""):typeof K=="function"&&(Q=K(g)),V.add(new a.Text({style:a.setTextStyle({},F,{text:Q,x:W,y:I/2,textFill:B?F.getTextColor():P,textAlign:U,textVerticalAlign:"middle"})}));var j=new a.Rect({shape:V.getBoundingRect(),invisible:!0,tooltip:q.get("show")?t.extend({content:g,formatter:E.get("formatter",!0)||function(){return g},formatterParams:{componentType:"legend",legendIndex:x.componentIndex,name:g,$vars:["name"]}},q.option):null});return V.add(j),V.eachChild(function(se){se.silent=!0}),j.silent=!C,this.getContentGroup().add(V),a.setHoverStyle(V),V.__legendDataIndex=p,V},layoutInner:function(g,p,y,x,A,w){var b=this.getContentGroup(),S=this.getSelectorGroup();l.box(g.get("orient"),b,g.get("itemGap"),y.width,y.height);var T=b.getBoundingRect(),C=[-T.x,-T.y];if(A){l.box("horizontal",S,g.get("selectorItemGap",!0));var M=S.getBoundingRect(),I=[-M.x,-M.y],P=g.get("selectorButtonGap",!0),D=g.getOrient().index,k=D===0?"width":"height",R=D===0?"height":"width",B=D===0?"y":"x";w==="end"?I[D]+=T[k]+P:C[D]+=M[k]+P,I[1-D]+=T[R]/2-M[R]/2,S.attr("position",I),b.attr("position",C);var V={x:0,y:0};return V[k]=T[k]+P+M[k],V[R]=Math.max(T[R],M[R]),V[B]=Math.min(0,M[B]+I[1-D]),V}else return b.attr("position",C),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function c(g,p,y,x,A,w){var b;return p!=="line"&&p.indexOf("empty")<0?(b=y.getItemStyle(),g.style.stroke=x,w||(b.stroke=A)):b=y.getItemStyle(["borderWidth","borderColor"]),g.setStyle(b)}function v(g,p,y,x){m(g,p,y,x),y.dispatchAction({type:"legendToggleSelect",name:g??p}),d(g,p,y,x)}function d(g,p,y,x){var A=y.getZr().storage.getDisplayList()[0];A&&A.useHoverLayer||y.dispatchAction({type:"highlight",seriesName:g,name:p,excludeSeriesId:x})}function m(g,p,y,x){var A=y.getZr().storage.getDisplayList()[0];A&&A.useHoverLayer||y.dispatchAction({type:"downplay",seriesName:g,name:p,excludeSeriesId:x})}return Iy=h,Iy}var Py,lR;function ure(){if(lR)return Py;lR=1;function e(t){var r=t.findComponents({mainType:"legend"});r&&r.length&&t.filterSeries(function(n){for(var a=0;a<r.length;a++)if(!r[a].isSelected(n.name))return!1;return!0})}return Py=e,Py}var uR;function QN(){if(uR)return aR;uR=1;var e=Ge;KN(),lre(),XN();var t=ure(),r=Or;return e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,t),r.registerSubTypeDefaulter("legend",function(){return"plain"}),aR}var Dy,fR;function fre(){if(fR)return Dy;fR=1;var e=KN(),t=Tt,r=t.mergeLayoutParam,n=t.getLayoutParams,a=e.extend({type:"legend.scroll",setScrollDataIndex:function(l){this.option.scrollDataIndex=l},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(l,s,f,u){var h=n(l);a.superCall(this,"init",l,s,f,u),i(this,l,h)},mergeOption:function(l,s){a.superCall(this,"mergeOption",l,s),i(this,this.option,l)}});function i(l,s,f){var u=l.getOrient(),h=[1,1];h[u.index]=0,r(s,f,{type:"box",ignoreSize:h})}var o=a;return Dy=o,Dy}var Ry,cR;function cre(){if(cR)return Ry;cR=1;var e=ne,t=ke,r=Tt,n=XN(),a=t.Group,i=["width","height"],o=["x","y"],l=n.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){l.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new a),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new a),this._showController},resetInner:function(){l.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(f,u,h,c,v,d,m){var g=this;l.superCall(this,"renderInner",f,u,h,c,v,d,m);var p=this._controllerGroup,y=u.get("pageIconSize",!0);e.isArray(y)||(y=[y,y]),A("pagePrev",0);var x=u.getModel("pageTextStyle");p.add(new t.Text({name:"pageText",style:{textFill:x.getTextColor(),font:x.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),A("pageNext",1);function A(w,b){var S=w+"DataIndex",T=t.createIcon(u.get("pageIcons",!0)[u.getOrient().name][b],{onclick:e.bind(g._pageGo,g,S,u,c)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});T.name=w,p.add(T)}},layoutInner:function(f,u,h,c,v,d){var m=this.getSelectorGroup(),g=f.getOrient().index,p=i[g],y=o[g],x=i[1-g],A=o[1-g];v&&r.box("horizontal",m,f.get("selectorItemGap",!0));var w=f.get("selectorButtonGap",!0),b=m.getBoundingRect(),S=[-b.x,-b.y],T=e.clone(h);v&&(T[p]=h[p]-b[p]-w);var C=this._layoutContentAndController(f,c,T,g,p,x,A);if(v){if(d==="end")S[g]+=C[p]+w;else{var M=b[p]+w;S[g]-=M,C[y]-=M}C[p]+=b[p]+w,S[1-g]+=C[A]+C[x]/2-b[x]/2,C[x]=Math.max(C[x],b[x]),C[A]=Math.min(C[A],b[A]+S[1-g]),m.attr("position",S)}return C},_layoutContentAndController:function(f,u,h,c,v,d,m){var g=this.getContentGroup(),p=this._containerGroup,y=this._controllerGroup;r.box(f.get("orient"),g,f.get("itemGap"),c?h.width:null,c?null:h.height),r.box("horizontal",y,f.get("pageButtonItemGap",!0));var x=g.getBoundingRect(),A=y.getBoundingRect(),w=this._showController=x[v]>h[v],b=[-x.x,-x.y];u||(b[c]=g.position[c]);var S=[0,0],T=[-A.x,-A.y],C=e.retrieve2(f.get("pageButtonGap",!0),f.get("itemGap",!0));if(w){var M=f.get("pageButtonPosition",!0);M==="end"?T[c]+=h[v]-A[v]:S[c]+=A[v]+C}T[1-c]+=x[d]/2-A[d]/2,g.attr("position",b),p.attr("position",S),y.attr("position",T);var I={x:0,y:0};if(I[v]=w?h[v]:x[v],I[d]=Math.max(x[d],A[d]),I[m]=Math.min(0,A[m]+T[1-c]),p.__rectSize=h[v],w){var P={x:0,y:0};P[v]=Math.max(h[v]-A[v]-C,0),P[d]=I[d],p.setClipPath(new t.Rect({shape:P})),p.__rectSize=P[v]}else y.eachChild(function(k){k.attr({invisible:!0,silent:!0})});var D=this._getPageInfo(f);return D.pageIndex!=null&&t.updateProps(g,{position:D.contentPosition},w?f:!1),this._updatePageInfoView(f,D),I},_pageGo:function(f,u,h){var c=this._getPageInfo(u)[f];c!=null&&h.dispatchAction({type:"legendScroll",scrollDataIndex:c,legendId:u.id})},_updatePageInfoView:function(f,u){var h=this._controllerGroup;e.each(["pagePrev","pageNext"],function(p){var y=u[p+"DataIndex"]!=null,x=h.childOfName(p);x&&(x.setStyle("fill",y?f.get("pageIconColor",!0):f.get("pageIconInactiveColor",!0)),x.cursor=y?"pointer":"default")});var c=h.childOfName("pageText"),v=f.get("pageFormatter"),d=u.pageIndex,m=d!=null?d+1:0,g=u.pageCount;c&&v&&c.setStyle("text",e.isString(v)?v.replace("{current}",m).replace("{total}",g):v({current:m,total:g}))},_getPageInfo:function(f){var u=f.get("scrollDataIndex",!0),h=this.getContentGroup(),c=this._containerGroup.__rectSize,v=f.getOrient().index,d=i[v],m=o[v],g=this._findTargetItemIndex(u),p=h.children(),y=p[g],x=p.length,A=x?1:0,w={contentPosition:h.position.slice(),pageCount:A,pageIndex:A-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return w;var b=I(y);w.contentPosition[v]=-b.s;for(var S=g+1,T=b,C=b,M=null;S<=x;++S)M=I(p[S]),(!M&&C.e>T.s+c||M&&!P(M,T.s))&&(C.i>T.i?T=C:T=M,T&&(w.pageNextDataIndex==null&&(w.pageNextDataIndex=T.i),++w.pageCount)),C=M;for(var S=g-1,T=b,C=b,M=null;S>=-1;--S)M=I(p[S]),(!M||!P(C,M.s))&&T.i<C.i&&(C=T,w.pagePrevDataIndex==null&&(w.pagePrevDataIndex=T.i),++w.pageCount,++w.pageIndex),T=M;return w;function I(D){if(D){var k=D.getBoundingRect(),R=k[m]+D.position[v];return{s:R,e:R+k[d],i:D.__legendDataIndex}}}function P(D,k){return D.e>=k&&D.s<=k+c}},_findTargetItemIndex:function(f){if(!this._showController)return 0;var u,h=this.getContentGroup(),c;return h.eachChild(function(v,d){var m=v.__legendDataIndex;c==null&&m!=null&&(c=d),m===f&&(u=d)}),u??c}}),s=l;return Ry=s,Ry}var hR={},vR;function hre(){if(vR)return hR;vR=1;var e=Ge;return e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(n)})}),hR}var dR;function vre(){return dR||(dR=1,QN(),fre(),cre(),hre()),rR}var gR={},pR={},Ey,mR;function dre(){if(mR)return Ey;mR=1;var e=sl(),t=e.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),r=t;return Ey=r,Ey}var ky,yR;function gre(){if(yR)return ky;yR=1;var e=ne,t=kr,r=ke,n=yn,a=ll(),i=ht(),o=Tt,l=ol(),s=r.Rect,f=i.linearMap,u=i.asc,h=e.bind,c=e.each,v=7,d=1,m=30,g="horizontal",p="vertical",y=5,x=["line","bar","candlestick","scatter"],A=a.extend({type:"dataZoom.slider",init:function(T,C){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=C},render:function(T,C,M,I){if(A.superApply(this,"render",arguments),n.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=T.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}(!I||I.type!=="dataZoom"||I.from!==this.uid)&&this._buildView(),this._updateView()},remove:function(){A.superApply(this,"remove",arguments),n.clear(this,"_dispatchZoomAction")},dispose:function(){A.superApply(this,"dispose",arguments),n.clear(this,"_dispatchZoomAction")},_buildView:function(){var T=this.group;T.removeAll(),this._resetLocation(),this._resetInterval();var C=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),T.add(C),this._positionGroup()},_resetLocation:function(){var T=this.dataZoomModel,C=this.api,M=this._findCoordRect(),I={width:C.getWidth(),height:C.getHeight()},P=this._orient===g?{right:I.width-M.x-M.width,top:I.height-m-v,width:M.width,height:m}:{right:v,top:M.y,width:m,height:M.height},D=o.getLayoutParams(T.option);e.each(["right","top","width","height"],function(R){D[R]==="ph"&&(D[R]=P[R])});var k=o.getLayoutRect(D,I,T.padding);this._location={x:k.x,y:k.y},this._size=[k.width,k.height],this._orient===p&&this._size.reverse()},_positionGroup:function(){var T=this.group,C=this._location,M=this._orient,I=this.dataZoomModel.getFirstTargetAxisModel(),P=I&&I.get("inverse"),D=this._displayables.barGroup,k=(this._dataShadowInfo||{}).otherAxisInverse;D.attr(M===g&&!P?{scale:k?[1,1]:[1,-1]}:M===g&&P?{scale:k?[-1,1]:[-1,-1]}:M===p&&!P?{scale:k?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:k?[-1,-1]:[-1,1],rotation:Math.PI/2});var R=T.getBoundingRect([D]);T.attr("position",[C.x-R.x,C.y-R.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var T=this.dataZoomModel,C=this._size,M=this._displayables.barGroup;M.add(new s({silent:!0,shape:{x:0,y:0,width:C[0],height:C[1]},style:{fill:T.get("backgroundColor")},z2:-40})),M.add(new s({shape:{x:0,y:0,width:C[0],height:C[1]},style:{fill:"transparent"},z2:0,onclick:e.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var T=this._dataShadowInfo=this._prepareDataShadowInfo();if(T){var C=this._size,M=T.series,I=M.getRawData(),P=M.getShadowDim?M.getShadowDim():T.otherDim;if(P!=null){var D=I.getDataExtent(P),k=(D[1]-D[0])*.3;D=[D[0]-k,D[1]+k];var R=[0,C[1]],B=[0,C[0]],V=[[C[0],0],[0,0]],F=[],Y=B[1]/(I.count()-1),q=0,E=Math.round(I.count()/C[0]),z;I.each([P],function(H,W){if(E>0&&W%E){q+=Y;return}var U=H==null||isNaN(H)||H==="",K=U?0:f(H,D,R,!0);U&&!z&&W?(V.push([V[V.length-1][0],0]),F.push([F[F.length-1][0],0])):!U&&z&&(V.push([q,0]),F.push([q,0])),V.push([q,K]),F.push([q,K]),q+=Y,z=U});var N=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:V},style:e.defaults({fill:N.get("dataBackgroundColor")},N.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:F},style:N.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var T=this.dataZoomModel,C=T.get("showDataShadow");if(C!==!1){var M,I=this.ecModel;return T.eachTargetAxis(function(P,D){var k=T.getAxisProxy(P.name,D).getTargetSeriesModels();e.each(k,function(R){if(!M&&!(C!==!0&&e.indexOf(x,R.get("type"))<0)){var B=I.getComponent(P.axis,D).axis,V=w(P.name),F,Y=R.coordinateSystem;V!=null&&Y.getOtherAxis&&(F=Y.getOtherAxis(B).inverse),V=R.getData().mapDimension(V),M={thisAxis:B,series:R,thisDim:P.name,otherDim:V,otherAxisInverse:F}}},this)},this),M}},_renderHandle:function(){var T=this._displayables,C=T.handles=[],M=T.handleLabels=[],I=this._displayables.barGroup,P=this._size,D=this.dataZoomModel;I.add(T.filler=new s({draggable:!0,cursor:b(this._orient),drift:h(this._onDragMove,this,"all"),ondragstart:h(this._showDataInfo,this,!0),ondragend:h(this._onDragEnd,this),onmouseover:h(this._showDataInfo,this,!0),onmouseout:h(this._showDataInfo,this,!1),style:{fill:D.get("fillerColor"),textPosition:"inside"}})),I.add(new s({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:P[0],height:P[1]},style:{stroke:D.get("dataBackgroundColor")||D.get("borderColor"),lineWidth:d,fill:"rgba(0,0,0,0)"}})),c([0,1],function(k){var R=r.createIcon(D.get("handleIcon"),{cursor:b(this._orient),draggable:!0,drift:h(this._onDragMove,this,k),ondragend:h(this._onDragEnd,this),onmouseover:h(this._showDataInfo,this,!0),onmouseout:h(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),B=R.getBoundingRect();this._handleHeight=i.parsePercent(D.get("handleSize"),this._size[1]),this._handleWidth=B.width/B.height*this._handleHeight,R.setStyle(D.getModel("handleStyle").getItemStyle());var V=D.get("handleColor");V!=null&&(R.style.fill=V),I.add(C[k]=R);var F=D.textStyleModel;this.group.add(M[k]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:F.getTextColor(),textFont:F.getFont()},z2:10}))},this)},_resetInterval:function(){var T=this._range=this.dataZoomModel.getPercentRange(),C=this._getViewExtent();this._handleEnds=[f(T[0],[0,100],C,!0),f(T[1],[0,100],C,!0)]},_updateInterval:function(T,C){var M=this.dataZoomModel,I=this._handleEnds,P=this._getViewExtent(),D=M.findRepresentativeAxisProxy().getMinMaxSpan(),k=[0,100];l(C,I,P,M.get("zoomLock")?"all":T,D.minSpan!=null?f(D.minSpan,k,P,!0):null,D.maxSpan!=null?f(D.maxSpan,k,P,!0):null);var R=this._range,B=this._range=u([f(I[0],P,k,!0),f(I[1],P,k,!0)]);return!R||R[0]!==B[0]||R[1]!==B[1]},_updateView:function(T){var C=this._displayables,M=this._handleEnds,I=u(M.slice()),P=this._size;c([0,1],function(D){var k=C.handles[D],R=this._handleHeight;k.attr({scale:[R/2,R/2],position:[M[D],P[1]/2-R/2]})},this),C.filler.setShape({x:I[0],y:0,width:I[1]-I[0],height:P[1]}),this._updateDataInfo(T)},_updateDataInfo:function(T){var C=this.dataZoomModel,M=this._displayables,I=M.handleLabels,P=this._orient,D=["",""];if(C.get("showDetail")){var k=C.findRepresentativeAxisProxy();if(k){var R=k.getAxisModel().axis,B=this._range,V=T?k.calculateDataWindow({start:B[0],end:B[1]}).valueWindow:k.getDataValueWindow();D=[this._formatLabel(V[0],R),this._formatLabel(V[1],R)]}}var F=u(this._handleEnds.slice());Y.call(this,0),Y.call(this,1);function Y(q){var E=r.getTransform(M.handles[q].parent,this.group),z=r.transformDirection(q===0?"right":"left",E),N=this._handleWidth/2+y,H=r.applyTransform([F[q]+(q===0?-N:N),this._size[1]/2],E);I[q].setStyle({x:H[0],y:H[1],textVerticalAlign:P===g?"middle":z,textAlign:P===g?z:"center",text:D[q]})}},_formatLabel:function(T,C){var M=this.dataZoomModel,I=M.get("labelFormatter"),P=M.get("labelPrecision");(P==null||P==="auto")&&(P=C.getPixelPrecision());var D=T==null||isNaN(T)?"":C.type==="category"||C.type==="time"?C.scale.getLabel(Math.round(T)):T.toFixed(Math.min(P,20));return e.isFunction(I)?I(T,D):e.isString(I)?I.replace("{value}",D):D},_showDataInfo:function(T){T=this._dragging||T;var C=this._displayables.handleLabels;C[0].attr("invisible",!T),C[1].attr("invisible",!T)},_onDragMove:function(T,C,M,I){this._dragging=!0,t.stop(I.event);var P=this._displayables.barGroup.getLocalTransform(),D=r.applyTransform([C,M],P,!0),k=this._updateInterval(T,D[0]),R=this.dataZoomModel.get("realtime");this._updateView(!R),k&&R&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var T=this.dataZoomModel.get("realtime");!T&&this._dispatchZoomAction()},_onClickPanelClick:function(T){var C=this._size,M=this._displayables.barGroup.transformCoordToLocal(T.offsetX,T.offsetY);if(!(M[0]<0||M[0]>C[0]||M[1]<0||M[1]>C[1])){var I=this._handleEnds,P=(I[0]+I[1])/2,D=this._updateInterval("all",M[0]-P);this._updateView(),D&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var T=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:T[0],end:T[1]})},_findCoordRect:function(){var T;if(c(this.getTargetCoordInfo(),function(I){if(!T&&I.length){var P=I[0].model.coordinateSystem;T=P.getRect&&P.getRect()}}),!T){var C=this.api.getWidth(),M=this.api.getHeight();T={x:C*.2,y:M*.2,width:C*.6,height:M*.6}}return T}});function w(T){var C={x:"y",y:"x",radius:"angle",angle:"radius"};return C[T]}function b(T){return T==="vertical"?"ns-resize":"ew-resize"}var S=A;return ky=S,ky}var _R;function JN(){return _R||(_R=1,Px(),sl(),ll(),dre(),gre(),Rx(),Ex()),pR}var xR={},Oy,wR;function pre(){if(wR)return Oy;wR=1;var e=sl(),t=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});return Oy=t,Oy}var Ul={},SR;function mre(){if(SR)return Ul;SR=1;var e=ne,t=Yu(),r=yn,n="\0_ec_dataZoom_roams";function a(c,v){var d=l(c),m=v.dataZoomId,g=v.coordId;e.each(d,function(x,A){var w=x.dataZoomInfos;w[m]&&e.indexOf(v.allCoordIds,g)<0&&(delete w[m],x.count--)}),f(d);var p=d[g];p||(p=d[g]={coordId:g,dataZoomInfos:{},count:0},p.controller=s(c,p),p.dispatchAction=e.curry(u,c)),!p.dataZoomInfos[m]&&p.count++,p.dataZoomInfos[m]=v;var y=h(p.dataZoomInfos);p.controller.enable(y.controlType,y.opt),p.controller.setPointerChecker(v.containsPoint),r.createOrUpdate(p,"dispatchAction",v.dataZoomModel.get("throttle",!0),"fixRate")}function i(c,v){var d=l(c);e.each(d,function(m){m.controller.dispose();var g=m.dataZoomInfos;g[v]&&(delete g[v],m.count--)}),f(d)}function o(c){return c.type+"\0_"+c.id}function l(c){var v=c.getZr();return v[n]||(v[n]={})}function s(c,v){var d=new t(c.getZr());return e.each(["pan","zoom","scrollMove"],function(m){d.on(m,function(g){var p=[];e.each(v.dataZoomInfos,function(y){if(g.isAvailableBehavior(y.dataZoomModel.option)){var x=(y.getRange||{})[m],A=x&&x(v.controller,g);!y.dataZoomModel.get("disabled",!0)&&A&&p.push({dataZoomId:y.dataZoomId,start:A[0],end:A[1]})}}),p.length&&v.dispatchAction(p)})}),d}function f(c){e.each(c,function(v,d){v.count||(v.controller.dispose(),delete c[d])})}function u(c,v){c.dispatchAction({type:"dataZoom",batch:v})}function h(c){var v,d="type_",m={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0;return e.each(c,function(p){var y=p.dataZoomModel,x=y.get("disabled",!0)?!1:y.get("zoomLock",!0)?"move":!0;m[d+x]>m[d+v]&&(v=x),g&=y.get("preventDefaultMouseMove",!0)}),{controlType:v,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g}}}return Ul.register=a,Ul.unregister=i,Ul.generateCoordId=o,Ul}var By,bR;function yre(){if(bR)return By;bR=1;var e=ne,t=ll(),r=ol(),n=mre(),a=e.bind,i=t.extend({type:"dataZoom.inside",init:function(u,h){this._range},render:function(u,h,c,v){i.superApply(this,"render",arguments),this._range=u.getPercentRange(),e.each(this.getTargetCoordInfo(),function(d,m){var g=e.map(d,function(p){return n.generateCoordId(p.model)});e.each(d,function(p){var y=p.model,x={};e.each(["pan","zoom","scrollMove"],function(A){x[A]=a(o[A],this,p,m)},this),n.register(c,{coordId:n.generateCoordId(y),allCoordIds:g,containsPoint:function(A,w,b){return y.coordinateSystem.containPoint([w,b])},dataZoomId:u.id,dataZoomModel:u,getRange:x})},this)},this)},dispose:function(){n.unregister(this.api,this.dataZoomModel.id),i.superApply(this,"dispose",arguments),this._range=null}}),o={zoom:function(u,h,c,v){var d=this._range,m=d.slice(),g=u.axisModels[0];if(g){var p=s[h](null,[v.originX,v.originY],g,c,u),y=(p.signal>0?p.pixelStart+p.pixelLength-p.pixel:p.pixel-p.pixelStart)/p.pixelLength*(m[1]-m[0])+m[0],x=Math.max(1/v.scale,0);m[0]=(m[0]-y)*x+y,m[1]=(m[1]-y)*x+y;var A=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(r(0,m,[0,100],0,A.minSpan,A.maxSpan),this._range=m,d[0]!==m[0]||d[1]!==m[1])return m}},pan:l(function(u,h,c,v,d,m){var g=s[v]([m.oldX,m.oldY],[m.newX,m.newY],h,d,c);return g.signal*(u[1]-u[0])*g.pixel/g.pixelLength}),scrollMove:l(function(u,h,c,v,d,m){var g=s[v]([0,0],[m.scrollDelta,m.scrollDelta],h,d,c);return g.signal*(u[1]-u[0])*m.scrollDelta})};function l(u){return function(h,c,v,d){var m=this._range,g=m.slice(),p=h.axisModels[0];if(p){var y=u(g,p,h,c,v,d);if(r(y,g,[0,100],"all"),this._range=g,m[0]!==g[0]||m[1]!==g[1])return g}}}var s={grid:function(u,h,c,v,d){var m=c.axis,g={},p=d.model.coordinateSystem.getRect();return u=u||[0,0],m.dim==="x"?(g.pixel=h[0]-u[0],g.pixelLength=p.width,g.pixelStart=p.x,g.signal=m.inverse?1:-1):(g.pixel=h[1]-u[1],g.pixelLength=p.height,g.pixelStart=p.y,g.signal=m.inverse?-1:1),g},polar:function(u,h,c,v,d){var m=c.axis,g={},p=d.model.coordinateSystem,y=p.getRadiusAxis().getExtent(),x=p.getAngleAxis().getExtent();return u=u?p.pointToCoord(u):[0,0],h=p.pointToCoord(h),c.mainType==="radiusAxis"?(g.pixel=h[0]-u[0],g.pixelLength=y[1]-y[0],g.pixelStart=y[0],g.signal=m.inverse?1:-1):(g.pixel=h[1]-u[1],g.pixelLength=x[1]-x[0],g.pixelStart=x[0],g.signal=m.inverse?-1:1),g},singleAxis:function(u,h,c,v,d){var m=c.axis,g=d.model.coordinateSystem.getRect(),p={};return u=u||[0,0],m.orient==="horizontal"?(p.pixel=h[0]-u[0],p.pixelLength=g.width,p.pixelStart=g.x,p.signal=m.inverse?1:-1):(p.pixel=h[1]-u[1],p.pixelLength=g.height,p.pixelStart=g.y,p.signal=m.inverse?-1:1),p}},f=i;return By=f,By}var AR;function jN(){return AR||(AR=1,Px(),sl(),ll(),pre(),yre(),Rx(),Ex()),xR}var TR;function _re(){return TR||(TR=1,JN(),jN()),gR}var CR={},MR={},Ny,LR;function e5(){if(LR)return Ny;LR=1;var e=ne,t=e.each;function r(a){var i=a&&a.visualMap;e.isArray(i)||(i=i?[i]:[]),t(i,function(o){if(o){n(o,"splitList")&&!n(o,"pieces")&&(o.pieces=o.splitList,delete o.splitList);var l=o.pieces;l&&e.isArray(l)&&t(l,function(s){e.isObject(s)&&(n(s,"start")&&!n(s,"min")&&(s.min=s.start),n(s,"end")&&!n(s,"max")&&(s.max=s.end))})}})}function n(a,i){return a&&a.hasOwnProperty&&a.hasOwnProperty(i)}return Ny=r,Ny}var IR={},PR;function t5(){if(PR)return IR;PR=1;var e=Or;return e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),IR}var DR={},RR;function r5(){if(RR)return DR;RR=1;var e=Ge,t=ne,r=$h(),n=Uo(),a=e.PRIORITY.VISUAL.COMPONENT;e.registerVisual(a,{createOnAllSeries:!0,reset:function(o,l){var s=[];return l.eachComponent("visualMap",function(f){var u=o.pipelineContext;!f.isTargetSeries(o)||u&&u.large||s.push(r.incrementalApplyVisual(f.stateList,f.targetVisuals,t.bind(f.getValueState,f),f.getDataDimension(o.getData())))}),s}}),e.registerVisual(a,{createOnAllSeries:!0,reset:function(o,l){var s=o.getData(),f=[];l.eachComponent("visualMap",function(u){if(u.isTargetSeries(o)){var h=u.getVisualMeta(t.bind(i,null,o,u))||{stops:[],outerColors:[]},c=u.getDataDimension(s),v=s.getDimensionInfo(c);v!=null&&(h.dimension=v.index,f.push(h))}}),o.getData().setVisual("visualMeta",f)}});function i(o,l,s,f){for(var u=l.targetVisuals[f],h=n.prepareVisualTypes(u),c={color:o.getData().getVisual("color")},v=0,d=h.length;v<d;v++){var m=h[v],g=u[m==="opacity"?"__alphaForOpacity":m];g&&g.applyVisual(s,p,y)}return c.color;function p(x){return c[x]}function y(x,A){c[x]=A}}return DR}var zy,ER;function a5(){if(ER)return zy;ER=1;var e=ne,t={get:function(a,i,o){var l=e.clone((r[a]||{})[i]);return o&&e.isArray(l)?l[l.length-1]:l}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},n=t;return zy=n,zy}var Vy,kR;function n5(){if(kR)return Vy;kR=1;var e=Ge,t=ne,r=Sr,n=a5(),a=Uo(),i=$h(),o=lt,l=ht(),s=a.mapVisual,f=a.eachVisual,u=t.isArray,h=t.each,c=l.asc,v=l.linearMap,d=t.noop,m=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(p,y,x){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(p,x)},optionUpdated:function(p,y){var x=this.option;r.canvasSupported||(x.realtime=!1),!y&&i.replaceVisualOption(x,p,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(p){var y=this.stateList;p=t.bind(p,this),this.controllerVisuals=i.createVisualMappings(this.option.controller,y,p),this.targetVisuals=i.createVisualMappings(this.option.target,y,p)},getTargetSeriesIndices:function(){var p=this.option.seriesIndex,y=[];return p==null||p==="all"?this.ecModel.eachSeries(function(x,A){y.push(A)}):y=o.normalizeToArray(p),y},eachTargetSeries:function(p,y){t.each(this.getTargetSeriesIndices(),function(x){p.call(y,this.ecModel.getSeriesByIndex(x))},this)},isTargetSeries:function(p){var y=!1;return this.eachTargetSeries(function(x){x===p&&(y=!0)}),y},formatValueText:function(p,y,x){var A=this.option,w=A.precision,b=this.dataBound,S=A.formatter,T,C;if(x=x||["<",">"],t.isArray(p)&&(p=p.slice(),T=!0),C=y?p:T?[M(p[0]),M(p[1])]:M(p),t.isString(S))return S.replace("{value}",T?C[0]:C).replace("{value2}",T?C[1]:C);if(t.isFunction(S))return T?S(p[0],p[1]):S(p);if(T)return p[0]===b[0]?x[0]+" "+C[1]:p[1]===b[1]?x[1]+" "+C[0]:C[0]+" - "+C[1];return C;function M(I){return I===b[0]?"min":I===b[1]?"max":(+I).toFixed(Math.min(w,20))}},resetExtent:function(){var p=this.option,y=c([p.min,p.max]);this._dataExtent=y},getDataDimension:function(p){var y=this.option.dimension,x=p.dimensions;if(!(y==null&&!x.length)){if(y!=null)return p.getDimension(y);for(var A=p.dimensions,w=A.length-1;w>=0;w--){var b=A[w],S=p.getDimensionInfo(b);if(!S.isCalculationCoord)return b}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var p=this.ecModel,y=this.option,x={inRange:y.inRange,outOfRange:y.outOfRange},A=y.target||(y.target={}),w=y.controller||(y.controller={});t.merge(A,x),t.merge(w,x);var b=this.isCategory();S.call(this,A),S.call(this,w),T.call(this,A,"inRange","outOfRange"),C.call(this,w);function S(M){u(y.color)&&!M.inRange&&(M.inRange={color:y.color.slice().reverse()}),M.inRange=M.inRange||{color:p.get("gradientColor")},h(this.stateList,function(I){var P=M[I];if(t.isString(P)){var D=n.get(P,"active",b);D?(M[I]={},M[I][P]=D):delete M[I]}},this)}function T(M,I,P){var D=M[I],k=M[P];D&&!k&&(k=M[P]={},h(D,function(R,B){if(a.isValidType(B)){var V=n.get(B,"inactive",b);V!=null&&(k[B]=V,B==="color"&&!k.hasOwnProperty("opacity")&&!k.hasOwnProperty("colorAlpha")&&(k.opacity=[0,0]))}}))}function C(M){var I=(M.inRange||{}).symbol||(M.outOfRange||{}).symbol,P=(M.inRange||{}).symbolSize||(M.outOfRange||{}).symbolSize,D=this.get("inactiveColor");h(this.stateList,function(k){var R=this.itemSize,B=M[k];B||(B=M[k]={color:b?D:[D]}),B.symbol==null&&(B.symbol=I&&t.clone(I)||(b?"roundRect":["roundRect"])),B.symbolSize==null&&(B.symbolSize=P&&t.clone(P)||(b?R[0]:[R[0],R[0]])),B.symbol=s(B.symbol,function(Y){return Y==="none"||Y==="square"?"roundRect":Y});var V=B.symbolSize;if(V!=null){var F=-1/0;f(V,function(Y){Y>F&&(F=Y)}),B.symbolSize=s(V,function(Y){return v(Y,[0,F],[0,R[0]],!0)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:d,getValueState:d,getVisualMeta:d}),g=m;return Vy=g,Vy}var Fy,OR;function xre(){if(OR)return Fy;OR=1;var e=ne,t=n5(),r=ht(),n=[20,140],a=t.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(l,s){a.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(f){f.mappingMethod="linear",f.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){a.superApply(this,"resetItemSize",arguments);var l=this.itemSize;this._orient==="horizontal"&&l.reverse(),(l[0]==null||isNaN(l[0]))&&(l[0]=n[0]),(l[1]==null||isNaN(l[1]))&&(l[1]=n[1])},_resetRange:function(){var l=this.getExtent(),s=this.option.range;!s||s.auto?(l.auto=1,this.option.range=l):e.isArray(s)&&(s[0]>s[1]&&s.reverse(),s[0]=Math.max(s[0],l[0]),s[1]=Math.min(s[1],l[1]))},completeVisualOption:function(){t.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(l){var s=this.option.controller[l].symbolSize;s&&s[0]!==s[1]&&(s[0]=0)},this)},setSelected:function(l){this.option.range=l.slice(),this._resetRange()},getSelected:function(){var l=this.getExtent(),s=r.asc((this.get("range")||[]).slice());return s[0]>l[1]&&(s[0]=l[1]),s[1]>l[1]&&(s[1]=l[1]),s[0]<l[0]&&(s[0]=l[0]),s[1]<l[0]&&(s[1]=l[0]),s},getValueState:function(l){var s=this.option.range,f=this.getExtent();return(s[0]<=f[0]||s[0]<=l)&&(s[1]>=f[1]||l<=s[1])?"inRange":"outOfRange"},findTargetDataIndices:function(l){var s=[];return this.eachTargetSeries(function(f){var u=[],h=f.getData();h.each(this.getDataDimension(h),function(c,v){l[0]<=c&&c<=l[1]&&u.push(v)},this),s.push({seriesId:f.id,dataIndex:u})},this),s},getVisualMeta:function(l){var s=i(this,"outOfRange",this.getExtent()),f=i(this,"inRange",this.option.range.slice()),u=[];function h(y,x){u.push({value:y,color:l(y,x)})}for(var c=0,v=0,d=f.length,m=s.length;v<m&&(!f.length||s[v]<=f[0]);v++)s[v]<f[c]&&h(s[v],"outOfRange");for(var g=1;c<d;c++,g=0)g&&u.length&&h(f[c],"outOfRange"),h(f[c],"inRange");for(var g=1;v<m;v++)(!f.length||f[f.length-1]<s[v])&&(g&&(u.length&&h(u[u.length-1].value,"outOfRange"),g=0),h(s[v],"outOfRange"));var p=u.length;return{stops:u,outerColors:[p?u[0].color:"transparent",p?u[p-1].color:"transparent"]}}});function i(l,s,f){if(f[0]===f[1])return f.slice();for(var u=200,h=(f[1]-f[0])/u,c=f[0],v=[],d=0;d<=u&&c<f[1];d++)v.push(c),c+=h;return v.push(f[1]),v}var o=a;return Fy=o,Fy}var Hy,BR;function i5(){if(BR)return Hy;BR=1;var e=Ge,t=ne,r=ke,n=jt(),a=Tt,i=Uo(),o=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(l,s){this.ecModel=l,this.api=s,this.visualMapModel},render:function(l,s,f,u){if(this.visualMapModel=l,l.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(l){var s=this.visualMapModel,f=n.normalizeCssArray(s.get("padding")||0),u=l.getBoundingRect();l.add(new r.Rect({z2:-1,silent:!0,shape:{x:u.x-f[3],y:u.y-f[0],width:u.width+f[3]+f[1],height:u.height+f[0]+f[2]},style:{fill:s.get("backgroundColor"),stroke:s.get("borderColor"),lineWidth:s.get("borderWidth")}}))},getControllerVisual:function(l,s,f){f=f||{};var u=f.forceState,h=this.visualMapModel,c={};if(s==="symbol"&&(c.symbol=h.get("itemSymbol")),s==="color"){var v=h.get("contentColor");c.color=v}function d(y){return c[y]}function m(y,x){c[y]=x}var g=h.controllerVisuals[u||h.getValueState(l)],p=i.prepareVisualTypes(g);return t.each(p,function(y){var x=g[y];f.convertOpacityToAlpha&&y==="opacity"&&(y="colorAlpha",x=g.__alphaForOpacity),i.dependsOn(y,s)&&x&&x.applyVisual(l,d,m)}),c[s]},positionGroup:function(l){var s=this.visualMapModel,f=this.api;a.positionElement(l,s.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()})},doRender:t.noop});return Hy=o,Hy}var Tc={},NR;function o5(){if(NR)return Tc;NR=1;var e=ne,t=Tt,r=t.getLayoutRect;function n(i,o,l){var s=i.option,f=s.align;if(f!=null&&f!=="auto")return f;for(var u={width:o.getWidth(),height:o.getHeight()},h=s.orient==="horizontal"?1:0,c=[["left","right","width"],["top","bottom","height"]],v=c[h],d=[0,null,10],m={},g=0;g<3;g++)m[c[1-h][g]]=d[g],m[v[g]]=g===2?l[0]:s[v[g]];var p=[["x","width",3],["y","height",0]][h],y=r(m,u,s.padding);return v[(y.margin[p[2]]||0)+y[p[0]]+y[p[1]]*.5<u[p[1]]*.5?0:1]}function a(i,o){return e.each(i||[],function(l){l.dataIndex!=null&&(l.dataIndexInside=l.dataIndex,l.dataIndex=null),l.highlightKey="visualMap"+(o?o.componentIndex:"")}),i}return Tc.getItemAlign=n,Tc.makeHighDownBatch=a,Tc}var qy,zR;function wre(){if(zR)return qy;zR=1;var e=ne,t=K_,r=kr,n=i5(),a=ke,i=ht(),o=ol(),l=o5(),s=lt,f=i.linearMap,u=e.each,h=Math.min,c=Math.max,v=12,d=6,m=n.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(S,T,C,M){(!M||M.type!=="selectDataRange"||M.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var S=this.visualMapModel,T=this.group;this._orient=S.get("orient"),this._useHandle=S.get("calculable"),this._resetInterval(),this._renderBar(T);var C=S.get("text");this._renderEndsText(T,C,0),this._renderEndsText(T,C,1),this._updateView(!0),this.renderBackground(T),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(T)},_renderEndsText:function(S,T,C){if(T){var M=T[1-C];M=M!=null?M+"":"";var I=this.visualMapModel,P=I.get("textGap"),D=I.itemSize,k=this._shapes.barGroup,R=this._applyTransform([D[0]/2,C===0?-P:D[1]+P],k),B=this._applyTransform(C===0?"bottom":"top",k),V=this._orient,F=this.visualMapModel.textStyleModel;this.group.add(new a.Text({style:{x:R[0],y:R[1],textVerticalAlign:V==="horizontal"?"middle":B,textAlign:V==="horizontal"?B:"center",text:M,textFont:F.getFont(),textFill:F.getTextColor()}}))}},_renderBar:function(S){var T=this.visualMapModel,C=this._shapes,M=T.itemSize,I=this._orient,P=this._useHandle,D=l.getItemAlign(T,this.api,M),k=C.barGroup=this._createBarGroup(D);k.add(C.outOfRange=g()),k.add(C.inRange=g(null,P?w(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));var R=T.textStyleModel.getTextRect("国"),B=c(R.width,R.height);P&&(C.handleThumbs=[],C.handleLabels=[],C.handleLabelPoints=[],this._createHandle(k,0,M,B,I,D),this._createHandle(k,1,M,B,I,D)),this._createIndicator(k,M,B,I),S.add(k)},_createHandle:function(S,T,C,M,I){var P=e.bind(this._dragHandle,this,T,!1),D=e.bind(this._dragHandle,this,T,!0),k=g(p(T,M),w(this._orient),P,D);k.position[0]=C[0],S.add(k);var R=this.visualMapModel.textStyleModel,B=new a.Text({draggable:!0,drift:P,onmousemove:function(Y){r.stop(Y.event)},ondragend:D,style:{x:0,y:0,text:"",textFont:R.getFont(),textFill:R.getTextColor()}});this.group.add(B);var V=[I==="horizontal"?M/2:M*1.5,I==="horizontal"?T===0?-(M*1.5):M*1.5:T===0?-M/2:M/2],F=this._shapes;F.handleThumbs[T]=k,F.handleLabelPoints[T]=V,F.handleLabels[T]=B},_createIndicator:function(S,T,C,M){var I=g([[0,0]],"move");I.position[0]=T[0],I.attr({invisible:!0,silent:!0}),S.add(I);var P=this.visualMapModel.textStyleModel,D=new a.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:P.getFont(),textFill:P.getTextColor()}});this.group.add(D);var k=[M==="horizontal"?C/2:d+3,0],R=this._shapes;R.indicator=I,R.indicatorLabel=D,R.indicatorLabelPoint=k},_dragHandle:function(S,T,C,M){if(this._useHandle){if(this._dragging=!T,!T){var I=this._applyTransform([C,M],this._shapes.barGroup,!0);this._updateInterval(S,I[1]),this._updateView()}T===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),T?!this._hovering&&this._clearHoverLinkToSeries():A(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[S],!1)}},_resetInterval:function(){var S=this.visualMapModel,T=this._dataInterval=S.getSelected(),C=S.getExtent(),M=[0,S.itemSize[1]];this._handleEnds=[f(T[0],C,M,!0),f(T[1],C,M,!0)]},_updateInterval:function(S,T){T=T||0;var C=this.visualMapModel,M=this._handleEnds,I=[0,C.itemSize[1]];o(T,M,I,S,0);var P=C.getExtent();this._dataInterval=[f(M[0],I,P,!0),f(M[1],I,P,!0)]},_updateView:function(S){var T=this.visualMapModel,C=T.getExtent(),M=this._shapes,I=[0,T.itemSize[1]],P=S?I:this._handleEnds,D=this._createBarVisual(this._dataInterval,C,P,"inRange"),k=this._createBarVisual(C,C,I,"outOfRange");M.inRange.setStyle({fill:D.barColor,opacity:D.opacity}).setShape("points",D.barPoints),M.outOfRange.setStyle({fill:k.barColor,opacity:k.opacity}).setShape("points",k.barPoints),this._updateHandle(P,D)},_createBarVisual:function(S,T,C,M){var I={forceState:M,convertOpacityToAlpha:!0},P=this._makeColorGradient(S,I),D=[this.getControllerVisual(S[0],"symbolSize",I),this.getControllerVisual(S[1],"symbolSize",I)],k=this._createBarPoints(C,D);return{barColor:new t(0,0,0,1,P),barPoints:k,handlesColor:[P[0].color,P[P.length-1].color]}},_makeColorGradient:function(S,T){var C=100,M=[],I=(S[1]-S[0])/C;M.push({color:this.getControllerVisual(S[0],"color",T),offset:0});for(var P=1;P<C;P++){var D=S[0]+I*P;if(D>S[1])break;M.push({color:this.getControllerVisual(D,"color",T),offset:P/C})}return M.push({color:this.getControllerVisual(S[1],"color",T),offset:1}),M},_createBarPoints:function(S,T){var C=this.visualMapModel.itemSize;return[[C[0]-T[0],S[0]],[C[0],S[0]],[C[0],S[1]],[C[0]-T[1],S[1]]]},_createBarGroup:function(S){var T=this._orient,C=this.visualMapModel.get("inverse");return new a.Group(T==="horizontal"&&!C?{scale:S==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:T==="horizontal"&&C?{scale:S==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:T==="vertical"&&!C?{scale:S==="left"?[1,-1]:[-1,-1]}:{scale:S==="left"?[1,1]:[-1,1]})},_updateHandle:function(S,T){if(this._useHandle){var C=this._shapes,M=this.visualMapModel,I=C.handleThumbs,P=C.handleLabels;u([0,1],function(D){var k=I[D];k.setStyle("fill",T.handlesColor[D]),k.position[1]=S[D];var R=a.applyTransform(C.handleLabelPoints[D],a.getTransform(k,this.group));P[D].setStyle({x:R[0],y:R[1],text:M.formatValueText(this._dataInterval[D]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?D===0?"bottom":"top":"left",C.barGroup)})},this)}},_showIndicator:function(S,T,C,M){var I=this.visualMapModel,P=I.getExtent(),D=I.itemSize,k=[0,D[1]],R=f(S,P,k,!0),B=this._shapes,V=B.indicator;if(V){V.position[1]=R,V.attr("invisible",!1),V.setShape("points",y(!!C,M,R,D[1]));var F={convertOpacityToAlpha:!0},Y=this.getControllerVisual(S,"color",F);V.setStyle("fill",Y);var q=a.applyTransform(B.indicatorLabelPoint,a.getTransform(V,this.group)),E=B.indicatorLabel;E.attr("invisible",!1);var z=this._applyTransform("left",B.barGroup),N=this._orient;E.setStyle({text:(C||"")+I.formatValueText(T),textVerticalAlign:N==="horizontal"?z:"middle",textAlign:N==="horizontal"?"center":z,x:q[0],y:q[1]})}},_enableHoverLinkToSeries:function(){var S=this;this._shapes.barGroup.on("mousemove",function(T){if(S._hovering=!0,!S._dragging){var C=S.visualMapModel.itemSize,M=S._applyTransform([T.offsetX,T.offsetY],S._shapes.barGroup,!0,!0);M[1]=h(c(0,M[1]),C[1]),S._doHoverLinkToSeries(M[1],0<=M[0]&&M[0]<=C[0])}}).on("mouseout",function(){S._hovering=!1,!S._dragging&&S._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var S=this.api.getZr();this.visualMapModel.option.hoverLink?(S.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),S.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(S,T){var C=this.visualMapModel,M=C.itemSize;if(C.option.hoverLink){var I=[0,M[1]],P=C.getExtent();S=h(c(I[0],S),I[1]);var D=x(C,P,I),k=[S-D,S+D],R=f(S,I,P,!0),B=[f(k[0],I,P,!0),f(k[1],I,P,!0)];k[0]<I[0]&&(B[0]=-1/0),k[1]>I[1]&&(B[1]=1/0),T&&(B[0]===-1/0?this._showIndicator(R,B[1],"< ",D):B[1]===1/0?this._showIndicator(R,B[0],"> ",D):this._showIndicator(R,R,"≈ ",D));var V=this._hoverLinkDataIndices,F=[];(T||A(C))&&(F=this._hoverLinkDataIndices=C.findTargetDataIndices(B));var Y=s.compressBatches(V,F);this._dispatchHighDown("downplay",l.makeHighDownBatch(Y[0],C)),this._dispatchHighDown("highlight",l.makeHighDownBatch(Y[1],C))}},_hoverLinkFromSeriesMouseOver:function(S){var T=S.target,C=this.visualMapModel;if(!(!T||T.dataIndex==null)){var M=this.ecModel.getSeriesByIndex(T.seriesIndex);if(C.isTargetSeries(M)){var I=M.getData(T.dataType),P=I.get(C.getDataDimension(I),T.dataIndex,!0);isNaN(P)||this._showIndicator(P,P)}}},_hideIndicator:function(){var S=this._shapes;S.indicator&&S.indicator.attr("invisible",!0),S.indicatorLabel&&S.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var S=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",l.makeHighDownBatch(S,this.visualMapModel)),S.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var S=this.api.getZr();S.off("mouseover",this._hoverLinkFromSeriesMouseOver),S.off("mouseout",this._hideIndicator)},_applyTransform:function(S,T,C,M){var I=a.getTransform(T,M?null:this.group);return a[e.isArray(S)?"applyTransform":"transformDirection"](S,I,C)},_dispatchHighDown:function(S,T){T&&T.length&&this.api.dispatchAction({type:S,batch:T})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function g(S,T,C,M){return new a.Polygon({shape:{points:S},draggable:!!C,cursor:T,drift:C,onmousemove:function(I){r.stop(I.event)},ondragend:M})}function p(S,T){return S===0?[[0,0],[T,0],[T,-T]]:[[0,0],[T,0],[T,T]]}function y(S,T,C,M){return S?[[0,-h(T,c(C,0))],[d,0],[0,h(T,c(M-C,0))]]:[[0,0],[5,-5],[5,5]]}function x(S,T,C){var M=v/2,I=S.get("hoverLinkDataSize");return I&&(M=f(I,T,C,!0)/2),M}function A(S){var T=S.get("hoverLinkOnHandle");return!!(T??S.get("realtime"))}function w(S){return S==="vertical"?"ns-resize":"ew-resize"}var b=m;return qy=b,qy}var VR={},FR;function s5(){if(FR)return VR;FR=1;var e=Ge,t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};return e.registerAction(t,function(r,n){n.eachComponent({mainType:"visualMap",query:r},function(a){a.setSelected(r.selected)})}),VR}var HR;function l5(){if(HR)return MR;HR=1;var e=Ge,t=e5();return t5(),r5(),xre(),wre(),s5(),e.registerPreprocessor(t),MR}var qR={},Uy,UR;function Sre(){if(UR)return Uy;UR=1;var e=ne,t=n5(),r=Uo(),n=a5(),a=ht(),i=a.reformIntervals,o=t.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(u,h){o.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var c=this._mode=this._determineMode();l[this._mode].call(this),this._resetSelected(u,h);var v=this.option.categories;this.resetVisual(function(d,m){c==="categories"?(d.mappingMethod="category",d.categories=e.clone(v)):(d.dataExtent=this.getExtent(),d.mappingMethod="piecewise",d.pieceList=e.map(this._pieceList,function(p){var p=e.clone(p);return m!=="inRange"&&(p.visual=null),p}))})},completeVisualOption:function(){var u=this.option,h={},c=r.listVisualTypes(),v=this.isCategory();e.each(u.pieces,function(m){e.each(c,function(g){m.hasOwnProperty(g)&&(h[g]=1)})}),e.each(h,function(m,g){var p=0;e.each(this.stateList,function(y){p|=d(u,y,g)||d(u.target,y,g)},this),!p&&e.each(this.stateList,function(y){(u[y]||(u[y]={}))[g]=n.get(g,y==="inRange"?"active":"inactive",v)})},this);function d(m,g,p){return m&&m[g]&&(e.isObject(m[g])?m[g].hasOwnProperty(p):m[g]===p)}t.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(u,h){var c=this.option,v=this._pieceList,d=(h?c:u).selected||{};if(c.selected=d,e.each(v,function(g,p){var y=this.getSelectedMapKey(g);d.hasOwnProperty(y)||(d[y]=!0)},this),c.selectedMode==="single"){var m=!1;e.each(v,function(g,p){var y=this.getSelectedMapKey(g);d[y]&&(m?d[y]=!1:m=!0)},this)}},getSelectedMapKey:function(u){return this._mode==="categories"?u.value+"":u.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var u=this.option;return u.pieces&&u.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(u){this.option.selected=e.clone(u)},getValueState:function(u){var h=r.findPieceIndex(u,this._pieceList);return h!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[h])]?"inRange":"outOfRange"},findTargetDataIndices:function(u){var h=[];return this.eachTargetSeries(function(c){var v=[],d=c.getData();d.each(this.getDataDimension(d),function(m,g){var p=r.findPieceIndex(m,this._pieceList);p===u&&v.push(g)},this),h.push({seriesId:c.id,dataIndex:v})},this),h},getRepresentValue:function(u){var h;if(this.isCategory())h=u.value;else if(u.value!=null)h=u.value;else{var c=u.interval||[];h=c[0]===-1/0&&c[1]===1/0?0:(c[0]+c[1])/2}return h},getVisualMeta:function(u){if(this.isCategory())return;var h=[],c=[],v=this;function d(y,x){var A=v.getRepresentValue({interval:y});x||(x=v.getValueState(A));var w=u(A,x);y[0]===-1/0?c[0]=w:y[1]===1/0?c[1]=w:h.push({value:y[0],color:w},{value:y[1],color:w})}var m=this._pieceList.slice();if(!m.length)m.push({interval:[-1/0,1/0]});else{var g=m[0].interval[0];g!==-1/0&&m.unshift({interval:[-1/0,g]}),g=m[m.length-1].interval[1],g!==1/0&&m.push({interval:[g,1/0]})}var p=-1/0;return e.each(m,function(y){var x=y.interval;x&&(x[0]>p&&d([p,x[0]],"outOfRange"),d(x.slice()),p=x[1])},this),{stops:h,outerColors:c}}}),l={splitNumber:function(){var u=this.option,h=this._pieceList,c=Math.min(u.precision,20),v=this.getExtent(),d=u.splitNumber;d=Math.max(parseInt(d,10),1),u.splitNumber=d;for(var m=(v[1]-v[0])/d;+m.toFixed(c)!==m&&c<5;)c++;u.precision=c,m=+m.toFixed(c),u.minOpen&&h.push({interval:[-1/0,v[0]],close:[0,0]});for(var g=0,p=v[0];g<d;p+=m,g++){var y=g===d-1?v[1]:p+m;h.push({interval:[p,y],close:[1,1]})}u.maxOpen&&h.push({interval:[v[1],1/0],close:[0,0]}),i(h),e.each(h,function(x,A){x.index=A,x.text=this.formatValueText(x.interval)},this)},categories:function(){var u=this.option;e.each(u.categories,function(h){this._pieceList.push({text:this.formatValueText(h,!0),value:h})},this),s(u,this._pieceList)},pieces:function(){var u=this.option,h=this._pieceList;e.each(u.pieces,function(c,v){e.isObject(c)||(c={value:c});var d={text:"",index:v};if(c.label!=null&&(d.text=c.label),c.hasOwnProperty("value")){var m=d.value=c.value;d.interval=[m,m],d.close=[1,1]}else{for(var g=d.interval=[],p=d.close=[0,0],y=[1,0,1],x=[-1/0,1/0],A=[],w=0;w<2;w++){for(var b=[["gte","gt","min"],["lte","lt","max"]][w],S=0;S<3&&g[w]==null;S++)g[w]=c[b[S]],p[w]=y[S],A[w]=S===2;g[w]==null&&(g[w]=x[w])}A[0]&&g[1]===1/0&&(p[0]=0),A[1]&&g[0]===-1/0&&(p[1]=0),g[0]===g[1]&&p[0]&&p[1]&&(d.value=g[0])}d.visual=r.retrieveVisuals(c),h.push(d)},this),s(u,h),i(h),e.each(h,function(c){var v=c.close,d=[["<","≤"][v[1]],[">","≥"][v[0]]];c.text=c.text||this.formatValueText(c.value!=null?c.value:c.interval,!1,d)},this)}};function s(u,h){var c=u.inverse;(u.orient==="vertical"?!c:c)&&h.reverse()}var f=o;return Uy=f,Uy}var Gy,GR;function bre(){if(GR)return Gy;GR=1;var e=ne,t=i5(),r=ke,n=ja(),a=n.createSymbol,i=Tt,o=o5(),l=t.extend({type:"visualMap.piecewise",doRender:function(){var f=this.group;f.removeAll();var u=this.visualMapModel,h=u.get("textGap"),c=u.textStyleModel,v=c.getFont(),d=c.getTextColor(),m=this._getItemAlign(),g=u.itemSize,p=this._getViewData(),y=p.endsText,x=e.retrieve(u.get("showLabel",!0),!y);y&&this._renderEndsText(f,y[0],g,x,m),e.each(p.viewPieceList,A,this),y&&this._renderEndsText(f,y[1],g,x,m),i.box(u.get("orient"),f,u.get("itemGap")),this.renderBackground(f),this.positionGroup(f);function A(w){var b=w.piece,S=new r.Group;S.onclick=e.bind(this._onItemClick,this,b),this._enableHoverLink(S,w.indexInModelPieceList);var T=u.getRepresentValue(b);if(this._createItemSymbol(S,T,[0,0,g[0],g[1]]),x){var C=this.visualMapModel.getValueState(T);S.add(new r.Text({style:{x:m==="right"?-h:g[0]+h,y:g[1]/2,text:b.text,textVerticalAlign:"middle",textAlign:m,textFont:v,textFill:d,opacity:C==="outOfRange"?.5:1}}))}f.add(S)}},_enableHoverLink:function(f,u){f.on("mouseover",e.bind(h,this,"highlight")).on("mouseout",e.bind(h,this,"downplay"));function h(c){var v=this.visualMapModel;v.option.hoverLink&&this.api.dispatchAction({type:c,batch:o.makeHighDownBatch(v.findTargetDataIndices(u),v)})}},_getItemAlign:function(){var f=this.visualMapModel,u=f.option;if(u.orient==="vertical")return o.getItemAlign(f,this.api,f.itemSize);var h=u.align;return(!h||h==="auto")&&(h="left"),h},_renderEndsText:function(f,u,h,c,v){if(u){var d=new r.Group,m=this.visualMapModel.textStyleModel;d.add(new r.Text({style:{x:c?v==="right"?h[0]:0:h[0]/2,y:h[1]/2,textVerticalAlign:"middle",textAlign:c?v:"center",text:u,textFont:m.getFont(),textFill:m.getTextColor()}})),f.add(d)}},_getViewData:function(){var f=this.visualMapModel,u=e.map(f.getPieceList(),function(d,m){return{piece:d,indexInModelPieceList:m}}),h=f.get("text"),c=f.get("orient"),v=f.get("inverse");return(c==="horizontal"?v:!v)?u.reverse():h&&(h=h.slice().reverse()),{viewPieceList:u,endsText:h}},_createItemSymbol:function(f,u,h){f.add(a(this.getControllerVisual(u,"symbol"),h[0],h[1],h[2],h[3],this.getControllerVisual(u,"color")))},_onItemClick:function(f){var u=this.visualMapModel,h=u.option,c=e.clone(h.selected),v=u.getSelectedMapKey(f);h.selectedMode==="single"?(c[v]=!0,e.each(c,function(d,m){c[m]=m===v})):c[v]=!c[v],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:c})}}),s=l;return Gy=s,Gy}var WR;function u5(){if(WR)return qR;WR=1;var e=Ge,t=e5();return t5(),r5(),Sre(),bre(),s5(),e.registerPreprocessor(t),qR}var $R;function Are(){return $R||($R=1,l5(),u5()),CR}var YR={},ZR={},Gl={},KR;function f5(){if(KR)return Gl;KR=1;var e=Sr,t="urn:schemas-microsoft-com:vml",r=typeof window>"u"?null:window,n=!1,a=r&&r.document;function i(s){return o(s)}var o;if(a&&!e.canvasSupported)try{!a.namespaces.zrvml&&a.namespaces.add("zrvml",t),o=function(s){return a.createElement("<zrvml:"+s+' class="zrvml">')}}catch{o=function(f){return a.createElement("<"+f+' xmlns="'+t+'" class="zrvml">')}}function l(){if(!(n||!a)){n=!0;var s=a.styleSheets;s.length<31?a.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):s[0].addRule(".zrvml","behavior:url(#default#VML)")}}return Gl.doc=a,Gl.createNode=i,Gl.initVML=l,Gl}var XR;function Tre(){if(XR)return ZR;XR=1;var e=Sr,t=sr(),r=t.applyTransform,n=fr,a=Mr,i=ir,o=gn,l=SO(),s=Iu,f=Ks,u=No,h=yr,c=Qs(),v=Ch,d=f5(),m=c.CMD,g=Math.round,p=Math.sqrt,y=Math.abs,x=Math.cos,A=Math.sin,w=Math.max;if(!e.canvasSupported){var b=",",S="progid:DXImageTransform.Microsoft",T=21600,C=T/2,M=1e5,I=1e3,P=function(oe){oe.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",oe.coordsize=T+","+T,oe.coordorigin="0,0"},D=function(oe){return String(oe).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},k=function(oe,ve,Me){return"rgb("+[oe,ve,Me].join(",")+")"},R=function(oe,ve){ve&&oe&&ve.parentNode!==oe&&oe.appendChild(ve)},B=function(oe,ve){ve&&oe&&ve.parentNode===oe&&oe.removeChild(ve)},V=function(oe,ve,Me){return(parseFloat(oe)||0)*M+(parseFloat(ve)||0)*I+Me},F=o.parsePercent,Y=function(oe,ve,Me){var re=a.parse(ve);Me=+Me,isNaN(Me)&&(Me=1),re&&(oe.color=k(re[0],re[1],re[2]),oe.opacity=Me*re[3])},q=function(oe){var ve=a.parse(oe);return[k(ve[0],ve[1],ve[2]),ve[3]]},E=function(oe,ve,Me){var re=ve.fill;if(re!=null)if(re instanceof v){var ie,me=0,Ce=[0,0],Le=0,Pe=1,Ie=Me.getBoundingRect(),Fe=Ie.width,Ne=Ie.height;if(re.type==="linear"){ie="gradient";var Ze=Me.transform,Xe=[re.x*Fe,re.y*Ne],Ye=[re.x2*Fe,re.y2*Ne];Ze&&(r(Xe,Xe,Ze),r(Ye,Ye,Ze));var mt=Ye[0]-Xe[0],Lt=Ye[1]-Xe[1];me=Math.atan2(mt,Lt)*180/Math.PI,me<0&&(me+=360),me<1e-6&&(me=0)}else{ie="gradientradial";var Xe=[re.x*Fe,re.y*Ne],Ze=Me.transform,Gt=Me.scale,ce=Fe,_e=Ne;Ce=[(Xe[0]-Ie.x)/ce,(Xe[1]-Ie.y)/_e],Ze&&r(Xe,Xe,Ze),ce/=Gt[0]*T,_e/=Gt[1]*T;var be=w(ce,_e);Le=2*0/be,Pe=2*re.r/be-Le}var Ae=re.colorStops.slice();Ae.sort(function(gt,kt){return gt.offset-kt.offset});for(var Be=Ae.length,ze=[],Je=[],nt=0;nt<Be;nt++){var ot=Ae[nt],ut=q(ot.color);Je.push(ot.offset*Pe+Le+" "+ut[0]),(nt===0||nt===Be-1)&&ze.push(ut)}if(Be>=2){var ft=ze[0][0],Ut=ze[1][0],It=ze[0][1]*ve.opacity,bt=ze[1][1]*ve.opacity;oe.type=ie,oe.method="none",oe.focus="100%",oe.angle=me,oe.color=ft,oe.color2=Ut,oe.colors=Je.join(","),oe.opacity=bt,oe.opacity2=It}ie==="radial"&&(oe.focusposition=Ce.join(","))}else Y(oe,re,ve.opacity)},z=function(oe,ve){ve.lineDash&&(oe.dashstyle=ve.lineDash.join(" ")),ve.stroke!=null&&!(ve.stroke instanceof v)&&Y(oe,ve.stroke,ve.opacity)},N=function(oe,ve,Me,re){var ie=ve==="fill",me=oe.getElementsByTagName(ve)[0];Me[ve]!=null&&Me[ve]!=="none"&&(ie||!ie&&Me.lineWidth)?(oe[ie?"filled":"stroked"]="true",Me[ve]instanceof v&&B(oe,me),me||(me=d.createNode(ve)),ie?E(me,Me,re):z(me,Me),R(oe,me)):(oe[ie?"filled":"stroked"]="false",B(oe,me))},H=[[],[],[]],W=function(oe,ve){var Me=m.M,re=m.C,ie=m.L,me=m.A,Ce=m.Q,Le=[],Pe,Ie,Fe,Ne,Ze,Xe,Ye=oe.data,mt=oe.len();for(Ne=0;Ne<mt;){switch(Fe=Ye[Ne++],Ie="",Pe=0,Fe){case Me:Ie=" m ",Pe=1,Ze=Ye[Ne++],Xe=Ye[Ne++],H[0][0]=Ze,H[0][1]=Xe;break;case ie:Ie=" l ",Pe=1,Ze=Ye[Ne++],Xe=Ye[Ne++],H[0][0]=Ze,H[0][1]=Xe;break;case Ce:case re:Ie=" c ",Pe=3;var Ct=Ye[Ne++],zt=Ye[Ne++],Lt=Ye[Ne++],Gt=Ye[Ne++],ce,_e;Fe===Ce?(ce=Lt,_e=Gt,Lt=(Lt+2*Ct)/3,Gt=(Gt+2*zt)/3,Ct=(Ze+2*Ct)/3,zt=(Xe+2*zt)/3):(ce=Ye[Ne++],_e=Ye[Ne++]),H[0][0]=Ct,H[0][1]=zt,H[1][0]=Lt,H[1][1]=Gt,H[2][0]=ce,H[2][1]=_e,Ze=ce,Xe=_e;break;case me:var be=0,Ae=0,Be=1,ze=1,Je=0;ve&&(be=ve[4],Ae=ve[5],Be=p(ve[0]*ve[0]+ve[1]*ve[1]),ze=p(ve[2]*ve[2]+ve[3]*ve[3]),Je=Math.atan2(-ve[1]/ze,ve[0]/Be));var nt=Ye[Ne++],ot=Ye[Ne++],ut=Ye[Ne++],ft=Ye[Ne++],Ut=Ye[Ne++]+Je,It=Ye[Ne++]+Ut+Je;Ne++;var bt=Ye[Ne++],gt=nt+x(Ut)*ut,kt=ot+A(Ut)*ft,Ct=nt+x(It)*ut,zt=ot+A(It)*ft,cr=bt?" wa ":" at ";Math.abs(gt-Ct)<1e-4&&(Math.abs(It-Ut)>.01?bt&&(gt+=270/T):Math.abs(kt-ot)<1e-4?bt&&gt<nt||!bt&&gt>nt?zt-=270/T:zt+=270/T:bt&&kt<ot||!bt&&kt>ot?Ct+=270/T:Ct-=270/T),Le.push(cr,g(((nt-ut)*Be+be)*T-C),b,g(((ot-ft)*ze+Ae)*T-C),b,g(((nt+ut)*Be+be)*T-C),b,g(((ot+ft)*ze+Ae)*T-C),b,g((gt*Be+be)*T-C),b,g((kt*ze+Ae)*T-C),b,g((Ct*Be+be)*T-C),b,g((zt*ze+Ae)*T-C)),Ze=Ct,Xe=zt;break;case m.R:var Wt=H[0],Xt=H[1];Wt[0]=Ye[Ne++],Wt[1]=Ye[Ne++],Xt[0]=Wt[0]+Ye[Ne++],Xt[1]=Wt[1]+Ye[Ne++],ve&&(r(Wt,Wt,ve),r(Xt,Xt,ve)),Wt[0]=g(Wt[0]*T-C),Xt[0]=g(Xt[0]*T-C),Wt[1]=g(Wt[1]*T-C),Xt[1]=g(Xt[1]*T-C),Le.push(" m ",Wt[0],b,Wt[1]," l ",Xt[0],b,Wt[1]," l ",Xt[0],b,Xt[1]," l ",Wt[0],b,Xt[1]);break;case m.Z:Le.push(" x ")}if(Pe>0){Le.push(Ie);for(var Ot=0;Ot<Pe;Ot++){var lr=H[Ot];ve&&r(lr,lr,ve),Le.push(g(lr[0]*T-C),b,g(lr[1]*T-C),Ot<Pe-1?b:"")}}}return Le.join("")};h.prototype.brushVML=function(oe){var ve=this.style,Me=this._vmlEl;Me||(Me=d.createNode("shape"),P(Me),this._vmlEl=Me),N(Me,"fill",ve,this),N(Me,"stroke",ve,this);var re=this.transform,ie=re!=null,me=Me.getElementsByTagName("stroke")[0];if(me){var Ce=ve.lineWidth;if(ie&&!ve.strokeNoScale){var Le=re[0]*re[3]-re[1]*re[2];Ce*=p(y(Le))}me.weight=Ce+"px"}var Pe=this.path||(this.path=new c);this.__dirtyPath&&(Pe.beginPath(),Pe.subPixelOptimize=!1,this.buildPath(Pe,this.shape),Pe.toStatic(),this.__dirtyPath=!1),Me.path=W(Pe,this.transform),Me.style.zIndex=V(this.zlevel,this.z,this.z2),R(oe,Me),ve.text!=null?this.drawRectText(oe,this.getBoundingRect()):this.removeRectText(oe)},h.prototype.onRemove=function(oe){B(oe,this._vmlEl),this.removeRectText(oe)},h.prototype.onAdd=function(oe){R(oe,this._vmlEl),this.appendRectText(oe)};var U=function(oe){return typeof oe=="object"&&oe.tagName&&oe.tagName.toUpperCase()==="IMG"};f.prototype.brushVML=function(oe){var ve=this.style,Me=ve.image,re,ie;if(U(Me)){var me=Me.src;if(me===this._imageSrc)re=this._imageWidth,ie=this._imageHeight;else{var Ce=Me.runtimeStyle,Le=Ce.width,Pe=Ce.height;Ce.width="auto",Ce.height="auto",re=Me.width,ie=Me.height,Ce.width=Le,Ce.height=Pe,this._imageSrc=me,this._imageWidth=re,this._imageHeight=ie}Me=me}else Me===this._imageSrc&&(re=this._imageWidth,ie=this._imageHeight);if(Me){var Ie=ve.x||0,Fe=ve.y||0,Ne=ve.width,Ze=ve.height,Xe=ve.sWidth,Ye=ve.sHeight,mt=ve.sx||0,Lt=ve.sy||0,Gt=Xe&&Ye,ce=this._vmlEl;ce||(ce=d.doc.createElement("div"),P(ce),this._vmlEl=ce);var _e=ce.style,be=!1,Ae,Be=1,ze=1;if(this.transform&&(Ae=this.transform,Be=p(Ae[0]*Ae[0]+Ae[1]*Ae[1]),ze=p(Ae[2]*Ae[2]+Ae[3]*Ae[3]),be=Ae[1]||Ae[2]),be){var Je=[Ie,Fe],nt=[Ie+Ne,Fe],ot=[Ie,Fe+Ze],ut=[Ie+Ne,Fe+Ze];r(Je,Je,Ae),r(nt,nt,Ae),r(ot,ot,Ae),r(ut,ut,Ae);var ft=w(Je[0],nt[0],ot[0],ut[0]),Ut=w(Je[1],nt[1],ot[1],ut[1]),It=[];It.push("M11=",Ae[0]/Be,b,"M12=",Ae[2]/ze,b,"M21=",Ae[1]/Be,b,"M22=",Ae[3]/ze,b,"Dx=",g(Ie*Be+Ae[4]),b,"Dy=",g(Fe*ze+Ae[5])),_e.padding="0 "+g(ft)+"px "+g(Ut)+"px 0",_e.filter=S+".Matrix("+It.join("")+", SizingMethod=clip)"}else Ae&&(Ie=Ie*Be+Ae[4],Fe=Fe*ze+Ae[5]),_e.filter="",_e.left=g(Ie)+"px",_e.top=g(Fe)+"px";var bt=this._imageEl,gt=this._cropEl;bt||(bt=d.doc.createElement("div"),this._imageEl=bt);var kt=bt.style;if(Gt){if(re&&ie)kt.width=g(Be*re*Ne/Xe)+"px",kt.height=g(ze*ie*Ze/Ye)+"px";else{var Ct=new Image,zt=this;Ct.onload=function(){Ct.onload=null,re=Ct.width,ie=Ct.height,kt.width=g(Be*re*Ne/Xe)+"px",kt.height=g(ze*ie*Ze/Ye)+"px",zt._imageWidth=re,zt._imageHeight=ie,zt._imageSrc=Me},Ct.src=Me}gt||(gt=d.doc.createElement("div"),gt.style.overflow="hidden",this._cropEl=gt);var cr=gt.style;cr.width=g((Ne+mt*Ne/Xe)*Be),cr.height=g((Ze+Lt*Ze/Ye)*ze),cr.filter=S+".Matrix(Dx="+-mt*Ne/Xe*Be+",Dy="+-Lt*Ze/Ye*ze+")",gt.parentNode||ce.appendChild(gt),bt.parentNode!==gt&&gt.appendChild(bt)}else kt.width=g(Be*Ne)+"px",kt.height=g(ze*Ze)+"px",ce.appendChild(bt),gt&&gt.parentNode&&(ce.removeChild(gt),this._cropEl=null);var Wt="",Xt=ve.opacity;Xt<1&&(Wt+=".Alpha(opacity="+g(Xt*100)+") "),Wt+=S+".AlphaImageLoader(src="+Me+", SizingMethod=scale)",kt.filter=Wt,ce.style.zIndex=V(this.zlevel,this.z,this.z2),R(oe,ce),ve.text!=null&&this.drawRectText(oe,this.getBoundingRect())}},f.prototype.onRemove=function(oe){B(oe,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(oe)},f.prototype.onAdd=function(oe){R(oe,this._vmlEl),this.appendRectText(oe)};var K="normal",Q={},j=0,se=100,le=document.createElement("div"),de=function(oe){var ve=Q[oe];if(!ve){j>se&&(j=0,Q={});var Me=le.style,re;try{Me.font=oe,re=Me.fontFamily.split(",")[0]}catch{}ve={style:Me.fontStyle||K,variant:Me.fontVariant||K,weight:Me.fontWeight||K,size:parseFloat(Me.fontSize||12)|0,family:re||"Microsoft YaHei"},Q[oe]=ve,j++}return ve},he;i.$override("measureText",function(oe,ve){var Me=d.doc;he||(he=Me.createElement("div"),he.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",d.doc.body.appendChild(he));try{he.style.font=ve}catch{}return he.innerHTML="",he.appendChild(Me.createTextNode(oe)),{width:he.offsetWidth}});for(var pe=new n,ye=function(oe,ve,Me,re){var ie=this.style;this.__dirty&&o.normalizeTextStyle(ie,!0);var me=ie.text;if(me!=null&&(me+=""),!!me){if(ie.rich){var Ce=i.parseRichText(me,ie);me=[];for(var Le=0;Le<Ce.lines.length;Le++){for(var Pe=Ce.lines[Le].tokens,Ie=[],Fe=0;Fe<Pe.length;Fe++)Ie.push(Pe[Fe].text);me.push(Ie.join(""))}me=me.join(`
`)}var Ne,Ze,Xe=ie.textAlign,Ye=ie.textVerticalAlign,mt=de(ie.font),Lt=mt.style+" "+mt.variant+" "+mt.weight+" "+mt.size+'px "'+mt.family+'"';Me=Me||i.getBoundingRect(me,Lt,Xe,Ye,ie.textPadding,ie.textLineHeight);var Gt=this.transform;if(Gt&&!re&&(pe.copy(ve),pe.applyTransform(Gt),ve=pe),re)Ne=ve.x,Ze=ve.y;else{var ce=ie.textPosition;if(ce instanceof Array)Ne=ve.x+F(ce[0],ve.width),Ze=ve.y+F(ce[1],ve.height),Xe=Xe||"left";else{var _e=this.calculateTextPosition?this.calculateTextPosition({},ie,ve):i.calculateTextPosition({},ie,ve);Ne=_e.x,Ze=_e.y,Xe=Xe||_e.textAlign,Ye=Ye||_e.textVerticalAlign}}Ne=i.adjustTextX(Ne,Me.width,Xe),Ze=i.adjustTextY(Ze,Me.height,Ye),Ze+=Me.height/2;var be=d.createNode,Ae=this._textVmlEl,Be,ze,Je;Ae?(Je=Ae.firstChild,Be=Je.nextSibling,ze=Be.nextSibling):(Ae=be("line"),Be=be("path"),ze=be("textpath"),Je=be("skew"),ze.style["v-text-align"]="left",P(Ae),Be.textpathok=!0,ze.on=!0,Ae.from="0 0",Ae.to="1000 0.05",R(Ae,Je),R(Ae,Be),R(Ae,ze),this._textVmlEl=Ae);var nt=[Ne,Ze],ot=Ae.style;Gt&&re?(r(nt,nt,Gt),Je.on=!0,Je.matrix=Gt[0].toFixed(3)+b+Gt[2].toFixed(3)+b+Gt[1].toFixed(3)+b+Gt[3].toFixed(3)+",0,0",Je.offset=(g(nt[0])||0)+","+(g(nt[1])||0),Je.origin="0 0",ot.left="0px",ot.top="0px"):(Je.on=!1,ot.left=g(Ne)+"px",ot.top=g(Ze)+"px"),ze.string=D(me);try{ze.style.font=Lt}catch{}N(Ae,"fill",{fill:ie.textFill,opacity:ie.opacity},this),N(Ae,"stroke",{stroke:ie.textStroke,opacity:ie.opacity,lineDash:ie.lineDash||null},this),Ae.style.zIndex=V(this.zlevel,this.z,this.z2),R(oe,Ae)}},X=function(oe){B(oe,this._textVmlEl),this._textVmlEl=null},G=function(oe){R(oe,this._textVmlEl)},$=[l,s,f,h,u],ee=0;ee<$.length;ee++){var fe=$[ee].prototype;fe.drawRectText=ye,fe.removeRectText=X,fe.appendRectText=G}u.prototype.brushVML=function(oe){var ve=this.style;ve.text!=null?this.drawRectText(oe,{x:ve.x||0,y:ve.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(oe)},u.prototype.onRemove=function(oe){this.removeRectText(oe)},u.prototype.onAdd=function(oe){this.appendRectText(oe)}}return ZR}var Wy,QR;function Cre(){if(QR)return Wy;QR=1;var e=Tu,t=f5(),r=ne,n=r.each;function a(s){return parseInt(s,10)}function i(s,f){t.initVML(),this.root=s,this.storage=f;var u=document.createElement("div"),h=document.createElement("div");u.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",h.style.cssText="position:absolute;left:0;top:0;",s.appendChild(u),this._vmlRoot=h,this._vmlViewport=u,this.resize();var c=f.delFromStorage,v=f.addToStorage;f.delFromStorage=function(d){c.call(f,d),d&&d.onRemove&&d.onRemove(h)},f.addToStorage=function(d){d.onAdd&&d.onAdd(h),v.call(f,d)},this._firstPaint=!0}i.prototype={constructor:i,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var s=this.getViewportRoot();if(s)return{offsetLeft:s.offsetLeft||0,offsetTop:s.offsetTop||0}},refresh:function(){var s=this.storage.getDisplayList(!0,!0);this._paintList(s)},_paintList:function(s){for(var f=this._vmlRoot,u=0;u<s.length;u++){var h=s[u];h.invisible||h.ignore?(h.__alreadyNotVisible||h.onRemove(f),h.__alreadyNotVisible=!0):(h.__alreadyNotVisible&&h.onAdd(f),h.__alreadyNotVisible=!1,h.__dirty&&(h.beforeBrush&&h.beforeBrush(),(h.brushVML||h.brush).call(h,f),h.afterBrush&&h.afterBrush())),h.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(f),this._firstPaint=!1)},resize:function(u,h){var u=u??this._getWidth(),h=h??this._getHeight();if(this._width!==u||this._height!==h){this._width=u,this._height=h;var c=this._vmlViewport.style;c.width=u+"px",c.height=h+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var s=this.root,f=s.currentStyle;return(s.clientWidth||a(f.width))-a(f.paddingLeft)-a(f.paddingRight)|0},_getHeight:function(){var s=this.root,f=s.currentStyle;return(s.clientHeight||a(f.height))-a(f.paddingTop)-a(f.paddingBottom)|0}};function o(s){return function(){e('In IE8.0 VML mode painter not support method "'+s+'"')}}n(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(s){i.prototype[s]=o(s)});var l=i;return Wy=l,Wy}var JR;function Mre(){if(JR)return YR;JR=1,Tre();var e=pi,t=e.registerPainter,r=Cre();return t("vml",r),YR}var jR={},Wl={},$y={},eE;function Nx(){if(eE)return $y;eE=1;var e="http://www.w3.org/2000/svg";function t(r){return document.createElementNS(e,r)}return $y.createElement=t,$y}var tE;function zx(){if(tE)return Wl;tE=1;var e=Nx(),t=e.createElement,r=Qs(),n=fr,a=la(),i=ir,o=gn,l=No,s=r.CMD,f=Array.prototype.join,u="none",h=Math.round,c=Math.sin,v=Math.cos,d=Math.PI,m=Math.PI*2,g=180/d,p=1e-4;function y(N){return h(N*1e4)/1e4}function x(N){return N<p&&N>-p}function A(N,H){var W=H?N.textFill:N.fill;return W!=null&&W!==u}function w(N,H){var W=H?N.textStroke:N.stroke;return W!=null&&W!==u}function b(N,H){H&&S(N,"transform","matrix("+f.call(H,",")+")")}function S(N,H,W){(!W||W.type!=="linear"&&W.type!=="radial")&&N.setAttribute(H,W)}function T(N,H,W){N.setAttributeNS("http://www.w3.org/1999/xlink",H,W)}function C(N,H,W,U){if(A(H,W)){var K=W?H.textFill:H.fill;K=K==="transparent"?u:K,S(N,"fill",K),S(N,"fill-opacity",H.fillOpacity!=null?H.fillOpacity*H.opacity:H.opacity)}else S(N,"fill",u);if(w(H,W)){var Q=W?H.textStroke:H.stroke;Q=Q==="transparent"?u:Q,S(N,"stroke",Q);var j=W?H.textStrokeWidth:H.lineWidth,se=!W&&H.strokeNoScale?U.getLineScale():1;S(N,"stroke-width",j/se),S(N,"paint-order",W?"stroke":"fill"),S(N,"stroke-opacity",H.strokeOpacity!=null?H.strokeOpacity:H.opacity);var le=H.lineDash;le?(S(N,"stroke-dasharray",H.lineDash.join(",")),S(N,"stroke-dashoffset",h(H.lineDashOffset||0))):S(N,"stroke-dasharray",""),H.lineCap&&S(N,"stroke-linecap",H.lineCap),H.lineJoin&&S(N,"stroke-linejoin",H.lineJoin),H.miterLimit&&S(N,"stroke-miterlimit",H.miterLimit)}else S(N,"stroke",u)}function M(N){for(var H=[],W=N.data,U=N.len(),K=0;K<U;){var Q=W[K++],j="",se=0;switch(Q){case s.M:j="M",se=2;break;case s.L:j="L",se=2;break;case s.Q:j="Q",se=4;break;case s.C:j="C",se=6;break;case s.A:var le=W[K++],de=W[K++],he=W[K++],pe=W[K++],ye=W[K++],X=W[K++],G=W[K++],$=W[K++],ee=Math.abs(X),fe=x(ee-m)||($?X>=m:-X>=m),oe=X>0?X%m:X%m+m,ve=!1;fe?ve=!0:x(ee)?ve=!1:ve=oe>=d==!!$;var Me=y(le+he*v(ye)),re=y(de+pe*c(ye));fe&&($?X=m-1e-4:X=-m+1e-4,ve=!0,K===9&&H.push("M",Me,re));var ie=y(le+he*v(ye+X)),me=y(de+pe*c(ye+X));H.push("A",y(he),y(pe),h(G*g),+ve,+$,ie,me);break;case s.Z:j="Z";break;case s.R:var ie=y(W[K++]),me=y(W[K++]),Ce=y(W[K++]),Le=y(W[K++]);H.push("M",ie,me,"L",ie+Ce,me,"L",ie+Ce,me+Le,"L",ie,me+Le,"L",ie,me);break}j&&H.push(j);for(var Pe=0;Pe<se;Pe++)H.push(y(W[K++]))}return H.join(" ")}var I={};I.brush=function(N){var H=N.style,W=N.__svgEl;W||(W=t("path"),N.__svgEl=W),N.path||N.createPathProxy();var U=N.path;if(N.__dirtyPath){U.beginPath(),U.subPixelOptimize=!1,N.buildPath(U,N.shape),N.__dirtyPath=!1;var K=M(U);K.indexOf("NaN")<0&&S(W,"d",K)}C(W,H,!1,N),b(W,N.transform),H.text!=null?F(N,N.getBoundingRect()):z(N)};var P={};P.brush=function(N){var H=N.style,W=H.image;if(W instanceof HTMLImageElement){var U=W.src;W=U}if(W){var K=H.x||0,Q=H.y||0,j=H.width,se=H.height,le=N.__svgEl;le||(le=t("image"),N.__svgEl=le),W!==N.__imageSrc&&(T(le,"href",W),N.__imageSrc=W),S(le,"width",j),S(le,"height",se),S(le,"x",K),S(le,"y",Q),b(le,N.transform),H.text!=null?F(N,N.getBoundingRect()):z(N)}};var D={},k=new n,R={},B=[],V={left:"start",right:"end",center:"middle",middle:"middle"},F=function(N,H){var W=N.style,U=N.transform,K=N instanceof l||W.transformText;N.__dirty&&o.normalizeTextStyle(W,!0);var Q=W.text;if(Q!=null&&(Q+=""),!!o.needDrawText(Q,W)){Q==null&&(Q=""),!K&&U&&(k.copy(H),k.applyTransform(U),H=k);var j=N.__textSvgEl;j||(j=t("text"),N.__textSvgEl=j);var se=j.style,le=W.font||i.DEFAULT_FONT,de=j.__computedFont;le!==j.__styleFont&&(se.font=j.__styleFont=le,de=j.__computedFont=se.font);var he=W.textPadding,pe=W.textLineHeight,ye=N.__textCotentBlock;(!ye||N.__dirtyText)&&(ye=N.__textCotentBlock=i.parsePlainText(Q,de,he,pe,W.truncate));var X=ye.outerHeight,G=ye.lineHeight;o.getBoxPosition(R,N,W,H);var $=R.baseX,ee=R.baseY,fe=R.textAlign||"left",oe=R.textVerticalAlign;Y(j,K,U,W,H,$,ee);var ve=i.adjustTextY(ee,X,oe),Me=$,re=ve;he&&(Me=q($,fe,he),re+=he[0]),re+=G/2,C(j,W,!0,N);var ie=ye.canCacheByTextString,me=N.__tspanList||(N.__tspanList=[]),Ce=me.length;if(ie&&N.__canCacheByTextString&&N.__text===Q){if(N.__dirtyText&&Ce)for(var Le=0;Le<Ce;++Le)E(me[Le],fe,Me,re+Le*G)}else{N.__text=Q,N.__canCacheByTextString=ie;for(var Pe=ye.lines,Ie=Pe.length,Le=0;Le<Ie;Le++){var Fe=me[Le],Ne=Pe[Le];Fe?Fe.__zrText!==Ne&&(Fe.innerHTML="",Fe.appendChild(document.createTextNode(Ne))):(Fe=me[Le]=t("tspan"),j.appendChild(Fe),Fe.appendChild(document.createTextNode(Ne))),E(Fe,fe,Me,re+Le*G)}if(Ce>Ie){for(;Le<Ce;Le++)j.removeChild(me[Le]);me.length=Ie}}}};function Y(N,H,W,U,K,Q,j){a.identity(B),H&&W&&a.copy(B,W);var se=U.textRotation;if(K&&se){var le=U.textOrigin;le==="center"?(Q=K.width/2+K.x,j=K.height/2+K.y):le&&(Q=le[0]+K.x,j=le[1]+K.y),B[4]-=Q,B[5]-=j,a.rotate(B,B,se),B[4]+=Q,B[5]+=j}b(N,B)}function q(N,H,W){return H==="right"?N-W[1]:H==="center"?N+W[3]/2-W[1]/2:N+W[3]}function E(N,H,W,U){S(N,"dominant-baseline","middle"),S(N,"text-anchor",V[H]),S(N,"x",W),S(N,"y",U)}function z(N){N&&N.__textSvgEl&&(N.__textSvgEl.parentNode&&N.__textSvgEl.parentNode.removeChild(N.__textSvgEl),N.__textSvgEl=null,N.__tspanList=[],N.__text=null)}return D.drawRectText=F,D.brush=function(N){var H=N.style;H.text!=null?F(N,!1):z(N)},Wl.path=I,Wl.image=P,Wl.text=D,Wl}var Yy,rE;function Lre(){if(rE)return Yy;rE=1;function e(){}e.prototype={diff:function(i,o,l){l||(l=function(x,A){return x===A}),this.equals=l;var s=this;i=i.slice(),o=o.slice();var f=o.length,u=i.length,h=1,c=f+u,v=[{newPos:-1,components:[]}],d=this.extractCommon(v[0],o,i,0);if(v[0].newPos+1>=f&&d+1>=u){for(var m=[],g=0;g<o.length;g++)m.push(g);return[{indices:m,count:o.length}]}function p(){for(var x=-1*h;x<=h;x+=2){var A,w=v[x-1],b=v[x+1],S=(b?b.newPos:0)-x;w&&(v[x-1]=void 0);var T=w&&w.newPos+1<f,C=b&&0<=S&&S<u;if(!T&&!C){v[x]=void 0;continue}if(!T||C&&w.newPos<b.newPos?(A=r(b),s.pushComponent(A.components,void 0,!0)):(A=w,A.newPos++,s.pushComponent(A.components,!0,void 0)),S=s.extractCommon(A,o,i,x),A.newPos+1>=f&&S+1>=u)return t(s,A.components);v[x]=A}h++}for(;h<=c;){var y=p();if(y)return y}},pushComponent:function(i,o,l){var s=i[i.length-1];s&&s.added===o&&s.removed===l?i[i.length-1]={count:s.count+1,added:o,removed:l}:i.push({count:1,added:o,removed:l})},extractCommon:function(i,o,l,s){for(var f=o.length,u=l.length,h=i.newPos,c=h-s,v=0;h+1<f&&c+1<u&&this.equals(o[h+1],l[c+1]);)h++,c++,v++;return v&&i.components.push({count:v}),i.newPos=h,c},tokenize:function(i){return i.slice()},join:function(i){return i.slice()}};function t(i,o,l,s){for(var f=0,u=o.length,h=0,c=0;f<u;f++){var v=o[f];if(v.removed){for(var d=[],m=c;m<c+v.count;m++)d.push(m);v.indices=d,c+=v.count}else{for(var d=[],m=h;m<h+v.count;m++)d.push(m);v.indices=d,h+=v.count,v.added||(c+=v.count)}}return o}function r(i){return{newPos:i.newPos,components:i.components.slice(0)}}var n=new e;function a(i,o,l){return n.diff(i,o,l)}return Yy=a,Yy}var Zy,aE;function Vx(){if(aE)return Zy;aE=1;var e=Nx(),t=e.createElement,r=ne,n=yr,a=Ks,i=No,o=zx(),l=o.path,s=o.image,f=o.text,u="0",h="1";function c(d,m,g,p,y){this._zrId=d,this._svgRoot=m,this._tagNames=typeof g=="string"?[g]:g,this._markLabel=p,this._domName=y||"_dom",this.nextId=0}c.prototype.createElement=t,c.prototype.getDefs=function(d){var m=this._svgRoot,g=this._svgRoot.getElementsByTagName("defs");return g.length===0?d?(g=m.insertBefore(this.createElement("defs"),m.firstChild),g.contains||(g.contains=function(p){var y=g.children;if(!y)return!1;for(var x=y.length-1;x>=0;--x)if(y[x]===p)return!0;return!1}),g):null:g[0]},c.prototype.update=function(d,m){if(d){var g=this.getDefs(!1);if(d[this._domName]&&g.contains(d[this._domName]))typeof m=="function"&&m(d);else{var p=this.add(d);p&&(d[this._domName]=p)}}},c.prototype.addDom=function(d){var m=this.getDefs(!0);m.appendChild(d)},c.prototype.removeDom=function(d){var m=this.getDefs(!1);m&&d[this._domName]&&(m.removeChild(d[this._domName]),d[this._domName]=null)},c.prototype.getDoms=function(){var d=this.getDefs(!1);if(!d)return[];var m=[];return r.each(this._tagNames,function(g){var p=d.getElementsByTagName(g);m=m.concat([].slice.call(p))}),m},c.prototype.markAllUnused=function(){var d=this.getDoms(),m=this;r.each(d,function(g){g[m._markLabel]=u})},c.prototype.markUsed=function(d){d&&(d[this._markLabel]=h)},c.prototype.removeUnused=function(){var d=this.getDefs(!1);if(d){var m=this.getDoms(),g=this;r.each(m,function(p){p[g._markLabel]!==h&&d.removeChild(p)})}},c.prototype.getSvgProxy=function(d){return d instanceof n?l:d instanceof a?s:d instanceof i?f:l},c.prototype.getTextSvgElement=function(d){return d.__textSvgEl},c.prototype.getSvgElement=function(d){return d.__svgEl};var v=c;return Zy=v,Zy}var Ky,nE;function Ire(){if(nE)return Ky;nE=1;var e=Vx(),t=ne,r=Tu,n=Mr;function a(o,l){e.call(this,o,l,["linearGradient","radialGradient"],"__gradient_in_use__")}t.inherits(a,e),a.prototype.addWithoutUpdate=function(o,l){if(l&&l.style){var s=this;t.each(["fill","stroke"],function(f){if(l.style[f]&&(l.style[f].type==="linear"||l.style[f].type==="radial")){var u=l.style[f],h=s.getDefs(!0),c;u._dom?(c=u._dom,h.contains(u._dom)||s.addDom(c)):c=s.add(u),s.markUsed(l);var v=c.getAttribute("id");o.setAttribute(f,"url(#"+v+")")}})}},a.prototype.add=function(o){var l;if(o.type==="linear")l=this.createElement("linearGradient");else if(o.type==="radial")l=this.createElement("radialGradient");else return r("Illegal gradient type."),null;return o.id=o.id||this.nextId++,l.setAttribute("id","zr"+this._zrId+"-gradient-"+o.id),this.updateDom(o,l),this.addDom(l),l},a.prototype.update=function(o){var l=this;e.prototype.update.call(this,o,function(){var s=o.type,f=o._dom.tagName;s==="linear"&&f==="linearGradient"||s==="radial"&&f==="radialGradient"?l.updateDom(o,o._dom):(l.removeDom(o),l.add(o))})},a.prototype.updateDom=function(o,l){if(o.type==="linear")l.setAttribute("x1",o.x),l.setAttribute("y1",o.y),l.setAttribute("x2",o.x2),l.setAttribute("y2",o.y2);else if(o.type==="radial")l.setAttribute("cx",o.x),l.setAttribute("cy",o.y),l.setAttribute("r",o.r);else{r("Illegal gradient type.");return}o.global?l.setAttribute("gradientUnits","userSpaceOnUse"):l.setAttribute("gradientUnits","objectBoundingBox"),l.innerHTML="";for(var s=o.colorStops,f=0,u=s.length;f<u;++f){var h=this.createElement("stop");h.setAttribute("offset",s[f].offset*100+"%");var c=s[f].color;if(c.indexOf("rgba")>-1){var v=n.parse(c)[3],d=n.toHex(c);h.setAttribute("stop-color","#"+d),h.setAttribute("stop-opacity",v)}else h.setAttribute("stop-color",s[f].color);l.appendChild(h)}o._dom=l},a.prototype.markUsed=function(o){if(o.style){var l=o.style.fill;l&&l._dom&&e.prototype.markUsed.call(this,l._dom),l=o.style.stroke,l&&l._dom&&e.prototype.markUsed.call(this,l._dom)}};var i=a;return Ky=i,Ky}var Xy,iE;function Pre(){if(iE)return Xy;iE=1;var e=Vx(),t=ne,r=la();function n(i,o){e.call(this,i,o,"clipPath","__clippath_in_use__")}t.inherits(n,e),n.prototype.update=function(i){var o=this.getSvgElement(i);o&&this.updateDom(o,i.__clipPaths,!1);var l=this.getTextSvgElement(i);l&&this.updateDom(l,i.__clipPaths,!0),this.markUsed(i)},n.prototype.updateDom=function(i,o,l){if(o&&o.length>0){var s=this.getDefs(!0),f=o[0],u,h,c=l?"_textDom":"_dom";f[c]?(h=f[c].getAttribute("id"),u=f[c],s.contains(u)||s.appendChild(u)):(h="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,u=this.createElement("clipPath"),u.setAttribute("id",h),s.appendChild(u),f[c]=u);var v=this.getSvgProxy(f);if(f.transform&&f.parent.invTransform&&!l){var d=Array.prototype.slice.call(f.transform);r.mul(f.transform,f.parent.invTransform,f.transform),v.brush(f),f.transform=d}else v.brush(f);var m=this.getSvgElement(f);u.innerHTML="",u.appendChild(m.cloneNode()),i.setAttribute("clip-path","url(#"+h+")"),o.length>1&&this.updateDom(u,o.slice(1),l)}else i&&i.setAttribute("clip-path","none")},n.prototype.markUsed=function(i){var o=this;i.__clipPaths&&t.each(i.__clipPaths,function(l){l._dom&&e.prototype.markUsed.call(o,l._dom),l._textDom&&e.prototype.markUsed.call(o,l._textDom)})};var a=n;return Xy=a,Xy}var Qy,oE;function Dre(){if(oE)return Qy;oE=1;var e=Vx(),t=ne;function r(i,o){e.call(this,i,o,["filter"],"__filter_in_use__","_shadowDom")}t.inherits(r,e),r.prototype.addWithoutUpdate=function(i,o){if(o&&n(o.style)){var l;if(o._shadowDom){l=o._shadowDom;var s=this.getDefs(!0);s.contains(o._shadowDom)||this.addDom(l)}else l=this.add(o);this.markUsed(o);var f=l.getAttribute("id");i.style.filter="url(#"+f+")"}},r.prototype.add=function(i){var o=this.createElement("filter");return i._shadowDomId=i._shadowDomId||this.nextId++,o.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId),this.updateDom(i,o),this.addDom(o),o},r.prototype.update=function(i,o){var l=o.style;if(n(l)){var s=this;e.prototype.update.call(this,o,function(){s.updateDom(o,o._shadowDom)})}else this.remove(i,o)},r.prototype.remove=function(i,o){o._shadowDomId!=null&&(this.removeDom(i),i.style.filter="")},r.prototype.updateDom=function(i,o){var l=o.getElementsByTagName("feDropShadow");l.length===0?l=this.createElement("feDropShadow"):l=l[0];var s=i.style,f=i.scale&&i.scale[0]||1,u=i.scale&&i.scale[1]||1,h,c,v,d;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)h=s.shadowOffsetX||0,c=s.shadowOffsetY||0,v=s.shadowBlur,d=s.shadowColor;else if(s.textShadowBlur)h=s.textShadowOffsetX||0,c=s.textShadowOffsetY||0,v=s.textShadowBlur,d=s.textShadowColor;else{this.removeDom(o,s);return}l.setAttribute("dx",h/f),l.setAttribute("dy",c/u),l.setAttribute("flood-color",d);var m=v/2/f,g=v/2/u,p=m+" "+g;l.setAttribute("stdDeviation",p),o.setAttribute("x","-100%"),o.setAttribute("y","-100%"),o.setAttribute("width",Math.ceil(v/2*200)+"%"),o.setAttribute("height",Math.ceil(v/2*200)+"%"),o.appendChild(l),i._shadowDom=o},r.prototype.markUsed=function(i){i._shadowDom&&e.prototype.markUsed.call(this,i._shadowDom)};function n(i){return i&&(i.shadowBlur||i.shadowOffsetX||i.shadowOffsetY||i.textShadowBlur||i.textShadowOffsetX||i.textShadowOffsetY)}var a=r;return Qy=a,Qy}var Jy,sE;function Rre(){if(sE)return Jy;sE=1;var e=Nx(),t=e.createElement,r=ne,n=Tu,a=yr,i=Ks,o=No,l=Lre(),s=Ire(),f=Pre(),u=Dre(),h=zx(),c=h.path,v=h.image,d=h.text;function m(M){return parseInt(M,10)}function g(M){return M instanceof a?c:M instanceof i?v:M instanceof o?d:c}function p(M,I){return I&&M&&I.parentNode!==M}function y(M,I,P){if(p(M,I)&&P){var D=P.nextSibling;D?M.insertBefore(I,D):M.appendChild(I)}}function x(M,I){if(p(M,I)){var P=M.firstChild;P?M.insertBefore(I,P):M.appendChild(I)}}function A(M,I){I&&M&&I.parentNode===M&&M.removeChild(I)}function w(M){return M.__textSvgEl}function b(M){return M.__svgEl}var S=function(M,I,P,D){this.root=M,this.storage=I,this._opts=P=r.extend({},P||{});var k=t("svg");k.setAttribute("xmlns","http://www.w3.org/2000/svg"),k.setAttribute("version","1.1"),k.setAttribute("baseProfile","full"),k.style.cssText="user-select:none;position:absolute;left:0;top:0;";var R=t("g");k.appendChild(R);var B=t("g");k.appendChild(B),this.gradientManager=new s(D,B),this.clipPathManager=new f(D,B),this.shadowManager=new u(D,B);var V=document.createElement("div");V.style.cssText="overflow:hidden;position:relative",this._svgDom=k,this._svgRoot=B,this._backgroundRoot=R,this._viewport=V,M.appendChild(V),V.appendChild(k),this.resize(P.width,P.height),this._visibleList=[]};S.prototype={constructor:S,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var M=this.getViewportRoot();if(M)return{offsetLeft:M.offsetLeft||0,offsetTop:M.offsetTop||0}},refresh:function(){var M=this.storage.getDisplayList(!0);this._paintList(M)},setBackgroundColor:function(M){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var I=t("rect");I.setAttribute("width",this.getWidth()),I.setAttribute("height",this.getHeight()),I.setAttribute("x",0),I.setAttribute("y",0),I.setAttribute("id",0),I.style.fill=M,this._backgroundRoot.appendChild(I),this._backgroundNode=I},_paintList:function(M){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var I=this._svgRoot,P=this._visibleList,D=M.length,k=[],R;for(R=0;R<D;R++){var B=M[R],V=g(B),F=b(B)||w(B);B.invisible||(B.__dirty&&(V&&V.brush(B),this.clipPathManager.update(B),B.style&&(this.gradientManager.update(B.style.fill),this.gradientManager.update(B.style.stroke),this.shadowManager.update(F,B)),B.__dirty=!1),k.push(B))}var Y=l(P,k),q;for(R=0;R<Y.length;R++){var E=Y[R];if(E.removed)for(var z=0;z<E.count;z++){var B=P[E.indices[z]],F=b(B),N=w(B);A(I,F),A(I,N)}}for(R=0;R<Y.length;R++){var E=Y[R];if(E.added)for(var z=0;z<E.count;z++){var B=k[E.indices[z]],F=b(B),N=w(B);q?y(I,F,q):x(I,F),F?y(I,N,F):q?y(I,N,q):x(I,N),y(I,N,F),q=N||F||q,this.gradientManager.addWithoutUpdate(F||N,B),this.shadowManager.addWithoutUpdate(F||N,B),this.clipPathManager.markUsed(B)}else if(!E.removed)for(var z=0;z<E.count;z++){var B=k[E.indices[z]],F=b(B),N=w(B),F=b(B),N=w(B);this.gradientManager.markUsed(B),this.gradientManager.addWithoutUpdate(F||N,B),this.shadowManager.markUsed(B),this.shadowManager.addWithoutUpdate(F||N,B),this.clipPathManager.markUsed(B),N&&y(I,N,F),q=F||N||q}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=k},_getDefs:function(M){var I=this._svgDom,P=I.getElementsByTagName("defs");if(P.length===0)if(M){var P=I.insertBefore(t("defs"),I.firstChild);return P.contains||(P.contains=function(k){var R=P.children;if(!R)return!1;for(var B=R.length-1;B>=0;--B)if(R[B]===k)return!0;return!1}),P}else return null;else return P[0]},resize:function(M,I){var P=this._viewport;P.style.display="none";var D=this._opts;if(M!=null&&(D.width=M),I!=null&&(D.height=I),M=this._getSize(0),I=this._getSize(1),P.style.display="",this._width!==M||this._height!==I){this._width=M,this._height=I;var k=P.style;k.width=M+"px",k.height=I+"px";var R=this._svgDom;R.setAttribute("width",M),R.setAttribute("height",I)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",M),this._backgroundNode.setAttribute("height",I))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(M){var I=this._opts,P=["width","height"][M],D=["clientWidth","clientHeight"][M],k=["paddingLeft","paddingTop"][M],R=["paddingRight","paddingBottom"][M];if(I[P]!=null&&I[P]!=="auto")return parseFloat(I[P]);var B=this.root,V=document.defaultView.getComputedStyle(B);return(B[D]||m(V[P])||m(B.style[P]))-(m(V[k])||0)-(m(V[R])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){this.refresh();var M=encodeURIComponent(this._svgDom.outerHTML.replace(/></g,`>
\r<`));return"data:image/svg+xml;charset=UTF-8,"+M}};function T(M){return function(){n('In SVG mode painter not support method "'+M+'"')}}r.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(M){S.prototype[M]=T(M)});var C=S;return Jy=C,Jy}var lE;function Ere(){if(lE)return jR;lE=1,zx();var e=pi,t=e.registerPainter,r=Rre();return t("svg",r),jR}(function(e){var t=Ge;(function(){for(var n in t){if(t==null||!t.hasOwnProperty(n)||n==="default"||n==="__esModule")return;e[n]=t[n]}})();var r=dN();(function(){for(var n in r){if(r==null||!r.hasOwnProperty(n)||n==="default"||n==="__esModule")return;e[n]=r[n]}})(),rN(),hJ(),mJ(),SJ(),CJ(),BJ(),XJ(),rj(),fj(),Tj(),Ij(),Ej(),Wj(),Qj(),ree(),lee(),hee(),yee(),See(),Tee(),Vee(),Wee(),Qee(),Jee(),fte(),vte(),GN(),ON(),mte(),yte(),Pte(),Ote(),Zu(),qte(),Ute(),Jte(),tre(),nre(),sre(),vre(),QN(),_re(),jN(),JN(),Are(),l5(),u5(),Mre(),Ere()})(mk);const kre={name:"chart",props:{type:{type:String,default:"line"},sourceData:Object},data(){return{chartInstance:null}},mounted(){this.initChart()},methods:{initChart(){this.$refs.chartContainer&&(this.chartInstance=mk.init(this.$refs.chartContainer),this.updateChart(),this.sourceData.events&&Object.keys(this.sourceData.events).forEach(e=>{this.chartInstance.on(e,this.sourceData.events[e])}),window.addEventListener("resize",this.handleResize))},handleResize(){this.chartInstance&&this.chartInstance.resize()},updateChart(){if(!(!this.chartInstance||!this.sourceData||!this.sourceData.data))try{const e=this.buildOption();e&&e.series&&e.series.length>0&&this.chartInstance.setOption(e,!1)}catch(e){console.error("Chart update error:",e)}},buildOption(){var d;const{data:e,settings:t={},type:r,theme:n={},...a}=this.sourceData;if(!e||!e.rows||!e.columns||e.columns.length<2||e.rows.length===0)return console.warn("Chart: Invalid or empty data",e),null;const i=(r||this.type||"line").toLowerCase(),o=[],{rows:l,columns:s}=e,f=l.map(m=>m[0]);for(let m=1;m<s.length;m++){const g={name:s[m],type:i,data:l.map(p=>p[m])};i==="line"&&(g.smooth=((d=n.line)==null?void 0:d.smooth)!==void 0?n.line.smooth:!0),this.sourceData.markLine&&(g.markLine=this.sourceData.markLine),o.push(g)}if(o.length===0)return console.warn("Chart: No series data to display"),null;const u=a.grid||n.grid||{left:"3%",right:"4%",bottom:"3%",containLabel:!0},h=a.xAxis||{type:t.xAxisType||"category",data:f,boundaryGap:i!=="line"},c=a.yAxis||{type:"value"},v={grid:u,xAxis:h,yAxis:c,series:o,tooltip:a.tooltip!==void 0?a.tooltip:{trigger:"axis",axisPointer:{type:i==="line"?"line":"shadow"}},legend:a.legend!==!1?{data:s.slice(1),...a.legend}:void 0,animation:a.animation!==void 0?a.animation:!0};return this.sourceData.width&&(this.$refs.chartContainer.style.width=`${this.sourceData.width}px`),this.sourceData.height&&(this.$refs.chartContainer.style.height=this.sourceData.height),v},getVChart(){return{echarts:this.chartInstance,resize:()=>{var e;return(e=this.chartInstance)==null?void 0:e.resize()}}}},watch:{sourceData:{handler(){this.updateChart()},deep:!0}},beforeUnmount(){window.removeEventListener("resize",this.handleResize),this.chartInstance&&this.chartInstance.dispose()}},Ore={class:"chart-container",ref:"chartContainer"};function Bre(e,t,r,n,a,i){return Dt(),Et("div",Ore,null,512)}const Nre=hh(kre,[["render",Bre],["__scopeId","data-v-fb11d09a"]]);var Ku={},zre=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},c5={},io={},Vre={}.toString,Fx=Array.isArray||function(e){return Vre.call(e)=="[object Array]"},Fre=Fx;function Hre(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42}catch{return!1}}Nt.TYPED_ARRAY_SUPPORT=Hre();var uE=Nt.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Nt(e,t,r){return!Nt.TYPED_ARRAY_SUPPORT&&!(this instanceof Nt)?new Nt(e,t,r):typeof e=="number"?h5(this,e):Zre(this,e,t,r)}Nt.TYPED_ARRAY_SUPPORT&&(Nt.prototype.__proto__=Uint8Array.prototype,Nt.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Nt[Symbol.species]===Nt&&Object.defineProperty(Nt,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function Hx(e){if(e>=uE)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+uE.toString(16)+" bytes");return e|0}function qre(e){return e!==e}function Vs(e,t){var r;return Nt.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=Nt.prototype):(r=e,r===null&&(r=new Nt(t)),r.length=t),r}function h5(e,t){var r=Vs(e,t<0?0:Hx(t)|0);if(!Nt.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function Ure(e,t){var r=d5(t)|0,n=Vs(e,r),a=n.write(t);return a!==r&&(n=n.slice(0,a)),n}function i_(e,t){for(var r=t.length<0?0:Hx(t.length)|0,n=Vs(e,r),a=0;a<r;a+=1)n[a]=t[a]&255;return n}function Gre(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var a;return r===void 0&&n===void 0?a=new Uint8Array(t):n===void 0?a=new Uint8Array(t,r):a=new Uint8Array(t,r,n),Nt.TYPED_ARRAY_SUPPORT?a.__proto__=Nt.prototype:a=i_(e,a),a}function Wre(e,t){if(Nt.isBuffer(t)){var r=Hx(t.length)|0,n=Vs(e,r);return n.length===0||t.copy(n,0,0,r),n}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||qre(t.length)?Vs(e,0):i_(e,t);if(t.type==="Buffer"&&Array.isArray(t.data))return i_(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v5(e,t){t=t||1/0;for(var r,n=e.length,a=null,i=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function d5(e){if(Nt.isBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;return t===0?0:v5(e).length}function $re(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}function Yre(e,t,r,n){return $re(v5(t,e.length-r),e,r,n)}function Zre(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?Gre(e,t,r,n):typeof t=="string"?Ure(e,t):Wre(e,t)}Nt.prototype.write=function(t,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var a=this.length-r;if((n===void 0||n>a)&&(n=a),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return Yre(this,t,r,n)};Nt.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var a;if(Nt.TYPED_ARRAY_SUPPORT)a=this.subarray(t,r),a.__proto__=Nt.prototype;else{var i=r-t;a=new Nt(i,void 0);for(var o=0;o<i;++o)a[o]=this[o+t]}return a};Nt.prototype.copy=function(t,r,n,a){if(n||(n=0),!a&&a!==0&&(a=this.length),r>=t.length&&(r=t.length),r||(r=0),a>0&&a<n&&(a=n),a===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-r<a-n&&(a=t.length-r+n);var i=a-n,o;if(this===t&&n<r&&r<a)for(o=i-1;o>=0;--o)t[o+r]=this[o+n];else if(i<1e3||!Nt.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+r]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),r);return i};Nt.prototype.fill=function(t,r,n){if(typeof t=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),t.length===1){var a=t.charCodeAt(0);a<256&&(t=a)}}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var i;if(typeof t=="number")for(i=r;i<n;++i)this[i]=t;else{var o=Nt.isBuffer(t)?t:new Nt(t),l=o.length;for(i=0;i<n-r;++i)this[i+r]=o[i%l]}return this};Nt.concat=function(t,r){if(!Fre(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Vs(null,0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var a=h5(null,r),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!Nt.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,i),i+=o.length}return a};Nt.byteLength=d5;Nt.prototype._isBuffer=!0;Nt.isBuffer=function(t){return!!(t!=null&&t._isBuffer)};io.alloc=function(e){var t=new Nt(e);return t.fill(0),t};io.from=function(e){return new Nt(e)};var Ea={},qx,Kre=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ea.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Ea.getSymbolTotalCodewords=function(t){return Kre[t]};Ea.getBCHDigit=function(e){for(var t=0;e!==0;)t++,e>>>=1;return t};Ea.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');qx=t};Ea.isKanjiModeEnabled=function(){return typeof qx<"u"};Ea.toSJIS=function(t){return qx(t)};var Yh={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(Yh);function g5(){this.buffer=[],this.length=0}g5.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Xre=g5,fE=io;function Xu(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=fE.alloc(e*e),this.reservedBit=fE.alloc(e*e)}Xu.prototype.set=function(e,t,r,n){var a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};Xu.prototype.get=function(e,t){return this.data[e*this.size+t]};Xu.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Xu.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Qre=Xu,p5={};(function(e){var t=Ea.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];for(var a=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7],s=1;s<a-1;s++)l[s]=l[s-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){for(var a=[],i=e.getRowColCoords(n),o=i.length,l=0;l<o;l++)for(var s=0;s<o;s++)l===0&&s===0||l===0&&s===o-1||l===o-1&&s===0||a.push([i[l],i[s]]);return a}})(p5);var m5={},Jre=Ea.getSymbolSize,cE=7;m5.getPositions=function(t){var r=Jre(t);return[[0,0],[r-cE,0],[0,r-cE]]};var y5={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){for(var i=a.size,o=0,l=0,s=0,f=null,u=null,h=0;h<i;h++){l=s=0,f=u=null;for(var c=0;c<i;c++){var v=a.get(h,c);v===f?l++:(l>=5&&(o+=t.N1+(l-5)),f=v,l=1),v=a.get(c,h),v===u?s++:(s>=5&&(o+=t.N1+(s-5)),u=v,s=1)}l>=5&&(o+=t.N1+(l-5)),s>=5&&(o+=t.N1+(s-5))}return o},e.getPenaltyN2=function(a){for(var i=a.size,o=0,l=0;l<i-1;l++)for(var s=0;s<i-1;s++){var f=a.get(l,s)+a.get(l,s+1)+a.get(l+1,s)+a.get(l+1,s+1);(f===4||f===0)&&o++}return o*t.N2},e.getPenaltyN3=function(a){for(var i=a.size,o=0,l=0,s=0,f=0;f<i;f++){l=s=0;for(var u=0;u<i;u++)l=l<<1&2047|a.get(f,u),u>=10&&(l===1488||l===93)&&o++,s=s<<1&2047|a.get(u,f),u>=10&&(s===1488||s===93)&&o++}return o*t.N3},e.getPenaltyN4=function(a){for(var i=0,o=a.data.length,l=0;l<o;l++)i+=a.data[l];var s=Math.abs(Math.ceil(i*100/o/5)-10);return s*t.N4};function r(n,a,i){switch(n){case e.Patterns.PATTERN000:return(a+i)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(a+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return a*i%2+a*i%3===0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,i){for(var o=i.size,l=0;l<o;l++)for(var s=0;s<o;s++)i.isReserved(s,l)||i.xor(s,l,r(a,s,l))},e.getBestMask=function(a,i){for(var o=Object.keys(e.Patterns).length,l=0,s=1/0,f=0;f<o;f++){i(f),e.applyMask(f,a);var u=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(f,a),u<s&&(s=u,l=f)}return l}})(y5);var Zh={},Zi=Yh,Cc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Mc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Zh.getBlocksCount=function(t,r){switch(r){case Zi.L:return Cc[(t-1)*4+0];case Zi.M:return Cc[(t-1)*4+1];case Zi.Q:return Cc[(t-1)*4+2];case Zi.H:return Cc[(t-1)*4+3];default:return}};Zh.getTotalCodewordsCount=function(t,r){switch(r){case Zi.L:return Mc[(t-1)*4+0];case Zi.M:return Mc[(t-1)*4+1];case Zi.Q:return Mc[(t-1)*4+2];case Zi.H:return Mc[(t-1)*4+3];default:return}};var _5={},Kh={},x5=io,au=x5.alloc(512),uh=x5.alloc(256);(function(){for(var t=1,r=0;r<255;r++)au[r]=t,uh[t]=r,t<<=1,t&256&&(t^=285);for(r=255;r<512;r++)au[r]=au[r-255]})();Kh.log=function(t){if(t<1)throw new Error("log("+t+")");return uh[t]};Kh.exp=function(t){return au[t]};Kh.mul=function(t,r){return t===0||r===0?0:au[uh[t]+uh[r]]};(function(e){var t=io,r=Kh;e.mul=function(a,i){for(var o=t.alloc(a.length+i.length-1),l=0;l<a.length;l++)for(var s=0;s<i.length;s++)o[l+s]^=r.mul(a[l],i[s]);return o},e.mod=function(a,i){for(var o=t.from(a);o.length-i.length>=0;){for(var l=o[0],s=0;s<i.length;s++)o[s]^=r.mul(i[s],l);for(var f=0;f<o.length&&o[f]===0;)f++;o=o.slice(f)}return o},e.generateECPolynomial=function(a){for(var i=t.from([1]),o=0;o<a;o++)i=e.mul(i,[1,r.exp(o)]);return i}})(_5);var w5={},Xh={};Xh.byteLength=tae;Xh.toByteArray=aae;Xh.fromByteArray=oae;var Rn=[],Ya=[],jre=typeof Uint8Array<"u"?Uint8Array:Array,jy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var gs=0,eae=jy.length;gs<eae;++gs)Rn[gs]=jy[gs],Ya[jy.charCodeAt(gs)]=gs;Ya[45]=62;Ya[95]=63;function S5(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function tae(e){var t=S5(e),r=t[0],n=t[1];return(r+n)*3/4-n}function rae(e,t,r){return(t+r)*3/4-r}function aae(e){var t,r=S5(e),n=r[0],a=r[1],i=new jre(rae(e,n,a)),o=0,l=a>0?n-4:n,s;for(s=0;s<l;s+=4)t=Ya[e.charCodeAt(s)]<<18|Ya[e.charCodeAt(s+1)]<<12|Ya[e.charCodeAt(s+2)]<<6|Ya[e.charCodeAt(s+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return a===2&&(t=Ya[e.charCodeAt(s)]<<2|Ya[e.charCodeAt(s+1)]>>4,i[o++]=t&255),a===1&&(t=Ya[e.charCodeAt(s)]<<10|Ya[e.charCodeAt(s+1)]<<4|Ya[e.charCodeAt(s+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function nae(e){return Rn[e>>18&63]+Rn[e>>12&63]+Rn[e>>6&63]+Rn[e&63]}function iae(e,t,r){for(var n,a=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),a.push(nae(n));return a.join("")}function oae(e){for(var t,r=e.length,n=r%3,a=[],i=16383,o=0,l=r-n;o<l;o+=i)a.push(iae(e,o,o+i>l?l:o+i));return n===1?(t=e[r-1],a.push(Rn[t>>2]+Rn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(Rn[t>>10]+Rn[t>>4&63]+Rn[t<<2&63]+"=")),a.join("")}var Ux={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ux.read=function(e,t,r,n,a){var i,o,l=a*8-n-1,s=(1<<l)-1,f=s>>1,u=-7,h=r?a-1:0,c=r?-1:1,v=e[t+h];for(h+=c,i=v&(1<<-u)-1,v>>=-u,u+=l;u>0;i=i*256+e[t+h],h+=c,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=o*256+e[t+h],h+=c,u-=8);if(i===0)i=1-f;else{if(i===s)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-f}return(v?-1:1)*o*Math.pow(2,i-n)};Ux.write=function(e,t,r,n,a,i){var o,l,s,f=i*8-a-1,u=(1<<f)-1,h=u>>1,c=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:i-1,d=n?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),o+h>=1?t+=c/s:t+=c*Math.pow(2,1-h),t*s>=2&&(o++,s/=2),o+h>=u?(l=0,o=u):o+h>=1?(l=(t*s-1)*Math.pow(2,a),o=o+h):(l=t*Math.pow(2,h-1)*Math.pow(2,a),o=0));a>=8;e[r+v]=l&255,v+=d,l/=256,a-=8);for(o=o<<a|l,f+=a;f>0;e[r+v]=o&255,v+=d,o/=256,f-=8);e[r+v-d]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Xh,r=Ux,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=i(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var X=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(X,G),X.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(X){if(X>a)throw new RangeError('The value "'+X+'" is invalid for option "size"');var G=new Uint8Array(X);return Object.setPrototypeOf(G,l.prototype),G}function l(X,G,$){if(typeof X=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(X)}return s(X,G,$)}l.poolSize=8192;function s(X,G,$){if(typeof X=="string")return c(X,G);if(ArrayBuffer.isView(X))return d(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(he(X,ArrayBuffer)||X&&he(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(he(X,SharedArrayBuffer)||X&&he(X.buffer,SharedArrayBuffer)))return m(X,G,$);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=X.valueOf&&X.valueOf();if(ee!=null&&ee!==X)return l.from(ee,G,$);var fe=g(X);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return l.from(X[Symbol.toPrimitive]("string"),G,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}l.from=function(X,G,$){return s(X,G,$)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function f(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function u(X,G,$){return f(X),X<=0?o(X):G!==void 0?typeof $=="string"?o(X).fill(G,$):o(X).fill(G):o(X)}l.alloc=function(X,G,$){return u(X,G,$)};function h(X){return f(X),o(X<0?0:p(X)|0)}l.allocUnsafe=function(X){return h(X)},l.allocUnsafeSlow=function(X){return h(X)};function c(X,G){if((typeof G!="string"||G==="")&&(G="utf8"),!l.isEncoding(G))throw new TypeError("Unknown encoding: "+G);var $=x(X,G)|0,ee=o($),fe=ee.write(X,G);return fe!==$&&(ee=ee.slice(0,fe)),ee}function v(X){for(var G=X.length<0?0:p(X.length)|0,$=o(G),ee=0;ee<G;ee+=1)$[ee]=X[ee]&255;return $}function d(X){if(he(X,Uint8Array)){var G=new Uint8Array(X);return m(G.buffer,G.byteOffset,G.byteLength)}return v(X)}function m(X,G,$){if(G<0||X.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<G+($||0))throw new RangeError('"length" is outside of buffer bounds');var ee;return G===void 0&&$===void 0?ee=new Uint8Array(X):$===void 0?ee=new Uint8Array(X,G):ee=new Uint8Array(X,G,$),Object.setPrototypeOf(ee,l.prototype),ee}function g(X){if(l.isBuffer(X)){var G=p(X.length)|0,$=o(G);return $.length===0||X.copy($,0,0,G),$}if(X.length!==void 0)return typeof X.length!="number"||pe(X.length)?o(0):v(X);if(X.type==="Buffer"&&Array.isArray(X.data))return v(X.data)}function p(X){if(X>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return X|0}function y(X){return+X!=X&&(X=0),l.alloc(+X)}l.isBuffer=function(G){return G!=null&&G._isBuffer===!0&&G!==l.prototype},l.compare=function(G,$){if(he(G,Uint8Array)&&(G=l.from(G,G.offset,G.byteLength)),he($,Uint8Array)&&($=l.from($,$.offset,$.byteLength)),!l.isBuffer(G)||!l.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(G===$)return 0;for(var ee=G.length,fe=$.length,oe=0,ve=Math.min(ee,fe);oe<ve;++oe)if(G[oe]!==$[oe]){ee=G[oe],fe=$[oe];break}return ee<fe?-1:fe<ee?1:0},l.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(G,$){if(!Array.isArray(G))throw new TypeError('"list" argument must be an Array of Buffers');if(G.length===0)return l.alloc(0);var ee;if($===void 0)for($=0,ee=0;ee<G.length;++ee)$+=G[ee].length;var fe=l.allocUnsafe($),oe=0;for(ee=0;ee<G.length;++ee){var ve=G[ee];if(he(ve,Uint8Array))oe+ve.length>fe.length?l.from(ve).copy(fe,oe):Uint8Array.prototype.set.call(fe,ve,oe);else if(l.isBuffer(ve))ve.copy(fe,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=ve.length}return fe};function x(X,G){if(l.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||he(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);var $=X.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&$===0)return 0;for(var fe=!1;;)switch(G){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return Q(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return le(X).length;default:if(fe)return ee?-1:Q(X).length;G=(""+G).toLowerCase(),fe=!0}}l.byteLength=x;function A(X,G,$){var ee=!1;if((G===void 0||G<0)&&(G=0),G>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,G>>>=0,$<=G))return"";for(X||(X="utf8");;)switch(X){case"hex":return Y(this,G,$);case"utf8":case"utf-8":return k(this,G,$);case"ascii":return V(this,G,$);case"latin1":case"binary":return F(this,G,$);case"base64":return D(this,G,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,G,$);default:if(ee)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),ee=!0}}l.prototype._isBuffer=!0;function w(X,G,$){var ee=X[G];X[G]=X[$],X[$]=ee}l.prototype.swap16=function(){var G=this.length;if(G%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<G;$+=2)w(this,$,$+1);return this},l.prototype.swap32=function(){var G=this.length;if(G%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<G;$+=4)w(this,$,$+3),w(this,$+1,$+2);return this},l.prototype.swap64=function(){var G=this.length;if(G%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<G;$+=8)w(this,$,$+7),w(this,$+1,$+6),w(this,$+2,$+5),w(this,$+3,$+4);return this},l.prototype.toString=function(){var G=this.length;return G===0?"":arguments.length===0?k(this,0,G):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(G){if(!l.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G?!0:l.compare(this,G)===0},l.prototype.inspect=function(){var G="",$=e.INSPECT_MAX_BYTES;return G=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(G+=" ... "),"<Buffer "+G+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(G,$,ee,fe,oe){if(he(G,Uint8Array)&&(G=l.from(G,G.offset,G.byteLength)),!l.isBuffer(G))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof G);if($===void 0&&($=0),ee===void 0&&(ee=G?G.length:0),fe===void 0&&(fe=0),oe===void 0&&(oe=this.length),$<0||ee>G.length||fe<0||oe>this.length)throw new RangeError("out of range index");if(fe>=oe&&$>=ee)return 0;if(fe>=oe)return-1;if($>=ee)return 1;if($>>>=0,ee>>>=0,fe>>>=0,oe>>>=0,this===G)return 0;for(var ve=oe-fe,Me=ee-$,re=Math.min(ve,Me),ie=this.slice(fe,oe),me=G.slice($,ee),Ce=0;Ce<re;++Ce)if(ie[Ce]!==me[Ce]){ve=ie[Ce],Me=me[Ce];break}return ve<Me?-1:Me<ve?1:0};function b(X,G,$,ee,fe){if(X.length===0)return-1;if(typeof $=="string"?(ee=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,pe($)&&($=fe?0:X.length-1),$<0&&($=X.length+$),$>=X.length){if(fe)return-1;$=X.length-1}else if($<0)if(fe)$=0;else return-1;if(typeof G=="string"&&(G=l.from(G,ee)),l.isBuffer(G))return G.length===0?-1:S(X,G,$,ee,fe);if(typeof G=="number")return G=G&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(X,G,$):Uint8Array.prototype.lastIndexOf.call(X,G,$):S(X,[G],$,ee,fe);throw new TypeError("val must be string, number or Buffer")}function S(X,G,$,ee,fe){var oe=1,ve=X.length,Me=G.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(X.length<2||G.length<2)return-1;oe=2,ve/=2,Me/=2,$/=2}function re(Pe,Ie){return oe===1?Pe[Ie]:Pe.readUInt16BE(Ie*oe)}var ie;if(fe){var me=-1;for(ie=$;ie<ve;ie++)if(re(X,ie)===re(G,me===-1?0:ie-me)){if(me===-1&&(me=ie),ie-me+1===Me)return me*oe}else me!==-1&&(ie-=ie-me),me=-1}else for($+Me>ve&&($=ve-Me),ie=$;ie>=0;ie--){for(var Ce=!0,Le=0;Le<Me;Le++)if(re(X,ie+Le)!==re(G,Le)){Ce=!1;break}if(Ce)return ie}return-1}l.prototype.includes=function(G,$,ee){return this.indexOf(G,$,ee)!==-1},l.prototype.indexOf=function(G,$,ee){return b(this,G,$,ee,!0)},l.prototype.lastIndexOf=function(G,$,ee){return b(this,G,$,ee,!1)};function T(X,G,$,ee){$=Number($)||0;var fe=X.length-$;ee?(ee=Number(ee),ee>fe&&(ee=fe)):ee=fe;var oe=G.length;ee>oe/2&&(ee=oe/2);for(var ve=0;ve<ee;++ve){var Me=parseInt(G.substr(ve*2,2),16);if(pe(Me))return ve;X[$+ve]=Me}return ve}function C(X,G,$,ee){return de(Q(G,X.length-$),X,$,ee)}function M(X,G,$,ee){return de(j(G),X,$,ee)}function I(X,G,$,ee){return de(le(G),X,$,ee)}function P(X,G,$,ee){return de(se(G,X.length-$),X,$,ee)}l.prototype.write=function(G,$,ee,fe){if($===void 0)fe="utf8",ee=this.length,$=0;else if(ee===void 0&&typeof $=="string")fe=$,ee=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(ee)?(ee=ee>>>0,fe===void 0&&(fe="utf8")):(fe=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var oe=this.length-$;if((ee===void 0||ee>oe)&&(ee=oe),G.length>0&&(ee<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");for(var ve=!1;;)switch(fe){case"hex":return T(this,G,$,ee);case"utf8":case"utf-8":return C(this,G,$,ee);case"ascii":case"latin1":case"binary":return M(this,G,$,ee);case"base64":return I(this,G,$,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,G,$,ee);default:if(ve)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),ve=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(X,G,$){return G===0&&$===X.length?t.fromByteArray(X):t.fromByteArray(X.slice(G,$))}function k(X,G,$){$=Math.min(X.length,$);for(var ee=[],fe=G;fe<$;){var oe=X[fe],ve=null,Me=oe>239?4:oe>223?3:oe>191?2:1;if(fe+Me<=$){var re,ie,me,Ce;switch(Me){case 1:oe<128&&(ve=oe);break;case 2:re=X[fe+1],(re&192)===128&&(Ce=(oe&31)<<6|re&63,Ce>127&&(ve=Ce));break;case 3:re=X[fe+1],ie=X[fe+2],(re&192)===128&&(ie&192)===128&&(Ce=(oe&15)<<12|(re&63)<<6|ie&63,Ce>2047&&(Ce<55296||Ce>57343)&&(ve=Ce));break;case 4:re=X[fe+1],ie=X[fe+2],me=X[fe+3],(re&192)===128&&(ie&192)===128&&(me&192)===128&&(Ce=(oe&15)<<18|(re&63)<<12|(ie&63)<<6|me&63,Ce>65535&&Ce<1114112&&(ve=Ce))}}ve===null?(ve=65533,Me=1):ve>65535&&(ve-=65536,ee.push(ve>>>10&1023|55296),ve=56320|ve&1023),ee.push(ve),fe+=Me}return B(ee)}var R=4096;function B(X){var G=X.length;if(G<=R)return String.fromCharCode.apply(String,X);for(var $="",ee=0;ee<G;)$+=String.fromCharCode.apply(String,X.slice(ee,ee+=R));return $}function V(X,G,$){var ee="";$=Math.min(X.length,$);for(var fe=G;fe<$;++fe)ee+=String.fromCharCode(X[fe]&127);return ee}function F(X,G,$){var ee="";$=Math.min(X.length,$);for(var fe=G;fe<$;++fe)ee+=String.fromCharCode(X[fe]);return ee}function Y(X,G,$){var ee=X.length;(!G||G<0)&&(G=0),(!$||$<0||$>ee)&&($=ee);for(var fe="",oe=G;oe<$;++oe)fe+=ye[X[oe]];return fe}function q(X,G,$){for(var ee=X.slice(G,$),fe="",oe=0;oe<ee.length-1;oe+=2)fe+=String.fromCharCode(ee[oe]+ee[oe+1]*256);return fe}l.prototype.slice=function(G,$){var ee=this.length;G=~~G,$=$===void 0?ee:~~$,G<0?(G+=ee,G<0&&(G=0)):G>ee&&(G=ee),$<0?($+=ee,$<0&&($=0)):$>ee&&($=ee),$<G&&($=G);var fe=this.subarray(G,$);return Object.setPrototypeOf(fe,l.prototype),fe};function E(X,G,$){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+G>$)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(G,$,ee){G=G>>>0,$=$>>>0,ee||E(G,$,this.length);for(var fe=this[G],oe=1,ve=0;++ve<$&&(oe*=256);)fe+=this[G+ve]*oe;return fe},l.prototype.readUintBE=l.prototype.readUIntBE=function(G,$,ee){G=G>>>0,$=$>>>0,ee||E(G,$,this.length);for(var fe=this[G+--$],oe=1;$>0&&(oe*=256);)fe+=this[G+--$]*oe;return fe},l.prototype.readUint8=l.prototype.readUInt8=function(G,$){return G=G>>>0,$||E(G,1,this.length),this[G]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(G,$){return G=G>>>0,$||E(G,2,this.length),this[G]|this[G+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(G,$){return G=G>>>0,$||E(G,2,this.length),this[G]<<8|this[G+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(G,$){return G=G>>>0,$||E(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+this[G+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(G,$){return G=G>>>0,$||E(G,4,this.length),this[G]*16777216+(this[G+1]<<16|this[G+2]<<8|this[G+3])},l.prototype.readIntLE=function(G,$,ee){G=G>>>0,$=$>>>0,ee||E(G,$,this.length);for(var fe=this[G],oe=1,ve=0;++ve<$&&(oe*=256);)fe+=this[G+ve]*oe;return oe*=128,fe>=oe&&(fe-=Math.pow(2,8*$)),fe},l.prototype.readIntBE=function(G,$,ee){G=G>>>0,$=$>>>0,ee||E(G,$,this.length);for(var fe=$,oe=1,ve=this[G+--fe];fe>0&&(oe*=256);)ve+=this[G+--fe]*oe;return oe*=128,ve>=oe&&(ve-=Math.pow(2,8*$)),ve},l.prototype.readInt8=function(G,$){return G=G>>>0,$||E(G,1,this.length),this[G]&128?(255-this[G]+1)*-1:this[G]},l.prototype.readInt16LE=function(G,$){G=G>>>0,$||E(G,2,this.length);var ee=this[G]|this[G+1]<<8;return ee&32768?ee|4294901760:ee},l.prototype.readInt16BE=function(G,$){G=G>>>0,$||E(G,2,this.length);var ee=this[G+1]|this[G]<<8;return ee&32768?ee|4294901760:ee},l.prototype.readInt32LE=function(G,$){return G=G>>>0,$||E(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},l.prototype.readInt32BE=function(G,$){return G=G>>>0,$||E(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},l.prototype.readFloatLE=function(G,$){return G=G>>>0,$||E(G,4,this.length),r.read(this,G,!0,23,4)},l.prototype.readFloatBE=function(G,$){return G=G>>>0,$||E(G,4,this.length),r.read(this,G,!1,23,4)},l.prototype.readDoubleLE=function(G,$){return G=G>>>0,$||E(G,8,this.length),r.read(this,G,!0,52,8)},l.prototype.readDoubleBE=function(G,$){return G=G>>>0,$||E(G,8,this.length),r.read(this,G,!1,52,8)};function z(X,G,$,ee,fe,oe){if(!l.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>fe||G<oe)throw new RangeError('"value" argument is out of bounds');if($+ee>X.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(G,$,ee,fe){if(G=+G,$=$>>>0,ee=ee>>>0,!fe){var oe=Math.pow(2,8*ee)-1;z(this,G,$,ee,oe,0)}var ve=1,Me=0;for(this[$]=G&255;++Me<ee&&(ve*=256);)this[$+Me]=G/ve&255;return $+ee},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(G,$,ee,fe){if(G=+G,$=$>>>0,ee=ee>>>0,!fe){var oe=Math.pow(2,8*ee)-1;z(this,G,$,ee,oe,0)}var ve=ee-1,Me=1;for(this[$+ve]=G&255;--ve>=0&&(Me*=256);)this[$+ve]=G/Me&255;return $+ee},l.prototype.writeUint8=l.prototype.writeUInt8=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,1,255,0),this[$]=G&255,$+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,2,65535,0),this[$]=G&255,this[$+1]=G>>>8,$+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,2,65535,0),this[$]=G>>>8,this[$+1]=G&255,$+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,4,4294967295,0),this[$+3]=G>>>24,this[$+2]=G>>>16,this[$+1]=G>>>8,this[$]=G&255,$+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,4,4294967295,0),this[$]=G>>>24,this[$+1]=G>>>16,this[$+2]=G>>>8,this[$+3]=G&255,$+4},l.prototype.writeIntLE=function(G,$,ee,fe){if(G=+G,$=$>>>0,!fe){var oe=Math.pow(2,8*ee-1);z(this,G,$,ee,oe-1,-oe)}var ve=0,Me=1,re=0;for(this[$]=G&255;++ve<ee&&(Me*=256);)G<0&&re===0&&this[$+ve-1]!==0&&(re=1),this[$+ve]=(G/Me>>0)-re&255;return $+ee},l.prototype.writeIntBE=function(G,$,ee,fe){if(G=+G,$=$>>>0,!fe){var oe=Math.pow(2,8*ee-1);z(this,G,$,ee,oe-1,-oe)}var ve=ee-1,Me=1,re=0;for(this[$+ve]=G&255;--ve>=0&&(Me*=256);)G<0&&re===0&&this[$+ve+1]!==0&&(re=1),this[$+ve]=(G/Me>>0)-re&255;return $+ee},l.prototype.writeInt8=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,1,127,-128),G<0&&(G=255+G+1),this[$]=G&255,$+1},l.prototype.writeInt16LE=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,2,32767,-32768),this[$]=G&255,this[$+1]=G>>>8,$+2},l.prototype.writeInt16BE=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,2,32767,-32768),this[$]=G>>>8,this[$+1]=G&255,$+2},l.prototype.writeInt32LE=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,4,2147483647,-2147483648),this[$]=G&255,this[$+1]=G>>>8,this[$+2]=G>>>16,this[$+3]=G>>>24,$+4},l.prototype.writeInt32BE=function(G,$,ee){return G=+G,$=$>>>0,ee||z(this,G,$,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),this[$]=G>>>24,this[$+1]=G>>>16,this[$+2]=G>>>8,this[$+3]=G&255,$+4};function N(X,G,$,ee,fe,oe){if($+ee>X.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function H(X,G,$,ee,fe){return G=+G,$=$>>>0,fe||N(X,G,$,4),r.write(X,G,$,ee,23,4),$+4}l.prototype.writeFloatLE=function(G,$,ee){return H(this,G,$,!0,ee)},l.prototype.writeFloatBE=function(G,$,ee){return H(this,G,$,!1,ee)};function W(X,G,$,ee,fe){return G=+G,$=$>>>0,fe||N(X,G,$,8),r.write(X,G,$,ee,52,8),$+8}l.prototype.writeDoubleLE=function(G,$,ee){return W(this,G,$,!0,ee)},l.prototype.writeDoubleBE=function(G,$,ee){return W(this,G,$,!1,ee)},l.prototype.copy=function(G,$,ee,fe){if(!l.isBuffer(G))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!fe&&fe!==0&&(fe=this.length),$>=G.length&&($=G.length),$||($=0),fe>0&&fe<ee&&(fe=ee),fe===ee||G.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),G.length-$<fe-ee&&(fe=G.length-$+ee);var oe=fe-ee;return this===G&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,ee,fe):Uint8Array.prototype.set.call(G,this.subarray(ee,fe),$),oe},l.prototype.fill=function(G,$,ee,fe){if(typeof G=="string"){if(typeof $=="string"?(fe=$,$=0,ee=this.length):typeof ee=="string"&&(fe=ee,ee=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!l.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(G.length===1){var oe=G.charCodeAt(0);(fe==="utf8"&&oe<128||fe==="latin1")&&(G=oe)}}else typeof G=="number"?G=G&255:typeof G=="boolean"&&(G=Number(G));if($<0||this.length<$||this.length<ee)throw new RangeError("Out of range index");if(ee<=$)return this;$=$>>>0,ee=ee===void 0?this.length:ee>>>0,G||(G=0);var ve;if(typeof G=="number")for(ve=$;ve<ee;++ve)this[ve]=G;else{var Me=l.isBuffer(G)?G:l.from(G,fe),re=Me.length;if(re===0)throw new TypeError('The value "'+G+'" is invalid for argument "value"');for(ve=0;ve<ee-$;++ve)this[ve+$]=Me[ve%re]}return this};var U=/[^+/0-9A-Za-z-_]/g;function K(X){if(X=X.split("=")[0],X=X.trim().replace(U,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function Q(X,G){G=G||1/0;for(var $,ee=X.length,fe=null,oe=[],ve=0;ve<ee;++ve){if($=X.charCodeAt(ve),$>55295&&$<57344){if(!fe){if($>56319){(G-=3)>-1&&oe.push(239,191,189);continue}else if(ve+1===ee){(G-=3)>-1&&oe.push(239,191,189);continue}fe=$;continue}if($<56320){(G-=3)>-1&&oe.push(239,191,189),fe=$;continue}$=(fe-55296<<10|$-56320)+65536}else fe&&(G-=3)>-1&&oe.push(239,191,189);if(fe=null,$<128){if((G-=1)<0)break;oe.push($)}else if($<2048){if((G-=2)<0)break;oe.push($>>6|192,$&63|128)}else if($<65536){if((G-=3)<0)break;oe.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((G-=4)<0)break;oe.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return oe}function j(X){for(var G=[],$=0;$<X.length;++$)G.push(X.charCodeAt($)&255);return G}function se(X,G){for(var $,ee,fe,oe=[],ve=0;ve<X.length&&!((G-=2)<0);++ve)$=X.charCodeAt(ve),ee=$>>8,fe=$%256,oe.push(fe),oe.push(ee);return oe}function le(X){return t.toByteArray(K(X))}function de(X,G,$,ee){for(var fe=0;fe<ee&&!(fe+$>=G.length||fe>=X.length);++fe)G[fe+$]=X[fe];return fe}function he(X,G){return X instanceof G||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===G.name}function pe(X){return X!==X}var ye=function(){for(var X="0123456789abcdef",G=new Array(256),$=0;$<16;++$)for(var ee=$*16,fe=0;fe<16;++fe)G[ee+fe]=X[$]+X[fe];return G}()})(w5);var hE=io,b5=_5,sae=w5.Buffer;function Gx(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Gx.prototype.initialize=function(t){this.degree=t,this.genPoly=b5.generateECPolynomial(this.degree)};Gx.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var r=hE.alloc(this.degree),n=sae.concat([t,r],t.length+this.degree),a=b5.mod(n,this.genPoly),i=this.degree-a.length;if(i>0){var o=hE.alloc(this.degree);return a.copy(o,i),o}return a};var lae=Gx,A5={},oo={},Wx={};Wx.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Hn={},T5="[0-9]+",uae="[A-Z $%*+\\-./:]+",mu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";mu=mu.replace(/u/g,"\\u");var fae="(?:(?![A-Z0-9 $%*+\\-./:]|"+mu+`)(?:.|[\r
]))+`;Hn.KANJI=new RegExp(mu,"g");Hn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Hn.BYTE=new RegExp(fae,"g");Hn.NUMERIC=new RegExp(T5,"g");Hn.ALPHANUMERIC=new RegExp(uae,"g");var cae=new RegExp("^"+mu+"$"),hae=new RegExp("^"+T5+"$"),vae=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Hn.testKanji=function(t){return cae.test(t)};Hn.testNumeric=function(t){return hae.test(t)};Hn.testAlphanumeric=function(t){return vae.test(t)};(function(e){var t=Wx,r=Hn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");var i=a.toLowerCase();switch(i){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(i,o){if(e.isValid(i))return i;try{return n(i)}catch{return o}}})(oo);(function(e){var t=Ea,r=Zh,n=Yh,a=oo,i=Wx,o=Fx,l=7973,s=t.getBCHDigit(l);function f(v,d,m){for(var g=1;g<=40;g++)if(d<=e.getCapacity(g,m,v))return g}function u(v,d){return a.getCharCountIndicator(v,d)+4}function h(v,d){var m=0;return v.forEach(function(g){var p=u(g.mode,d);m+=p+g.getBitsLength()}),m}function c(v,d){for(var m=1;m<=40;m++){var g=h(v,m);if(g<=e.getCapacity(m,d,a.MIXED))return m}}e.from=function(d,m){return i.isValid(d)?parseInt(d,10):m},e.getCapacity=function(d,m,g){if(!i.isValid(d))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=a.BYTE);var p=t.getSymbolTotalCodewords(d),y=r.getTotalCodewordsCount(d,m),x=(p-y)*8;if(g===a.MIXED)return x;var A=x-u(g,d);switch(g){case a.NUMERIC:return Math.floor(A/10*3);case a.ALPHANUMERIC:return Math.floor(A/11*2);case a.KANJI:return Math.floor(A/13);case a.BYTE:default:return Math.floor(A/8)}},e.getBestVersionForData=function(d,m){var g,p=n.from(m,n.M);if(o(d)){if(d.length>1)return c(d,p);if(d.length===0)return 1;g=d[0]}else g=d;return f(g.mode,g.getLength(),p)},e.getEncodedBits=function(d){if(!i.isValid(d)||d<7)throw new Error("Invalid QR Code version");for(var m=d<<12;t.getBCHDigit(m)-s>=0;)m^=l<<t.getBCHDigit(m)-s;return d<<12|m}})(A5);var C5={},o_=Ea,M5=1335,dae=21522,vE=o_.getBCHDigit(M5);C5.getEncodedBits=function(t,r){for(var n=t.bit<<3|r,a=n<<10;o_.getBCHDigit(a)-vE>=0;)a^=M5<<o_.getBCHDigit(a)-vE;return(n<<10|a)^dae};var L5={},gae=oo;function Fs(e){this.mode=gae.NUMERIC,this.data=e.toString()}Fs.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Fs.prototype.getLength=function(){return this.data.length};Fs.prototype.getBitsLength=function(){return Fs.getBitsLength(this.data.length)};Fs.prototype.write=function(t){var r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);var i=this.data.length-r;i>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,i*3+1))};var pae=Fs,mae=oo,e1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Hs(e){this.mode=mae.ALPHANUMERIC,this.data=e}Hs.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Hs.prototype.getLength=function(){return this.data.length};Hs.prototype.getBitsLength=function(){return Hs.getBitsLength(this.data.length)};Hs.prototype.write=function(t){var r;for(r=0;r+2<=this.data.length;r+=2){var n=e1.indexOf(this.data[r])*45;n+=e1.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(e1.indexOf(this.data[r]),6)};var yae=Hs,_ae=io,xae=oo;function qs(e){this.mode=xae.BYTE,this.data=_ae.from(e)}qs.getBitsLength=function(t){return t*8};qs.prototype.getLength=function(){return this.data.length};qs.prototype.getBitsLength=function(){return qs.getBitsLength(this.data.length)};qs.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var wae=qs,Sae=oo,bae=Ea;function Us(e){this.mode=Sae.KANJI,this.data=e}Us.getBitsLength=function(t){return t*13};Us.prototype.getLength=function(){return this.data.length};Us.prototype.getBitsLength=function(){return Us.getBitsLength(this.data.length)};Us.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=bae.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var Aae=Us,I5={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var i={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var s,f,u,h,c,v,d,m,g;!l.empty();){s=l.pop(),f=s.value,h=s.cost,c=r[f]||{};for(u in c)c.hasOwnProperty(u)&&(v=c[u],d=h+v,m=o[u],g=typeof o[u]>"u",(g||m>d)&&(o[u]=d,l.push(u,d),i[u]=f))}if(typeof a<"u"&&typeof o[a]>"u"){var p=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],i=n;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,n,a){var i=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(I5);var Tae=I5.exports;(function(e){var t=oo,r=pae,n=yae,a=wae,i=Aae,o=Hn,l=Ea,s=Tae;function f(p){return unescape(encodeURIComponent(p)).length}function u(p,y,x){for(var A=[],w;(w=p.exec(x))!==null;)A.push({data:w[0],index:w.index,mode:y,length:w[0].length});return A}function h(p){var y=u(o.NUMERIC,t.NUMERIC,p),x=u(o.ALPHANUMERIC,t.ALPHANUMERIC,p),A,w;l.isKanjiModeEnabled()?(A=u(o.BYTE,t.BYTE,p),w=u(o.KANJI,t.KANJI,p)):(A=u(o.BYTE_KANJI,t.BYTE,p),w=[]);var b=y.concat(x,A,w);return b.sort(function(S,T){return S.index-T.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function c(p,y){switch(y){case t.NUMERIC:return r.getBitsLength(p);case t.ALPHANUMERIC:return n.getBitsLength(p);case t.KANJI:return i.getBitsLength(p);case t.BYTE:return a.getBitsLength(p)}}function v(p){return p.reduce(function(y,x){var A=y.length-1>=0?y[y.length-1]:null;return A&&A.mode===x.mode?(y[y.length-1].data+=x.data,y):(y.push(x),y)},[])}function d(p){for(var y=[],x=0;x<p.length;x++){var A=p[x];switch(A.mode){case t.NUMERIC:y.push([A,{data:A.data,mode:t.ALPHANUMERIC,length:A.length},{data:A.data,mode:t.BYTE,length:A.length}]);break;case t.ALPHANUMERIC:y.push([A,{data:A.data,mode:t.BYTE,length:A.length}]);break;case t.KANJI:y.push([A,{data:A.data,mode:t.BYTE,length:f(A.data)}]);break;case t.BYTE:y.push([{data:A.data,mode:t.BYTE,length:f(A.data)}])}}return y}function m(p,y){for(var x={},A={start:{}},w=["start"],b=0;b<p.length;b++){for(var S=p[b],T=[],C=0;C<S.length;C++){var M=S[C],I=""+b+C;T.push(I),x[I]={node:M,lastCount:0},A[I]={};for(var P=0;P<w.length;P++){var D=w[P];x[D]&&x[D].node.mode===M.mode?(A[D][I]=c(x[D].lastCount+M.length,M.mode)-c(x[D].lastCount,M.mode),x[D].lastCount+=M.length):(x[D]&&(x[D].lastCount=M.length),A[D][I]=c(M.length,M.mode)+4+t.getCharCountIndicator(M.mode,y))}}w=T}for(P=0;P<w.length;P++)A[w[P]].end=0;return{map:A,table:x}}function g(p,y){var x,A=t.getBestModeForData(p);if(x=t.from(y,A),x!==t.BYTE&&x.bit<A.bit)throw new Error('"'+p+'" cannot be encoded with mode '+t.toString(x)+`.
 Suggested mode is: `+t.toString(A));switch(x===t.KANJI&&!l.isKanjiModeEnabled()&&(x=t.BYTE),x){case t.NUMERIC:return new r(p);case t.ALPHANUMERIC:return new n(p);case t.KANJI:return new i(p);case t.BYTE:return new a(p)}}e.fromArray=function(y){return y.reduce(function(x,A){return typeof A=="string"?x.push(g(A,null)):A.data&&x.push(g(A.data,A.mode)),x},[])},e.fromString=function(y,x){for(var A=h(y,l.isKanjiModeEnabled()),w=d(A),b=m(w,x),S=s.find_path(b.map,"start","end"),T=[],C=1;C<S.length-1;C++)T.push(b.table[S[C]].node);return e.fromArray(v(T))},e.rawSplit=function(y){return e.fromArray(h(y,l.isKanjiModeEnabled()))}})(L5);var dE=io,Qh=Ea,t1=Yh,Cae=Xre,Mae=Qre,Lae=p5,Iae=m5,s_=y5,l_=Zh,Pae=lae,fh=A5,Dae=C5,Rae=oo,r1=L5,Eae=Fx;function kae(e,t){for(var r=e.size,n=Iae.getPositions(t),a=0;a<n.length;a++)for(var i=n[a][0],o=n[a][1],l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(var s=-1;s<=7;s++)o+s<=-1||r<=o+s||(l>=0&&l<=6&&(s===0||s===6)||s>=0&&s<=6&&(l===0||l===6)||l>=2&&l<=4&&s>=2&&s<=4?e.set(i+l,o+s,!0,!0):e.set(i+l,o+s,!1,!0))}function Oae(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function Bae(e,t){for(var r=Lae.getPositions(t),n=0;n<r.length;n++)for(var a=r[n][0],i=r[n][1],o=-2;o<=2;o++)for(var l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(a+o,i+l,!0,!0):e.set(a+o,i+l,!1,!0)}function Nae(e,t){for(var r=e.size,n=fh.getEncodedBits(t),a,i,o,l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,o=(n>>l&1)===1,e.set(a,i,o,!0),e.set(i,a,o,!0)}function a1(e,t,r){var n=e.size,a=Dae.getEncodedBits(t,r),i,o;for(i=0;i<15;i++)o=(a>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(n-15+i,8,o,!0),i<8?e.set(8,n-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(n-8,8,1,!0)}function zae(e,t){for(var r=e.size,n=-1,a=r-1,i=7,o=0,l=r-1;l>0;l-=2)for(l===6&&l--;;){for(var s=0;s<2;s++)if(!e.isReserved(a,l-s)){var f=!1;o<t.length&&(f=(t[o]>>>i&1)===1),e.set(a,l-s,f),i--,i===-1&&(o++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function Vae(e,t,r){var n=new Cae;r.forEach(function(f){n.put(f.mode.bit,4),n.put(f.getLength(),Rae.getCharCountIndicator(f.mode,e)),f.write(n)});var a=Qh.getSymbolTotalCodewords(e),i=l_.getTotalCodewordsCount(e,t),o=(a-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var l=(o-n.getLengthInBits())/8,s=0;s<l;s++)n.put(s%2?17:236,8);return Fae(n,e,t)}function Fae(e,t,r){for(var n=Qh.getSymbolTotalCodewords(t),a=l_.getTotalCodewordsCount(t,r),i=n-a,o=l_.getBlocksCount(t,r),l=n%o,s=o-l,f=Math.floor(n/o),u=Math.floor(i/o),h=u+1,c=f-u,v=new Pae(c),d=0,m=new Array(o),g=new Array(o),p=0,y=dE.from(e.buffer),x=0;x<o;x++){var A=x<s?u:h;m[x]=y.slice(d,d+A),g[x]=v.encode(m[x]),d+=A,p=Math.max(p,A)}var w=dE.alloc(n),b=0,S,T;for(S=0;S<p;S++)for(T=0;T<o;T++)S<m[T].length&&(w[b++]=m[T][S]);for(S=0;S<c;S++)for(T=0;T<o;T++)w[b++]=g[T][S];return w}function Hae(e,t,r,n){var a;if(Eae(e))a=r1.fromArray(e);else if(typeof e=="string"){var i=t;if(!i){var o=r1.rawSplit(e);i=fh.getBestVersionForData(o,r)}a=r1.fromString(e,i||40)}else throw new Error("Invalid data");var l=fh.getBestVersionForData(a,r);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=l;else if(t<l)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+l+`.
`);var s=Vae(t,r,a),f=Qh.getSymbolSize(t),u=new Mae(f);return kae(u,t),Oae(u),Bae(u,t),a1(u,r,0),t>=7&&Nae(u,t),zae(u,s),isNaN(n)&&(n=s_.getBestMask(u,a1.bind(null,u,r))),s_.applyMask(n,u),a1(u,r,n),{modules:u,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}c5.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");var n=t1.M,a,i;return typeof r<"u"&&(n=t1.from(r.errorCorrectionLevel,t1.M),a=fh.from(r.version),i=s_.from(r.maskPattern),r.toSJISFunc&&Qh.setToSJISFunction(r.toSJISFunc)),Hae(t,a,n,i)};var P5={},$x={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");var a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});var a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){var i=e.getScale(n,a);return Math.floor((n+a.margin*2)*i)},e.qrToImageData=function(n,a,i){for(var o=a.modules.size,l=a.modules.data,s=e.getScale(o,i),f=Math.floor((o+i.margin*2)*s),u=i.margin*s,h=[i.color.light,i.color.dark],c=0;c<f;c++)for(var v=0;v<f;v++){var d=(c*f+v)*4,m=i.color.light;if(c>=u&&v>=u&&c<f-u&&v<f-u){var g=Math.floor((c-u)/s),p=Math.floor((v-u)/s);m=h[l[g*o+p]?1:0]}n[d++]=m.r,n[d++]=m.g,n[d++]=m.b,n[d]=m.a}}})($x);(function(e){var t=$x;function r(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,l){var s=l,f=o;typeof s>"u"&&(!o||!o.getContext)&&(s=o,o=void 0),o||(f=n()),s=t.getOptions(s);var u=t.getImageWidth(i.modules.size,s),h=f.getContext("2d"),c=h.createImageData(u,u);return t.qrToImageData(c.data,i,s),r(h,f,u),h.putImageData(c,0,0),f},e.renderToDataURL=function(i,o,l){var s=l;typeof s>"u"&&(!o||!o.getContext)&&(s=o,o=void 0),s||(s={});var f=e.render(i,o,s),u=s.type||"image/png",h=s.rendererOpts||{};return f.toDataURL(u,h.quality)}})(P5);var D5={},qae=$x;function gE(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function n1(e,t,r){var n=e+t;return typeof r<"u"&&(n+=" "+r),n}function Uae(e,t,r){for(var n="",a=0,i=!1,o=0,l=0;l<e.length;l++){var s=Math.floor(l%t),f=Math.floor(l/t);!s&&!i&&(i=!0),e[l]?(o++,l>0&&s>0&&e[l-1]||(n+=i?n1("M",s+r,.5+f+r):n1("m",a,0),a=0,i=!1),s+1<t&&e[l+1]||(n+=n1("h",o),o=0)):a++}return n}D5.render=function(t,r,n){var a=qae.getOptions(r),i=t.modules.size,o=t.modules.data,l=i+a.margin*2,s=a.color.light.a?"<path "+gE(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",f="<path "+gE(a.color.dark,"stroke")+' d="'+Uae(o,i,a.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',h=a.width?'width="'+a.width+'" height="'+a.width+'" ':"",c='<svg xmlns="http://www.w3.org/2000/svg" '+h+u+' shape-rendering="crispEdges">'+s+f+`</svg>
`;return typeof n=="function"&&n(null,c),c};var Gae=zre,u_=c5,R5=P5,Wae=D5;function Yx(e,t,r,n,a){var i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!Gae())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(a=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(f,u){try{var h=u_.create(r,n);f(e(h,t,n))}catch(c){u(c)}})}try{var s=u_.create(r,n);a(null,e(s,t,n))}catch(f){a(f)}}Ku.create=u_.create;Ku.toCanvas=Yx.bind(null,R5.render);Ku.toDataURL=Yx.bind(null,R5.renderToDataURL);Ku.toString=Yx.bind(null,function(e,t,r){return Wae.render(e,r)});const $ae={name:"qrcode",props:{size:{type:Number,default:196},text:String},mounted(){this.render()},methods:{render(){Ku.toCanvas(this.$el,this.text,{width:this.size},e=>this.$emit("rendered",e))}},watch:{text:"render"}},Yae=["width","height"];function Zae(e,t,r,n,a,i){return Dt(),Et("canvas",{width:r.size.width,height:r.size.height},null,8,Yae)}const Kae=hh($ae,[["render",Zae]]),Xae=""+new URL("concrete-ta-DQlm2nEX.mp3",import.meta.url).href,Qae=""+new URL("wood-ta-njlGAOqz.mp3",import.meta.url).href,Jae=""+new URL("unsheathed-DMAN2_OI.mp3",import.meta.url).href,i1=(e,t)=>{if(e.length>=t.length){for(let r=0;r<t.length;r++){const n=e[r],a=t[r];if(n!==a)return!1}return!0}return!1},ch=e=>e&&{x:e[0].charCodeAt(0)-97,y:Number(e[1])-1},jae=(e,t,r,n,a)=>{const i=ch(e),o=ch(t),l={x:o.x-i.x,y:o.y-i.y},s=-Math.atan2(l.x,l.y)*180/Math.PI,f=(i.x+.5)*100,u=(i.y+.5)*100,h=Math.sqrt(l.x**2+l.y**2)*100,c=35,v=40,d=[[-20/2,c],[-20/2,h-v],[-v*.7,h-v],[0,h],[+v*.7,h-v],[20/2,h-v],[20/2,c]],m=Number.isFinite(r)?Vr.hsv([60+60*Math.tanh(r/8),100,80]).alpha(a?1:n*.9+.1).toString():"#777a";return{x:f,y:u,angle:s,points:d,fill:m}},ene=(e,t)=>{const r=t==="w"?1:-1;let n=0;return Number.isFinite(e.scoreMate)?n=r*Math.sign(e.scoreMate):n=r*Math.tanh(e.scoreCP/400),n},tne=[{domain:"Chesscom",script:'javascript:navigator.clipboard.writeText([...document.querySelectorAll("vertical-move-list .move")].map((move, i) => `${i+1}. ${move.querySelector(".white").textContent} ${move.querySelector(".black") ? move.querySelector(".black").textContent : \'\'}`).join(" "));alert(\'Chess notation text copied.\');'}],rne=26,ps={},ane={name:"chess-lab",directives:{resize:kq},mixins:[Hq],components:{CheckButton:qq,StoreInput:pE,BoolStoreInput:B8,Chart:Nre,QRCode:Kae},data(){return{editMode:!1,fullMode:!1,whiteOnTurn:!0,orientationFlipped:!1,setupPosition:null,history:[],fens:[],asideWidth:200,checkerSize:100,notation:null,currentMoveIndex:0,pgnBoxInputActivated:!1,pgnBoxOutputActivated:!1,pgnBoxErrorActivated:!1,drageHover:!1,engineAnalyzerList:Object.keys(Ab),enginePlayerList:Object.keys(cd),chosenAnalyzer:null,chosenWhitePlayer:null,chosenBlackPlayer:null,whitePlayerMoveTime:null,blackPlayerMoveTime:null,playerIsRunning:!1,analyzation:null,winRateDict:{},winrateChartHeight:240,gameResult:null,PGN_WIDGETS:tne,showNotationTips:!1,showSharePanel:!1,showArrowMarks:!0,lastMove:null,checkSquare:null,chosenSquare:null,promotionPending:null,showPredictionBoard:!1,hoverMove:null,hoverMovePoint:null,winrateChartData:{height:"240px",settings:{dimension:["step"],metrics:["rate"],xAxisType:"value"},theme:{line:{smooth:!1},grid:{left:8,top:8,right:8,bottom:8}},legend:{show:!1},yAxis:{max:1,min:-1,splitLine:{show:!1},splitArea:{show:!0,interval:2}},data:{columns:["step","rate"],rows:[]},markLine:{animation:!1,data:[]},animation:{animation:!0},events:{click:this.onChartClick.bind(this)}},gameLinkCopied:!1,markMove:null,audioTa:Xae,audioDong:Qae,audioUnsheathed:Jae,openGameLoaded:!1}},computed:{playMode(){return!this.editMode},blackOnTurn(){return!this.whiteOnTurn},fenPostfix(){return` ${this.whiteOnTurn?"w":"b"} KQkq - 0 1`},moveList(){const e=Math.ceil(this.history.length/2);return Array(e).fill().map((t,r)=>({w:this.history[r*2],b:this.history[r*2+1],index:r+1}))},currentHistoryIndex(){return(this.currentMoveIndex-1)*2+(this.whiteOnTurn?1:0)},noticableMoves(){if(!this.analyzation)return[];const e=this.analyzation.branches.map(n=>({...n})).filter(n=>Number.isFinite(n.value));e.forEach((n,a)=>{n.valueExp=Math.exp(n.value*3),n.hash=n.move.filter(Boolean).join(""),n.best=a===0,n.marked=this.markMove&&n.hash===this.markMove||n.move[0]===this.chosenSquare});const t=e.reduce((n,a)=>n+a.valueExp,0);e.forEach(n=>n.weight=n.marked?1:n.valueExp/t);const r=e.filter((n,a)=>n.weight>1/e.length||a<3||n.marked);return e.forEach(n=>n.arrow=jae(n.move[0],n.move[1],n.value,n.weight,n.marked)),r},winrateChartRows(){return this.winRates?this.winRates.map((e,t)=>({step:t,item:e})).filter(({item:e})=>e).map(({step:e,item:t})=>({step:Number(e),rate:t.rate})):[]},promotionData(){if(!this.promotionPending)return null;const e=this.whiteOnTurn?"w":"b",t=ch(this.promotionPending.to),r=!!(this.orientationFlipped^t.y===0),n=["Q","N","R","B"];r&&n.reverse(),this.orientationFlipped&&(t.x=7-t.x,t.y=7-t.y);const a=t.x*this.checkerSize,i=((r?5:8)-t.y)*this.checkerSize+(r?-12:0);return{downside:r,left:a,top:i,pieces:n.map(o=>({notation:o.toLowerCase(),img:`chess/pieces/alpha/${e}${o}.png`}))}},targetSquares(){if(!this.chosenSquare||!this.game||this.analyzer&&this.showArrowMarks)return[];const e=this.game.moves({verbose:!0}).filter(t=>t.from===this.chosenSquare&&t.to);return e.filter((t,r)=>!e.slice(0,r).find(n=>n.to===t.to)).map(t=>({name:t.to,pos:ch(t.to)}))},hoverMoveHash(){return!this.hoverMove||!this.hoverMovePoint?null:`${this.hoverMove.hash}|${this.hoverMovePoint.x},${this.hoverMovePoint.y}`},gameLink(){let e=location.origin+location.pathname+"#/chess-lab?";const t=[];if(this.notation){const r=R8(this.notation);t.push("n="+encodeURIComponent(r))}return this.currentHistoryIndex<this.history.length-1&&t.push("step="+this.currentHistoryIndex.toString()),e+=t.join("&"),e},playButtonTips(){return this.playerIsRunning?"Pause the player":this.whiteOnTurn&&this.chosenWhitePlayer||this.blackOnTurn&&this.chosenBlackPlayer?"Run the player":`Select an agent player for ${this.whiteOnTurn?"white":"black"} first`},currentMove(){return this.history[this.currentHistoryIndex]},winRates(){const e=this.fens.map(t=>this.winRateDict[t]);return!this.analyzer&&!e.length?null:e}},created(){this.boardConfig={draggable:!0,dropOffBoard:"trash",sparePieces:!0,pieceTheme:"chess/pieces/alpha/{piece}.png",position:"start",onDragStart:this.onDragStart.bind(this),onDrop:this.onDrop.bind(this),onSnapEnd:this.onSnapEnd.bind(this)},this.game=new Hi.Chess,this.fens=[this.game.fen()];const e=()=>{switch(event.code){case"ArrowLeft":this.undoMove();break;case"ArrowRight":this.redoMove();break;case"Home":this.seekHistory(-1);break}};document.addEventListener("keydown",e),this.appendCleaner(()=>document.removeEventListener("keydown",e)),this.triggerAnalyzer=ub.debounce(this.doTriggerAnalyzer.bind(this),600),this.appendCleaner(()=>this.analyzer&&this.analyzer.terminate())},async mounted(){window.jQuery||(window.jQuery=(await sb(async()=>{const{default:r}=await import("./jquery-BgcX2IXL.js").then(n=>n.j);return{default:r}},__vite__mapDeps([0,1]),import.meta.url)).default),window.Chessboard||await sb(()=>import("./chessboard-1.0.0-BbMAZCnV.js"),[],import.meta.url);const e=window.Chessboard;this.boardConfig.orientation=this.orientationFlipped?"black":"white",this.board=new e("board",this.boardConfig),this.predictionBoard=new e("prediction-board",{pieceTheme:"chess/pieces/alpha/{piece}.png"}),document.querySelectorAll(".piece-417db").forEach(r=>r.oncontextmenu=n=>n.preventDefault());const t=this.parseLocationHash();if(t.n&&(this.notation=E8(t.n)),t.notation&&(this.notation=t.notation),this.notation){const r=this.notation;this.editMode=!1,await this.$nextTick(),this.loadNotation(r)}t.step&&this.seekHistory(parseInt(t.step)),this.onResize()},methods:{async onResize(){this.board&&this.board.resize(),this.asideWidth=this.$el.clientWidth>this.$refs.board.clientWidth?(this.$el.clientWidth-this.$refs.board.clientWidth)/2:this.$el.clientWidth/2,await this.$nextTick();const e=this.$refs.board.querySelector(".board-b72b1");e&&(this.checkerSize=e.clientWidth/8),await this.$nextTick(),this.predictionBoard&&this.predictionBoard.resize(),this.$refs.winrateChart&&this.$refs.winrateChart.getVChart().resize(),this.$refs.winrate&&(this.winrateChartHeight=this.$refs.winrate.clientHeight)},onResizeLazy(){ub.debounce(this.onResize.bind(this),1e3)()},onDragStart(e,t){if(this.editMode)return!0;if(this.game.game_over())return!1;const r=!!(this.game.turn()==="w"^/^b/.test(t));return r&&(this.chosenSquare=this.chosenSquare===e?null:e),r},onDrop(e,t){if(this.playMode)return this.move(e,t);this.editDirty=!0},onSnapEnd(){this.playMode&&this.syncBoard(),this.editMode&&(this.editDirty=!0)},waitForLoadingComplete(){return document.readyState==="complete"?Promise.resolve():new Promise(e=>window.onload=e)},promote(e){this.promotionPending&&(this.game.move({from:this.promotionPending.from,to:this.promotionPending.to,promotion:e}),this.promotionPending=null,this.updateStatus(),this.syncBoard(),this.$nextTick(()=>this.runPlayer()))},move(e,t){const n=this.game.moves({verbose:!0}).find(a=>a.from===e&&a.to===t);if(!n)return"snapback";if(n.promotion){this.promotionPending={from:e,to:t};return}return this.game.move(n),this.updateStatus(),this.$nextTick(()=>this.runPlayer()),"move"},targetMove(e){this.chosenSquare&&this.move(this.chosenSquare,e)==="move"&&this.syncBoard()},targetMark(e){this.markMove=[this.chosenSquare,e].join(""),this.chosenSquare=null},flipOrientation(){this.orientationFlipped=!this.orientationFlipped},startPosition(){this.board&&this.board.start(),this.whiteOnTurn=!0,this.editDirty=!0},clearBoard(){this.board&&this.board.clear(),this.editDirty=!0},syncBoard(){this.board.position(this.game.fen())},updateFens(){this.fens=[];const e=new Hi.Chess;this.notation&&e.load_pgn(this.notation);let t=e.history().length;for(;this.fens[t]=e.fen(),--t,!!e.undo(););},updateStatus(){this.whiteOnTurn=this.game.turn()==="w";const e=this.game.history();e.length%2^!this.whiteOnTurn&&e.unshift("..."),i1(this.history,e)||(this.history=e,this.notation=this.game.pgn(),this.updateFens()),this.currentMoveIndex=Math.ceil(e.length/2),this.analyzation=null,this.analyzer&&this.triggerAnalyzer(),this.gameResult=null,this.game.game_over()&&An(200).then(()=>{this.game.game_over()&&(this.gameResult=this.game.in_draw()?"draw":this.whiteOnTurn?"black":"white")});const t=this.game.history({verbose:!0}),r=t.length?t[t.length-1]:null;if(this.lastMove=r&&{from:r.from,to:r.to},this.checkSquare=null,this.game.in_check()){const a=Object.entries(this.board.position()).find(([i,o])=>i&&o===this.game.turn()+"K");a&&(this.checkSquare=a[0])}this.chosenSquare=null,this.markMove=null,this.showPredictionBoard=!1},undoMove(){this.currentHistoryIndex>=0&&(this.game.undo(),this.syncBoard(),this.updateStatus())},redoMove(){if(this.history.length>this.currentHistoryIndex+1){const e=this.history[this.currentHistoryIndex+1];this.game.move(e),this.syncBoard(),this.updateStatus()}},seekHistory(e){for(;this.currentHistoryIndex>e;)this.game.undo(),this.updateStatus();for(;this.currentHistoryIndex<e;){const t=this.history[this.currentHistoryIndex+1];this.game.move(t),this.updateStatus()}this.syncBoard(),this.updateStatus()},onPgnBoxCopy(){navigator.clipboard.writeText(this.notation),this.pgnBoxOutputActivated=!0},async onPgnBoxPaste(e){const t=await new Promise(r=>[...e.clipboardData.items][0].getAsString(r));t&&this.loadNotation(t)},async onDropFiles(e){this.drageHover=!1;const t=e.dataTransfer.files[0];switch(t.type){case"application/vnd.chess-pgn":case"text/plain":case"":const r=await t.readAs("Text");this.loadNotation(r);break;default:console.debug("Unsupported drop file type:",t.type)}},loadNotation(e){if(!this.game.load_pgn(e)){const[t,r]=e.match(/FEN "([^"]+)"/)||[];if(r)this.setupPosition=r,this.game.load(r);else{console.debug("invalid PGN text:",e),this.pgnBoxErrorActivated=!0;return}}this.history=[],this.syncBoard(),this.updateStatus(),this.analyzer&&this.analyzer.newGame(),this.pgnBoxInputActivated=!0,this.analyzer&&this.evaluateWinrateHistory()},downloadPGN(){const e=new Blob([this.notation]),t=URL.createObjectURL(e),r=Wq(this.notation)+".pgn";Fq(t,r)},doTriggerAnalyzer(){if(this.analyzer)if(this.game.game_over())this.analyzer.analyzeStop();else{const e=this.game.fen();ps[e]?(this.analyzation=ps[e],this.updateWinratesByAnalyzation(this.analyzation.best,this.currentHistoryIndex+1)):this.analyzer.analyze(e)}},setHistory(e){if(this.editMode=!1,i1(e,this.history))e.slice(this.history.length).forEach(r=>this.game.move(r));else if(i1(this.history,e))for(let t=0;t<this.history.length-e.length;t++)this.game.undo();else{const t=[...e];t.length%2&&t.push("");const r=Array(t.length/2).fill(null).map((n,a)=>`${a+1}. ${t[a*2]} ${t[a*2+1]}`).join(" ");this.game.load_pgn(r),this.analyzer&&this.analyzer.newGame()}this.syncBoard(),this.updateStatus()},async runPlayer(){if(!this.game.game_over()){let e=null;if(this.whiteOnTurn&&this.whitePlayer?(this.playerIsRunning=!0,e=await this.whitePlayer.think(this.game.fen())):!this.whiteOnTurn&&this.blackPlayer&&(this.playerIsRunning=!0,e=await this.blackPlayer.think(this.game.fen())),e)if(this.game.move({from:e[0],to:e[1],promotion:e[2]})){this.syncBoard(),this.updateStatus(),An(200).then(()=>this.playerIsRunning&&this.runPlayer());return}else console.warn("Invalid move from agent:",e)}this.playerIsRunning=!1},togglePlayer(){this.playerIsRunning?this.playerIsRunning=!1:this.runPlayer()},async newGame(){this.game&&!this.game.game_over()&&this.history.length>5&&!confirm("Start a new game?")||(this.editMode=!0,await this.$nextTick(),this.startPosition(),this.editMode=!1)},listenLogs(e){e.on("log",t=>{if(this.$refs.engineLogs){if(this.$refs.engineLogs.innerText+=t+`
`,this.$refs.engineLogs.innerText.length>16384){const n=this.$refs.engineLogs.innerText=this.$refs.engineLogs.innerText.split(`
`);this.$refs.engineLogs.innerText=n.slice(Math.max(n.length-90,0)).join(`
`)}const r=this.$refs.engineLogs.parentElement;r.scrollTo(0,r.scrollHeight)}})},async showPrediction(e,t){this.predictionPreparing=!0,document.body.classList.add("preparing-predict");const r=new Hi.Chess(e);if(this.predictionBoard.position(e),await An(200),this.predictionPreparing=!1,!!this.hoverMove){this.showPredictionBoard=!0,document.body.classList.remove("preparing-predict"),await this.$nextTick(),await An(100);for(const n of t){if(!this.showPredictionBoard)break;r.move({from:n[0],to:n[1],promotion:n[2]}),this.predictionBoard.position(r.fen()),await An(800)}this.hoverMove=null}},onPredictionBlur(){document.querySelector(".piece-417db:hover")||(this.showPredictionBoard=!1)},onHoverMovePointChange(e,t){this.hoverMove=e,this.hoverMovePoint={x:t.offsetX,y:t.offsetY}},updateWinratesByAnalyzation(e,t){const r=this.fens[t];console.assert(r,"the current fen is null:",this.fens,t);const n=this.winRateDict[r];if(!n||e.depth>=n.depth){const a=ene(e,t%2?"b":"w");this.$set?this.$set(this.winRateDict,r,{depth:e.depth,rate:a}):this.winRateDict[r]={depth:e.depth,rate:a}}},async evaluateWinrateHistory(e=18){const t=new Hi.Chess;this.setupPosition&&t.load(this.setupPosition);for(let r=0;r<=this.history.length&&this.analyzer;r++){if(!this.winRates[r]||this.winRates[r].depth<e){const n=t.fen();let a=null;ps[n]?a=ps[n].best:a=await this.analyzer.evaluateFinite(n,e),a&&this.updateWinratesByAnalyzation(a,r)}if(r<this.history.length&&(t.move(this.history[r]),t.game_over()))break}console.log("History evaluation done.")},async playHistory(e=600){for(;this.currentHistoryIndex<this.history.length-1;)this.redoMove(),await An(e)},copyGameLink(){navigator.clipboard.writeText(this.gameLink),this.gameLinkCopied=!0},parseLocationHash(){const e=location.hash.substr(1);return zq.parse(e,!0).query},onChartClick(e){if(e.componentType==="series"){const t=e.value[0];t>=0&&t<=this.history.length&&this.seekHistory(t-1)}},async loadAnalyzationLibrary(e){const t=await fetch(e);if(!t.ok){console.warn("analyzation library fetch failed:",t.statusText);return}const r=i=>[i.substr(0,2),i.substr(2,4),i.length>4?i.substr(4):void 0],n=await t.text(),a=xb.parse(n);a.forEach(i=>{const o=i.branches[0];ps[i.fen]=ps[i.fen]||{fen:i.fen,branches:i.branches.map(l=>({move:r(l.move),pv:l.pv.split(" ").map(r),value:l.score*.01})),best:{move:r(o.move),scoreCP:o.score,depth:o.depth||rne}}}),console.debug("analyzation library loaded:",a.length)},async loadYAML(e){const t=await(await fetch(e)).text();return xb.parse(t)},async loadOpenGame(){this.openGameLoaded=!0,await this.loadAnalyzationLibrary("chess/open-games/3.yaml"),await this.loadAnalyzationLibrary("chess/open-games/4.yaml"),await this.loadAnalyzationLibrary("chess/open-games/5.yaml"),await this.loadAnalyzationLibrary("chess/open-games/6.yaml"),await this.loadAnalyzationLibrary("chess/open-games/7.yaml")}},watch:{whiteOnTurn(){this.editDirty=!0},editMode(e){if(this.boardConfig.sparePieces=e,this.boardConfig.dropOffBoard=e?"trash":"snapback",e&&(this.editDirty=!1,this.lastMove=null,this.checkSquare=null,this.chosenSquare=null,this.markMove=null,this.promotionPending=null),!e&&this.editDirty){const t=this.board.fen()+this.fenPostfix;this.game.load(t)?(this.setupPosition=t,this.history=[],this.updateStatus(),this.analyzer&&this.analyzer.newGame()):(console.warn("invalid editor position:",t),this.editMode=!0)}},async pgnBoxInputActivated(e){e&&(await An(100),this.pgnBoxInputActivated=!1)},async pgnBoxOutputActivated(e){e&&(await An(100),this.pgnBoxOutputActivated=!1)},async pgnBoxErrorActivated(e){e&&(await An(100),this.pgnBoxErrorActivated=!1)},currentMoveIndex(){this.$nextTick(()=>{const e=this.$el.querySelector(".move-list th.current");e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})})},chosenAnalyzer(e){this.analyzer&&(this.analyzer.terminate(),this.analyzer=null),e&&(this.analyzer=Ab[e](),this.listenLogs(this.analyzer),this.analyzer.on("analyzation",t=>{t.fen===this.game.fen()&&(this.analyzation=t,this.updateWinratesByAnalyzation(t.best,this.currentHistoryIndex+1))}),this.triggerAnalyzer())},chosenWhitePlayer(e){this.whitePlayer&&(this.whitePlayer.terminate(),this.whitePlayer=null),e&&(this.whitePlayer=cd[e](),this.whitePlayer.movetime=this.whitePlayerMoveTime,this.listenLogs(this.whitePlayer))},chosenBlackPlayer(e){this.blackPlayer&&(this.blackPlayer.terminate(),this.blackPlayer=null),e&&(this.blackPlayer=cd[e](),this.blackPlayer.movetime=this.blackPlayerMoveTime,this.listenLogs(this.blackPlayer))},whitePlayerMoveTime(e){this.whitePlayer&&(this.whitePlayer.movetime=e)},blackPlayerMoveTime(e){this.blackPlayer&&(this.blackPlayer.movetime=e)},orientationFlipped(e){this.board&&this.board.orientation(e?"black":"white"),this.predictionBoard&&this.predictionBoard.orientation(e?"black":"white")},async lastMove(e){document.querySelectorAll(".square-55d63.last-move").forEach(t=>t.classList.remove("last-move","from","to")),e&&(await An(200),this.lastMove===e&&(document.querySelector(`.square-${e.from}`).classList.add("last-move","from"),document.querySelector(`.square-${e.to}`).classList.add("last-move","to")))},checkSquare(e){document.querySelectorAll(".square-55d63.checking").forEach(t=>t.classList.remove("checking")),e&&document.querySelector(`.square-${e}`).classList.add("checking")},chosenSquare(e){document.querySelectorAll(".square-55d63.chosen").forEach(t=>t.classList.remove("chosen")),e&&(document.querySelector(`.square-${e}`).classList.add("chosen"),this.markMove=null)},async hoverMoveHash(e){if(e){if(document.querySelector(".piece-417db:hover"))return;if(await Vq("hoverMoveHash.change",600)){if(this.predictionPreparing||this.showPredictionBoard||document.querySelector(".piece-417db:hover"))return;this.hoverMove&&this.showPrediction(this.game.fen(),this.hoverMove.pv)}}},winrateChartHeight(e){this.winrateChartData.height=`${e}px`},currentHistoryIndex(e,t){this.$set?this.$set(this.winrateChartData.markLine.data,"0",{xAxis:e+1}):this.winrateChartData.markLine.data[0]={xAxis:e+1},e>t&&this.currentMove&&(/x/.test(this.currentMove)?this.$refs.audioDong.play():this.$refs.audioTa.play(),/[+#]$/.test(this.currentMove)&&this.$refs.audioUnsheathed.play())},winrateChartRows(e){this.winrateChartData.data.rows=e},fullMode(){this.$nextTick(this.onResize.bind(this))},showSharePanel(){this.gameLinkCopied=!1}}},nne=["width","height"],ine={transform:"translate(0, 800) scale(1, -1)"},one=["transform"],sne={key:0,class:"arrows"},lne=["transform","points","fill","onMouseenter","onMousemove","onMouseleave"],une={class:"target-squares"},fne=["transform","onClick","onContextmenu"],cne={key:0},hne={key:1},vne={key:2},dne=["onClick"],gne=["src"],pne={class:"left-sider"},mne={class:"engine players"},yne=["title"],_ne={key:0},xne={key:0},wne={class:"engine-logs"},Sne={ref:"engineLogs"},bne={key:0,class:"winrate",ref:"winrate"},Ane={class:"right-sider"},Tne={class:"notation"},Cne=["disabled"],Mne={class:"share"},Lne=["href"],Ine={class:"help"},Pne=["href"],Dne={class:"move-list"},Rne=["onClick"],Ene=["onClick"],kne=["src"],One=["src"],Bne=["src"];function Nne(e,t,r,n,a,i){const o=ms("StoreInput"),l=ms("BoolStoreInput"),s=ms("CheckButton"),f=ms("Chart"),u=ms("QRCode"),h=Rq("resize");return Rr((Dt(),Et("div",{class:va(["chess-lab",{"edit-mode":a.editMode,"play-mode":i.playMode,"drag-hover":a.drageHover,"full-mode":a.fullMode}]),style:ib({"--aside-width":`${a.asideWidth}px`,"--checker-size":`${a.checkerSize}px`,"--board-size":`${a.checkerSize*8+4}px`}),onMouseenter:t[36]||(t[36]=(...c)=>i.onResizeLazy&&i.onResizeLazy(...c)),onDragover:t[37]||(t[37]=yo(c=>a.drageHover=!0,["prevent"])),onDragleave:t[38]||(t[38]=c=>a.drageHover=!1),onDrop:t[39]||(t[39]=yo((...c)=>i.onDropFiles&&i.onDropFiles(...c),["prevent"]))},[Rr(ga(o,{modelValue:a.notation,"onUpdate:modelValue":t[0]||(t[0]=c=>a.notation=c),sessionKey:"chessLab.notation"},null,8,["modelValue"]),[[Ua,!1]]),Rr(ga(l,{modelValue:a.orientationFlipped,"onUpdate:modelValue":t[1]||(t[1]=c=>a.orientationFlipped=c),sessionKey:"chessLab.orientationFlipped"},null,8,["modelValue"]),[[Ua,!1]]),Rr(ga(l,{modelValue:a.showArrowMarks,"onUpdate:modelValue":t[2]||(t[2]=c=>a.showArrowMarks=c),localKey:"chessLab.showArrowMarks"},null,8,["modelValue"]),[[Ua,!1]]),Rr(ga(o,{modelValue:a.chosenAnalyzer,"onUpdate:modelValue":t[3]||(t[3]=c=>a.chosenAnalyzer=c),localKey:"chessLab.chosenAnalyzer"},null,8,["modelValue"]),[[Ua,!1]]),Rr(ga(o,{modelValue:a.chosenWhitePlayer,"onUpdate:modelValue":t[4]||(t[4]=c=>a.chosenWhitePlayer=c),sessionKey:"chessLab.chosenWhitePlayer"},null,8,["modelValue"]),[[Ua,!1]]),Rr(ga(o,{modelValue:a.chosenBlackPlayer,"onUpdate:modelValue":t[5]||(t[5]=c=>a.chosenBlackPlayer=c),sessionKey:"chessLab.chosenBlackPlayer"},null,8,["modelValue"]),[[Ua,!1]]),Rr(ga(o,{modelValue:a.whitePlayerMoveTime,"onUpdate:modelValue":t[6]||(t[6]=c=>a.whitePlayerMoveTime=c),sessionKey:"chessLab.whitePlayerMoveTime"},null,8,["modelValue"]),[[Ua,!1]]),Rr(ga(o,{modelValue:a.blackPlayerMoveTime,"onUpdate:modelValue":t[7]||(t[7]=c=>a.blackPlayerMoveTime=c),sessionKey:"chessLab.blackPlayerMoveTime"},null,8,["modelValue"]),[[Ua,!1]]),Ke("main",null,[Ke("div",{id:"board",ref:"board",onClick:t[8]||(t[8]=c=>a.chosenSquare=null),onTouchmove:yo(()=>null,["prevent"]),onContextmenu:yo(()=>null,["prevent"])},null,544),Rr((Dt(),Et("svg",{class:"marks",viewBox:"0 0 800 800",width:a.checkerSize*8,height:a.checkerSize*8},[Ke("g",ine,[Ke("g",{transform:a.orientationFlipped?"rotate(180, 400, 400)":null},[a.showArrowMarks?(Dt(),Et("g",sne,[(Dt(!0),Et(Di,null,Ri(i.noticableMoves,c=>(Dt(),Et("polygon",{key:c.hash,class:va(["move",{best:c.best,hover:(a.hoverMove&&a.hoverMove.hash)===c.hash,marked:c.marked}]),transform:`translate(${c.arrow.x}, ${c.arrow.y}) rotate(${c.arrow.angle})`,points:[].concat(...c.arrow.points).join(" "),fill:c.arrow.fill,onMouseenter:v=>i.onHoverMovePointChange(c,v),onMousemove:v=>i.onHoverMovePointChange(c,v),onMouseleave:v=>a.hoverMove=c===a.hoverMove?null:a.hoverMove},null,42,lne))),128))])):Ur("",!0),Ke("g",une,[(Dt(!0),Et(Di,null,Ri(i.targetSquares,c=>(Dt(),Et("g",{key:c.name,transform:`translate(${(c.pos.x+.5)*100}, ${(c.pos.y+.5)*100})`,onClick:yo(v=>i.targetMove(c.name),["stop"]),onContextmenu:yo(v=>i.targetMark(c.name),["prevent"])},[...t[40]||(t[40]=[Ke("rect",{x:-50,y:-50,width:100,height:100},null,-1),Ke("circle",{r:16},null,-1)])],40,fne))),128))])],8,one)]),a.gameResult?(Dt(),Et("text",{key:0,class:va(["result",{flipped:a.orientationFlipped,mate:a.gameResult!=="draw"}]),x:400,y:500},[a.gameResult==="draw"?(Dt(),Et("tspan",cne,"½")):Ur("",!0),a.gameResult==="white"?(Dt(),Et("tspan",hne,"0:1")):Ur("",!0),a.gameResult==="black"?(Dt(),Et("tspan",vne,"1:0")):Ur("",!0)],2)):Ur("",!0)],8,nne)),[[Ua,!a.editMode]]),i.promotionData?(Dt(),Et("div",{key:0,class:"promotion",style:ib({left:`${i.promotionData.left}px`,top:`${i.promotionData.top}px`}),onMouseleave:t[9]||(t[9]=c=>a.promotionPending=null)},[(Dt(!0),Et(Di,null,Ri(i.promotionData.pieces,c=>(Dt(),Et("span",{key:c.notation,class:"piece",onClick:v=>i.promote(c.notation)},[Ke("img",{src:c.img},null,8,gne)],8,dne))),128))],36)):Ur("",!0),Rr(Ke("div",{id:"prediction-board",ref:"predictionBoard",onMousemove:t[10]||(t[10]=(...c)=>i.onPredictionBlur&&i.onPredictionBlur(...c)),onContextmenu:yo(()=>null,["prevent"])},null,544),[[Ua,a.showPredictionBoard]])]),Ke("aside",pne,[Ke("section",{class:va(["engine analyzer",{active:a.chosenAnalyzer}])},[t[42]||(t[42]=Ke("span",{class:"logo-placeholder"},null,-1)),t[43]||(t[43]=Ke("h3",null,"Analyzer",-1)),Rr(Ke("select",{"onUpdate:modelValue":t[11]||(t[11]=c=>a.chosenAnalyzer=c)},[t[41]||(t[41]=Ke("option",{value:null},"(None)",-1)),(Dt(!0),Et(Di,null,Ri(a.engineAnalyzerList,c=>(Dt(),Et("option",{key:c},jn(c),1))),128))],512),[[Cl,a.chosenAnalyzer]]),a.chosenAnalyzer?(Dt(),Eq(s,{key:0,modelValue:a.showArrowMarks,"onUpdate:modelValue":t[12]||(t[12]=c=>a.showArrowMarks=c),title:"show arrows on board",content:"⇧"},null,8,["modelValue"])):Ur("",!0),a.chosenAnalyzer&&!a.openGameLoaded?(Dt(),Et("button",{key:1,onClick:t[13]||(t[13]=(...c)=>i.loadOpenGame&&i.loadOpenGame(...c))},"🕮")):Ur("",!0)],2),Ke("section",mne,[t[52]||(t[52]=Ke("h3",null,"Players",-1)),Ke("button",{class:va({on:a.playerIsRunning}),onClick:t[14]||(t[14]=(...c)=>i.togglePlayer&&i.togglePlayer(...c)),title:i.playButtonTips},[Ke("i",null,jn(a.playerIsRunning?"":""),1)],10,yne),Ke("button",{onClick:t[15]||(t[15]=(...c)=>i.newGame&&i.newGame(...c)),title:"start a new game"}," + new "),Ke("p",{class:va(["white",{on:a.whiteOnTurn}])},[t[47]||(t[47]=Ke("span",{class:"icon"},null,-1)),Rr(Ke("select",{"onUpdate:modelValue":t[16]||(t[16]=c=>a.chosenWhitePlayer=c)},[t[44]||(t[44]=Ke("option",{value:null},"User",-1)),(Dt(!0),Et(Di,null,Ri(a.enginePlayerList,c=>(Dt(),Et("option",{key:c},jn(c),1))),128))],512),[[Cl,a.chosenWhitePlayer]]),a.chosenWhitePlayer?(Dt(),Et("span",_ne,[t[46]||(t[46]=Ke("i",null,"",-1)),Rr(Ke("select",{"onUpdate:modelValue":t[17]||(t[17]=c=>a.whitePlayerMoveTime=c)},[...t[45]||(t[45]=[Ke("option",{value:null},"NULL",-1),Ke("option",{value:1e3},"1s",-1),Ke("option",{value:3e3},"3s",-1),Ke("option",{value:5e3},"5s",-1),Ke("option",{value:1e4},"10s",-1),Ke("option",{value:3e4},"30s",-1)])],512),[[Cl,a.whitePlayerMoveTime]])])):Ur("",!0)],2),Ke("p",{class:va(["black",{on:i.blackOnTurn}])},[t[51]||(t[51]=Ke("span",{class:"icon"},null,-1)),Rr(Ke("select",{"onUpdate:modelValue":t[18]||(t[18]=c=>a.chosenBlackPlayer=c)},[t[48]||(t[48]=Ke("option",{value:null},"User",-1)),(Dt(!0),Et(Di,null,Ri(a.enginePlayerList,c=>(Dt(),Et("option",{key:c},jn(c),1))),128))],512),[[Cl,a.chosenBlackPlayer]]),a.chosenBlackPlayer?(Dt(),Et("span",xne,[t[50]||(t[50]=Ke("i",null,"",-1)),a.chosenBlackPlayer?Rr((Dt(),Et("select",{key:0,"onUpdate:modelValue":t[19]||(t[19]=c=>a.blackPlayerMoveTime=c)},[...t[49]||(t[49]=[Ke("option",{value:null},"NULL",-1),Ke("option",{value:1e3},"1s",-1),Ke("option",{value:3e3},"3s",-1),Ke("option",{value:5e3},"5s",-1),Ke("option",{value:1e4},"10s",-1),Ke("option",{value:3e4},"30s",-1)])],512)),[[Cl,a.blackPlayerMoveTime]]):Ur("",!0)])):Ur("",!0)],2)]),Ke("section",wne,[Ke("pre",Sne,null,512)]),i.winRates?(Dt(),Et("section",bne,[ga(f,{ref:"winrateChart",type:"Line",sourceData:a.winrateChartData},null,8,["sourceData"]),t[53]||(t[53]=Ke("span",{class:"white crown"},null,-1)),t[54]||(t[54]=Ke("span",{class:"black crown"},null,-1))],512)):Ur("",!0)]),Ke("aside",Ane,[Ke("div",Tne,[Ke("input",{class:va(["pgn-box",{activated:a.pgnBoxInputActivated||a.pgnBoxOutputActivated||a.pgnBoxErrorActivated,input:a.pgnBoxInputActivated,output:a.pgnBoxOutputActivated,error:a.pgnBoxErrorActivated}]),type:"text",readonly:"",placeholder:"PGN text",title:"press Ctrl+C/Ctrl+V here",onCopy:t[20]||(t[20]=(...c)=>i.onPgnBoxCopy&&i.onPgnBoxCopy(...c)),onPaste:t[21]||(t[21]=(...c)=>i.onPgnBoxPaste&&i.onPgnBoxPaste(...c))},null,34),Ke("button",{onClick:t[22]||(t[22]=(...c)=>i.downloadPGN&&i.downloadPGN(...c)),disabled:!a.notation,title:"save PGN file"},[...t[55]||(t[55]=[Ke("i",null,"",-1)])],8,Cne),Ke("section",Mne,[Ke("span",{class:va(["icon",{on:a.showSharePanel}]),onClick:t[23]||(t[23]=c=>{a.showSharePanel=!a.showSharePanel,a.showNotationTips=!1})},[...t[56]||(t[56]=[Ke("i",null,"",-1)])],2),a.showSharePanel?(Dt(),Et("div",{key:0,class:"panel embed-dialog",onMouseleave:t[25]||(t[25]=c=>a.showSharePanel=!1)},[t[58]||(t[58]=Ke("p",{class:"comment"},"Share the URL of this game to others:",-1)),Ke("p",null,[Ke("a",{class:va(["link",{activated:a.gameLinkCopied}]),href:i.gameLink,title:"link to this game",target:"_blank"},jn(i.gameLink),11,Lne),Ke("button",{title:"copy the link",onClick:t[24]||(t[24]=(...c)=>i.copyGameLink&&i.copyGameLink(...c))},[...t[57]||(t[57]=[Ke("i",null,"",-1)])])]),ga(u,{text:i.gameLink},null,8,["text"])],32)):Ur("",!0)]),Ke("section",Ine,[Ke("span",{class:va(["icon",{on:a.showNotationTips}]),onClick:t[26]||(t[26]=c=>a.showNotationTips=!a.showNotationTips)},[...t[59]||(t[59]=[Ke("i",null,"",-1)])],2),Rr(Ke("div",{class:"tips embed-dialog",onMouseleave:t[27]||(t[27]=c=>a.showNotationTips=!1)},[t[60]||(t[60]=Ke("p",{class:"comment"},[ob("Drag this widget link into your bookmark bar"),Ke("wbr"),ob(" to copy notation in third-party websites.")],-1)),Ke("ul",null,[(Dt(!0),Et(Di,null,Ri(a.PGN_WIDGETS,c=>(Dt(),Et("li",{key:c.domain},[Ke("a",{href:c.script},jn(c.domain)+".copyNotation",9,Pne)]))),128))])],544),[[Ua,a.showNotationTips]])])]),Ke("div",Dne,[Ke("table",null,[Ke("tbody",null,[(Dt(!0),Et(Di,null,Ri(i.moveList,c=>(Dt(),Et("tr",{key:c.index},[Ke("th",{class:va({current:c.index===a.currentMoveIndex})},jn(c.index)+".",3),Ke("td",{class:va({current:c.index===a.currentMoveIndex&&i.blackOnTurn}),onClick:v=>i.seekHistory(c.index*2-2)},jn(c.w),11,Rne),Ke("td",{class:va({current:c.index===a.currentMoveIndex&&a.whiteOnTurn}),onClick:v=>i.seekHistory(c.index*2-1)},jn(c.b),11,Ene)]))),128))])])])]),Ke("footer",null,[i.playMode?(Dt(),Et("button",{key:0,onClick:t[28]||(t[28]=(...c)=>i.undoMove&&i.undoMove(...c))},[...t[61]||(t[61]=[Ke("i",null,"",-1)])])):Ur("",!0),i.playMode?(Dt(),Et("button",{key:1,onClick:t[29]||(t[29]=(...c)=>i.redoMove&&i.redoMove(...c))},[...t[62]||(t[62]=[Ke("i",null,"",-1)])])):Ur("",!0),a.editMode?(Dt(),Et("button",{key:2,onClick:t[30]||(t[30]=(...c)=>i.clearBoard&&i.clearBoard(...c))},[...t[63]||(t[63]=[Ke("i",null,"",-1)])])):Ur("",!0),a.editMode?(Dt(),Et("button",{key:3,onClick:t[31]||(t[31]=(...c)=>i.startPosition&&i.startPosition(...c))},[...t[64]||(t[64]=[Ke("i",null,"",-1)])])):Ur("",!0),ga(s,{class:"turn",modelValue:a.whiteOnTurn,"onUpdate:modelValue":t[32]||(t[32]=c=>a.whiteOnTurn=c),disabled:i.playMode,title:`${a.whiteOnTurn?"white":"black"} is on turn`},null,8,["modelValue","disabled","title"]),Ke("button",{onClick:t[33]||(t[33]=(...c)=>i.flipOrientation&&i.flipOrientation(...c)),title:"flip board"},[...t[65]||(t[65]=[Ke("i",null,"",-1)])]),ga(s,{class:"edit",content:"<i></i>",modelValue:a.editMode,"onUpdate:modelValue":t[34]||(t[34]=c=>a.editMode=c),title:"edit position"},null,8,["modelValue"]),ga(s,{class:"fullscreen",content:"<i></i>",modelValue:a.fullMode,"onUpdate:modelValue":t[35]||(t[35]=c=>a.fullMode=c)},null,8,["modelValue"])]),Ke("audio",{ref:"audioTa",src:a.audioTa},null,8,kne),Ke("audio",{ref:"audioUnsheathed",src:a.audioUnsheathed},null,8,One),Ke("audio",{ref:"audioDong",src:a.audioDong},null,8,Bne)],38)),[[h,i.onResize]])}const Zne=hh(ane,[["render",Nne],["__scopeId","data-v-4d181d08"]]);export{Zne as default};
