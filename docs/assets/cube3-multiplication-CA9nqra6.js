import{r as C}from"./vue-resize-directive-CDf_Yp3t.js";import{ac as h}from"./three.module-x1Cfo4R0.js";import{m as u}from"./delay-DTFr9Qec.js";import{i as v}from"./cubeObject-CTeWqh_v.js";import{C as p}from"./cube3-BnueevaP.js";import{C as z}from"./cube3-matrix-CyCVV239.js";import{_ as E,r as w,y as g,w as T,c as x,o as n,a as i,b as m,e as f,p as l,j as y}from"./router-JVv0ElFj.js";import"./cube-algebra-Cwll5vw1.js";import"./_commonjsHelpers-DM6icglO.js";import"./latin-letters-Cf9SrFGT.js";import"./greek-letters-D2RlIem_.js";const V={name:"cube3-multiplication",directives:{resize:C},components:{Cube3:p,Cube3Matrix:z},props:{demo:Boolean},data(){return{size:void 0,cubes:[]}},computed:{$cubes(){return[this.$refs.cube1,this.$refs.cube2,this.$refs.cube3]},cubeCanvasSize(){return this.size&&{width:this.size.width*.25,height:this.size.height*.4}}},async mounted(){if(this.demo){for(;!this.$refs.cube1||!this.$refs.cube1.cube||!this.$refs.cube2||!this.$refs.cube2.cube||!this.$refs.cube3||!this.$refs.cube3.cube;)await u(50);this.$refs.cube1.cube.graph.quaternion.setFromEuler(new h(Math.PI*.16,Math.PI*-.2,0)),this.$refs.cube2.cube.graph.quaternion.setFromEuler(new h(Math.PI*.16,Math.PI*-.2,0)),this.$refs.cube3.cube.graph.quaternion.setFromEuler(new h(Math.PI*.16,Math.PI*-.2,0)),await u(1e3),this.animate()}},methods:{onResize(){this.size={width:this.$el.clientWidth,height:this.$el.clientHeight}},forEachViewer(t){this.$cubes.forEach(e=>e&&t(e))},onMouseMove(t){this.forEachViewer(e=>e.onMouseMove(t))},onMouseDown(t){this.forEachViewer(e=>e.onMouseDown(t))},onMouseUp(t){this.forEachViewer(e=>e.onMouseUp(t))},onTouchStart(t){this.forEachViewer(e=>e.onTouchStart(t))},onTouchMove(t){this.forEachViewer(e=>e.onTouchMove(t))},onTouchEnd(t){this.forEachViewer(e=>e.onTouchEnd(t))},onCubeCreated(t,e){console.log("onCubeCreated:",t,e),this.cubes[t]=e.algebra},matrices(t){return[this.$refs.matrix1,this.$refs.matrix2,this.$refs.matrix3][t]},onCubeChanged(t){this.matrices(t)&&this.matrices(t).updateMatrix()},async animate(){for(this.animating=!0;this.animating;){const t=Math.floor(Math.random()*Math.random()*24+1),e=Array(t).fill().map(()=>Math.floor(Math.random()*12)),d=v(e);for(const r of e)this.$refs.cube2.cube.twist(r),await this.$refs.cube3.cube.twist(r),await u(600);await u(1e3);for(const r of d)this.$refs.cube2.cube.twist(r),await this.$refs.cube3.cube.twist(r),await u(600);await u(1e3);const a=Math.floor(Math.random()*12);this.$refs.cube1.cube.twist(a),await this.$refs.cube3.cube.twist(a),await u(1200)}}}},S={class:"cubes"},D={class:"formula"},I={class:"matrix"},P={class:"matrix"},U={class:"matrix"};function k(t,e,d,a,r,s){const c=w("Cube3"),b=w("Cube3Matrix"),M=g("resize");return T((n(),x("div",{class:"cube3-multiplication",onMousemove:e[6]||(e[6]=(...o)=>s.onMouseMove&&s.onMouseMove(...o)),onMousedown:e[7]||(e[7]=y((...o)=>s.onMouseDown&&s.onMouseDown(...o),["prevent"])),onMouseup:e[8]||(e[8]=(...o)=>s.onMouseUp&&s.onMouseUp(...o)),onTouchstart:e[9]||(e[9]=(...o)=>s.onTouchStart&&s.onTouchStart(...o)),onTouchmove:e[10]||(e[10]=(...o)=>s.onTouchMove&&s.onTouchMove(...o)),onTouchend:e[11]||(e[11]=(...o)=>s.onTouchEnd&&s.onTouchEnd(...o))},[i("div",S,[m(c,{ref:"cube1",size:s.cubeCanvasSize,onCubeCreated:e[0]||(e[0]=o=>s.onCubeCreated(0,o)),"onUpdate:code":e[1]||(e[1]=o=>s.onCubeChanged(0))},null,8,["size"]),e[12]||(e[12]=i("span",{class:"symbol"},"×",-1)),m(c,{ref:"cube2",size:s.cubeCanvasSize,onCubeCreated:e[2]||(e[2]=o=>s.onCubeCreated(1,o)),"onUpdate:code":e[3]||(e[3]=o=>s.onCubeChanged(1))},null,8,["size"]),e[13]||(e[13]=i("span",{class:"symbol"},"=",-1)),m(c,{ref:"cube3",size:s.cubeCanvasSize,onCubeCreated:e[4]||(e[4]=o=>s.onCubeCreated(2,o)),"onUpdate:code":e[5]||(e[5]=o=>s.onCubeChanged(2))},null,8,["size"])]),i("div",D,[i("div",I,[r.cubes[0]?(n(),f(b,{key:0,ref:"matrix1",cube:r.cubes[0]},null,8,["cube"])):l("",!0)]),e[14]||(e[14]=i("span",{class:"symbol"},"×",-1)),i("div",P,[r.cubes[1]?(n(),f(b,{key:0,ref:"matrix2",cube:r.cubes[1]},null,8,["cube"])):l("",!0)]),e[15]||(e[15]=i("span",{class:"symbol"},"=",-1)),i("div",U,[r.cubes[2]?(n(),f(b,{key:0,ref:"matrix3",cube:r.cubes[2]},null,8,["cube"])):l("",!0)])])],32)),[[M,s.onResize]])}const J=E(V,[["render",k],["__scopeId","data-v-3fd2902d"]]);export{J as default};
