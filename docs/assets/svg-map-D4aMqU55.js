import{_ as o,c as r,o as n,a as v,E as a}from"./router-JVv0ElFj.js";const d={name:"svg-map",props:{width:Number,height:Number,initViewCenter:{type:Object,default:()=>({x:0,y:0})},initViewWidth:{type:Number,default:()=>1}},data(){const e=this.aspect||1;return{viewCenter:this.initViewCenter,viewSize:{width:this.initViewWidth,height:this.initViewWidth/e},viewScale:1}},computed:{viewBox(){return{left:-this.viewSize.width/2,top:-this.viewSize.height/2,width:this.viewSize.width,height:this.viewSize.height}},aspect(){return!this.width||!this.height?1:this.width/this.height}},mounted(){this.viewSize.height=this.initViewWidth/this.aspect},methods:{onMouseMove(e){switch(e.buttons){case 1:const i=this.viewBox.width/(this.width*this.viewScale);this.viewCenter.x-=e.movementX*i,this.viewCenter.y-=e.movementY*i,this.$emit("update:viewCenter",this.viewCenter);break}this.$emit("mousemove",e)},onMouseWheel(e){this.viewScale*=Math.exp(e.deltaY*-.001),this.$emit("update:viewScale",this.viewScale)},clientToView(e){return{x:(e.x*this.viewBox.width/this.width+this.viewBox.left)/this.viewScale+this.viewCenter.x,y:(e.y*this.viewBox.height/this.height+this.viewBox.top)/this.viewScale+this.viewCenter.y}}}},c=["width","height","viewBox"],l=["transform"];function u(e,i,w,m,h,t){return n(),r("svg",{width:w.width,height:w.height,viewBox:`${t.viewBox.left} ${t.viewBox.top} ${t.viewBox.width} ${t.viewBox.height}`,onMousemove:i[0]||(i[0]=(...s)=>t.onMouseMove&&t.onMouseMove(...s)),onMousewheel:i[1]||(i[1]=(...s)=>t.onMouseWheel&&t.onMouseWheel(...s))},[v("g",{transform:`scale(${h.viewScale}) translate(${-h.viewCenter.x}, ${-h.viewCenter.y})`},[a(e.$slots,"default")],8,l)],40,c)}const g=o(d,[["render",u]]);export{g as S};
