(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d9f9"],{d1a7:function(e,r){(function(){"use strict";var e=window["jQuery"],r="abcdefgh".split(""),n=20,o="â€¦",t="1.8.3",a=!1,s="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",i=K(s),p=200,c=200,u=60,l=30,f=100,d={};function h(e,r,n){var o=0,t=!1,a=[],s=function(){o=0,t&&(t=!1,i())},i=function(){o=window.setTimeout(s,r),e.apply(n,a)};return function(e){a=arguments,o?t=!0:i()}}function v(){return"xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx".replace(/x/g,(function(e){var r=16*Math.random()|0;return r.toString(16)}))}function g(e){return JSON.parse(JSON.stringify(e))}function P(e){var r=e.split(".");return{major:parseInt(r[0],10),minor:parseInt(r[1],10),patch:parseInt(r[2],10)}}function b(e,r){e=P(e),r=P(r);var n=1e5*e.major*1e5+1e5*e.minor+e.patch,o=1e5*r.major*1e5+1e5*r.minor+r.patch;return n>=o}function w(e,r){for(var n in r)if(r.hasOwnProperty(n)){var o="{"+n+"}",t=r[n];while(-1!==e.indexOf(o))e=e.replace(o,t)}return e}function m(e){return"string"===typeof e}function y(e){return"function"===typeof e}function x(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}function O(e){return"fast"===e||"slow"===e||!!x(e)&&e>=0}function k(e){return x(e)&&e>=1}function q(e){if(!m(e))return!1;var r=e.split("-");return 2===r.length&&(S(r[0])&&S(r[1]))}function S(e){return m(e)&&-1!==e.search(/^[a-h][1-8]$/)}function T(e){return m(e)&&-1!==e.search(/^[bw][KQRNBP]$/)}function B(e){if(!m(e))return!1;e=e.replace(/ .+$/,""),e=D(e);var r=e.split("/");if(8!==r.length)return!1;for(var n=0;n<8;n++)if(8!==r[n].length||-1!==r[n].search(/[^kqrnbpKQRNBP1]/))return!1;return!0}function E(r){if(!e.isPlainObject(r))return!1;for(var n in r)if(r.hasOwnProperty(n)&&(!S(n)||!T(r[n])))return!1;return!0}function C(){return"ontouchstart"in document.documentElement}function N(){return typeof window.$&&e.fn&&e.fn.jquery&&b(e.fn.jquery,t)}function R(e){return e.toLowerCase()===e?"b"+e.toUpperCase():"w"+e.toUpperCase()}function I(e){var r=e.split("");return"w"===r[0]?r[1].toUpperCase():r[1].toLowerCase()}function K(e){if(!B(e))return!1;e=e.replace(/ .+$/,"");for(var n=e.split("/"),o={},t=8,a=0;a<8;a++){for(var s=n[a].split(""),i=0,p=0;p<s.length;p++)if(-1!==s[p].search(/[1-8]/)){var c=parseInt(s[p],10);i+=c}else{var u=r[i]+t;o[u]=R(s[p]),i+=1}t-=1}return o}function M(e){if(!E(e))return!1;for(var n="",o=8,t=0;t<8;t++){for(var a=0;a<8;a++){var s=r[a]+o;e.hasOwnProperty(s)?n+=I(e[s]):n+="1"}7!==t&&(n+="/"),o-=1}return n=j(n),n}function j(e){return e.replace(/11111111/g,"8").replace(/1111111/g,"7").replace(/111111/g,"6").replace(/11111/g,"5").replace(/1111/g,"4").replace(/111/g,"3").replace(/11/g,"2")}function D(e){return e.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Q(e,n){var o=e.split(""),t=r.indexOf(o[0])+1,a=parseInt(o[1],10),s=n.split(""),i=r.indexOf(s[0])+1,p=parseInt(s[1],10),c=Math.abs(t-i),u=Math.abs(a-p);return c>=u?c:u}function X(e,r,n){for(var o=Y(n),t=0;t<o.length;t++){var a=o[t];if(e.hasOwnProperty(a)&&e[a]===r)return a}return!1}function Y(e){for(var n=[],o=0;o<8;o++)for(var t=0;t<8;t++){var a=r[o]+(t+1);e!==a&&n.push({square:a,distance:Q(e,a)})}n.sort((function(e,r){return e.distance-r.distance}));var s=[];for(o=0;o<n.length;o++)s.push(n[o].square);return s}function L(e,r){var n=g(e);for(var o in r)if(r.hasOwnProperty(o)&&n.hasOwnProperty(o)){var t=n[o];delete n[o],n[r[o]]=t}return n}function J(e){var r='<div class="{chessboard}">';return e&&(r+='<div class="{sparePieces} {sparePiecesTop}"></div>'),r+='<div class="{board}"></div>',e&&(r+='<div class="{sparePieces} {sparePiecesBottom}"></div>'),r+="</div>",w(r,d)}function U(r){return"start"===r?r={position:g(i)}:B(r)?r={position:K(r)}:E(r)&&(r={position:g(r)}),e.isPlainObject(r)||(r={}),r}function $(e){return"black"!==e.orientation&&(e.orientation="white"),!1!==e.showNotation&&(e.showNotation=!0),!0!==e.draggable&&(e.draggable=!1),"trash"!==e.dropOffBoard&&(e.dropOffBoard="snapback"),!0!==e.sparePieces&&(e.sparePieces=!1),e.sparePieces&&(e.draggable=!0),e.hasOwnProperty("pieceTheme")&&(m(e.pieceTheme)||y(e.pieceTheme))||(e.pieceTheme="img/chesspieces/wikipedia/{piece}.png"),O(e.appearSpeed)||(e.appearSpeed=p),O(e.moveSpeed)||(e.moveSpeed=c),O(e.snapbackSpeed)||(e.snapbackSpeed=u),O(e.snapSpeed)||(e.snapSpeed=l),O(e.trashSpeed)||(e.trashSpeed=f),k(e.dragThrottleRate)||(e.dragThrottleRate=n),e}function z(){if(!N()){var e="Chessboard Error 1005: Unable to find a valid version of jQuery. Please include jQuery "+t+" or higher on the page\n\nExiting"+o;return window.alert(e),!1}return!0}function W(r){if(""===r){var n="Chessboard Error 1001: The first argument to Chessboard() cannot be an empty string.\n\nExiting"+o;return window.alert(n),!1}m(r)&&"#"!==r.charAt(0)&&(r="#"+r);var t=e(r);if(1!==t.length){var a="Chessboard Error 1003: The first argument to Chessboard() must be the ID of a DOM node, an ID query selector, or a single DOM node.\n\nExiting"+o;return window.alert(a),!1}return t}function F(n,o){if(!z())return null;var t=W(n);if(!t)return null;o=U(o),o=$(o);var a=null,s=null,p=null,c=null,u={},l=2,f="white",P={},b=null,x=null,O=null,k=!1,T={},N={},R={},I=16;function j(e,r,n){if(!0===o.hasOwnProperty("showErrors")&&!1!==o.showErrors){var t="Chessboard Error "+e+": "+r;return"console"===o.showErrors&&"object"===typeof console&&"function"===typeof console.log?(console.log(t),void(arguments.length>=2&&console.log(n))):"alert"===o.showErrors?(n&&(t+="\n\n"+JSON.stringify(n)),void window.alert(t)):void(y(o.showErrors)&&o.showErrors(e,r,n))}}function D(){f=o.orientation,o.hasOwnProperty("position")&&("start"===o.position?P=g(i):B(o.position)?P=K(o.position):E(o.position)?P=g(o.position):j(7263,"Invalid value passed to config.position.",o.position))}function Q(){var e=parseInt(t.width(),10);if(!e||e<=0)return 0;var r=e-1;while(r%8!==0&&r>0)r-=1;return r/8}function Y(){for(var e=0;e<r.length;e++)for(var n=1;n<=8;n++){var o=r[e]+n;N[o]=o+"-"+v()}var t="KQRNBP".split("");for(e=0;e<t.length;e++){var a="w"+t[e],s="b"+t[e];T[a]=a+"-"+v(),T[s]=s+"-"+v()}}function F(e){"black"!==e&&(e="white");var n="",t=g(r),a=8;"black"===e&&(t.reverse(),a=1);for(var s="white",i=0;i<8;i++){n+='<div class="{row}">';for(var p=0;p<8;p++){var c=t[p]+a;n+='<div class="{square} '+d[s]+" square-"+c+'" style="width:'+I+"px;height:"+I+'px;" id="'+N[c]+'" data-square="'+c+'">',o.showNotation&&(("white"===e&&1===a||"black"===e&&8===a)&&(n+='<div class="{notation} {alpha}">'+t[p]+"</div>"),0===p&&(n+='<div class="{notation} {numeric}">'+a+"</div>")),n+="</div>",s="white"===s?"black":"white"}n+='<div class="{clearfix}"></div></div>',s="white"===s?"black":"white","white"===e?a-=1:a+=1}return w(n,d)}function A(e){return y(o.pieceTheme)?o.pieceTheme(e):m(o.pieceTheme)?w(o.pieceTheme,{piece:e}):(j(8272,"Unable to build image source for config.pieceTheme."),"")}function G(e,r,n){var o='<img src="'+A(e)+'" ';return m(n)&&""!==n&&(o+='id="'+n+'" '),o+='alt="" class="{piece}" data-piece="'+e+'" style="width:'+I+"px;height:"+I+"px;",r&&(o+="display:none;"),o+='" />',w(o,d)}function H(e){var r=["wK","wQ","wR","wB","wN","wP"];"black"===e&&(r=["bK","bQ","bR","bB","bN","bP"]);for(var n="",o=0;o<r.length;o++)n+=G(r[o],!1,T[r[o]]);return n}function V(r,n,t,a){var s=e("#"+N[r]),i=s.offset(),p=e("#"+N[n]),c=p.offset(),u=v();e("body").append(G(t,!0,u));var l=e("#"+u);function f(){p.append(G(t)),l.remove(),y(a)&&a()}l.css({display:"",position:"absolute",top:i.top,left:i.left}),s.find("."+d.piece).remove();var h={duration:o.moveSpeed,complete:f};l.animate(c,h)}function Z(r,n,t){var a=e("#"+T[r]).offset(),s=e("#"+N[n]),i=s.offset(),p=v();e("body").append(G(r,!0,p));var c=e("#"+p);function u(){s.find("."+d.piece).remove(),s.append(G(r)),c.remove(),y(t)&&t()}c.css({display:"",position:"absolute",left:a.left,top:a.top});var l={duration:o.moveSpeed,complete:u};c.animate(i,l)}function _(r,n,t){if(0!==r.length)for(var a=0,s=0;s<r.length;s++){var i=r[s];"clear"===i.type?e("#"+N[i.square]+" ."+d.piece).fadeOut(o.trashSpeed,p):"add"!==i.type||o.sparePieces?"add"===i.type&&o.sparePieces?Z(i.piece,i.square,p):"move"===i.type&&V(i.source,i.destination,i.piece,p):e("#"+N[i.square]).append(G(i.piece,!0)).find("."+d.piece).fadeIn(o.appearSpeed,p)}function p(){a+=1,a===r.length&&(re(),y(o.onMoveEnd)&&o.onMoveEnd(g(n),g(t)))}}function ee(e,r){e=g(e),r=g(r);var n=[],o={};for(var t in r)r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&e[t]===r[t]&&(delete e[t],delete r[t]);for(t in r)if(r.hasOwnProperty(t)){var a=X(e,r[t],t);a&&(n.push({type:"move",source:a,destination:t,piece:r[t]}),delete e[a],delete r[t],o[t]=!0)}for(t in r)r.hasOwnProperty(t)&&(n.push({type:"add",square:t,piece:r[t]}),delete r[t]);for(t in e)e.hasOwnProperty(t)&&(o.hasOwnProperty(t)||(n.push({type:"clear",square:t,piece:e[t]}),delete e[t]));return n}function re(){for(var r in a.find("."+d.piece).remove(),P)P.hasOwnProperty(r)&&e("#"+N[r]).append(G(P[r]))}function ne(){a.html(F(f,I,o.showNotation)),re(),o.sparePieces&&("white"===f?(p.html(H("black")),c.html(H("white"))):(p.html(H("white")),c.html(H("black"))))}function oe(e){var r=g(P),n=g(e),t=M(r),a=M(n);t!==a&&(y(o.onChange)&&o.onChange(r,n),P=e)}function te(e,r){for(var n in R)if(R.hasOwnProperty(n)){var o=R[n];if(e>=o.left&&e<o.left+I&&r>=o.top&&r<o.top+I)return n}return"offboard"}function ae(){for(var r in R={},N)N.hasOwnProperty(r)&&(R[r]=e("#"+N[r]).offset())}function se(){a.find("."+d.square).removeClass(d.highlight1+" "+d.highlight2)}function ie(){if("spare"!==O){se();var r=e("#"+N[O]).offset(),n={duration:o.snapbackSpeed,complete:t};s.animate(r,n),k=!1}else pe();function t(){re(),s.css("display","none"),y(o.onSnapbackEnd)&&o.onSnapbackEnd(b,O,g(P),f)}}function pe(){se();var e=g(P);delete e[O],oe(e),re(),s.fadeOut(o.trashSpeed),k=!1}function ce(r){se();var n=g(P);delete n[O],n[r]=b,oe(n);var t=e("#"+N[r]).offset();function a(){re(),s.css("display","none"),y(o.onSnapEnd)&&o.onSnapEnd(O,r,b)}var i={duration:o.snapSpeed,complete:a};s.animate(t,i),k=!1}function ue(r,n,t,a){y(o.onDragStart)&&!1===o.onDragStart(r,n,g(P),f)||(k=!0,b=n,O=r,x="spare"===r?"offboard":r,ae(),s.attr("src",A(n)).css({display:"",position:"absolute",left:t-I/2,top:a-I/2}),"spare"!==r&&e("#"+N[r]).addClass(d.highlight1).find("."+d.piece).css("display","none"))}function le(r,n){s.css({left:r-I/2,top:n-I/2});var t=te(r,n);t!==x&&(S(x)&&e("#"+N[x]).removeClass(d.highlight2),S(t)&&e("#"+N[t]).addClass(d.highlight2),y(o.onDragMove)&&o.onDragMove(t,x,O,b,g(P),f),x=t)}function fe(e){var r="drop";if("offboard"===e&&"snapback"===o.dropOffBoard&&(r="snapback"),"offboard"===e&&"trash"===o.dropOffBoard&&(r="trash"),y(o.onDrop)){var n=g(P);"spare"===O&&S(e)&&(n[e]=b),S(O)&&"offboard"===e&&delete n[O],S(O)&&S(e)&&(delete n[O],n[e]=b);var t=g(P),a=o.onDrop(O,e,b,n,t,f);"snapback"!==a&&"trash"!==a||(r=a)}"snapback"===r?ie():"trash"===r?pe():"drop"===r&&ce(e)}function de(e){e.preventDefault()}function he(r){if(o.draggable){var n=e(this).attr("data-square");S(n)&&P.hasOwnProperty(n)&&ue(n,P[n],r.pageX,r.pageY)}}function ve(r){if(o.draggable){var n=e(this).attr("data-square");S(n)&&P.hasOwnProperty(n)&&(r=r.originalEvent,ue(n,P[n],r.changedTouches[0].pageX,r.changedTouches[0].pageY))}}function ge(r){if(o.sparePieces){var n=e(this).attr("data-piece");ue("spare",n,r.pageX,r.pageY)}}function Pe(r){if(o.sparePieces){var n=e(this).attr("data-piece");r=r.originalEvent,ue("spare",n,r.changedTouches[0].pageX,r.changedTouches[0].pageY)}}function be(e){k&&le(e.pageX,e.pageY)}u.clear=function(e){u.position({},e)},u.destroy=function(){t.html(""),s.remove(),t.unbind()},u.fen=function(){return u.position("fen")},u.flip=function(){return u.orientation("flip")},u.move=function(){if(0!==arguments.length){for(var e=!0,r={},n=0;n<arguments.length;n++)if(!1!==arguments[n])if(q(arguments[n])){var o=arguments[n].split("-");r[o[0]]=o[1]}else j(2826,"Invalid move passed to the move method.",arguments[n]);else e=!1;var t=L(P,r);return u.position(t,e),t}},u.orientation=function(e){return 0===arguments.length?f:"white"===e||"black"===e?(f=e,ne(),f):"flip"===e?(f="white"===f?"black":"white",ne(),f):void j(5482,"Invalid value passed to the orientation method.",e)},u.position=function(e,r){if(0===arguments.length)return g(P);if(m(e)&&"fen"===e.toLowerCase())return M(P);if(m(e)&&"start"===e.toLowerCase()&&(e=g(i)),B(e)&&(e=K(e)),E(e))if(!1!==r&&(r=!0),r){var n=ee(P,e);_(n,P,e),oe(e)}else oe(e),re();else j(6482,"Invalid value passed to the position method.",e)},u.resize=function(){I=Q(),a.css("width",8*I+"px"),s.css({height:I,width:I}),o.sparePieces&&t.find("."+d.sparePieces).css("paddingLeft",I+l+"px"),ne()},u.start=function(e){u.position("start",e)};var we=h(be,o.dragThrottleRate);function me(e){k&&(e.preventDefault(),le(e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0].pageY))}var ye=h(me,o.dragThrottleRate);function xe(e){if(k){var r=te(e.pageX,e.pageY);fe(r)}}function Oe(e){if(k){var r=te(e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0].pageY);fe(r)}}function ke(r){if(!k&&y(o.onMouseoverSquare)){var n=e(r.currentTarget).attr("data-square");if(S(n)){var t=!1;P.hasOwnProperty(n)&&(t=P[n]),o.onMouseoverSquare(n,t,g(P),f)}}}function qe(r){if(!k&&y(o.onMouseoutSquare)){var n=e(r.currentTarget).attr("data-square");if(S(n)){var t=!1;P.hasOwnProperty(n)&&(t=P[n]),o.onMouseoutSquare(n,t,g(P),f)}}}function Se(){e("body").on("mousedown mousemove","."+d.piece,de),a.on("mousedown","."+d.square,he),t.on("mousedown","."+d.sparePieces+" ."+d.piece,ge),a.on("mouseenter","."+d.square,ke).on("mouseleave","."+d.square,qe);var r=e(window);r.on("mousemove",we).on("mouseup",xe),C()&&(a.on("touchstart","."+d.square,ve),t.on("touchstart","."+d.sparePieces+" ."+d.piece,Pe),r.on("touchmove",ye).on("touchend",Oe))}function Te(){Y(),t.html(J(o.sparePieces)),a=t.find("."+d.board),o.sparePieces&&(p=t.find("."+d.sparePiecesTop),c=t.find("."+d.sparePiecesBottom));var r=v();e("body").append(G("wP",!0,r)),s=e("#"+r),l=parseInt(a.css("borderLeftWidth"),10),u.resize()}return D(),Te(),Se(),u}d["alpha"]="alpha-d2270",d["black"]="black-3c85d",d["board"]="board-b72b1",d["chessboard"]="chessboard-63f37",d["clearfix"]="clearfix-7da63",d["highlight1"]="highlight1-32417",d["highlight2"]="highlight2-9c5d2",d["notation"]="notation-322f9",d["numeric"]="numeric-fc462",d["piece"]="piece-417db",d["row"]="row-5277c",d["sparePieces"]="spare-pieces-7492f",d["sparePiecesBottom"]="spare-pieces-bottom-ae20f",d["sparePiecesTop"]="spare-pieces-top-4028b",d["square"]="square-55d63",d["white"]="white-1e1d7",a&&(console.assert("abc"===w("abc",{a:"x"})),console.assert("{a}bc"===w("{a}bc",{})),console.assert("{a}bc"===w("{a}bc",{p:"q"})),console.assert("xbc"===w("{a}bc",{a:"x"})),console.assert("xbcxbc"===w("{a}bc{a}bc",{a:"x"})),console.assert("xxy"===w("{a}{a}{b}",{a:"x",b:"y"}))),a&&(console.assert(S("a1")),console.assert(S("e2")),console.assert(!S("D2")),console.assert(!S("g9")),console.assert(!S("a")),console.assert(!S(!0)),console.assert(!S(null)),console.assert(!S({}))),a&&(console.assert(T("bP")),console.assert(T("bK")),console.assert(T("wK")),console.assert(T("wR")),console.assert(!T("WR")),console.assert(!T("Wr")),console.assert(!T("a")),console.assert(!T(!0)),console.assert(!T(null)),console.assert(!T({}))),a&&(console.assert(B(s)),console.assert(B("8/8/8/8/8/8/8/8")),console.assert(B("r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R")),console.assert(B("3r3r/1p4pp/2nb1k2/pP3p2/8/PB2PN2/p4PPP/R4RK1 b - - 0 1")),console.assert(!B("3r3z/1p4pp/2nb1k2/pP3p2/8/PB2PN2/p4PPP/R4RK1 b - - 0 1")),console.assert(!B("anbqkbnr/8/8/8/8/8/PPPPPPPP/8")),console.assert(!B("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/")),console.assert(!B("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBN")),console.assert(!B("888888/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR")),console.assert(!B("888888/pppppppp/74/8/8/8/PPPPPPPP/RNBQKBNR")),console.assert(!B({}))),a&&(console.assert(E(i)),console.assert(E({})),console.assert(E({e2:"wP"})),console.assert(E({e2:"wP",d2:"wP"})),console.assert(!E({e2:"BP"})),console.assert(!E({y2:"wP"})),console.assert(!E(null)),console.assert(!E("start")),console.assert(!E(s))),a&&(console.assert(M(i)===s),console.assert("8/8/8/8/8/8/8/8"===M({})),console.assert("8/8/8/8/8/8/Pp6/8"===M({a2:"wP",b2:"bP"}))),window["Chessboard"]=F,window["ChessBoard"]=window["Chessboard"],window["Chessboard"]["fenToObj"]=K,window["Chessboard"]["objToFen"]=M})()}}]);
//# sourceMappingURL=chunk-2d21d9f9.bb3064b3.js.map