(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fifth-pitch-graph"],{1349:function(e,t,s){},"4abf":function(e,t,s){"use strict";var i=s("1349"),a=s.n(i);a.a},ab92:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{attrs:{width:e.width,height:e.height,viewBox:e.viewBox.left+" "+e.viewBox.top+" "+e.viewBox.width+" "+e.viewBox.height},on:{mousemove:e.onMouseMove,mousewheel:e.onMouseWheel}},[s("g",{attrs:{transform:"scale("+e.viewScale+") translate("+-e.viewCenter.x+", "+-e.viewCenter.y+")"}},[e._t("default")],2)])},a=[],n={name:"svg-map",props:{width:Number,height:Number,initViewCenter:{type:Object,default:()=>({x:0,y:0})},initViewWidth:{type:Number,default:()=>1}},data(){const e=this.aspect||1;return{viewCenter:this.initViewCenter,viewSize:{width:this.initViewWidth,height:this.initViewWidth/e},viewScale:1}},computed:{viewBox(){return{left:-this.viewSize.width/2,top:-this.viewSize.height/2,width:this.viewSize.width,height:this.viewSize.height}},aspect(){return this.width&&this.height?this.width/this.height:1}},mounted(){this.viewSize.height=this.initViewWidth/this.aspect},methods:{onMouseMove(e){switch(e.buttons){case 1:const t=this.viewBox.width/(this.width*this.viewScale);this.viewCenter.x-=e.movementX*t,this.viewCenter.y-=e.movementY*t,this.$emit("update:viewCenter",this.viewCenter);break}this.$emit("mousemove",e)},onMouseWheel(e){this.viewScale*=Math.exp(-.001*e.deltaY),this.$emit("update:viewScale",this.viewScale)},clientToView(e){return{x:(e.x*this.viewBox.width/this.width+this.viewBox.left)/this.viewScale+this.viewCenter.x,y:(e.y*this.viewBox.height/this.height+this.viewBox.top)/this.viewScale+this.viewCenter.y}}}},o=n,h=s("0c7c"),r=Object(h["a"])(o,i,a,!1,null,null,null);t["a"]=r.exports},ba07:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fifth-pitch-graph"},[s("SvgMap",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"svg-map",attrs:{width:e.size.width,height:e.size.height,initViewWidth:20}},[s("g",{staticClass:"axes"},[s("line",{attrs:{x1:-100,x2:100,y1:0,y2:0}}),s("line",{attrs:{y1:-100,y2:100,x1:0,x2:0}})]),s("g",{directives:[{name:"show",rawName:"v-show",value:e.showBand,expression:"showBand"}],staticClass:"band"},[s("path",{staticClass:"bg",attrs:{d:"M-100 "+100*e.CONTOUR_SLOPE+" L100 "+-100*e.CONTOUR_SLOPE+" L101 "+-100*e.CONTOUR_SLOPE+" L-99 "+100*e.CONTOUR_SLOPE+" Z"}}),s("line",{staticClass:"contour-1",attrs:{x1:-100,y1:100*e.CONTOUR_SLOPE,x2:100,y2:-100*e.CONTOUR_SLOPE}}),s("line",{staticClass:"contour-2",attrs:{x1:-99,y1:100*e.CONTOUR_SLOPE,x2:101,y2:-100*e.CONTOUR_SLOPE}})]),s("g",{staticClass:"points"},e._l(e.points,(function(t){return s("g",{key:"point-"+t.m+"-"+t.n,class:{emphasize:e.showBand&&t.onBand},attrs:{transform:"translate("+t.m+", "+-t.n+")"}},[s("circle",{staticClass:"dot",class:{axis:0==t.m||0==t.n,step:e.showSteps&&t.onBand&&Math.abs(t.n)<=6}}),t.label?s("text",{directives:[{name:"show",rawName:"v-show",value:e.showPointLabels,expression:"showPointLabels"}],staticClass:"label",attrs:{"font-size":e.showBand&&t.onBand?.24:.16,transform:"translate("+(0==t.m?.14:0)+", -0.1)"}},[e._v(e._s(t.label))]):e._e(),s("title",[e._v("n: "+e._s(t.n)+", m: "+e._s(t.m))])])})),0),s("g",{directives:[{name:"show",rawName:"v-show",value:e.showSteps,expression:"showSteps"}],staticClass:"steps"},[e._l(e.steps,(function(t){return s("line",{key:"step-line-"+t.n,attrs:{x1:-100+t.m,y1:100*e.CONTOUR_SLOPE-t.n,x2:100+t.m,y2:-100*e.CONTOUR_SLOPE-t.n}})})),e._l(e.steps,(function(t){return s("text",{key:"step-text-"+t.n,attrs:{transform:"translate("+(t.m-.2)+", "+(.4-t.n)+")","font-size":.4}},[e._v(e._s(t.name))])}))],2)]),s("header",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showPointLabels,expression:"showPointLabels"}],attrs:{type:"checkbox",title:"show point labels"},domProps:{checked:Array.isArray(e.showPointLabels)?e._i(e.showPointLabels,null)>-1:e.showPointLabels},on:{change:function(t){var s=e.showPointLabels,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=null,o=e._i(s,n);i.checked?o<0&&(e.showPointLabels=s.concat([n])):o>-1&&(e.showPointLabels=s.slice(0,o).concat(s.slice(o+1)))}else e.showPointLabels=a}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.showBand,expression:"showBand"}],attrs:{type:"checkbox",title:"show band"},domProps:{checked:Array.isArray(e.showBand)?e._i(e.showBand,null)>-1:e.showBand},on:{change:function(t){var s=e.showBand,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=null,o=e._i(s,n);i.checked?o<0&&(e.showBand=s.concat([n])):o>-1&&(e.showBand=s.slice(0,o).concat(s.slice(o+1)))}else e.showBand=a}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.showSteps,expression:"showSteps"}],attrs:{type:"checkbox",title:"show steps"},domProps:{checked:Array.isArray(e.showSteps)?e._i(e.showSteps,null)>-1:e.showSteps},on:{change:function(t){var s=e.showSteps,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=null,o=e._i(s,n);i.checked?o<0&&(e.showSteps=s.concat([n])):o>-1&&(e.showSteps=s.slice(0,o).concat(s.slice(o+1)))}else e.showSteps=a}}})]),s("div",{staticClass:"formations"},[s("div",{staticClass:"inner"},[s("p",{directives:[{name:"show",rawName:"v-show",value:e.showPointLabels,expression:"showPointLabels"}]},[e._v(" f(m, n) = 2"),s("sup",[e._v("m")]),e._v(" × 3"),s("sup",[e._v("n")])]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.showBand,expression:"showBand"}]},[e._v(" Band: 1 ≤ f < 2 ")])])])])],1)},a=[],n=s("428d"),o=s.n(n),h=s("ab92");const r=-Math.log(2)/Math.log(3);var l={name:"fifth-pitch-graph",directives:{resize:o.a},components:{SvgMap:h["a"]},data(){return{size:{},points:[].concat(...Array(60).fill().map((e,t)=>Array(60).fill().map((e,s)=>({m:t-30,n:s-30})).map(({m:e,n:t})=>({m:e,n:t,value:2**e*3**t})).map(({m:e,n:t,value:s})=>({m:e,n:t,label:this.pointLabel(e,t),onBand:s>=1&&s<2})))),CONTOUR_SLOPE:r,steps:[{m:0,n:0,name:"C"},{m:-1,n:1,name:"G"},{m:-3,n:2,name:"D"},{m:-4,n:3,name:"A"},{m:-6,n:4,name:"E"},{m:-7,n:5,name:"B"},{m:-9,n:6,name:"♯F"},{m:2,n:-1,name:"F"},{m:4,n:-2,name:"♭B"},{m:5,n:-3,name:"♭E"},{m:7,n:-4,name:"♭A"},{m:8,n:-5,name:"♭D"},{m:10,n:-6,name:"♭G"}],showPointLabels:!1,showBand:!1,showSteps:!1}},mounted(){},methods:{onResize(){this.size={width:this.$el.clientWidth,height:this.$el.clientHeight}},pointLabel(e,t){return Math.abs(e)>19||Math.abs(t)>12?null:Math.max(Math.abs(e),Math.abs(t))>9?(2**e*3**t).toPrecision(4):e>=0&&t>=0?2**e*3**t:e<0&&t<0?`1 / ${2**-e*3**-t}`:e<0?`${3**t} / ${2**-e}`:`${2**e} / ${3**-t}`}}},w=l,c=(s("4abf"),s("0c7c")),m=Object(c["a"])(w,i,a,!1,null,"c55d8de4",null);t["default"]=m.exports}}]);
//# sourceMappingURL=fifth-pitch-graph.0f3c5bcf.js.map