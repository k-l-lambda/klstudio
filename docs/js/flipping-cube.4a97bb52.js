(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["flipping-cube"],{"12a8":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r}));const i=["&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;"],s=i,r=[0,4,5,6,7,8,9,1,2,3,10,14,20,11,15,21,12,16,22,13,17,23,18,19]},"2bbb":function(t,e,n){"use strict";var i=n("6e95"),s=n.n(i);s.a},3017:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("MeshViewer",t._b({ref:"viewer",staticClass:"flipping-cube",on:{sceneReady:t.onSceneReady}},"MeshViewer",t.param,!1))},s=[],r=n("5a89"),a=n("12a8"),o=n("819c"),u=n("5027"),c=n("dc0d");const h=o["l"].map(t=>t.toQuaternion());var l={name:"flipping-cube",components:{MeshViewer:c["default"]},props:{demo:Boolean},data(){return{orientation:0,target:0,randomFlipping:!1}},computed:{param(){return{entities:[{name:"cube",label:a["a"][a["b"][this.orientation]],labelOffset:[0,0,0],euler:[0,-Math.PI/2,0],prototype:"cube.gltf"},{prototype:"coordinate-frame.gltf",position:[-3.6,-2,-1],scale:[.4,.4,.4]}],cameraInit:{radius:6,theta:-.12*Math.PI,phi:-.08*Math.PI}}}},methods:{flip(t){return this.flipTo(o["k"][t][this.orientation])},async flipTo(t){const e=30,n=new r["sb"](...h[t]),i=new r["sb"](...h[this.orientation]);this.target=t;for(let s=0;s<e;++s){const t=s/e,a=3*t**2-2*t**3;r["sb"].slerp(i,n,this.cube.quaternion,a),await Object(u["a"])()}this.orientation=t},async randomFlip(){this.randomFlipping=!0;while(this.randomFlipping)await this.flip(Math.floor(6*Math.random())+1),await Object(u["b"])(800)},onSceneReady(){this.cube=this.$refs.viewer.scene.children.find(t=>"cube"===t.name),console.assert(this.cube,"cube not found"),this.demo&&this.randomFlip()}},watch:{orientation(){this.$refs.viewer.labels[0].content=a["a"][a["b"][this.orientation]]}}},p=l,m=(n("2bbb"),n("0c7c")),d=Object(m["a"])(p,i,s,!1,null,null,null);e["default"]=d.exports},"6e95":function(t,e,n){},"819c":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return p})),n.d(e,"g",(function(){return m})),n.d(e,"f",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"j",(function(){return b})),n.d(e,"i",(function(){return w})),n.d(e,"l",(function(){return g})),n.d(e,"k",(function(){return k})),n.d(e,"a",(function(){return y}));const i=0,s=1,r=2,a=([t,e,n,i],[s,r,a,o])=>[o*t+s*i+r*n-a*e,o*e-s*n+r*i+a*t,o*n+s*e-r*t+a*i,o*i-s*t-r*e-a*n];class o{constructor(t,e){this.unit=t,this.exponent=e}toString(){let t;switch(this.exponent){case 0:return"";case-1:t="'";break;case 1:t="";break;default:t=this.exponent.toString();break}return"ijk"[this.unit]+t}toQuaternion(){const t=[0,0,0];t[this.unit]=1;const e=.5*-Math.PI*this.exponent,n=Math.sin(e/2),i=Math.cos(e/2);return[t[0]*n,t[1]*n,t[2]*n,i]}normalized(){let t=this.exponent%4;switch(t){case 3:t=-1;break;case-3:t=1;break;case-2:t=2;break}return t===this.exponent?this:new o(this.unit,t)}inverted(){return new o(this.unit,-this.exponent)}mul(t){return console.assert(this.unit===t.unit),new o(this.unit,this.exponent+t.exponent)}static supplementaryUnit(t,e){return 3-t.unit-e.unit}static sqauredReduce(t,e){return 2===t.exponent&&2===e.exponent?[new o(this.supplementaryUnit(t,e),2)]:2===e.exponent&&e.unit===r&&t.unit===i?[t.inverted(),d]:null}static exchangeReduce(t,e){if(t.unit===i)return null;if(t.unit===e.unit)return null;const n=(e.unit-t.unit+3)%3===1,a=n?s:r,u=t.exponent*e.exponent*(n?1:-1),c=o.supplementaryUnit(t,e),h=new o(c,u),l=[t,e,h].reduce((t,e)=>(t[e.unit]=e.exponent,t),[]);return[new o(i,l[i]),new o(a,l[a])]}}class u{constructor(t=[]){this.items=t}toString(){return this.items.length?this.items.map(t=>t.toString()).join(""):"1"}toQuaternion(){return this.items.reduce((t,e)=>a(t,e.toQuaternion()),[0,0,0,1])}normalize(){this.items=this.items.map(t=>t.normalized());for(let t=0;t<this.items.length;++t)if(2===this.items[t].exponent){const e=new o(this.items[t].unit,1);this.items.splice(t,1,e,e),++t}while(1){let t=null;for(let e=1;e<this.items.length;++e)if(t=o.exchangeReduce(this.items[e-1],this.items[e]),t){this.items.splice(e-1,2,...t);break}if(!t)break}for(let t=1;t<this.items.length;++t)this.items[t].unit===this.items[t-1].unit&&(this.items.splice(t-1,2,this.items[t-1].mul(this.items[t])),--t);if(this.items=this.items.map(t=>t.normalized()).filter(t=>0!==t.exponent),this.items.length>=2){const t=o.sqauredReduce(...this.items);t&&this.items.splice(0,2,...t)}return this}mul(t){return new u(this.items.concat(t.items))}}const c=new o(i,1),h=new o(i,-1),l=new o(i,2),p=new o(s,1),m=new o(s,-1),d=new o(s,2),f=new o(r,1),b=new o(r,-1),w=new o(r,2),g=[[],[c],[p],[f],[h],[m],[b],[l],[d],[w],[c,p],[h,p],[l,p],[c,m],[h,m],[l,m],[c,f],[h,f],[l,f],[c,b],[h,b],[l,b],[c,d],[h,d]].map(t=>new u(t)),x=g.map(t=>t.toString()),k=g.map(t=>g.map(e=>x.indexOf(t.mul(e).normalize().toString()))),y=k.map(t=>Array(t.length).fill(null).map((e,n)=>t.indexOf(n)))}}]);
//# sourceMappingURL=flipping-cube.4a97bb52.js.map