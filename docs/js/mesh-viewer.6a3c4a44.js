(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mesh-viewer"],{"36a0":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("5a89");class s{constructor(e,n,{content:a,offset:s=[0,1.3,0]}={}){this.visible=!0,this.camera=n,this.content=a||null,this.graphNode=new t["fb"],this.graphNode.position.set(...s),e.add(this.graphNode),this._pos=null}get position(){return this._pos||this.updatePosition(),this._pos}updatePosition(){const e=this.graphNode.getWorldPosition(new t["Rb"]).project(this.camera);this._pos=this._pos||{x:null,y:null},this._pos.x=(e.x+1)/2,this._pos.y=(1-e.y)/2}}},"3bad":function(e,n,a){},"3e72":function(e,n,a){var t={"./chess-knight.json":["ad0d","chunk-2d21368d"]};function s(e){if(!a.o(t,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=t[e],s=n[0];return a.e(n[1]).then((function(){return a.t(s,3)}))}s.keys=function(){return Object.keys(t)},s.id="3e72",e.exports=s},5027:function(e,n,a){"use strict";a.d(n,"b",(function(){return t})),a.d(n,"a",(function(){return s}));const t=e=>new Promise(n=>setTimeout(n,e));function s(){return new Promise(e=>requestAnimationFrame(e))}},6445:function(e,n,a){"use strict";n["a"]={created(){this.quitCleaner=new Promise(e=>this.quitClear=e)},methods:{async appendCleaner(e){"pending"!==await Promise.race([this.quitCleaner,"pending"])?e():this.quitCleaner=this.quitCleaner.then(e)}},beforeDestroy(){this.quitClear()}}},c638:function(e,n,a){"use strict";const t=.01;n["a"]={created(){this.sensorAcceleration=[0,0,0],this.sensorVelocity=[0,0,0],this.sensorDamping=t,"undefined"!==typeof LinearAccelerationSensor&&navigator.permissions.query({name:"accelerometer"}).then(e=>{if("granted"===e.state){const e=new LinearAccelerationSensor({frequency:60}),n=()=>{this.sensorAcceleration=[e.x,e.y,e.z],this.sensorVelocity.forEach((e,n)=>{this.sensorVelocity[n]+=this.sensorAcceleration[n],this.sensorVelocity[n]*=1-this.sensorDamping})};e.addEventListener("reading",n),this.appendCleaner(()=>e.removeEventListener("reading",n)),e.start()}})}}},dc0d:function(e,n,a){"use strict";a.r(n);var t=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"mesh-viewer"},[a("article",{on:{mousemove:e.onMouseMove,mousewheel:function(n){return n.preventDefault(),e.onMouseWheel(n)},touchmove:function(n){return n.preventDefault(),e.onTouchMove(n)},touchend:e.onTouchEnd}},[a("canvas",{ref:"canvas",attrs:{width:e.size.width,height:e.size.height}}),a("div",e._l(e.labels,(function(n,t){return a("span",{key:t,staticClass:"label",style:{left:100*n.position.x+"%",top:100*n.position.y+"%"},domProps:{innerHTML:e._s(n.content)}})})),0),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showStatus,expression:"showStatus"}],staticClass:"status"},[e.fps?a("span",{staticClass:"fps"},[e._v("fps "),a("em",[e._v(e._s(e.fps))])]):e._e()])])])},s=[],r=a("428d"),i=a.n(r),o=a("5a89"),p=function(){function e(e){this.manager=void 0!==e?e:o["m"],this.dracoLoader=null}function n(){var e={};return{get:function(n){return e[n]},add:function(n,a){e[n]=a},remove:function(n){delete e[n]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,n,a,t){var s,r=this;s=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:o["P"].extractUrlBase(e),r.manager.itemStart(e);var i=function(n){t?t(n):console.error(n),r.manager.itemError(e),r.manager.itemEnd(e)},p=new o["u"](r.manager);p.setPath(this.path),p.setResponseType("arraybuffer"),p.load(e,(function(a){try{r.parse(a,s,(function(a){n(a),r.manager.itemEnd(e)}),i)}catch(t){i(t)}}),a,i)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(e,n,p,c){var m,g={};if("string"===typeof e)m=e;else{var f=o["P"].decodeText(new Uint8Array(e,0,4));if(f===i){try{g[a.KHR_BINARY_GLTF]=new d(e)}catch(k){return void(c&&c(k))}m=g[a.KHR_BINARY_GLTF].content}else m=o["P"].decodeText(new Uint8Array(e))}var b=JSON.parse(m);if(void 0===b.asset||b.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(b.extensionsUsed)for(var v=0;v<b.extensionsUsed.length;++v){var y=b.extensionsUsed[v],w=b.extensionsRequired||[];switch(y){case a.KHR_LIGHTS_PUNCTUAL:g[y]=new s(b);break;case a.KHR_MATERIALS_UNLIT:g[y]=new r(b);break;case a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:g[y]=new h(b);break;case a.KHR_DRACO_MESH_COMPRESSION:g[y]=new l(b,this.dracoLoader);break;case a.MSFT_TEXTURE_DDS:g[a.MSFT_TEXTURE_DDS]=new t;break;case a.KHR_TEXTURE_TRANSFORM:g[a.KHR_TEXTURE_TRANSFORM]=new u(b);break;default:w.indexOf(y)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+y+'".')}}var T=new U(b,g,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});T.parse(p,c)}}};var a={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function t(){if(!THREE.DDSLoader)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=a.MSFT_TEXTURE_DDS,this.ddsLoader=new THREE.DDSLoader}function s(e){this.name=a.KHR_LIGHTS_PUNCTUAL;var n=e.extensions&&e.extensions[a.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=n.lights||[]}function r(){this.name=a.KHR_MATERIALS_UNLIT}s.prototype.loadLight=function(e){var n,a=this.lightDefs[e],t=new o["j"](16777215);void 0!==a.color&&t.fromArray(a.color);var s=void 0!==a.range?a.range:0;switch(a.type){case"directional":n=new o["n"](t),n.target.position.set(0,0,-1),n.add(n.target);break;case"point":n=new o["ob"](t),n.distance=s;break;case"spot":n=new o["Gb"](t),n.distance=s,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,n.angle=a.spot.outerConeAngle,n.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,n.target.position.set(0,0,-1),n.add(n.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+a.type+'".')}return n.position.set(0,0,0),n.decay=2,void 0!==a.intensity&&(n.intensity=a.intensity),n.name=a.name||"light_"+e,Promise.resolve(n)},r.prototype.getMaterialType=function(){return o["V"]},r.prototype.extendParams=function(e,n,a){var t=[];e.color=new o["j"](1,1,1),e.opacity=1;var s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){var r=s.baseColorFactor;e.color.fromArray(r),e.opacity=r[3]}void 0!==s.baseColorTexture&&t.push(a.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(t)};var i="glTF",p=12,c={JSON:1313821514,BIN:5130562};function d(e){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(e,0,p);if(this.header={magic:o["P"].decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==i)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");var t=new DataView(e,p),s=0;while(s<t.byteLength){var r=t.getUint32(s,!0);s+=4;var d=t.getUint32(s,!0);if(s+=4,d===c.JSON){var l=new Uint8Array(e,p+s,r);this.content=o["P"].decodeText(l)}else if(d===c.BIN){var u=p+s;this.body=e.slice(u,u+r)}s+=r}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function l(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n}function u(){this.name=a.KHR_TEXTURE_TRANSFORM}function h(){return{name:a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return o["Bb"]},extendParams:function(e,n,a){var t=n.extensions[this.name],s=o["Ab"]["standard"],r=o["Pb"].clone(s.uniforms),i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),p=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),c=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),d=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),u=s.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",p).replace("#include <roughnessmap_fragment>",c).replace("#include <metalnessmap_fragment>",d).replace("#include <lights_physical_fragment>",l);delete r.roughness,delete r.metalness,delete r.roughnessMap,delete r.metalnessMap,r.specular={value:(new o["j"]).setHex(1118481)},r.glossiness={value:.5},r.specularMap={value:null},r.glossinessMap={value:null},e.vertexShader=s.vertexShader,e.fragmentShader=u,e.uniforms=r,e.defines={STANDARD:""},e.color=new o["j"](1,1,1),e.opacity=1;var h=[];if(Array.isArray(t.diffuseFactor)){var m=t.diffuseFactor;e.color.fromArray(m),e.opacity=m[3]}if(void 0!==t.diffuseTexture&&h.push(a.assignTexture(e,"map",t.diffuseTexture)),e.emissive=new o["j"](0,0,0),e.glossiness=void 0!==t.glossinessFactor?t.glossinessFactor:1,e.specular=new o["j"](1,1,1),Array.isArray(t.specularFactor)&&e.specular.fromArray(t.specularFactor),void 0!==t.specularGlossinessTexture){var g=t.specularGlossinessTexture;h.push(a.assignTexture(e,"glossinessMap",g)),h.push(a.assignTexture(e,"specularMap",g))}return Promise.all(h)},createMaterial:function(e){var n=new o["Bb"]({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return n.isGLTFSpecularGlossinessMaterial=!0,n.color=e.color,n.map=void 0===e.map?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=void 0===e.aoMap?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=1,n.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,n.bumpMap=void 0===e.bumpMap?null:e.bumpMap,n.bumpScale=1,n.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=void 0===e.specularMap?null:e.specularMap,n.specular=e.specular,n.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=void 0===e.envMap?null:e.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n.extensions.derivatives=!0,n},cloneMaterial:function(e){var n=e.clone();n.isGLTFSpecularGlossinessMaterial=!0;for(var a=this.specularGlossinessParams,t=0,s=a.length;t<s;t++){var r=e[a[t]];n[a[t]]=r&&r.isColor?r.clone():r}return n},refreshUniforms:function(e,n,a,t,s,r){if(!0===s.isGLTFSpecularGlossinessMaterial){var i,o=s.uniforms,p=s.defines;o.opacity.value=s.opacity,o.diffuse.value.copy(s.color),o.emissive.value.copy(s.emissive).multiplyScalar(s.emissiveIntensity),o.map.value=s.map,o.specularMap.value=s.specularMap,o.alphaMap.value=s.alphaMap,o.lightMap.value=s.lightMap,o.lightMapIntensity.value=s.lightMapIntensity,o.aoMap.value=s.aoMap,o.aoMapIntensity.value=s.aoMapIntensity,s.map?i=s.map:s.specularMap?i=s.specularMap:s.displacementMap?i=s.displacementMap:s.normalMap?i=s.normalMap:s.bumpMap?i=s.bumpMap:s.glossinessMap?i=s.glossinessMap:s.alphaMap?i=s.alphaMap:s.emissiveMap&&(i=s.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),o.uvTransform.value.copy(i.matrix)),s.envMap&&(o.envMap.value=s.envMap,o.envMapIntensity.value=s.envMapIntensity,o.flipEnvMap.value=s.envMap.isCubeTexture?-1:1,o.reflectivity.value=s.reflectivity,o.refractionRatio.value=s.refractionRatio,o.maxMipLevel.value=e.properties.get(s.envMap).__maxMipLevel),o.specular.value.copy(s.specular),o.glossiness.value=s.glossiness,o.glossinessMap.value=s.glossinessMap,o.emissiveMap.value=s.emissiveMap,o.bumpMap.value=s.bumpMap,o.normalMap.value=s.normalMap,o.displacementMap.value=s.displacementMap,o.displacementScale.value=s.displacementScale,o.displacementBias.value=s.displacementBias,null!==o.glossinessMap.value&&void 0===p.USE_GLOSSINESSMAP&&(p.USE_GLOSSINESSMAP="",p.USE_ROUGHNESSMAP=""),null===o.glossinessMap.value&&void 0!==p.USE_GLOSSINESSMAP&&(delete p.USE_GLOSSINESSMAP,delete p.USE_ROUGHNESSMAP)}}}}function m(e,n,a,t){o["C"].call(this,e,n,a,t)}l.prototype.decodePrimitive=function(e,n){var a=this.json,t=this.dracoLoader,s=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,i={},o={},p={};for(var c in r){var d=T[c]||c.toLowerCase();i[d]=r[c]}for(c in e.attributes){d=T[c]||c.toLowerCase();if(void 0!==r[c]){var l=a.accessors[e.attributes[c]],u=b[l.componentType];p[d]=u,o[d]=!0===l.normalized}}return n.getDependency("bufferView",s).then((function(e){return new Promise((function(n){t.decodeDracoFile(e,(function(e){for(var a in e.attributes){var t=e.attributes[a],s=o[a];void 0!==s&&(t.normalized=s)}n(e)}),i,p)}))}))},u.prototype.extendTexture=function(e,n){return e=e.clone(),void 0!==n.offset&&e.offset.fromArray(n.offset),void 0!==n.rotation&&(e.rotation=n.rotation),void 0!==n.scale&&e.repeat.fromArray(n.scale),void 0!==n.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},m.prototype=Object.create(o["C"].prototype),m.prototype.constructor=m,m.prototype.copySampleValue_=function(e){for(var n=this.resultBuffer,a=this.sampleValues,t=this.valueSize,s=e*t*3+t,r=0;r!==t;r++)n[r]=a[s+r];return n},m.prototype.beforeStart_=m.prototype.copySampleValue_,m.prototype.afterEnd_=m.prototype.copySampleValue_,m.prototype.interpolate_=function(e,n,a,t){for(var s=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=2*i,p=3*i,c=t-n,d=(a-n)/c,l=d*d,u=l*d,h=e*p,m=h-p,g=-2*u+3*l,f=u-l,b=1-g,v=f-l+d,y=0;y!==i;y++){var w=r[m+y+i],T=r[m+y+o]*c,k=r[h+y+i],M=r[h+y]*c;s[y]=b*w+v*T+g*k+f*M}return s};var g,f={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},b=(o["S"],o["T"],o["Qb"],o["Rb"],o["Sb"],o["Lb"],{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),v={9728:o["Z"],9729:o["L"],9984:o["bb"],9985:o["N"],9986:o["ab"],9987:o["M"]},y={33071:o["i"],33648:o["Y"],10497:o["xb"]},w=(o["e"],o["w"],o["cb"],o["F"],o["r"],o["G"],o["y"],o["db"],o["y"],o["b"],o["a"],o["Kb"],o["yb"],o["Wb"],o["hb"],o["Jb"],o["lb"],o["Hb"],o["kb"],o["p"],o["ib"],o["q"],o["jb"],o["Ib"],{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),T={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},k={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},M={CUBICSPLINE:void 0,LINEAR:o["E"],STEP:o["D"]},S={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"},R={"image/png":o["ub"],"image/jpeg":o["vb"]};function E(e,n){return"string"!==typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:n+e}function _(){return g=g||new o["X"]({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:o["w"]}),g}function L(e,n,a){for(var t in a.extensions)void 0===e[t]&&(n.userData.gltfExtensions=n.userData.gltfExtensions||{},n.userData.gltfExtensions[t]=a.extensions[t])}function A(e,n){void 0!==n.extras&&("object"===typeof n.extras?Object.assign(e.userData,n.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras))}function x(e,n,a){for(var t=!1,s=!1,r=0,i=n.length;r<i;r++){var o=n[r];if(void 0!==o.POSITION&&(t=!0),void 0!==o.NORMAL&&(s=!0),t&&s)break}if(!t&&!s)return Promise.resolve(e);var p=[],c=[];for(r=0,i=n.length;r<i;r++){o=n[r];if(t){var d=void 0!==o.POSITION?a.getDependency("accessor",o.POSITION):e.attributes.position;p.push(d)}if(s){d=void 0!==o.NORMAL?a.getDependency("accessor",o.NORMAL):e.attributes.normal;c.push(d)}}return Promise.all([Promise.all(p),Promise.all(c)]).then((function(a){for(var r=a[0],i=a[1],o=0,p=r.length;o<p;o++)e.attributes.position!==r[o]&&(r[o]=N(r[o]));for(o=0,p=i.length;o<p;o++)e.attributes.normal!==i[o]&&(i[o]=N(i[o]));for(o=0,p=n.length;o<p;o++){var c=n[o],d="morphTarget"+o;if(t&&void 0!==c.POSITION){var l=r[o];l.name=d;for(var u=e.attributes.position,h=0,m=l.count;h<m;h++)l.setXYZ(h,l.getX(h)+u.getX(h),l.getY(h)+u.getY(h),l.getZ(h)+u.getZ(h))}if(s&&void 0!==c.NORMAL){var g=i[o];g.name=d;var f=e.attributes.normal;for(h=0,m=g.count;h<m;h++)g.setXYZ(h,g.getX(h)+f.getX(h),g.getY(h)+f.getY(h),g.getZ(h)+f.getZ(h))}}return t&&(e.morphAttributes.position=r),s&&(e.morphAttributes.normal=i),e}))}function P(e,n){if(e.updateMorphTargets(),void 0!==n.weights)for(var a=0,t=n.weights.length;a<t;a++)e.morphTargetInfluences[a]=n.weights[a];if(n.extras&&Array.isArray(n.extras.targetNames)){var s=n.extras.targetNames;if(e.morphTargetInfluences.length===s.length){e.morphTargetDictionary={};for(a=0,t=s.length;a<t;a++)e.morphTargetDictionary[s[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function I(e){var n,t=e.extensions&&e.extensions[a.KHR_DRACO_MESH_COMPRESSION];return n=t?"draco:"+t.bufferView+":"+t.indices+":"+O(t.attributes):e.indices+":"+O(e.attributes)+":"+e.mode,n}function O(e){for(var n="",a=Object.keys(e).sort(),t=0,s=a.length;t<s;t++)n+=a[t]+":"+e[a[t]]+";";return n}function N(e){if(e.isInterleavedBufferAttribute){for(var n=e.count,a=e.itemSize,t=e.array.slice(0,n*a),s=0,r=0;s<n;++s)t[r++]=e.getX(s),a>=2&&(t[r++]=e.getY(s)),a>=3&&(t[r++]=e.getZ(s)),a>=4&&(t[r++]=e.getW(s));return new o["g"](t,a,e.normalized)}return e.clone()}function U(e,a,t){this.json=e||{},this.extensions=a||{},this.options=t||{},this.cache=new n,this.primitiveCache={},this.textureLoader=new o["Mb"](this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new o["u"](this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function C(e,n,a){var t=n.attributes,s=[];function r(n,t){return a.getDependency("accessor",n).then((function(n){e.addAttribute(t,n)}))}for(var i in t){var o=T[i]||i.toLowerCase();o in e.attributes||s.push(r(t[i],o))}if(void 0!==n.indices&&!e.index){var p=a.getDependency("accessor",n.indices).then((function(n){e.setIndex(n)}));s.push(p)}return A(e,n),Promise.all(s).then((function(){return void 0!==n.targets?x(e,n.targets,a):e}))}return U.prototype.parse=function(e,n){var a=this,t=this.json,s=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(n){var r={scene:n[0][t.scene||0],scenes:n[0],animations:n[1],cameras:n[2],asset:t.asset,parser:a,userData:{}};L(s,r,t),e(r)})).catch(n)},U.prototype.markDefs=function(){for(var e=this.json.nodes||[],n=this.json.skins||[],a=this.json.meshes||[],t={},s={},r=0,i=n.length;r<i;r++)for(var o=n[r].joints,p=0,c=o.length;p<c;p++)e[o[p]].isBone=!0;for(var d=0,l=e.length;d<l;d++){var u=e[d];void 0!==u.mesh&&(void 0===t[u.mesh]&&(t[u.mesh]=s[u.mesh]=0),t[u.mesh]++,void 0!==u.skin&&(a[u.mesh].isSkinnedMesh=!0))}this.json.meshReferences=t,this.json.meshUses=s},U.prototype.getDependency=function(e,n){var t=e+":"+n,s=this.cache.get(t);if(!s){switch(e){case"scene":s=this.loadScene(n);break;case"node":s=this.loadNode(n);break;case"mesh":s=this.loadMesh(n);break;case"accessor":s=this.loadAccessor(n);break;case"bufferView":s=this.loadBufferView(n);break;case"buffer":s=this.loadBuffer(n);break;case"material":s=this.loadMaterial(n);break;case"texture":s=this.loadTexture(n);break;case"skin":s=this.loadSkin(n);break;case"animation":s=this.loadAnimation(n);break;case"camera":s=this.loadCamera(n);break;case"light":s=this.extensions[a.KHR_LIGHTS_PUNCTUAL].loadLight(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(t,s)}return s},U.prototype.getDependencies=function(e){var n=this.cache.get(e);if(!n){var a=this,t=this.json[e+("mesh"===e?"es":"s")]||[];n=Promise.all(t.map((function(n,t){return a.getDependency(e,t)}))),this.cache.add(e,n)}return n},U.prototype.loadBuffer=function(e){var n=this.json.buffers[e],t=this.fileLoader;if(n.type&&"arraybuffer"!==n.type)throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(void 0===n.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);var s=this.options;return new Promise((function(e,a){t.load(E(n.uri,s.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))}))}))},U.prototype.loadBufferView=function(e){var n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then((function(e){var a=n.byteLength||0,t=n.byteOffset||0;return e.slice(t,t+a)}))},U.prototype.loadAccessor=function(e){var n=this,a=this.json,t=this.json.accessors[e];if(void 0===t.bufferView&&void 0===t.sparse)return Promise.resolve(null);var s=[];return void 0!==t.bufferView?s.push(this.getDependency("bufferView",t.bufferView)):s.push(null),void 0!==t.sparse&&(s.push(this.getDependency("bufferView",t.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",t.sparse.values.bufferView))),Promise.all(s).then((function(e){var s,r,i=e[0],p=w[t.type],c=b[t.componentType],d=c.BYTES_PER_ELEMENT,l=d*p,u=t.byteOffset||0,h=void 0!==t.bufferView?a.bufferViews[t.bufferView].byteStride:void 0,m=!0===t.normalized;if(h&&h!==l){var g="InterleavedBuffer:"+t.bufferView+":"+t.componentType,f=n.cache.get(g);f||(s=new c(i),f=new o["A"](s,h/d),n.cache.add(g,f)),r=new o["B"](f,p,u/d,m)}else s=null===i?new c(t.count*p):new c(i,u,t.count*p),r=new o["g"](s,p,m);if(void 0!==t.sparse){var v=w.SCALAR,y=b[t.sparse.indices.componentType],T=t.sparse.indices.byteOffset||0,k=t.sparse.values.byteOffset||0,M=new y(e[1],T,t.sparse.count*v),S=new c(e[2],k,t.sparse.count*p);null!==i&&r.setArray(r.array.slice());for(var R=0,E=M.length;R<E;R++){var _=M[R];if(r.setX(_,S[R*p]),p>=2&&r.setY(_,S[R*p+1]),p>=3&&r.setZ(_,S[R*p+2]),p>=4&&r.setW(_,S[R*p+3]),p>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return r}))},U.prototype.loadTexture=function(e){var n,t=this,s=this.json,r=this.options,i=this.textureLoader,p=window.URL||window.webkitURL,c=s.textures[e],d=c.extensions||{};n=d[a.MSFT_TEXTURE_DDS]?s.images[d[a.MSFT_TEXTURE_DDS].source]:s.images[c.source];var l=n.uri,u=!1;return void 0!==n.bufferView&&(l=t.getDependency("bufferView",n.bufferView).then((function(e){u=!0;var a=new Blob([e],{type:n.mimeType});return l=p.createObjectURL(a),l}))),Promise.resolve(l).then((function(e){var n=o["O"].Handlers.get(e);return n||(n=d[a.MSFT_TEXTURE_DDS]?t.extensions[a.MSFT_TEXTURE_DDS].ddsLoader:i),new Promise((function(a,t){n.load(E(e,r.path),a,void 0,t)}))})).then((function(e){!0===u&&p.revokeObjectURL(l),e.flipY=!1,void 0!==c.name&&(e.name=c.name),n.mimeType in R&&(e.format=R[n.mimeType]);var a=s.samplers||{},t=a[c.sampler]||{};return e.magFilter=v[t.magFilter]||o["L"],e.minFilter=v[t.minFilter]||o["M"],e.wrapS=y[t.wrapS]||o["xb"],e.wrapT=y[t.wrapT]||o["xb"],e}))},U.prototype.assignTexture=function(e,n,t){var s=this;return this.getDependency("texture",t.index).then((function(r){if(!r.isCompressedTexture)switch(n){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":r.format=o["vb"];break}if(s.extensions[a.KHR_TEXTURE_TRANSFORM]){var i=void 0!==t.extensions?t.extensions[a.KHR_TEXTURE_TRANSFORM]:void 0;i&&(r=s.extensions[a.KHR_TEXTURE_TRANSFORM].extendTexture(r,i))}e[n]=r}))},U.prototype.assignFinalMaterial=function(e){var n=e.geometry,t=e.material,s=this.extensions,r=void 0!==n.attributes.tangent,i=void 0!==n.attributes.color,p=void 0===n.attributes.normal,c=!0===e.isSkinnedMesh,d=Object.keys(n.morphAttributes).length>0,l=d&&void 0!==n.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+t.uuid,h=this.cache.get(u);h||(h=new o["qb"],o["Q"].prototype.copy.call(h,t),h.color.copy(t.color),h.map=t.map,h.lights=!1,this.cache.add(u,h)),t=h}else if(e.isLine){u="LineBasicMaterial:"+t.uuid;var m=this.cache.get(u);m||(m=new o["I"],o["Q"].prototype.copy.call(m,t),m.color.copy(t.color),m.lights=!1,this.cache.add(u,m)),t=m}if(r||i||p||c||d){u="ClonedMaterial:"+t.uuid+":";t.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),c&&(u+="skinning:"),r&&(u+="vertex-tangents:"),i&&(u+="vertex-colors:"),p&&(u+="flat-shading:"),d&&(u+="morph-targets:"),l&&(u+="morph-normals:");var g=this.cache.get(u);g||(g=t.isGLTFSpecularGlossinessMaterial?s[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(t):t.clone(),c&&(g.skinning=!0),r&&(g.vertexTangents=!0),i&&(g.vertexColors=o["Ub"]),p&&(g.flatShading=!0),d&&(g.morphTargets=!0),l&&(g.morphNormals=!0),this.cache.add(u,g)),t=g}t.aoMap&&void 0===n.attributes.uv2&&void 0!==n.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),n.addAttribute("uv2",new o["g"](n.attributes.uv.array,2))),t.isGLTFSpecularGlossinessMaterial&&(e.onBeforeRender=s[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),e.material=t},U.prototype.loadMaterial=function(e){var n,t=this,s=this.json,r=this.extensions,i=s.materials[e],p={},c=i.extensions||{},d=[];if(c[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=r[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];n=l.getMaterialType(),d.push(l.extendParams(p,i,t))}else if(c[a.KHR_MATERIALS_UNLIT]){var u=r[a.KHR_MATERIALS_UNLIT];n=u.getMaterialType(),d.push(u.extendParams(p,i,t))}else{n=o["X"];var h=i.pbrMetallicRoughness||{};if(p.color=new o["j"](1,1,1),p.opacity=1,Array.isArray(h.baseColorFactor)){var m=h.baseColorFactor;p.color.fromArray(m),p.opacity=m[3]}void 0!==h.baseColorTexture&&d.push(t.assignTexture(p,"map",h.baseColorTexture)),p.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,p.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(d.push(t.assignTexture(p,"metalnessMap",h.metallicRoughnessTexture)),d.push(t.assignTexture(p,"roughnessMap",h.metallicRoughnessTexture)))}!0===i.doubleSided&&(p.side=o["o"]);var g=i.alphaMode||S.OPAQUE;return g===S.BLEND?p.transparent=!0:(p.transparent=!1,g===S.MASK&&(p.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&n!==o["V"]&&(d.push(t.assignTexture(p,"normalMap",i.normalTexture)),p.normalScale=new o["Qb"](1,1),void 0!==i.normalTexture.scale&&p.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&n!==o["V"]&&(d.push(t.assignTexture(p,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(p.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&n!==o["V"]&&(p.emissive=(new o["j"]).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&n!==o["V"]&&d.push(t.assignTexture(p,"emissiveMap",i.emissiveTexture)),Promise.all(d).then((function(){var e;return e=n===o["Bb"]?r[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(p):new n(p),void 0!==i.name&&(e.name=i.name),e.map&&(e.map.encoding=o["Xb"]),e.emissiveMap&&(e.emissiveMap.encoding=o["Xb"]),e.specularMap&&(e.specularMap.encoding=o["Xb"]),A(e,i),i.extensions&&L(r,e,i),e}))},U.prototype.loadGeometries=function(e){var n=this,t=this.extensions,s=this.primitiveCache;function r(e){return t[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,n).then((function(a){return C(a,e,n)}))}for(var i=[],p=0,c=e.length;p<c;p++){var d,l=e[p],u=I(l),h=s[u];if(h)i.push(h.promise);else d=l.extensions&&l.extensions[a.KHR_DRACO_MESH_COMPRESSION]?r(l):C(new o["h"],l,n),s[u]={primitive:l,promise:d},i.push(d)}return Promise.all(i)},U.prototype.loadMesh=function(e){for(var n=this,a=this.json,t=(this.extensions,a.meshes[e]),s=t.primitives,r=[],i=0,p=s.length;i<p;i++){var c=void 0===s[i].material?_():this.getDependency("material",s[i].material);r.push(c)}return Promise.all(r).then((function(a){return n.loadGeometries(s).then((function(r){for(var i=[],p=0,c=r.length;p<c;p++){var d,l=r[p],u=s[p],h=a[p];if(u.mode===f.TRIANGLES||u.mode===f.TRIANGLE_STRIP||u.mode===f.TRIANGLE_FAN||void 0===u.mode)d=!0===t.isSkinnedMesh?new o["Db"](l,h):new o["U"](l,h),!0===d.isSkinnedMesh&&d.normalizeSkinWeights(),u.mode===f.TRIANGLE_STRIP?d.drawMode=o["Ob"]:u.mode===f.TRIANGLE_FAN&&(d.drawMode=o["Nb"]);else if(u.mode===f.LINES)d=new o["K"](l,h);else if(u.mode===f.LINE_STRIP)d=new o["H"](l,h);else if(u.mode===f.LINE_LOOP)d=new o["J"](l,h);else{if(u.mode!==f.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+u.mode);d=new o["pb"](l,h)}Object.keys(d.geometry.morphAttributes).length>0&&P(d,t),d.name=t.name||"mesh_"+e,r.length>1&&(d.name+="_"+p),A(d,t),n.assignFinalMaterial(d),i.push(d)}if(1===i.length)return i[0];var m=new o["z"];for(p=0,c=i.length;p<c;p++)m.add(i[p]);return m}))}))},U.prototype.loadCamera=function(e){var n,a=this.json.cameras[e],t=a[a.type];if(t)return"perspective"===a.type?n=new o["nb"](o["R"].radToDeg(t.yfov),t.aspectRatio||1,t.znear||1,t.zfar||2e6):"orthographic"===a.type&&(n=new o["mb"](t.xmag/-2,t.xmag/2,t.ymag/2,t.ymag/-2,t.znear,t.zfar)),void 0!==a.name&&(n.name=a.name),A(n,a),Promise.resolve(n);console.warn("THREE.GLTFLoader: Missing camera parameters.")},U.prototype.loadSkin=function(e){var n=this.json.skins[e],a={joints:n.joints};return void 0===n.inverseBindMatrices?Promise.resolve(a):this.getDependency("accessor",n.inverseBindMatrices).then((function(e){return a.inverseBindMatrices=e,a}))},U.prototype.loadAnimation=function(e){for(var n=this.json,a=n.animations[e],t=[],s=[],r=[],i=[],p=[],c=0,d=a.channels.length;c<d;c++){var l=a.channels[c],u=a.samplers[l.sampler],h=l.target,g=void 0!==h.node?h.node:h.id,f=void 0!==a.parameters?a.parameters[u.input]:u.input,b=void 0!==a.parameters?a.parameters[u.output]:u.output;t.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",f)),r.push(this.getDependency("accessor",b)),i.push(u),p.push(h)}return Promise.all([Promise.all(t),Promise.all(s),Promise.all(r),Promise.all(i),Promise.all(p)]).then((function(n){for(var t=n[0],s=n[1],r=n[2],i=n[3],p=n[4],c=[],d=0,l=t.length;d<l;d++){var u=t[d],h=s[d],g=r[d],f=i[d],b=p[d];if(void 0!==u){var v;switch(u.updateMatrix(),u.matrixAutoUpdate=!0,k[b.path]){case k.weights:v=o["eb"];break;case k.rotation:v=o["tb"];break;case k.position:case k.scale:default:v=o["Tb"];break}var y=u.name?u.name:u.uuid,w=void 0!==f.interpolation?M[f.interpolation]:o["E"],T=[];k[b.path]===k.weights?u.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&T.push(e.name?e.name:e.uuid)})):T.push(y);for(var S=0,R=T.length;S<R;S++){var E=new v(T[S]+"."+k[b.path],h.array,g.array,w);"CUBICSPLINE"===f.interpolation&&(E.createInterpolant=function(e){return new m(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(E)}}}var _=void 0!==a.name?a.name:"animation_"+e;return new o["d"](_,void 0,c)}))},U.prototype.loadNode=function(e){var n=this.json,t=this.extensions,s=this,r=n.meshReferences,i=n.meshUses,p=n.nodes[e];return function(){return!0===p.isBone?Promise.resolve(new o["f"]):void 0!==p.mesh?s.getDependency("mesh",p.mesh).then((function(e){var n;if(r[p.mesh]>1){var a=i[p.mesh]++;n=e.clone(),n.name+="_instance_"+a,n.onBeforeRender=e.onBeforeRender;for(var t=0,s=n.children.length;t<s;t++)n.children[t].name+="_instance_"+a,n.children[t].onBeforeRender=e.children[t].onBeforeRender}else n=e;return void 0!==p.weights&&n.traverse((function(e){if(e.isMesh)for(var n=0,a=p.weights.length;n<a;n++)e.morphTargetInfluences[n]=p.weights[n]})),n})):void 0!==p.camera?s.getDependency("camera",p.camera):p.extensions&&p.extensions[a.KHR_LIGHTS_PUNCTUAL]&&void 0!==p.extensions[a.KHR_LIGHTS_PUNCTUAL].light?s.getDependency("light",p.extensions[a.KHR_LIGHTS_PUNCTUAL].light):Promise.resolve(new o["fb"])}().then((function(e){if(void 0!==p.name&&(e.userData.name=p.name,e.name=o["rb"].sanitizeNodeName(p.name)),A(e,p),p.extensions&&L(t,e,p),void 0!==p.matrix){var n=new o["T"];n.fromArray(p.matrix),e.applyMatrix(n)}else void 0!==p.translation&&e.position.fromArray(p.translation),void 0!==p.rotation&&e.quaternion.fromArray(p.rotation),void 0!==p.scale&&e.scale.fromArray(p.scale);return e}))},U.prototype.loadScene=function(){function e(n,a,t,s){var r=t.nodes[n];return s.getDependency("node",n).then((function(e){return void 0===r.skin?e:s.getDependency("skin",r.skin).then((function(e){n=e;for(var a=[],t=0,r=n.joints.length;t<r;t++)a.push(s.getDependency("node",n.joints[t]));return Promise.all(a)})).then((function(a){for(var t=!0===e.isGroup?e.children:[e],s=0,r=t.length;s<r;s++){for(var i=t[s],p=[],c=[],d=0,l=a.length;d<l;d++){var u=a[d];if(u){p.push(u);var h=new o["T"];void 0!==n.inverseBindMatrices&&h.fromArray(n.inverseBindMatrices.array,16*d),c.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[d])}i.bind(new o["Cb"](p,c),i.matrixWorld)}return e}));var n})).then((function(n){a.add(n);var i=[];if(r.children)for(var o=r.children,p=0,c=o.length;p<c;p++){var d=o[p];i.push(e(d,n,t,s))}return Promise.all(i)}))}return function(n){var a=this.json,t=this.extensions,s=this.json.scenes[n],r=this,i=new o["zb"];void 0!==s.name&&(i.name=s.name),A(i,s),s.extensions&&L(t,i,s);for(var p=s.nodes||[],c=[],d=0,l=p.length;d<l;d++)c.push(e(p[d],i,a,r));return Promise.all(c).then((function(){return i}))}}(),e}(),c=a("5027"),d=a("36a0"),l=a("6445"),u=a("c638");const h=(e,n,a)=>new o["Rb"](e*Math.sin(n)*Math.cos(a),e*Math.cos(n),e*Math.sin(n)*Math.sin(a)),m=4e-4,g=new p;var f={name:"mesh-viewer",directives:{resize:i.a},mixins:[l["a"],u["a"]],props:{light:{default:"white"},entities:Array,showStatus:{default:!1},cameraInit:{type:Object,default:()=>({radius:6,theta:0,phi:0})}},data(){return{size:{width:800,height:800},fps:0,labels:[]}},mounted(){this.initializeRenderer(),this.createScene(),this.render()},beforeDestroy(){this.rendererActive=!1},methods:{onResize(){this.size={width:this.$el.clientWidth,height:this.$el.clientHeight}},initializeRenderer(){this.renderer=new o["Vb"]({antialias:!0,canvas:this.$refs.canvas,alpha:!0}),this.renderer.setClearColor(new o["j"]("lightblue"),1),this.renderer.setSize(this.size.width,this.size.height,!1),this.camera=new o["nb"](60,this.size.width/this.size.height,.1,100),this.viewTheta=this.cameraInit.theta+.5*Math.PI,this.viewPhi=this.cameraInit.phi+.5*Math.PI,this.viewRadius=this.cameraInit.radius,this.scene=new o["zb"];const e=new o["n"](this.light,1);e.position.set(-30,100,60),e.target=this.scene,this.scene.add(e);const n=new o["n"]("lightblue",.4);n.position.set(0,1e3,0),n.target=this.scene,this.scene.add(n),this.scene.add(new o["c"]("#525f63")),this.rendererActive=!0},async render(){let e=performance.now(),n=Math.floor(e/1e3),a=0,t=0;while(this.rendererActive){this.sensorVelocity&&(this.viewTheta+=this.sensorVelocity[1]*m,this.viewPhi+=this.sensorVelocity[0]*m*.1,this.viewTheta=Math.max(Math.min(this.viewTheta,Math.PI-.01),.01)),this.camera.position.copy(h(this.viewRadius,this.viewTheta,this.viewPhi)),this.camera.lookAt(0,0,0),this.renderer.render(this.scene,this.camera),this.updateLabels(),++a;const s=performance.now();t=Math.max(t,s-e);const r=Math.floor(s/1e3);r>n&&(this.fps=a/(r-n),a=0,t=0,n=r),e=s,await Object(c["a"])()}},async loadByObjectLoader({default:e}){return await new Promise(n=>(new o["gb"]).parse(e,n))},async loadByGltfLoader({default:e}){return new Promise((n,a)=>{g.load(e,(function(e){n(e.scene)}),void 0,e=>a(e))})},async createScene(){if(this.entities)for(const e of this.entities){const n=new o["fb"];this.scene.add(n);let t=null;if(t=/\.(glb|gltf)$/.test(e.prototype)?await this.loadByGltfLoader(await a("e465")(`./${e.prototype}`)):await this.loadByObjectLoader(await a("3e72")(`./${e.prototype}.json`)),n.add(t),e.name&&(n.name=e.name),e.position&&n.position.set(...e.position),e.quaternion?t.quaternion.set(...e.quaternion):e.euler&&t.quaternion.setFromEuler(new o["s"](...e.euler,"XZY")),e.scale&&t.scale.set(...e.scale),e.label){const a=new d["a"](n,this.camera,"object"===typeof e.label?e.label:{content:e.label,offset:e.labelOffset});this.labels.push(a)}}this.$emit("sceneReady")},updateLabels(){for(const e of this.labels)e.updatePosition();this.labels.length&&this.$forceUpdate()},onMouseMove(e){1===e.buttons&&(this.viewPhi+=.01*e.movementX,this.viewTheta-=.01*e.movementY,this.viewTheta=Math.max(Math.min(this.viewTheta,Math.PI-.01),.01))},onTouchMove(e){const n=e.touches[0];if(this.lastTouchPoint){const e=n.pageX-this.lastTouchPoint.pageX,a=n.pageY-this.lastTouchPoint.pageY;this.viewPhi+=.01*e,this.viewTheta-=.01*a,this.viewTheta=Math.max(Math.min(this.viewTheta,Math.PI-.01),.01)}this.lastTouchPoint={pageX:n.pageX,pageY:n.pageY}},onTouchEnd(){this.lastTouchPoint=null},onMouseWheel(e){this.viewRadius*=Math.exp(.001*e.deltaY)}},watch:{size(e){this.camera.aspect=e.width/e.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height,!1)}}},b=f,v=(a("f7ac"),a("0c7c")),y=Object(v["a"])(b,t,s,!1,null,"fae52e82",null);n["default"]=y.exports},e465:function(e,n,a){var t={"./app-covers/SpiralPiano.png":["ffdf",7,"chunk-2d238a38"],"./app-covers/stylegan-mapping.png":["df69",7,"chunk-2d229bbb"],"./chess-knight":["ad0d",3,"chunk-2d21368d"],"./chess-knight.json":["ad0d",3,"chunk-2d21368d"],"./coordinate-frame.gltf":["e622",7,"chunk-2d225b67"],"./cube-algebra/1.png":["583d",7,"chunk-2d0c916a"],"./cube-algebra/2i-.png":["db40",7,"chunk-2d228c70"],"./cube-algebra/2i.png":["c577",7,"chunk-2d216f88"],"./cube-algebra/2j-.png":["fabc",7,"chunk-2d237732"],"./cube-algebra/2j.png":["9cc1",7,"chunk-2d0f09ee"],"./cube-algebra/2k-.png":["5bb6",7,"chunk-2d0d3497"],"./cube-algebra/2k.png":["b4d8",7,"chunk-2d20fcdc"],"./cube-algebra/i-.png":["83fc",7,"chunk-2d0de1ee"],"./cube-algebra/i-j-k.png":["ccc5",7,"chunk-2d222188"],"./cube-algebra/i-jk-.png":["8942",7,"chunk-2d0df235"],"./cube-algebra/i.png":["8f30",7,"chunk-2d0e9b01"],"./cube-algebra/i2.png":["68a7",7,"chunk-2d0d0b2e"],"./cube-algebra/ij-k-.png":["a9d3",7,"chunk-2d209b3d"],"./cube-algebra/ijk.png":["8f69",7,"chunk-2d0e9b67"],"./cube-algebra/j-.png":["cda7",7,"chunk-2d22250d"],"./cube-algebra/j.png":["ca3b",7,"chunk-2d221463"],"./cube-algebra/j2.png":["e955",7,"chunk-2d22670a"],"./cube-algebra/k-.png":["8e60",7,"chunk-2d0e979d"],"./cube-algebra/k-j-i-.png":["30b3",7,"chunk-2d0b9024"],"./cube-algebra/k-ji.png":["9034",7,"chunk-2d0e44ae"],"./cube-algebra/k.png":["e713",7,"chunk-2d225f0a"],"./cube-algebra/k2.png":["4143",7,"chunk-2d0c02b2"],"./cube-algebra/kj-i.png":["8293",7,"chunk-2d0dd88a"],"./cube-algebra/kji-.png":["ca5c",7,"chunk-2d2214a2"],"./cube-placeholder.drawio.svg":["29bd",7,"chunk-2d0b3dbf"],"./cube.gltf":["0178",7,"chunk-2d0a3198"],"./earth/earth_normal.jpg":["45e0",7,"chunk-2d0c17a2"],"./earth/earth_specular.jpg":["b7fd",7,"chunk-2d210889"],"./f=2^x_12.svg":["3477",7,"chunk-2d0b99f7"],"./loading-5d.gif":["1823",7,"chunk-2d0abf9e"],"./skybox-space/nx.jpg":["b3cf",7,"chunk-2d20f92a"],"./skybox-space/ny.jpg":["613c",7,"chunk-2d0ceb81"],"./skybox-space/nz.jpg":["72ba",7,"chunk-2d0d6950"],"./skybox-space/px.jpg":["de12",7,"chunk-2d229758"],"./skybox-space/py.jpg":["c4e6",7,"chunk-2d217158"],"./skybox-space/pz.jpg":["56cc",7,"chunk-2d0c8fb7"],"./stylegan-mapping/plane0,1/0.webp":["10b3",7,"chunk-2d0aa766"],"./stylegan-mapping/plane0,1/12.webp":["ec03",7,"chunk-2d230417"],"./stylegan-mapping/plane0,1/16.webp":["5c3c",7,"chunk-2d0d32d4"],"./stylegan-mapping/plane0,1/20.webp":["5a0d",7,"chunk-2d0d2af6"],"./stylegan-mapping/plane0,1/24.webp":["6011",7,"chunk-2d0ce750"],"./stylegan-mapping/plane0,1/28.webp":["d212",7,"chunk-2d21d7e5"],"./stylegan-mapping/plane0,1/32.webp":["9d93",7,"chunk-2d0f089b"],"./stylegan-mapping/plane0,1/36.webp":["6a81",7,"chunk-2d0da01a"],"./stylegan-mapping/plane0,1/4.webp":["9254",7,"chunk-2d0e4c6e"],"./stylegan-mapping/plane0,1/40.webp":["324a",7,"chunk-2d0b9242"],"./stylegan-mapping/plane0,1/44.webp":["b457",7,"chunk-2d20f72a"],"./stylegan-mapping/plane0,1/48.webp":["0d30",7,"chunk-2d0af087"],"./stylegan-mapping/plane0,1/52.webp":["a88a",7,"chunk-2d209256"],"./stylegan-mapping/plane0,1/56.webp":["b0c8",7,"chunk-2d20edb9"],"./stylegan-mapping/plane0,1/60.webp":["ecea",7,"chunk-2d230ab0"],"./stylegan-mapping/plane0,1/64.webp":["3618",7,"chunk-2d0ba0c0"],"./stylegan-mapping/plane0,1/68.webp":["5f9f",7,"chunk-2d0d3ed4"],"./stylegan-mapping/plane0,1/72.webp":["7280",7,"chunk-2d0d6409"],"./stylegan-mapping/plane0,1/76.webp":["ee62",7,"chunk-2d230c52"],"./stylegan-mapping/plane0,1/8.webp":["13c0",7,"chunk-2d0ab2c5"],"./stylegan-mapping/plane0,1/80.webp":["8ea9",7,"chunk-2d0e9cdb"],"./stylegan-mapping/plane0,1/84.webp":["a37c",7,"chunk-2d207f74"],"./stylegan-mapping/plane0,1/88.webp":["8d74",7,"chunk-2d0e93ff"],"./stylegan-mapping/plane0,1/92.webp":["7e9b",7,"chunk-2d0e23cd"],"./stylegan-mapping/plane0,1/mappingSource.dat":["cdf3",7,"chunk-2d2225a4"],"./stylegan-mapping/random-1/0.webp":["64f0",7,"chunk-2d0cfcbe"],"./stylegan-mapping/random-1/12.webp":["3c9d",7,"chunk-2d0c4ad1"],"./stylegan-mapping/random-1/16.webp":["6b41",7,"chunk-2d0da35f"],"./stylegan-mapping/random-1/20.webp":["7374",7,"chunk-2d0d67af"],"./stylegan-mapping/random-1/24.webp":["2a47",7,"chunk-2d0bce28"],"./stylegan-mapping/random-1/28.webp":["ac67",7,"chunk-2d213359"],"./stylegan-mapping/random-1/32.webp":["87c5",7,"chunk-2d0df067"],"./stylegan-mapping/random-1/36.webp":["6787",7,"chunk-2d0d0276"],"./stylegan-mapping/random-1/4.webp":["9bd9",7,"chunk-2d0f0654"],"./stylegan-mapping/random-1/40.webp":["9b41",7,"chunk-2d0f007c"],"./stylegan-mapping/random-1/44.webp":["0acd",7,"chunk-2d0aeb48"],"./stylegan-mapping/random-1/48.webp":["0b64",7,"chunk-2d0ae966"],"./stylegan-mapping/random-1/52.webp":["eb13",7,"chunk-2d230075"],"./stylegan-mapping/random-1/56.webp":["36cf",7,"chunk-2d0ba6fc"],"./stylegan-mapping/random-1/60.webp":["5d40",7,"chunk-2d0d3681"],"./stylegan-mapping/random-1/64.webp":["e59d",7,"chunk-2d2258b1"],"./stylegan-mapping/random-1/68.webp":["14fd",7,"chunk-2d0ab717"],"./stylegan-mapping/random-1/72.webp":["b820",7,"chunk-2d2105ca"],"./stylegan-mapping/random-1/76.webp":["da23",7,"chunk-2d228874"],"./stylegan-mapping/random-1/8.webp":["a98e",7,"chunk-2d20961b"],"./stylegan-mapping/random-1/80.webp":["d288",7,"chunk-2d21d8c4"],"./stylegan-mapping/random-1/84.webp":["ad26",7,"chunk-2d21369d"],"./stylegan-mapping/random-1/88.webp":["b5b4",7,"chunk-2d21005b"],"./stylegan-mapping/random-1/92.webp":["abaf",7,"chunk-2d2134fc"],"./stylegan-mapping/random-1/mappingSource.dat":["6df1",7,"chunk-2d0db0ef"],"./stylegan-mapping/random-2/0.webp":["a51d",7,"chunk-2d20863d"],"./stylegan-mapping/random-2/12.webp":["31d2",7,"chunk-2d0b9422"],"./stylegan-mapping/random-2/16.webp":["7478",7,"chunk-2d0d6b74"],"./stylegan-mapping/random-2/20.webp":["23c6",7,"chunk-2d0b272a"],"./stylegan-mapping/random-2/24.webp":["e83f",7,"chunk-2d22633c"],"./stylegan-mapping/random-2/28.webp":["8e2c",7,"chunk-2d0e9754"],"./stylegan-mapping/random-2/32.webp":["8bd7",7,"chunk-2d0e91f3"],"./stylegan-mapping/random-2/36.webp":["4d24",7,"chunk-2d0cc1e8"],"./stylegan-mapping/random-2/4.webp":["62ba",7,"chunk-2d0cf4f1"],"./stylegan-mapping/random-2/40.webp":["1b01",7,"chunk-2d0b5d08"],"./stylegan-mapping/random-2/44.webp":["ae40",7,"chunk-2d213a96"],"./stylegan-mapping/random-2/48.webp":["811b",7,"chunk-2d0dd400"],"./stylegan-mapping/random-2/52.webp":["cf97",7,"chunk-2d2227b7"],"./stylegan-mapping/random-2/56.webp":["c5e5",7,"chunk-2d217518"],"./stylegan-mapping/random-2/60.webp":["907c",7,"chunk-2d0e4559"],"./stylegan-mapping/random-2/64.webp":["f1d7",7,"chunk-2d22c314"],"./stylegan-mapping/random-2/68.webp":["67d4",7,"chunk-2d0d07c7"],"./stylegan-mapping/random-2/72.webp":["d4b5",7,"chunk-2d21e559"],"./stylegan-mapping/random-2/76.webp":["b708",7,"chunk-2d2101d3"],"./stylegan-mapping/random-2/8.webp":["74a2",7,"chunk-2d0d7084"],"./stylegan-mapping/random-2/80.webp":["ee5f",7,"chunk-2d230c67"],"./stylegan-mapping/random-2/84.webp":["40e3",7,"chunk-2d0c04e0"],"./stylegan-mapping/random-2/88.webp":["ad68",7,"chunk-2d21371b"],"./stylegan-mapping/random-2/92.webp":["ed61",7,"chunk-2d230890"],"./stylegan-mapping/random-2/mappingSource.dat":["6b10",7,"chunk-2d0da301"],"./stylegan-mapping/random-3/0.webp":["05c7",7,"chunk-2d0a45ef"],"./stylegan-mapping/random-3/12.webp":["2fcb",7,"chunk-2d0be6c9"],"./stylegan-mapping/random-3/16.webp":["6d94",7,"chunk-2d0dab7f"],"./stylegan-mapping/random-3/20.webp":["f934",7,"chunk-2d22db2a"],"./stylegan-mapping/random-3/24.webp":["5428",7,"chunk-2d0c821b"],"./stylegan-mapping/random-3/28.webp":["f9f8",7,"chunk-2d22e15b"],"./stylegan-mapping/random-3/32.webp":["3afd",7,"chunk-2d0c48c2"],"./stylegan-mapping/random-3/36.webp":["a274",7,"chunk-2d207b84"],"./stylegan-mapping/random-3/4.webp":["e534",7,"chunk-2d2257c7"],"./stylegan-mapping/random-3/40.webp":["b2cb",7,"chunk-2d20f565"],"./stylegan-mapping/random-3/44.webp":["ac60",7,"chunk-2d213352"],"./stylegan-mapping/random-3/48.webp":["7198",7,"chunk-2d0d606f"],"./stylegan-mapping/random-3/52.webp":["ff5f",7,"chunk-2d238487"],"./stylegan-mapping/random-3/56.webp":["a991",7,"chunk-2d209606"],"./stylegan-mapping/random-3/60.webp":["981b",7,"chunk-2d0e62a6"],"./stylegan-mapping/random-3/64.webp":["05fe",7,"chunk-2d0a467a"],"./stylegan-mapping/random-3/68.webp":["1f3d",7,"chunk-2d0b6c9c"],"./stylegan-mapping/random-3/72.webp":["8ea0",7,"chunk-2d0e9cd2"],"./stylegan-mapping/random-3/76.webp":["37a8",7,"chunk-2d0baa51"],"./stylegan-mapping/random-3/8.webp":["0090",7,"chunk-2d0a2e0d"],"./stylegan-mapping/random-3/80.webp":["179d",7,"chunk-2d0abce7"],"./stylegan-mapping/random-3/84.webp":["5ad1",7,"chunk-2d0d310f"],"./stylegan-mapping/random-3/88.webp":["48ce",7,"chunk-2d0c22dc"],"./stylegan-mapping/random-3/92.webp":["d82e",7,"chunk-2d21eebd"],"./stylegan-mapping/random-3/mappingSource.dat":["8b2a",7,"chunk-2d0e8c0f"],"./stylegan-mapping/random-4/0.webp":["82d7",7,"chunk-2d0dddc3"],"./stylegan-mapping/random-4/12.webp":["44cc",7,"chunk-2d0c13d6"],"./stylegan-mapping/random-4/16.webp":["e145",7,"chunk-2d2248e3"],"./stylegan-mapping/random-4/20.webp":["9d92",7,"chunk-2d0f089a"],"./stylegan-mapping/random-4/24.webp":["cb4a",7,"chunk-2d221842"],"./stylegan-mapping/random-4/28.webp":["d5de",7,"chunk-2d21e988"],"./stylegan-mapping/random-4/32.webp":["7395",7,"chunk-2d0d67ee"],"./stylegan-mapping/random-4/36.webp":["a4d2",7,"chunk-2d208877"],"./stylegan-mapping/random-4/4.webp":["af05",7,"chunk-2d213de0"],"./stylegan-mapping/random-4/40.webp":["0b49",7,"chunk-2d0ae92d"],"./stylegan-mapping/random-4/44.webp":["3c18",7,"chunk-2d0c49ad"],"./stylegan-mapping/random-4/48.webp":["8b34",7,"chunk-2d0e8c01"],"./stylegan-mapping/random-4/52.webp":["6fb6",7,"chunk-2d0db7fa"],"./stylegan-mapping/random-4/56.webp":["633d",7,"chunk-2d0cf304"],"./stylegan-mapping/random-4/60.webp":["cc28",7,"chunk-2d221b9c"],"./stylegan-mapping/random-4/64.webp":["5505",7,"chunk-2d0c859b"],"./stylegan-mapping/random-4/68.webp":["952d",7,"chunk-2d0e5784"],"./stylegan-mapping/random-4/72.webp":["213a",7,"chunk-2d0b1a03"],"./stylegan-mapping/random-4/76.webp":["59b1",7,"chunk-2d0c9aa9"],"./stylegan-mapping/random-4/8.webp":["acd8",7,"chunk-2d2138ec"],"./stylegan-mapping/random-4/80.webp":["a2a7",7,"chunk-2d20809d"],"./stylegan-mapping/random-4/84.webp":["26f9",7,"chunk-2d0b32cd"],"./stylegan-mapping/random-4/88.webp":["323d",7,"chunk-2d0b9226"],"./stylegan-mapping/random-4/92.webp":["9a2a",7,"chunk-2d0efcad"],"./stylegan-mapping/random-4/mappingSource.dat":["7042",7,"chunk-2d0d5c0d"],"./stylegan-mapping/random-5/0.webp":["9ee1",7,"chunk-2d0f11ae"],"./stylegan-mapping/random-5/12.webp":["692e",7,"chunk-2d0d096c"],"./stylegan-mapping/random-5/16.webp":["aa65",7,"chunk-2d212bd5"],"./stylegan-mapping/random-5/20.webp":["5a06",7,"chunk-2d0d2ac8"],"./stylegan-mapping/random-5/24.webp":["9b56",7,"chunk-2d0f00a0"],"./stylegan-mapping/random-5/28.webp":["e8e8",7,"chunk-2d22691c"],"./stylegan-mapping/random-5/32.webp":["a664",7,"chunk-2d208a69"],"./stylegan-mapping/random-5/36.webp":["43c8",7,"chunk-2d0c0fea"],"./stylegan-mapping/random-5/4.webp":["afa8",7,"chunk-2d2143d2"],"./stylegan-mapping/random-5/40.webp":["c0c8",7,"chunk-2d216218"],"./stylegan-mapping/random-5/44.webp":["4755",7,"chunk-2d0c1959"],"./stylegan-mapping/random-5/48.webp":["2091",7,"chunk-2d0b16cc"],"./stylegan-mapping/random-5/52.webp":["cd7c",7,"chunk-2d222023"],"./stylegan-mapping/random-5/56.webp":["a3bc",7,"chunk-2d2084a9"],"./stylegan-mapping/random-5/60.webp":["0659",7,"chunk-2d0a4420"],"./stylegan-mapping/random-5/64.webp":["97a0",7,"chunk-2d0e6483"],"./stylegan-mapping/random-5/68.webp":["8bdd",7,"chunk-2d0e9220"],"./stylegan-mapping/random-5/72.webp":["825b",7,"chunk-2d0dd83d"],"./stylegan-mapping/random-5/76.webp":["217c",7,"chunk-2d0b1a81"],"./stylegan-mapping/random-5/8.webp":["3f12",7,"chunk-2d0c54ea"],"./stylegan-mapping/random-5/80.webp":["ecbc",7,"chunk-2d230a55"],"./stylegan-mapping/random-5/84.webp":["d491",7,"chunk-2d21e05e"],"./stylegan-mapping/random-5/88.webp":["8230",7,"chunk-2d0dd7cd"],"./stylegan-mapping/random-5/92.webp":["dd7b",7,"chunk-2d229481"],"./stylegan-mapping/random-5/mappingSource.dat":["f5d7",7,"chunk-2d22d218"]};function s(e){if(!a.o(t,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=t[e],s=n[0];return a.e(n[2]).then((function(){return a.t(s,n[1])}))}s.keys=function(){return Object.keys(t)},s.id="e465",e.exports=s},f7ac:function(e,n,a){"use strict";var t=a("3bad"),s=a.n(t);s.a}}]);
//# sourceMappingURL=mesh-viewer.6a3c4a44.js.map