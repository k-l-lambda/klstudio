(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pca-playground"],{"635f":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticClass:"pca-playground"},[r("svg",{staticClass:"canvas",attrs:{viewBox:"0 "+-t.size.height+" "+t.size.width+" "+t.size.height,width:t.size.width,height:t.size.height},on:{click:t.onClickCanvas}},[r("defs",[r("g",{attrs:{id:"arrow"}},[r("line",{staticClass:"trunk",attrs:{x1:"0",y1:"0",x2:"0.7",y2:"0"}}),r("polygon",{staticClass:"tip",attrs:{points:"1 0 0.7 -0.3 0.7 0.3"}})])]),r("g",{staticClass:"points"},t._l(t.points,(function(t,e){return r("circle",{key:e,attrs:{cx:t[0],cy:-t[1]}})})),0),t.eigens?r("g",{staticClass:"eigen"},t._l(t.eigens,(function(e,n){return r("use",{key:n,attrs:{href:"#arrow",transform:"translate("+t.center[0]+", "+-t.center[1]+") rotate("+(180-180*e.angle/Math.PI)+") scale("+Math.pow(e.eigenvalue/t.points.length,.5)+" 20)"}})})),0):t._e(),t.center?r("g",{staticClass:"center",attrs:{transform:"translate("+t.center[0]+", "+-t.center[1]+")"}},[r("line",{attrs:{x1:"-12",x2:"12",y1:"0",y2:"0"}}),r("line",{attrs:{y1:"-12",y2:"12",x1:"0",x2:"0"}})]):t._e()]),r("header",{staticClass:"controls"},[r("button",{on:{click:t.reset}},[t._v("Reset")])])])},o=[],a=r("428d"),i=r.n(a),s=r("c89c"),c=r.n(s),u={name:"pca-playground",directives:{resize:i.a},data(){return{size:{width:1e3,height:1e3},points:[]}},computed:{center(){if(!this.points.length)return null;const t=this.points.reduce(([t,e],[r,n])=>[t+r,e+n],[0,0]);return[t[0]/this.points.length,t[1]/this.points.length]},eigens(){if(!this.points.length)return null;const t=c.a.getEigenVectors(this.points);return t.forEach(t=>{if(t.angle=t.vector[1]>0?Math.PI/2:-Math.PI/2,t.vector[0]){const e=Math.atan(t.vector[1]/t.vector[0]);t.angle=t.vector[0]>0?e:e+Math.PI}}),t}},created(){document.addEventListener("keydown",t=>{switch(t.key){case"Home":this.reset();break}})},methods:{onResize(){this.size.width=this.$el.clientWidth,this.size.height=this.$el.clientHeight},onClickCanvas(t){this.points.push([t.offsetX,this.size.height-t.offsetY])},reset(){this.points=[]}}},f=u,h=(r("d8b6"),r("0c7c")),l=Object(h["a"])(f,n,o,!1,null,"30789904",null);e["default"]=l.exports},"7a01":function(t,e,r){},c89c:function(t,e,r){var n=function(){function t(t){var e=g(t.length);return h(t,l(f(e,t),1/t.length))}function e(t){var e=f(v(t),t);return e}function r(t,e){var r;return r=l(t,e?1/(t.length-1):1/t.length),r}function n(t){var e=d(t);console.log(e);var r=e.U,n=e.S,o=n.map((function(t,e){var n={};return n.eigenvalue=t,n.vector=r.map((function(t,r){return-1*t[e]})),n}));return o}function o(e,...r){var n=r.map((function(t){return t.vector})),o=t(e),a=f(n,v(o)),i=g(e.length),s=l(f(i,e),-1/e.length),c=u(a,2);return{adjustedData:a,formattedAdjustedData:c,avgData:s,selectedVectors:n}}function a(t,e,r){var n=v(f(v(e),t)),o=h(n,r),a=u(o,2);return{originalData:o,formattedOriginalData:a}}function i(t,...e){var r=t.map((function(t){return t.eigenvalue})).reduce((function(t,e){return t+e})),n=e.map((function(t){return t.eigenvalue})).reduce((function(t,e){return t+e}));return n/r}function s(o){return n(r(e(t(o)),!1))}function c(t){var e=s(t),r=e.sort((function(t,e){return e.eigenvalue-t.eigenvalue}));console.log("Sorted Vectors",r);var n=r[0].vector;return o(t,n)}function u(t,e){var r=Math.pow(10,e||2);return t.map((function(t,e){return t.map((function(t){return Math.round(t*r)/r}))}))}function f(t,e){if(!t[0]||!e[0]||!t.length||!e.length)throw new Error("Both A and B should be matrices");if(e.length!==t[0].length)throw new Error("Columns in A should be the same as the number of rows in B");for(var r=[],n=0;n<t.length;n++){r[n]=[];for(var o=0;o<e[0].length;o++)for(var a=0;a<t[0].length;a++)r[n][o]=r[n][o]?r[n][o]+t[n][a]*e[a][o]:t[n][a]*e[a][o]}return r}function h(t,e){if(t.length!==e.length||t[0].length!==e[0].length)throw new Error("Both A and B should have the same dimensions");for(var r=[],n=0;n<t.length;n++){r[n]=[];for(var o=0;o<e[0].length;o++)r[n][o]=t[n][o]-e[n][o]}return r}function l(t,e){for(var r=[],n=0;n<t.length;n++){r[n]=[];for(var o=0;o<t[0].length;o++)r[n][o]=t[n][o]*e}return r}function g(t){for(var e=[],r=0;r<t;r++){e[r]=[];for(var n=0;n<t;n++)e[r][n]=1}return e}function v(t){var e=p(t);return e[0].map((function(e,r){return t.map((function(t){return t[r]}))}))}function p(t){var e=JSON.stringify(t),r=JSON.parse(e);return r}function d(t){var e,r=Math.pow(2,-52),n=1e-64/r,o=50,a=0,i=0,s=0,c=0,u=0,f=p(t),h=f.length,l=f[0].length;if(h<l)throw"Need more rows than columns";var g=new Array(l),v=new Array(l);for(i=0;i<l;i++)g[i]=v[i]=0;var d=w([l,l],0);function m(t,e){return t=Math.abs(t),e=Math.abs(e),t>e?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}function w(t,e,r){"undefined"===typeof r&&(r=0);var n,o=t[r],a=Array(o);if(r===t.length-1){for(n=o-2;n>=0;n-=2)a[n+1]=e,a[n]=e;return-1===n&&(a[0]=e),a}for(n=o-1;n>=0;n--)a[n]=w(t,e,r+1);return a}var y=0,b=0,M=0,k=0,z=0,C=0,x=0;for(i=0;i<l;i++){for(g[i]=b,x=0,u=i+1,s=i;s<h;s++)x+=f[s][i]*f[s][i];if(x<=n)b=0;else for(y=f[i][i],b=Math.sqrt(x),y>=0&&(b=-b),M=y*b-x,f[i][i]=y-b,s=u;s<l;s++){for(x=0,c=i;c<h;c++)x+=f[c][i]*f[c][s];for(y=x/M,c=i;c<h;c++)f[c][s]+=y*f[c][i]}for(v[i]=b,x=0,s=u;s<l;s++)x+=f[i][s]*f[i][s];if(x<=n)b=0;else{for(y=f[i][i+1],b=Math.sqrt(x),y>=0&&(b=-b),M=y*b-x,f[i][i+1]=y-b,s=u;s<l;s++)g[s]=f[i][s]/M;for(s=u;s<h;s++){for(x=0,c=u;c<l;c++)x+=f[s][c]*f[i][c];for(c=u;c<l;c++)f[s][c]+=x*g[c]}}z=Math.abs(v[i])+Math.abs(g[i]),z>k&&(k=z)}for(i=l-1;-1!=i;i+=-1){if(0!=b){for(M=b*f[i][i+1],s=u;s<l;s++)d[s][i]=f[i][s]/M;for(s=u;s<l;s++){for(x=0,c=u;c<l;c++)x+=f[i][c]*d[c][s];for(c=u;c<l;c++)d[c][s]+=x*d[c][i]}}for(s=u;s<l;s++)d[i][s]=0,d[s][i]=0;d[i][i]=1,b=g[i],u=i}for(i=l-1;-1!=i;i+=-1){for(u=i+1,b=v[i],s=u;s<l;s++)f[i][s]=0;if(0!=b){for(M=f[i][i]*b,s=u;s<l;s++){for(x=0,c=u;c<h;c++)x+=f[c][i]*f[c][s];for(y=x/M,c=i;c<h;c++)f[c][s]+=y*f[c][i]}for(s=i;s<h;s++)f[s][i]=f[s][i]/b}else for(s=i;s<h;s++)f[s][i]=0;f[i][i]+=1}for(r*=k,c=l-1;-1!=c;c+=-1)for(var D=0;D<o;D++){var E=!1;for(u=c;-1!=u;u+=-1){if(Math.abs(g[u])<=r){E=!0;break}if(Math.abs(v[u-1])<=r)break}if(!E){a=0,x=1;var A=u-1;for(i=u;i<c+1;i++){if(y=x*g[i],g[i]=a*g[i],Math.abs(y)<=r)break;for(b=v[i],M=m(y,b),v[i]=M,a=b/M,x=-y/M,s=0;s<h;s++)z=f[s][A],C=f[s][i],f[s][A]=z*a+C*x,f[s][i]=-z*x+C*a}}if(C=v[c],u==c){if(C<0)for(v[c]=-C,s=0;s<l;s++)d[s][c]=-d[s][c];break}if(D>=o-1)throw"Error: no convergence.";for(k=v[u],z=v[c-1],b=g[c-1],M=g[c],y=((z-C)*(z+C)+(b-M)*(b+M))/(2*M*z),b=m(y,1),y=y<0?((k-C)*(k+C)+M*(z/(y-b)-M))/k:((k-C)*(k+C)+M*(z/(y+b)-M))/k,a=1,x=1,i=u+1;i<c+1;i++){for(b=g[i],z=v[i],M=x*b,b*=a,C=m(y,M),g[i-1]=C,a=y/C,x=M/C,y=k*a+b*x,b=-k*x+b*a,M=z*x,z*=a,s=0;s<l;s++)k=d[s][i-1],C=d[s][i],d[s][i-1]=k*a+C*x,d[s][i]=-k*x+C*a;for(C=m(y,M),v[i-1]=C,a=y/C,x=M/C,y=a*b+x*z,k=-x*b+a*z,s=0;s<h;s++)z=f[s][i-1],C=f[s][i],f[s][i-1]=z*a+C*x,f[s][i]=-z*x+C*a}g[u]=0,g[c]=y,v[c]=k}for(i=0;i<v.length;i++)v[i]<r&&(v[i]=0);for(i=0;i<l;i++)for(s=i-1;s>=0;s--)if(v[s]<v[i]){for(a=v[s],v[s]=v[i],v[i]=a,c=0;c<f.length;c++)e=f[c][i],f[c][i]=f[c][s],f[c][s]=e;for(c=0;c<d.length;c++)e=d[c][i],d[c][i]=d[c][s],d[c][s]=e;i=s}return{U:f,S:v,V:d}}return{computeDeviationScores:e,computeDeviationMatrix:t,computeSVD:n,computePercentageExplained:i,computeOriginalData:a,computeVarianceCovariance:r,computeAdjustedData:o,getEigenVectors:s,analyseTopResult:c,transpose:v,multiply:f,clone:p,scale:l}}();t.exports=n},d8b6:function(t,e,r){"use strict";var n=r("7a01"),o=r.n(n);o.a}}]);
//# sourceMappingURL=pca-playground.83330d83.js.map